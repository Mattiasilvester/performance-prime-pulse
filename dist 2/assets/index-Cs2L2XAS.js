var ui=Object.defineProperty;var Pn=i=>{throw TypeError(i)};var di=(i,o,E)=>o in i?ui(i,o,{enumerable:!0,configurable:!0,writable:!0,value:E}):i[o]=E;var tr=(i,o,E)=>di(i,typeof o!="symbol"?o+"":o,E),Wr=(i,o,E)=>o.has(i)||Pn("Cannot "+E);var Ee=(i,o,E)=>(Wr(i,o,"read from private field"),E?E.call(i):o.get(i)),ot=(i,o,E)=>o.has(i)?Pn("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(i):o.set(i,E),st=(i,o,E,_)=>(Wr(i,o,"write to private field"),_?_.call(i,E):o.set(i,E),E),Je=(i,o,E)=>(Wr(i,o,"access private method"),E);var yr=(i,o,E,_)=>({set _(w){st(i,o,w,E)},get _(){return Ee(i,o,_)}});import{r as reactExports,a as reactDomExports,R as React,u as useNavigate,b as ReactDOM,L as Link,c as commonjsGlobal,d as getDefaultExportFromCjs,e as React$1,f as useLocation,g as getAugmentedNamespace,N as Navigate,B as BrowserRouter,h as Routes,i as Route}from"./vendor-IoV-euR7.js";import{c as createClient,_ as __vitePreload}from"./supabase-C6ogrUtK.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))_(w);new MutationObserver(w=>{for(const j of w)if(j.type==="childList")for(const S of j.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&_(S)}).observe(document,{childList:!0,subtree:!0});function E(w){const j={};return w.integrity&&(j.integrity=w.integrity),w.referrerPolicy&&(j.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?j.credentials="include":w.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function _(w){if(w.ep)return;w.ep=!0;const j=E(w);fetch(w.href,j)}})();var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,o,E){var _,w={},j=null,S=null;E!==void 0&&(j=""+E),o.key!==void 0&&(j=""+o.key),o.ref!==void 0&&(S=o.ref);for(_ in o)m$2.call(o,_)&&!p$1.hasOwnProperty(_)&&(w[_]=o[_]);if(i&&i.defaultProps)for(_ in o=i.defaultProps,o)w[_]===void 0&&(w[_]=o[_]);return{$$typeof:k$2,type:i,key:j,ref:S,props:w,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;const __vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"mattiasilvester@gmail.com",VITE_ADMIN_SECRET_KEY:"PP_SUPERADMIN_2025_SECURE_KEY_CHANGE_ME",VITE_API_URL:"http://localhost:8081",VITE_APP_MODE:"development",VITE_DEBUG_MODE:"true",VITE_DEV_TEST_EMAIL:"test@performanceprime.com",VITE_EMAIL_VALIDATION_API_KEY:"placeholder_email_api_key",VITE_EMAIL_VALIDATION_PROVIDER:"abstractapi",VITE_ENABLE_PRIMEBOT:"true",VITE_N8N_WEBHOOK_SECRET:"placeholder_n8n_secret",VITE_OPENAI_API_KEY:"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",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDc2NTksImV4cCI6MjA2NTgyMzY1OX0.hQhfOogGGc9kvOGvxjOv6QTKxSysbTa6En-0wG9_DCY",VITE_SUPABASE_PROJECT_ID:"kfxoyucatvvcgmqalxsg",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDc2NTksImV4cCI6MjA2NTgyMzY1OX0.hQhfOogGGc9kvOGvxjOv6QTKxSysbTa6En-0wG9_DCY",VITE_SUPABASE_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxODQ5MTIsImV4cCI6MjA1MTc2MDkxMn0.oNdK-3-eeIOYPytoUCvMbfGGtSEPwOoGg62JQwXfTjI",VITE_SUPABASE_URL:"https://kfxoyucatvvcgmqalxsg.supabase.co",VITE_VF_API_KEY:"VF.DM.66b8e8b7b7f3b90007c6b8e8.placeholder_key",VITE_VF_VERSION_ID:"66b8e8b7b7f3b90007c6b8e8"},env={SUPABASE_URL:"https://kfxoyucatvvcgmqalxsg.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDc2NTksImV4cCI6MjA2NTgyMzY1OX0.hQhfOogGGc9kvOGvxjOv6QTKxSysbTa6En-0wG9_DCY",DEBUG_MODE:!0},validateEnv=()=>{const o=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(E=>!__vite_import_meta_env__[E]);return o.length>0?(console.error(`❌ Variabili d'ambiente mancanti: ${o.join(", ")}`),console.error("Verifica che il file .env sia presente e contenga le variabili corrette"),!1):!0};validateEnv();const supabase=createClient(env.SUPABASE_URL,env.SUPABASE_ANON_KEY,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}});class ErrorHandler{constructor(){tr(this,"errorLog",[]);tr(this,"maxLogSize",100)}handleError(o,E={}){const _=this.analyzeError(o,E);return this.logError(_,E),_}analyzeError(o,E){const _=this.getErrorMessage(o),w=this.getErrorType(o),j=this.getSeverity(o,w),S=this.getUserFriendlyMessage(o,w),A=this.shouldRetry(o,w);return{message:_,type:w,severity:j,userMessage:S,shouldRetry:A}}getErrorMessage(o){return o instanceof Error?o.message:typeof o=="string"?o:o&&typeof o=="object"&&"message"in o?String(o.message):"Errore sconosciuto"}getErrorType(o){const E=this.getErrorMessage(o).toLowerCase();return E.includes("network")||E.includes("fetch")||E.includes("connection")||E.includes("timeout")||E.includes("offline")?"network":E.includes("401")||E.includes("unauthorized")||E.includes("token")||E.includes("session")||E.includes("auth")?"auth":E.includes("validation")||E.includes("invalid")||E.includes("required")||E.includes("format")?"validation":E.includes("500")||E.includes("502")||E.includes("503")||E.includes("server")||E.includes("internal")?"server":"unknown"}getSeverity(o,E){const _=this.getErrorMessage(o).toLowerCase();return E==="auth"||_.includes("critical")||_.includes("fatal")?"critical":E==="server"||_.includes("database")||_.includes("storage")?"high":E==="network"||_.includes("timeout")?"medium":"low"}getUserFriendlyMessage(o,E){const _=this.getErrorMessage(o).toLowerCase();switch(E){case"network":return _.includes("offline")||_.includes("disconnected")?"Connessione internet assente. Controlla la tua rete e riprova.":_.includes("timeout")?"La richiesta sta impiegando troppo tempo. Riprova tra poco.":"Problemi di connessione. Controlla la tua rete e riprova.";case"auth":return _.includes("401")||_.includes("unauthorized")?"Sessione scaduta. Effettua di nuovo l'accesso.":_.includes("token")?"Token di accesso non valido. Effettua di nuovo l'accesso.":"Problema di autenticazione. Effettua di nuovo l'accesso.";case"validation":return _.includes("email")?"Indirizzo email non valido. Controlla e riprova.":_.includes("password")?"Password non valida. Controlla i requisiti e riprova.":_.includes("required")?"Compila tutti i campi obbligatori.":"Dati inseriti non validi. Controlla e riprova.";case"server":return _.includes("500")?"Errore interno del server. Riprova tra poco.":_.includes("503")?"Servizio temporaneamente non disponibile. Riprova tra poco.":"Problema del server. Riprova tra poco.";case"unknown":default:return _.includes("undefined")||_.includes("null")||_.includes("typeerror")||_.includes("referenceerror"),"Ops! Qualcosa è andato storto. Riprova tra poco."}}shouldRetry(o,E){const _=this.getErrorMessage(o).toLowerCase();return E==="validation"||E==="auth"?!1:!!(E==="network"||E==="server"||_.includes("timeout"))}logError(o,E){const _={...o,context:{...E,timestamp:E.timestamp||new Date,userAgent:navigator.userAgent,url:window.location.href}};this.errorLog.unshift(_),this.errorLog.length>this.maxLogSize&&(this.errorLog=this.errorLog.slice(0,this.maxLogSize)),o.severity==="critical"&&this.sendToMonitoring(_)}sendToMonitoring(o){try{const E=JSON.parse(localStorage.getItem("critical_errors")||"[]");E.push(o),localStorage.setItem("critical_errors",JSON.stringify(E.slice(-10)))}catch{}}getErrorLog(){return[...this.errorLog]}clearErrorLog(){this.errorLog=[]}hasRecentCriticalErrors(o=5){const E=new Date(Date.now()-o*60*1e3);return this.errorLog.some(_=>{var w;return _.severity==="critical"&&((w=_.context)==null?void 0:w.timestamp)&&new Date(_.context.timestamp)>E})}}const errorHandler=new ErrorHandler;class ErrorBoundary extends reactExports.Component{constructor(E){super(E);tr(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(E){return{hasError:!0,error:E,errorId:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(E,_){const w={component:"ErrorBoundary",action:"componentDidCatch",timestamp:new Date};errorHandler.handleError(E,w),this.setState({errorInfo:_}),this.props.onError&&this.props.onError(E,_)}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const E=this.state.error?errorHandler.handleError(this.state.error,{}).userMessage:"Si è verificato un errore imprevisto";return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-lg w-full bg-gray-900 rounded-xl p-8 text-center border border-gray-800",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-6",children:jsxRuntimeExports.jsx("div",{className:"inline-block animate-bounce",children:"🚨"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Ops! Qualcosa è andato storto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-2 text-lg",children:E}),this.state.errorId&&jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["ID Errore: ",this.state.errorId]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("button",{onClick:this.handleReset,className:"w-full bg-gradient-to-r from-yellow-500 to-yellow-600 text-black font-bold py-3 px-6 rounded-lg hover:from-yellow-600 hover:to-yellow-700 transition-all duration-200 transform hover:scale-105",children:"🔄 Riprova"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-800 text-white py-3 px-6 rounded-lg hover:bg-gray-700 transition-all duration-200",children:"🏠 Torna alla Home"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-all duration-200",children:"🔄 Ricarica Pagina"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 p-4 bg-gray-800 rounded-lg text-left",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-2",children:"💡 Suggerimenti:"}),jsxRuntimeExports.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Controlla la tua connessione internet"}),jsxRuntimeExports.jsx("li",{children:"• Prova a ricaricare la pagina"}),jsxRuntimeExports.jsx("li",{children:"• Se il problema persiste, contatta il supporto"})]})]}),!1]})})}return this.props.children}}const N8N_WEBHOOKS={welcome:"https://gurfadigitalsolution.app.n8n.cloud/webhook/pp-welcome",passwordReset:"https://gurfadigitalsolution.app.n8n.cloud/webhook/pp-password-reset"};async function sendWelcomeEmail(i){var w,j,S;const o=N8N_WEBHOOKS.welcome,E=((w=i.user_metadata)==null?void 0:w.full_name)||((j=i.user_metadata)==null?void 0:j.firstName)||((S=i.email)==null?void 0:S.split("@")[0])||"Utente",_={user_id:i.id,name:E,email:i.email};try{const A={"Content-Type":"application/json"},R="placeholder_n8n_secret";R&&(A["x-pp-secret"]=R);const C=await fetch(o,{method:"POST",headers:A,body:JSON.stringify(_)});if(!C.ok)throw new Error(`Webhook n8n fallito: ${C.status}`);return}catch(A){console.error("⚠️ Errore invio email benvenuto (non bloccante):",A)}}async function sendPasswordResetEmail(i,o){const E=N8N_WEBHOOKS.passwordReset,_={email:i,reset_link:o};try{const w={"Content-Type":"application/json"},j="placeholder_n8n_secret";j&&(w["x-pp-secret"]=j);const S=await fetch(E,{method:"POST",headers:w,body:JSON.stringify(_)});if(!S.ok)throw new Error(`Webhook n8n fallito: ${S.status}`)}catch(w){console.error("⚠️ Errore invio email reset (non bloccante):",w)}}const AuthContext=reactExports.createContext({user:null,session:null,loading:!0}),useAuth=()=>{const i=reactExports.useContext(AuthContext);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},AuthProvider=({children:i})=>{const[o,E]=reactExports.useState(null),[_,w]=reactExports.useState(null),[j,S]=reactExports.useState(!0);reactExports.useEffect(()=>{let T=!0;const{data:{subscription:N}}=supabase.auth.onAuthStateChange((O,$)=>{T&&(w($),E(($==null?void 0:$.user)??null),S(!1))});return supabase.auth.getSession().then(({data:{session:O},error:$})=>{T&&(w(O),E((O==null?void 0:O.user)??null),S(!1))}).catch(O=>{T&&S(!1)}),()=>{T=!1,N.unsubscribe()}},[]);const A=async(T,N,O)=>{var L;console.log("=== SIGNUP DEBUG START ==="),console.log("1. Input data:",{email:T,fullName:O});let $="",D="";if(O&&O.trim()){const I=O.trim().split(" ");$=I[0]||"",D=I.slice(1).join(" ")||""}console.log("2. Parsed names:",{first_name:$,last_name:D}),console.log("3. Supabase client:",{url:supabase.supabaseUrl,hasKey:!!supabase.supabaseKey,keyLength:(L=supabase.supabaseKey)==null?void 0:L.length});try{const I={email:T,password:N,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{full_name:`${$} ${D}`,first_name:$,last_name:D}}};console.log("4. Signup payload:",JSON.stringify(I,null,2));const{data:z,error:F}=await supabase.auth.signUp(I);if(console.log("5. Supabase response:",{hasData:!!z,hasError:!!F,errorDetails:F?JSON.stringify(F,null,2):null,dataDetails:z?JSON.stringify(z,null,2):null}),F)throw console.log("6. Error thrown:",F),console.log("=== SIGNUP DEBUG END ==="),F;return z.user&&z.session?(z.user&&sendWelcomeEmail(z.user).catch(W=>{console.error("Errore invio email benvenuto:",W)}),console.log("7. Success with session"),console.log("=== SIGNUP DEBUG END ==="),{success:!0,message:"Registrazione completata e accesso effettuato!"}):z.user&&!z.session?(z.user&&sendWelcomeEmail(z.user).catch(W=>{console.error("Errore invio email benvenuto:",W)}),console.log("7. Success without session (email confirmation needed)"),console.log("=== SIGNUP DEBUG END ==="),{success:!0,message:"Registrazione completata! Controlla la tua email per confermare l'account."}):(console.log("7. No user created"),console.log("=== SIGNUP DEBUG END ==="),{success:!1,message:"Errore durante la registrazione"})}catch(I){return console.log("8. Catch error:",I),console.log("=== SIGNUP DEBUG END ==="),{success:!1,message:"Errore imprevisto durante la registrazione"}}},R=async(T,N)=>{try{const{data:O,error:$}=await supabase.auth.signInWithPassword({email:T,password:N});return!$}catch{return!1}},C=async()=>{try{const{error:T}=await supabase.auth.signOut();return!T}catch{return!1}};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:o,session:_,loading:j,signUp:A,signIn:R,signOut:C},children:i})},NOTIFICATIONS_STORAGE_KEY="performance_prime_notifications",NotificationContext=reactExports.createContext(void 0),useNotifications=()=>{const i=reactExports.useContext(NotificationContext);if(!i)throw new Error("useNotifications must be used within a NotificationProvider");return i},NotificationProvider=({children:i})=>{const[o,E]=reactExports.useState([]),[_,w]=reactExports.useState(!0),{user:j}=useAuth(),S=reactExports.useCallback(()=>{try{const I=localStorage.getItem(NOTIFICATIONS_STORAGE_KEY);if(I){const z=JSON.parse(I),F=j?z.filter(W=>!W.userId||W.userId===j.id):z;E(F)}else{const z=[{id:1,message:"Nuovo allenamento disponibile",time:"2 ore fa",read:!1},{id:2,message:"Ricordati di completare il tuo obiettivo settimanale",time:"1 giorno fa",read:!1},{id:3,message:"Il tuo piano è stato aggiornato",time:"2 giorni fa",read:!1}];E(z),localStorage.setItem(NOTIFICATIONS_STORAGE_KEY,JSON.stringify(z))}}catch{E([])}finally{w(!1)}},[j]),A=reactExports.useCallback(I=>{try{localStorage.setItem(NOTIFICATIONS_STORAGE_KEY,JSON.stringify(I))}catch{}},[]);reactExports.useEffect(()=>{S()},[S]);const R=o.filter(I=>!I.read).length,C=reactExports.useCallback(I=>{const z={...I,id:Date.now(),userId:j==null?void 0:j.id},F=[...o,z];E(F),A(F)},[o,j,A]),T=reactExports.useCallback(I=>{const z=o.map(F=>F.id===I?{...F,read:!0}:F);E(z),A(z)},[o,A]),N=reactExports.useCallback(()=>{const I=o.map(z=>({...z,read:!0}));E(I),A(I)},[o,A]),O=reactExports.useCallback(I=>{const z=o.filter(F=>F.id!==I);E(z),A(z)},[o,A]),$=reactExports.useCallback(()=>{E([]),A([])},[A]),D=reactExports.useCallback(async()=>{},[j,o]);reactExports.useEffect(()=>{j&&o.length>0&&D()},[o,j,D]);const L={notifications:o,unreadCount:R,addNotification:C,markAsRead:T,markAllAsRead:N,removeNotification:O,clearAllNotifications:$,isLoading:_};return jsxRuntimeExports.jsx(NotificationContext.Provider,{value:L,children:i})};function MobileScrollFix(){return reactExports.useEffect(()=>{if(!/iPhone|iPad|iPod|Android/i.test(navigator.userAgent))return;const o=()=>{document.body.style.cssText=`
        overflow-y: auto !important;
        overflow-x: hidden !important;
        -webkit-overflow-scrolling: touch !important;
        position: relative !important;
        height: auto !important;
        min-height: 100vh !important;
        touch-action: pan-y !important;
        overscroll-behavior: auto !important;
      `,document.documentElement.style.cssText=`
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
        position: relative !important;
        height: auto !important;
        touch-action: pan-y !important;
      `;const j=document.getElementById("root");j&&(j.style.cssText=`
          overflow: visible !important;
          min-height: 100vh !important;
          touch-action: pan-y !important;
        `),document.querySelectorAll("*").forEach(S=>{const A=window.getComputedStyle(S),R=S;A.position==="fixed"&&!S.classList.contains("modal")&&!S.classList.contains("toast")&&(R.style.position="relative"),A.touchAction==="none"&&(R.style.touchAction="auto")})},E=j=>{console.log("Page show event:",j.persisted?"back/forward cache":"normal load"),performance.navigation&&performance.navigation.type===1&&(console.log("Refresh detected - applying scroll fix"),setTimeout(()=>{o(),window.scrollTo(0,1),setTimeout(()=>{window.scrollTo(0,0)},10),console.log("Refresh scroll fix applied")},100))};o();const _=[100,500,1e3,2e3].map(j=>setTimeout(o,j));window.addEventListener("orientationchange",o),window.addEventListener("pageshow",E);const w=j=>{j.target===document.body&&j.stopPropagation()};return document.addEventListener("touchmove",w,{passive:!0}),()=>{_.forEach(clearTimeout),window.removeEventListener("orientationchange",o),window.removeEventListener("pageshow",E),document.removeEventListener("touchmove",w)}},[]),null}const HeroSection=({onCTAClick:i})=>jsxRuntimeExports.jsxs("section",{className:"hero-section",style:{backgroundColor:"#000000"},children:[jsxRuntimeExports.jsx("div",{className:"hero-background",children:jsxRuntimeExports.jsxs("div",{className:"floating-shapes",children:[jsxRuntimeExports.jsx("div",{className:"shape shape-1"}),jsxRuntimeExports.jsx("div",{className:"shape shape-2"}),jsxRuntimeExports.jsx("div",{className:"shape shape-3"})]})}),jsxRuntimeExports.jsx("div",{className:"hero-container",children:jsxRuntimeExports.jsxs("div",{className:"hero-content",children:[jsxRuntimeExports.jsxs("div",{className:"hero-brand",children:[jsxRuntimeExports.jsx("div",{className:"brand-logo",children:jsxRuntimeExports.jsx("img",{src:"/images/logo-pp-no-bg.jpg",alt:"Performance Prime Logo",className:"logo-image",loading:"lazy",onError:o=>{var _;o.currentTarget.style.display="none";const E=document.createElement("span");E.textContent="PP",E.className="logo-fallback",(_=o.currentTarget.parentNode)==null||_.appendChild(E)}})}),jsxRuntimeExports.jsx("span",{className:"brand-text",children:"Performance Prime"})]}),jsxRuntimeExports.jsx("h1",{className:"hero-title",children:jsxRuntimeExports.jsx("span",{className:"title-line",children:"Oltre ogni limite"})}),jsxRuntimeExports.jsxs("p",{className:"hero-subtitle",children:["L'app che trasforma i tuoi dati in",jsxRuntimeExports.jsx("span",{className:"highlight-text",children:" performance straordinarie"})]}),jsxRuntimeExports.jsxs("div",{className:"hero-description",children:[jsxRuntimeExports.jsx("div",{className:"hero-divider"}),jsxRuntimeExports.jsx("p",{className:"hero-app-description",children:"Performance Prime è la prima app creata da atleti per atleti, amatori e performer che vogliono evolversi davvero."}),jsxRuntimeExports.jsx("p",{className:"hero-app-description",children:"Allenamento, nutrizione, routine e progressi: tutto in un'unica piattaforma intelligente, personalizzata e motivante."}),jsxRuntimeExports.jsxs("div",{className:"hero-cards-container",children:[jsxRuntimeExports.jsxs("div",{className:"hero-features-list",children:[jsxRuntimeExports.jsx("h3",{className:"features-title",children:"✅ Cosa puoi fare:"}),jsxRuntimeExports.jsxs("ul",{className:"features-list",children:[jsxRuntimeExports.jsx("li",{children:"Trova palestre e professionisti vicino a te"}),jsxRuntimeExports.jsx("li",{children:"Ricevi piani su misura con l'AI Coach"}),jsxRuntimeExports.jsx("li",{children:"Organizza tutto con calendario, note, timer e promemoria"}),jsxRuntimeExports.jsx("li",{children:"Tieni traccia di peso, forza, cardio, progressi"}),jsxRuntimeExports.jsx("li",{children:"Accedi al nostro e-commerce sportivo integrato"}),jsxRuntimeExports.jsx("li",{children:"Entra in una community reale e motivante"})]})]}),jsxRuntimeExports.jsxs("div",{className:"hero-differences",children:[jsxRuntimeExports.jsx("h3",{className:"differences-title",children:"🚀 Perché è diversa:"}),jsxRuntimeExports.jsxs("ul",{className:"differences-list",children:[jsxRuntimeExports.jsx("li",{children:"Niente piani standard: tutto è su misura per te"}),jsxRuntimeExports.jsx("li",{children:"AI Coach + professionisti reali: scegli tu come essere seguito"}),jsxRuntimeExports.jsx("li",{children:"Creato da atleti veri: Nicholas (judo) e Mattia (atletica)"}),jsxRuntimeExports.jsx("li",{children:"Focus su performance, costanza e risultati, non solo estetica"}),jsxRuntimeExports.jsx("li",{children:"Design semplice, intuitivo, senza distrazioni"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"hero-cta-section",children:[jsxRuntimeExports.jsx("h3",{className:"cta-title",children:"👇 Provala ora"}),jsxRuntimeExports.jsx("p",{className:"cta-description",children:"Accedi al nostro MVP gratuito, lasciaci un feedback e unisciti alla waiting list per l'app completa."}),jsxRuntimeExports.jsx("p",{className:"cta-special",children:"Siete i primi. Siete speciali."}),jsxRuntimeExports.jsx("button",{onClick:i,className:"hero-cta-button","aria-label":"Inizia ora con Performance Prime",style:{background:"#FFD700",color:"#000",border:"none",padding:"16px 32px",borderRadius:"12px",fontSize:"18px",fontWeight:"bold",cursor:"pointer",marginTop:"20px",transition:"all 0.3s ease"},onMouseEnter:o=>{o.currentTarget.style.background="#FFED4E",o.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:o=>{o.currentTarget.style.background="#FFD700",o.currentTarget.style.transform="translateY(0)"},children:"🚀 INIZIA ORA - È GRATIS!"})]})]}),jsxRuntimeExports.jsxs("div",{className:"hero-features",children:[jsxRuntimeExports.jsxs("div",{className:"feature-pill",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"🏃‍♂️"}),jsxRuntimeExports.jsx("span",{children:"Tracking Avanzato"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-pill",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"🤖"}),jsxRuntimeExports.jsx("span",{children:"AI Coach"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-pill",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"📊"}),jsxRuntimeExports.jsx("span",{children:"Analisi Dettagliate"})]})]})]})})]});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...i)=>i.filter((o,E,_)=>!!o&&o.trim()!==""&&_.indexOf(o)===E).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:E=2,absoluteStrokeWidth:_,className:w="",children:j,iconNode:S,...A},R)=>reactExports.createElement("svg",{ref:R,...defaultAttributes,width:o,height:o,stroke:i,strokeWidth:_?Number(E)*24/Number(o):E,className:mergeClasses("lucide",w),...A},[...S.map(([C,T])=>reactExports.createElement(C,T)),...Array.isArray(j)?j:[j]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(i,o)=>{const E=reactExports.forwardRef(({className:_,...w},j)=>reactExports.createElement(Icon$1,{ref:j,iconNode:o,className:mergeClasses(`lucide-${toKebabCase(i)}`,_),...w}));return E.displayName=`${i}`,E};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar$1=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coffee=createLucideIcon("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crown=createLucideIcon("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dumbbell=createLucideIcon("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const House=createLucideIcon("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu$1=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Repeat=createLucideIcon("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Server=createLucideIcon("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings$1=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ToggleLeft=createLucideIcon("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ToggleRight=createLucideIcon("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),FeatureModal=({open:i,onClose:o,title:E,icon:_,bullets:w,ctaText:j="Inizia Ora - È Gratis!",cardPosition:S})=>{const A=reactExports.useRef(null);if(reactExports.useEffect(()=>{const C=T=>{T.key==="Escape"&&o()};return i&&(document.addEventListener("keydown",C),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",C),document.body.style.overflow="unset",A.current&&clearTimeout(A.current)}},[i,o]),!i)return null;const R=()=>{o(),window.scrollTo(0,0),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{window.location.href="/auth",A.current=null},100)};return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[45] p-4",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",style:{position:"fixed",top:0,left:0,right:0,bottom:0,padding:"16px",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-sm animate-fadeIn",onClick:o,"aria-hidden":"true"}),jsxRuntimeExports.jsxs("div",{className:"relative bg-black border border-yellow-400/30 rounded-2xl p-4 md:p-6 shadow-2xl animate-slideUp",style:{width:"90vw",maxWidth:"500px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#000000",zIndex:9999,position:"absolute",left:S?`${S.x}px`:"50%",top:S?`${S.y-20}px`:"50%",transform:S?"translateX(-50%)":"translate(-50%, -50%)",margin:"auto"},children:[jsxRuntimeExports.jsx("button",{onClick:o,className:"absolute right-3 md:right-4 top-3 md:top-4 text-gray-400 hover:text-yellow-400 transition-colors p-1.5 md:p-2","aria-label":"Chiudi dettagli",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-4 md:mb-6",children:[jsxRuntimeExports.jsx("div",{className:"text-yellow-400 text-3xl md:text-4xl animate-pulse",children:_}),jsxRuntimeExports.jsx("h2",{id:"modal-title",className:"text-xl md:text-2xl lg:text-3xl font-bold text-white leading-tight",children:E})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 md:space-y-4 mb-6 md:mb-8",children:w.slice(0,3).map((C,T)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3 group",children:[jsxRuntimeExports.jsx("span",{className:"text-yellow-400 mt-1 transition-transform group-hover:translate-x-1 flex-shrink-0",children:"▸"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-base md:text-lg leading-relaxed",children:C})]},T))}),jsxRuntimeExports.jsxs("button",{onClick:R,className:"w-full py-3 md:py-4 px-4 md:px-6 bg-gradient-to-b from-[#FFD700] via-[#EEBA2B] to-[#DDA012] text-black font-bold text-base md:text-lg rounded-xl hover:shadow-xl hover:shadow-yellow-400/20 transform hover:scale-105 transition-all duration-200",children:[j," →"]})]})]})},FEATURE_DETAILS={aiCoach:{title:"AI Coach Personalizzato",bullets:["Analisi biomeccanica in tempo reale","Programmi personalizzati basati sui tuoi obiettivi","Correzione della forma istantanea","Adattamento dinamico al tuo progresso"]},tracking:{title:"Tracking Avanzato",bullets:["Monitora peso, ripetizioni e serie automaticamente","Tracciamento del tempo di recupero ottimale","Statistiche dettagliate per ogni muscolo","Progressi visualizzati in grafici intuitivi"]},timer:{title:"Timer Intelligente",bullets:["Timer automatico basato sul tipo di esercizio","Avvisi per il recupero ottimale tra le serie","Cronometro per esercizi a tempo","Gestione superserie e circuit training"]},finder:{title:"Gym Finder",bullets:["Trova palestre vicine con un tap","Filtri per attrezzature e servizi","Recensioni della community","Orari e prezzi aggiornati"]},community:{title:"Community",bullets:["Connettiti con atleti del tuo livello","Sfide e competizioni mensili","Condividi i tuoi progressi","Trova partner di allenamento"]},analytics:{title:"Analytics Pro",bullets:["Analisi dettagliata delle performance","Previsioni basate su AI","Report settimanali e mensili","Confronto con i tuoi obiettivi"]}},FeaturesSection=()=>{var S;const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(null),w=(A,R)=>{o(i===R?null:R)},j=[{icon:Brain,key:"aiCoach",title:"AI Coach Personalizzato",desc:"Il tuo allenatore virtuale che ti segue 24/7"},{icon:Target,key:"tracking",title:"Tracking Avanzato",desc:"Monitora ogni progresso in tempo reale"},{icon:Clock,key:"timer",title:"Timer Intelligente",desc:"Ottimizza i tempi di recupero e allenamento"},{icon:MapPin,key:"finder",title:"Gym Finder",desc:"Trova la palestra perfetta ovunque tu sia"},{icon:Users,key:"community",title:"Community",desc:"Connettiti con atleti che condividono i tuoi obiettivi"},{icon:ChartColumn,key:"analytics",title:"Analytics Pro",desc:"Grafici e statistiche per ottimizzare le performance"}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"py-20 relative",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Funzionalità che fanno la differenza"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-400",children:"Tutto ciò che ti serve per raggiungere i tuoi obiettivi"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.map((A,R)=>jsxRuntimeExports.jsx("div",{className:"relative cursor-pointer",style:{perspective:"1000px",width:"100%",height:"280px"},onClick:()=>w(A.key,R),children:jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transformStyle:"preserve-3d",transition:"transform 0.7s",transform:i===R?"rotateY(180deg)":"rotateY(0deg)"},children:[jsxRuntimeExports.jsxs("div",{className:"absolute w-full h-full rounded-2xl bg-gray-900/50 backdrop-blur-sm border border-gray-800 p-8 hover:border-brand-primary/50",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",position:"absolute",top:0,left:0},children:[jsxRuntimeExports.jsx(A.icon,{className:"w-12 h-12 text-brand-primary mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:A.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:A.desc})]}),jsxRuntimeExports.jsxs("div",{className:"absolute w-full h-full rounded-2xl bg-gradient-to-br from-brand-primary/20 to-gray-900 border border-brand-primary/50 p-6",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)",position:"absolute",top:0,left:0},children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-brand-primary mb-3",children:A.title}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm text-gray-300",children:FEATURE_DETAILS[A.key].bullets.slice(0,3).map((C,T)=>jsxRuntimeExports.jsxs("li",{children:["• ",C]},T))}),jsxRuntimeExports.jsx("button",{className:"mt-4 text-brand-primary font-semibold hover:underline",onClick:C=>{C.stopPropagation(),window.location.href="/auth"},children:"Inizia Ora! →"})]})]})},R))})]})}),E&&jsxRuntimeExports.jsx(FeatureModal,{open:!!E,onClose:()=>_(null),title:FEATURE_DETAILS[E].title,icon:(S=j.find(A=>A.key===E))!=null&&S.icon?React.createElement(j.find(A=>A.key===E).icon):"🤖",bullets:FEATURE_DETAILS[E].bullets})]})},QRCodeComponent=({url:i,size:o=200,className:E=""})=>{const _=`https://api.qrserver.com/v1/create-qr-code/?size=${o}x${o}&data=${encodeURIComponent(i)}`;return jsxRuntimeExports.jsx("div",{className:`qr-code-container ${E}`,children:jsxRuntimeExports.jsx("div",{className:"qr-code-canvas",children:jsxRuntimeExports.jsx("img",{src:_,alt:"QR Code per Performance Prime MVP",style:{width:"100%",height:"100%",objectFit:"cover"},onError:w=>{w.currentTarget.style.display="none";const j=w.currentTarget.parentElement;j&&(j.innerHTML=`
                <div style="
                  width: 100%;
                  height: 100%;
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  justify-content: center;
                  background: white;
                  color: black;
                  font-family: monospace;
                  font-size: 12px;
                  text-align: center;
                  padding: 10px;
                  box-sizing: border-box;
                ">
                  <div style="font-weight: bold; margin-bottom: 5px;">QR CODE</div>
                  <div style="word-break: break-all;">${i}</div>
                </div>
              `)}})})})},useScrollAnimation=()=>{const i=reactExports.useRef(null);return reactExports.useEffect(()=>{const o=new IntersectionObserver(_=>{_.forEach(w=>{w.isIntersecting&&w.target.classList.add("animated")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),E=i.current;return E&&o.observe(E),()=>{E&&o.unobserve(E)}},[]),i},CTASection=({onCTAClick:i})=>{const o=useScrollAnimation();return jsxRuntimeExports.jsx("section",{className:"cta-section",style:{backgroundColor:"#000000"},ref:o,children:jsxRuntimeExports.jsxs("div",{className:"cta-container",children:[jsxRuntimeExports.jsx("h2",{className:"cta-title animate-on-scroll",children:"Provalo ora gratuitamente"}),jsxRuntimeExports.jsxs("div",{className:"cta-content",children:[jsxRuntimeExports.jsx(QRCodeComponent,{url:"https://performance-prime.lovable.app",size:180}),jsxRuntimeExports.jsxs("div",{className:"cta-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:i,className:"cta-button primary large","aria-label":"Inizia ora con Performance Prime",children:"🚀 INIZIA ORA - È GRATIS!"}),jsxRuntimeExports.jsx("p",{className:"cta-subtitle",children:"Crea il tuo account gratuito e accedi al nostro MVP: il tuo feedback ci aiuterà a costruire la versione definitiva."})]})]}),jsxRuntimeExports.jsxs("div",{className:"founders-section animate-on-scroll",children:[jsxRuntimeExports.jsx("h3",{className:"founders-title",children:"I Fondatori"}),jsxRuntimeExports.jsxs("div",{className:"founders-cards",children:[jsxRuntimeExports.jsxs("div",{className:"founder-card",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-6 border-4 border-[#EEBA2B]/30 bg-white/10 relative",children:jsxRuntimeExports.jsx("img",{src:"/images/mattia-silvestrelli-real.jpg",alt:"Mattia Silvestrelli - CEO e Co-Founder di Performance Prime, atleta della Nazionale Italiana",loading:"lazy",className:"w-full h-full object-cover object-top transition-transform duration-300 hover:scale-105",onError:E=>{E.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjM0I0QjVCIi8+CjxjaXJjbGUgY3g9IjYwIiBjeT0iNDAiIHI9IjIwIiBmaWxsPSIjN0M4QzlAIi8+CjxyZWN0IHg9IjM1IiB5PSI3MCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjN0M4QzlAIi8+Cjwvc3ZnPgo="}})}),jsxRuntimeExports.jsxs("div",{className:"founder-info",children:[jsxRuntimeExports.jsx("h4",{className:"founder-name",children:"Mattia Silvestrelli"}),jsxRuntimeExports.jsx("p",{className:"founder-role",children:"CEO & Co-Founder"}),jsxRuntimeExports.jsx("p",{className:"founder-description",children:"Sono un atleta della Nazionale Italiana e da sempre appassionato di performance, disciplina e tecnologia. Ho voluto creare Performance Prime per dare agli sportivi uno strumento concreto, semplice e potente per migliorarsi ogni giorno. Conosco le sfide, i sacrifici e le ambizioni di chi si allena seriamente, perché sono le stesse che vivo io, e con questa app voglio offrire il supporto digitale che avrei voluto trovare anni fa."})]})]}),jsxRuntimeExports.jsxs("div",{className:"founder-card",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-6 border-4 border-[#EEBA2B]/30 bg-white/10 relative",children:jsxRuntimeExports.jsx("img",{src:"/images/nicholas-capponi-real.jpg",alt:"Nicholas Capponi - CTO e Co-Founder di Performance Prime, atleta e sviluppatore software",loading:"lazy",className:"w-full h-full object-cover object-top transition-transform duration-300 hover:scale-105",onError:E=>{E.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjM0I0QjVCIi8+CjxjaXJjbGUgY3g9IjYwIiBjeT0iNDAiIHI9IjIwIiBmaWxsPSIjN0M4QzlBIi8+CjxyZWN0IHg9IjM1IiB5PSI3MCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjN0M4QzlAIi8+Cjwvc3ZnPgo="}})}),jsxRuntimeExports.jsxs("div",{className:"founder-info",children:[jsxRuntimeExports.jsx("h4",{className:"founder-name",children:"Nicholas Capponi"}),jsxRuntimeExports.jsx("p",{className:"founder-role",children:"CTO & Co-Founder"}),jsxRuntimeExports.jsx("p",{className:"founder-description",children:"Sono un atleta con la passione per lo sviluppo software e l'intelligenza artificiale. Ho deciso di creare Performance Prime per dare agli sportivi come noi uno strumento concreto, moderno e personalizzato. Ogni funzione dell'app nasce da un bisogno reale vissuto in prima persona: per questo voglio che Performance Prime sia molto più di un'app, ma un alleato quotidiano per chi ha fame di risultati e crescita continua."})]})]})]})]})]})})},Footer$1=()=>{const i=useNavigate(),o=useScrollAnimation();return jsxRuntimeExports.jsx("footer",{className:"footer",style:{backgroundColor:"#1a1a1a"},ref:o,children:jsxRuntimeExports.jsxs("div",{className:"footer-container",children:[jsxRuntimeExports.jsxs("div",{className:"footer-content",children:[jsxRuntimeExports.jsxs("div",{className:"footer-section animate-on-scroll",children:[jsxRuntimeExports.jsx("h3",{className:"footer-title",children:"Performance Prime"}),jsxRuntimeExports.jsx("p",{className:"footer-description",children:"Oltre ogni limite, verso la tua versione migliore."})]}),jsxRuntimeExports.jsxs("div",{className:"footer-section animate-on-scroll",children:[jsxRuntimeExports.jsx("h4",{className:"footer-subtitle",children:"Link Utili"}),jsxRuntimeExports.jsxs("ul",{className:"footer-links",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>i("/auth"),className:"footer-link",children:"Accedi"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>i("/terms-and-conditions"),className:"footer-link",children:"Termini e Condizioni"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>i("/privacy-policy"),className:"footer-link",children:"Privacy Policy"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"footer-section animate-on-scroll",children:[jsxRuntimeExports.jsx("h4",{className:"footer-subtitle",children:"Contatti"}),jsxRuntimeExports.jsx("p",{className:"footer-contact",children:"Email: primeassistenza@gmail.com"}),jsxRuntimeExports.jsx("p",{className:"footer-contact",children:"P.IVA: 17774791002"})]})]}),jsxRuntimeExports.jsx("div",{className:"footer-bottom",children:jsxRuntimeExports.jsx("p",{className:"footer-copyright animate-on-scroll",children:"© 2025 Performance Prime. Tutti i diritti riservati."})})]})})},LandingPage=()=>{const i=useNavigate();reactExports.useEffect(()=>{document.body.style.overflow="auto",document.documentElement.style.overflow="auto",document.body.style.height="auto",document.documentElement.style.height="auto",document.body.classList.remove("admin-panel"),document.documentElement.classList.remove("admin-panel"),document.querySelectorAll(".landing-page, .hero-section, .features-section, .cta-section, .footer").forEach(_=>{_ instanceof HTMLElement&&(_.style.overflow="visible",_.style.height="auto")}),document.querySelectorAll("*").forEach(_=>{window.getComputedStyle(_).overflow==="hidden"&&(_.style.overflow="visible")}),console.log("Landing page scroll fix applied - version:",new Date().toISOString())},[]);const o=()=>{i("/auth")};return jsxRuntimeExports.jsxs("div",{className:"landing-page",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-[#EEBA2B] text-black text-center py-3 font-semibold",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:"🚀 BETA GRATUITA - Accesso Early Adopters • Limitato fino a Novembre 2025"})}),jsxRuntimeExports.jsx(HeroSection,{onCTAClick:o}),jsxRuntimeExports.jsx(FeaturesSection,{}),jsxRuntimeExports.jsx(CTASection,{onCTAClick:o}),jsxRuntimeExports.jsx(Footer$1,{})]})};var jt=i=>{switch(i){case"success":return ee;case"info":return ae;case"warning":return oe;case"error":return se;default:return null}},te=Array(12).fill(0),Yt=({visible:i,className:o})=>React.createElement("div",{className:["sonner-loading-wrapper",o].filter(Boolean).join(" "),"data-visible":i},React.createElement("div",{className:"sonner-spinner"},te.map((E,_)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${_}`})))),ee=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oe=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ae=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),se=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ot=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ft=()=>{let[i,o]=React.useState(document.hidden);return React.useEffect(()=>{let E=()=>{o(document.hidden)};return document.addEventListener("visibilitychange",E),()=>window.removeEventListener("visibilitychange",E)},[]),i},bt=1,yt=class{constructor(){this.subscribe=i=>(this.subscribers.push(i),()=>{let o=this.subscribers.indexOf(i);this.subscribers.splice(o,1)}),this.publish=i=>{this.subscribers.forEach(o=>o(i))},this.addToast=i=>{this.publish(i),this.toasts=[...this.toasts,i]},this.create=i=>{var o;let{message:E,..._}=i,w=typeof(i==null?void 0:i.id)=="number"||((o=i.id)==null?void 0:o.length)>0?i.id:bt++,j=this.toasts.find(A=>A.id===w),S=i.dismissible===void 0?!0:i.dismissible;return this.dismissedToasts.has(w)&&this.dismissedToasts.delete(w),j?this.toasts=this.toasts.map(A=>A.id===w?(this.publish({...A,...i,id:w,title:E}),{...A,...i,id:w,dismissible:S,title:E}):A):this.addToast({title:E,..._,dismissible:S,id:w}),w},this.dismiss=i=>(this.dismissedToasts.add(i),i||this.toasts.forEach(o=>{this.subscribers.forEach(E=>E({id:o.id,dismiss:!0}))}),this.subscribers.forEach(o=>o({id:i,dismiss:!0})),i),this.message=(i,o)=>this.create({...o,message:i}),this.error=(i,o)=>this.create({...o,message:i,type:"error"}),this.success=(i,o)=>this.create({...o,type:"success",message:i}),this.info=(i,o)=>this.create({...o,type:"info",message:i}),this.warning=(i,o)=>this.create({...o,type:"warning",message:i}),this.loading=(i,o)=>this.create({...o,type:"loading",message:i}),this.promise=(i,o)=>{if(!o)return;let E;o.loading!==void 0&&(E=this.create({...o,promise:i,type:"loading",message:o.loading,description:typeof o.description!="function"?o.description:void 0}));let _=i instanceof Promise?i:i(),w=E!==void 0,j,S=_.then(async R=>{if(j=["resolve",R],React.isValidElement(R))w=!1,this.create({id:E,type:"default",message:R});else if(ie(R)&&!R.ok){w=!1;let C=typeof o.error=="function"?await o.error(`HTTP error! status: ${R.status}`):o.error,T=typeof o.description=="function"?await o.description(`HTTP error! status: ${R.status}`):o.description;this.create({id:E,type:"error",message:C,description:T})}else if(o.success!==void 0){w=!1;let C=typeof o.success=="function"?await o.success(R):o.success,T=typeof o.description=="function"?await o.description(R):o.description;this.create({id:E,type:"success",message:C,description:T})}}).catch(async R=>{if(j=["reject",R],o.error!==void 0){w=!1;let C=typeof o.error=="function"?await o.error(R):o.error,T=typeof o.description=="function"?await o.description(R):o.description;this.create({id:E,type:"error",message:C,description:T})}}).finally(()=>{var R;w&&(this.dismiss(E),E=void 0),(R=o.finally)==null||R.call(o)}),A=()=>new Promise((R,C)=>S.then(()=>j[0]==="reject"?C(j[1]):R(j[1])).catch(C));return typeof E!="string"&&typeof E!="number"?{unwrap:A}:Object.assign(E,{unwrap:A})},this.custom=(i,o)=>{let E=(o==null?void 0:o.id)||bt++;return this.create({jsx:i(E),id:E,...o}),E},this.getActiveToasts=()=>this.toasts.filter(i=>!this.dismissedToasts.has(i.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},v$1=new yt,ne=(i,o)=>{let E=(o==null?void 0:o.id)||bt++;return v$1.addToast({title:i,...o,id:E}),E},ie=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",le=ne,ce=()=>v$1.toasts,de=()=>v$1.getActiveToasts(),ue=Object.assign(le,{success:v$1.success,info:v$1.info,warning:v$1.warning,error:v$1.error,custom:v$1.custom,message:v$1.message,promise:v$1.promise,dismiss:v$1.dismiss,loading:v$1.loading},{getHistory:ce,getToasts:de});function wt(i,{insertAt:o}={}){if(typeof document>"u")return;let E=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css",o==="top"&&E.firstChild?E.insertBefore(_,E.firstChild):E.appendChild(_),_.styleSheet?_.styleSheet.cssText=i:_.appendChild(document.createTextNode(i))}wt(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tt(i){return i.label!==void 0}var pe=3,me="32px",ge="16px",Wt=4e3,he=356,be=14,ye=20,we=200;function M(...i){return i.filter(Boolean).join(" ")}function xe(i){let[o,E]=i.split("-"),_=[];return o&&_.push(o),E&&_.push(E),_}var ve=i=>{var o,E,_,w,j,S,A,R,C,T,N;let{invert:O,toast:$,unstyled:D,interacting:L,setHeights:I,visibleToasts:z,heights:F,index:W,toasts:H,expanded:B,removeToast:U,defaultRichColors:G,closeButton:V,style:K,cancelButtonStyle:je,actionButtonStyle:Z,className:fe="",descriptionClassName:Ae="",duration:Oe,position:Pe,gap:Ne,loadingIcon:Ce,expandByDefault:Me,classNames:Q,icons:Re,closeButtonAriaLabel:ke="Close toast",pauseWhenPageIsHidden:_e}=i,[Y,J]=React.useState(null),[Se,Ie]=React.useState(null),[$e,De]=React.useState(!1),[Be,Le]=React.useState(!1),[He,We]=React.useState(!1),[rt,it]=React.useState(!1),[dt,Ke]=React.useState(!1),[Xe,Fe]=React.useState(0),[Ge,Ye]=React.useState(0),Qe=React.useRef($.duration||Oe||Wt),ut=React.useRef(null),mt=React.useRef(null),gt=W===0,Ze=W+1<=z,Et=$.type,At=$.dismissible!==!1,Ht=$.className||"",Ut=$.descriptionClassName||"",Kt=React.useMemo(()=>F.findIndex(vt=>vt.toastId===$.id)||0,[F,$.id]),Nt=React.useMemo(()=>{var vt;return(vt=$.closeButton)!=null?vt:V},[$.closeButton,V]),Bt=React.useMemo(()=>$.duration||Oe||Wt,[$.duration,Oe]),Xt=React.useRef(0),Zt=React.useRef(0),ht=React.useRef(0),nt=React.useRef(null),[at,Tt]=Pe.split("-"),Jt=React.useMemo(()=>F.reduce((vt,St,Ue)=>Ue>=Kt?vt:vt+St.height,0),[F,Kt]),Vt=Ft(),qe=$.invert||O,pt=Et==="loading";Zt.current=React.useMemo(()=>Kt*Ne+Jt,[Kt,Jt]),React.useEffect(()=>{Qe.current=Bt},[Bt]),React.useEffect(()=>{De(!0)},[]),React.useEffect(()=>{let vt=mt.current;if(vt){let St=vt.getBoundingClientRect().height;return Ye(St),I(Ue=>[{toastId:$.id,height:St,position:$.position},...Ue]),()=>I(Ue=>Ue.filter(ze=>ze.toastId!==$.id))}},[I,$.id]),React.useLayoutEffect(()=>{if(!$e)return;let vt=mt.current,St=vt.style.height;vt.style.height="auto";let Ue=vt.getBoundingClientRect().height;vt.style.height=St,Ye(Ue),I(ze=>ze.find(Ve=>Ve.toastId===$.id)?ze.map(Ve=>Ve.toastId===$.id?{...Ve,height:Ue}:Ve):[{toastId:$.id,height:Ue,position:$.position},...ze])},[$e,$.title,$.description,I,$.id]);let Rt=React.useCallback(()=>{Le(!0),Fe(Zt.current),I(vt=>vt.filter(St=>St.toastId!==$.id)),setTimeout(()=>{U($)},we)},[$,U,I,Zt]);React.useEffect(()=>{if($.promise&&Et==="loading"||$.duration===1/0||$.type==="loading")return;let vt;return B||L||_e&&Vt?(()=>{if(ht.current<Xt.current){let St=new Date().getTime()-Xt.current;Qe.current=Qe.current-St}ht.current=new Date().getTime()})():Qe.current!==1/0&&(Xt.current=new Date().getTime(),vt=setTimeout(()=>{var St;(St=$.onAutoClose)==null||St.call($,$),Rt()},Qe.current)),()=>clearTimeout(vt)},[B,L,$,Et,_e,Vt,Rt]),React.useEffect(()=>{$.delete&&Rt()},[Rt,$.delete]);function It(){var vt,St,Ue;return Re!=null&&Re.loading?React.createElement("div",{className:M(Q==null?void 0:Q.loader,(vt=$==null?void 0:$.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":Et==="loading"},Re.loading):Ce?React.createElement("div",{className:M(Q==null?void 0:Q.loader,(St=$==null?void 0:$.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":Et==="loading"},Ce):React.createElement(Yt,{className:M(Q==null?void 0:Q.loader,(Ue=$==null?void 0:$.classNames)==null?void 0:Ue.loader),visible:Et==="loading"})}return React.createElement("li",{tabIndex:0,ref:mt,className:M(fe,Ht,Q==null?void 0:Q.toast,(o=$==null?void 0:$.classNames)==null?void 0:o.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[Et],(E=$==null?void 0:$.classNames)==null?void 0:E[Et]),"data-sonner-toast":"","data-rich-colors":(_=$.richColors)!=null?_:G,"data-styled":!($.jsx||$.unstyled||D),"data-mounted":$e,"data-promise":!!$.promise,"data-swiped":dt,"data-removed":Be,"data-visible":Ze,"data-y-position":at,"data-x-position":Tt,"data-index":W,"data-front":gt,"data-swiping":He,"data-dismissible":At,"data-type":Et,"data-invert":qe,"data-swipe-out":rt,"data-swipe-direction":Se,"data-expanded":!!(B||Me&&$e),style:{"--index":W,"--toasts-before":W,"--z-index":H.length-W,"--offset":`${Be?Xe:Zt.current}px`,"--initial-height":Me?"auto":`${Ge}px`,...K,...$.style},onDragEnd:()=>{We(!1),J(null),nt.current=null},onPointerDown:vt=>{pt||!At||(ut.current=new Date,Fe(Zt.current),vt.target.setPointerCapture(vt.pointerId),vt.target.tagName!=="BUTTON"&&(We(!0),nt.current={x:vt.clientX,y:vt.clientY}))},onPointerUp:()=>{var vt,St,Ue,ze;if(rt||!At)return;nt.current=null;let Ve=Number(((vt=mt.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),lt=Number(((St=mt.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ct=new Date().getTime()-((Ue=ut.current)==null?void 0:Ue.getTime()),ft=Y==="x"?Ve:lt,xt=Math.abs(ft)/ct;if(Math.abs(ft)>=ye||xt>.11){Fe(Zt.current),(ze=$.onDismiss)==null||ze.call($,$),Ie(Y==="x"?Ve>0?"right":"left":lt>0?"down":"up"),Rt(),it(!0),Ke(!1);return}We(!1),J(null)},onPointerMove:vt=>{var St,Ue,ze,Ve;if(!nt.current||!At||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;let lt=vt.clientY-nt.current.y,ct=vt.clientX-nt.current.x,ft=(Ue=i.swipeDirections)!=null?Ue:xe(Pe);!Y&&(Math.abs(ct)>1||Math.abs(lt)>1)&&J(Math.abs(ct)>Math.abs(lt)?"x":"y");let xt={x:0,y:0};Y==="y"?(ft.includes("top")||ft.includes("bottom"))&&(ft.includes("top")&&lt<0||ft.includes("bottom")&&lt>0)&&(xt.y=lt):Y==="x"&&(ft.includes("left")||ft.includes("right"))&&(ft.includes("left")&&ct<0||ft.includes("right")&&ct>0)&&(xt.x=ct),(Math.abs(xt.x)>0||Math.abs(xt.y)>0)&&Ke(!0),(ze=mt.current)==null||ze.style.setProperty("--swipe-amount-x",`${xt.x}px`),(Ve=mt.current)==null||Ve.style.setProperty("--swipe-amount-y",`${xt.y}px`)}},Nt&&!$.jsx?React.createElement("button",{"aria-label":ke,"data-disabled":pt,"data-close-button":!0,onClick:pt||!At?()=>{}:()=>{var vt;Rt(),(vt=$.onDismiss)==null||vt.call($,$)},className:M(Q==null?void 0:Q.closeButton,(w=$==null?void 0:$.classNames)==null?void 0:w.closeButton)},(j=Re==null?void 0:Re.close)!=null?j:Ot):null,$.jsx||reactExports.isValidElement($.title)?$.jsx?$.jsx:typeof $.title=="function"?$.title():$.title:React.createElement(React.Fragment,null,Et||$.icon||$.promise?React.createElement("div",{"data-icon":"",className:M(Q==null?void 0:Q.icon,(S=$==null?void 0:$.classNames)==null?void 0:S.icon)},$.promise||$.type==="loading"&&!$.icon?$.icon||It():null,$.type!=="loading"?$.icon||(Re==null?void 0:Re[Et])||jt(Et):null):null,React.createElement("div",{"data-content":"",className:M(Q==null?void 0:Q.content,(A=$==null?void 0:$.classNames)==null?void 0:A.content)},React.createElement("div",{"data-title":"",className:M(Q==null?void 0:Q.title,(R=$==null?void 0:$.classNames)==null?void 0:R.title)},typeof $.title=="function"?$.title():$.title),$.description?React.createElement("div",{"data-description":"",className:M(Ae,Ut,Q==null?void 0:Q.description,(C=$==null?void 0:$.classNames)==null?void 0:C.description)},typeof $.description=="function"?$.description():$.description):null),reactExports.isValidElement($.cancel)?$.cancel:$.cancel&&tt($.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:$.cancelButtonStyle||je,onClick:vt=>{var St,Ue;tt($.cancel)&&At&&((Ue=(St=$.cancel).onClick)==null||Ue.call(St,vt),Rt())},className:M(Q==null?void 0:Q.cancelButton,(T=$==null?void 0:$.classNames)==null?void 0:T.cancelButton)},$.cancel.label):null,reactExports.isValidElement($.action)?$.action:$.action&&tt($.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:$.actionButtonStyle||Z,onClick:vt=>{var St,Ue;tt($.action)&&((Ue=(St=$.action).onClick)==null||Ue.call(St,vt),!vt.defaultPrevented&&Rt())},className:M(Q==null?void 0:Q.actionButton,(N=$==null?void 0:$.classNames)==null?void 0:N.actionButton)},$.action.label):null))};function _t(){if(typeof window>"u"||typeof document>"u")return"ltr";let i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function Te(i,o){let E={};return[i,o].forEach((_,w)=>{let j=w===1,S=j?"--mobile-offset":"--offset",A=j?ge:me;function R(C){["top","right","bottom","left"].forEach(T=>{E[`${S}-${T}`]=typeof C=="number"?`${C}px`:C})}typeof _=="number"||typeof _=="string"?R(_):typeof _=="object"?["top","right","bottom","left"].forEach(C=>{_[C]===void 0?E[`${S}-${C}`]=A:E[`${S}-${C}`]=typeof _[C]=="number"?`${_[C]}px`:_[C]}):R(A)}),E}reactExports.forwardRef(function(i,o){let{invert:E,position:_="bottom-right",hotkey:w=["altKey","KeyT"],expand:j,closeButton:S,className:A,offset:R,mobileOffset:C,theme:T="light",richColors:N,duration:O,style:$,visibleToasts:D=pe,toastOptions:L,dir:I=_t(),gap:z=be,loadingIcon:F,icons:W,containerAriaLabel:H="Notifications",pauseWhenPageIsHidden:B}=i,[U,G]=React.useState([]),V=React.useMemo(()=>Array.from(new Set([_].concat(U.filter(_e=>_e.position).map(_e=>_e.position)))),[U,_]),[K,je]=React.useState([]),[Z,fe]=React.useState(!1),[Ae,Oe]=React.useState(!1),[Pe,Ne]=React.useState(T!=="system"?T:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ce=React.useRef(null),Me=w.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=React.useRef(null),Re=React.useRef(!1),ke=React.useCallback(_e=>{G(Y=>{var J;return(J=Y.find(Se=>Se.id===_e.id))!=null&&J.delete||v$1.dismiss(_e.id),Y.filter(({id:Se})=>Se!==_e.id)})},[]);return React.useEffect(()=>v$1.subscribe(_e=>{if(_e.dismiss){G(Y=>Y.map(J=>J.id===_e.id?{...J,delete:!0}:J));return}setTimeout(()=>{ReactDOM.flushSync(()=>{G(Y=>{let J=Y.findIndex(Se=>Se.id===_e.id);return J!==-1?[...Y.slice(0,J),{...Y[J],..._e},...Y.slice(J+1)]:[_e,...Y]})})})}),[]),React.useEffect(()=>{if(T!=="system"){Ne(T);return}if(T==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ne("dark"):Ne("light")),typeof window>"u")return;let _e=window.matchMedia("(prefers-color-scheme: dark)");try{_e.addEventListener("change",({matches:Y})=>{Ne(Y?"dark":"light")})}catch{_e.addListener(({matches:J})=>{try{Ne(J?"dark":"light")}catch(Se){console.error(Se)}})}},[T]),React.useEffect(()=>{U.length<=1&&fe(!1)},[U]),React.useEffect(()=>{let _e=Y=>{var J,Se;w.every(Ie=>Y[Ie]||Y.code===Ie)&&(fe(!0),(J=Ce.current)==null||J.focus()),Y.code==="Escape"&&(document.activeElement===Ce.current||(Se=Ce.current)!=null&&Se.contains(document.activeElement))&&fe(!1)};return document.addEventListener("keydown",_e),()=>document.removeEventListener("keydown",_e)},[w]),React.useEffect(()=>{if(Ce.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,Re.current=!1)}},[Ce.current]),React.createElement("section",{ref:o,"aria-label":`${H} ${Me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((_e,Y)=>{var J;let[Se,Ie]=_e.split("-");return U.length?React.createElement("ol",{key:_e,dir:I==="auto"?_t():I,tabIndex:-1,ref:Ce,className:A,"data-sonner-toaster":!0,"data-theme":Pe,"data-y-position":Se,"data-lifted":Z&&U.length>1&&!j,"data-x-position":Ie,style:{"--front-toast-height":`${((J=K[0])==null?void 0:J.height)||0}px`,"--width":`${he}px`,"--gap":`${z}px`,...$,...Te(R,C)},onBlur:$e=>{Re.current&&!$e.currentTarget.contains($e.relatedTarget)&&(Re.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:$e=>{$e.target instanceof HTMLElement&&$e.target.dataset.dismissible==="false"||Re.current||(Re.current=!0,Q.current=$e.relatedTarget)},onMouseEnter:()=>fe(!0),onMouseMove:()=>fe(!0),onMouseLeave:()=>{Ae||fe(!1)},onDragEnd:()=>fe(!1),onPointerDown:$e=>{$e.target instanceof HTMLElement&&$e.target.dataset.dismissible==="false"||Oe(!0)},onPointerUp:()=>Oe(!1)},U.filter($e=>!$e.position&&Y===0||$e.position===_e).map(($e,De)=>{var Be,Le;return React.createElement(ve,{key:$e.id,icons:W,index:De,toast:$e,defaultRichColors:N,duration:(Be=L==null?void 0:L.duration)!=null?Be:O,className:L==null?void 0:L.className,descriptionClassName:L==null?void 0:L.descriptionClassName,invert:E,visibleToasts:D,closeButton:(Le=L==null?void 0:L.closeButton)!=null?Le:S,interacting:Ae,position:_e,style:L==null?void 0:L.style,unstyled:L==null?void 0:L.unstyled,classNames:L==null?void 0:L.classNames,cancelButtonStyle:L==null?void 0:L.cancelButtonStyle,actionButtonStyle:L==null?void 0:L.actionButtonStyle,removeToast:ke,toasts:U.filter(He=>He.position==$e.position),heights:K.filter(He=>He.position==$e.position),setHeights:je,expandByDefault:j,gap:z,loadingIcon:F,expanded:Z,pauseWhenPageIsHidden:B,swipeDirections:i.swipeDirections})})):null}))});const useErrorHandler=(i={})=>{const{showToast:o=!0,logError:E=!0,context:_={}}=i,w=reactExports.useCallback(($,D={})=>{const L={..._,...D,timestamp:new Date},I=errorHandler.handleError($,L);if(o){const z={duration:I.severity==="critical"?1e4:5e3,action:I.shouldRetry?{label:"Riprova",onClick:()=>{window.location.reload()}}:void 0};switch(I.severity){case"critical":ue.error(I.userMessage,z);break;case"high":ue.error(I.userMessage,z);break;case"medium":ue.warning(I.userMessage,z);break;case"low":ue.info(I.userMessage,z);break}}return I},[o,E,_]),j=reactExports.useCallback(($,D={})=>w($,{...D,action:"network_request"}),[w]),S=reactExports.useCallback(($,D={})=>w($,{...D,action:"authentication"}),[w]),A=reactExports.useCallback(($,D={})=>w($,{...D,action:"validation"}),[w]),R=reactExports.useCallback(($,D={})=>async(...L)=>{try{return await $(...L)}catch(I){return w(I,D),null}},[w]),C=reactExports.useCallback(($,D={})=>(...L)=>{try{return $(...L)}catch(I){return w(I,D),null}},[w]),T=reactExports.useCallback(($=5)=>errorHandler.hasRecentCriticalErrors($),[]),N=reactExports.useCallback(()=>errorHandler.getErrorLog(),[]),O=reactExports.useCallback(()=>{errorHandler.clearErrorLog()},[]);return{handleError:w,handleNetworkError:j,handleAuthError:S,handleValidationError:A,withErrorHandling:R,withSyncErrorHandling:C,hasRecentCriticalErrors:T,getErrorLog:N,clearErrorLog:O}};function LoginPage(){const i=useNavigate(),[o,E]=reactExports.useState(""),[_,w]=reactExports.useState(""),[j,S]=reactExports.useState(!1),[A,R]=reactExports.useState(null),{handleAuthError:C}=useErrorHandler({context:{component:"LoginPage"}}),T=async N=>{if(N.preventDefault(),S(!0),R(null),!o||!_){R("Compila tutti i campi obbligatori"),S(!1);return}if(!o.includes("@")){R("Inserisci un indirizzo email valido"),S(!1);return}try{const{data:O,error:$}=await supabase.auth.signInWithPassword({email:o,password:_});if($)throw $;i("/dashboard")}catch(O){const $=C(O,{action:"signIn"});R($.userMessage)}finally{S(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-gray-900 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-yellow-500 text-center",children:"Bentornato in Performance Prime"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Accedi al tuo account"})]}),jsxRuntimeExports.jsxs("form",{className:"mt-8 space-y-6",onSubmit:T,children:[A&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 text-red-500 p-3 rounded border border-red-500/20",children:A}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:o,onChange:N=>E(N.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Email",disabled:j})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"password",required:!0,value:_,onChange:N=>w(N.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Password",disabled:j})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:j,className:"w-full py-2 sm:py-3 bg-yellow-500 text-black font-bold rounded hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm sm:text-base",children:j?"Accesso...":"Accedi"})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-gray-400",children:["Non hai un account?"," ",jsxRuntimeExports.jsx(Link,{to:"/auth/register",className:"text-yellow-500 hover:underline",children:"Registrati gratis"})]}),jsxRuntimeExports.jsx(Link,{to:"/",className:"block text-center text-gray-500 hover:text-gray-400",children:"← Torna alla home"})]})})}function RegisterPage(){const i=useNavigate(),[o,E]=reactExports.useState(""),[_,w]=reactExports.useState(""),[j,S]=reactExports.useState(""),[A,R]=reactExports.useState(""),[C,T]=reactExports.useState(!1),[N,O]=reactExports.useState(null),$=async D=>{D.preventDefault(),T(!0),O(null);try{const{data:L,error:I}=await supabase.auth.signUp({email:o,password:_,options:{data:{first_name:j,last_name:A}}});if(I)throw I;i("/dashboard")}catch(L){console.error("Registration error:",L),L instanceof Error?L.message.includes("already registered")?O("Email già registrata. Prova ad accedere."):L.message.includes("password")?O("La password deve essere di almeno 6 caratteri."):L.message.includes("email")?O("Email non valida."):L.message.includes("Network")||L.message.includes("fetch")?O("Problema di connessione. Riprova più tardi."):L.message.includes("rate limit")?O("Troppi tentativi. Riprova tra qualche minuto."):O(L.message):O("Si è verificato un errore. Riprova.")}finally{T(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-gray-900 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-yellow-500 text-center",children:"Unisciti a Performance Prime"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Crea il tuo account gratuito"})]}),jsxRuntimeExports.jsxs("form",{className:"mt-8 space-y-6",onSubmit:$,children:[N&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 text-red-500 p-3 rounded border border-red-500/20",children:N}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:j,onChange:D=>S(D.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Nome",disabled:C})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:A,onChange:D=>R(D.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Cognome",disabled:C})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:o,onChange:D=>E(D.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Email",disabled:C})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"password",required:!0,value:_,onChange:D=>w(D.target.value),className:"w-full px-3 py-2 bg-gray-800 text-white rounded border border-gray-700 focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Password",disabled:C})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:C,className:"w-full py-3 bg-yellow-500 text-black font-bold rounded hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C?"Registrazione...":"Registrati Gratis"})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-gray-400",children:["Hai già un account?"," ",jsxRuntimeExports.jsx(Link,{to:"/auth/login",className:"text-yellow-500 hover:underline",children:"Accedi"})]}),jsxRuntimeExports.jsx(Link,{to:"/",className:"block text-center text-gray-500 hover:text-gray-400",children:"← Torna alla home"})]})})}const fetchWorkoutStats=async()=>{try{const{data:{user:i}}=await supabase.auth.getUser();if(!i)return{total_workouts:0,total_hours:0};try{const{data:S,error:A}=await supabase.from("user_workout_stats").select("total_workouts, total_hours").eq("user_id",i.id).maybeSingle();if(!A&&S)return{total_workouts:S.total_workouts||0,total_hours:Math.round((S.total_hours||0)/60*10)/10}}catch(S){console.warn("user_workout_stats table not available, calculating from workouts:",S)}const{data:o,error:E}=await supabase.from("custom_workouts").select("total_duration").eq("user_id",i.id).eq("completed",!0);if(E)return console.error("Error fetching workout stats:",E),{total_workouts:0,total_hours:0};const _=(o==null?void 0:o.length)||0,w=(o==null?void 0:o.reduce((S,A)=>S+(A.total_duration||0),0))||0,j=Math.round(w/60*10)/10;return{total_workouts:_,total_hours:j}}catch(i){return console.error("Error in fetchWorkoutStats:",i),{total_workouts:0,total_hours:0}}},CHALLENGE_KEY="pp_challenge_7days",MEDALS_KEY="pp_total_medals",trackWorkoutForChallenge=()=>{var j;const i=JSON.parse(localStorage.getItem(CHALLENGE_KEY)||"{}"),o=new Date().toISOString().split("T")[0];if(!i.startDate){const S={startDate:new Date().toISOString(),workoutCount:1,completedDates:[o],isActive:!0,isCompleted:!1,badgeEarned:!1};return localStorage.setItem(CHALLENGE_KEY,JSON.stringify(S)),{isNewChallenge:!0,isUpdated:!1,isCompleted:!1,challenge:S,message:"🔥 Sfida 7 Giorni iniziata! Completa 3 allenamenti in 7 giorni per sbloccare il badge Kickoff Champion!"}}const E=new Date(i.startDate);if(Math.floor((new Date().getTime()-E.getTime())/(1e3*60*60*24))>=7&&!i.isCompleted)return localStorage.removeItem(CHALLENGE_KEY),{isNewChallenge:!1,isUpdated:!1,isCompleted:!1,challenge:{startDate:"",workoutCount:0,completedDates:[],isActive:!1,isCompleted:!1,badgeEarned:!1},message:"Sfida scaduta. Inizia una nuova sfida!"};if(i.isActive&&!i.isCompleted){if((j=i.completedDates)!=null&&j.includes(o))return{isNewChallenge:!1,isUpdated:!1,isCompleted:!1,challenge:i,message:"Hai già completato un allenamento oggi!"};if(i.workoutCount=(i.workoutCount||0)+1,i.completedDates=[...i.completedDates||[],o],i.workoutCount>=3){i.isCompleted=!0,i.badgeEarned=!0;const S=parseInt(localStorage.getItem(MEDALS_KEY)||"0");return localStorage.setItem(MEDALS_KEY,String(S+1)),localStorage.setItem(CHALLENGE_KEY,JSON.stringify(i)),{isNewChallenge:!1,isUpdated:!0,isCompleted:!0,challenge:i,message:"🎉 Sfida Completata! Hai guadagnato il badge Kickoff Champion!"}}else return localStorage.setItem(CHALLENGE_KEY,JSON.stringify(i)),{isNewChallenge:!1,isUpdated:!0,isCompleted:!1,challenge:i,message:`Progresso sfida: ${i.workoutCount}/3 allenamenti completati!`}}return{isNewChallenge:!1,isUpdated:!1,isCompleted:!1,challenge:i}},getChallengeStatus=()=>{const i=JSON.parse(localStorage.getItem(CHALLENGE_KEY)||"{}");if(i.isActive&&!i.isCompleted&&i.startDate){const o=new Date(i.startDate);if(Math.floor((new Date().getTime()-o.getTime())/(1e3*60*60*24))>=7)return localStorage.removeItem(CHALLENGE_KEY),{startDate:"",workoutCount:0,completedDates:[],isActive:!1,isCompleted:!1,badgeEarned:!1}}return i},getMedalsCount=()=>parseInt(localStorage.getItem(MEDALS_KEY)||"0"),MEDAL_SYSTEM_KEY="pp_medal_system",WORKOUT_COMPLETED_KEY="pp_workout_completed",useMedalSystem=()=>{const[i,o]=reactExports.useState({totalMedals:0,currentChallenge:null,earnedMedals:[],lastUpdated:new Date().toISOString()}),[E,_]=reactExports.useState({isOpen:!1,challengeType:null,title:"",description:"",icon:"",daysRemaining:0,progress:0,target:0});reactExports.useEffect(()=>{const T=localStorage.getItem(MEDAL_SYSTEM_KEY);if(T)try{const N=JSON.parse(T);o(N)}catch(N){console.error("Error loading medal system:",N)}},[]);const w=reactExports.useCallback(T=>{const N={...T,lastUpdated:new Date().toISOString()};o(N),localStorage.setItem(MEDAL_SYSTEM_KEY,JSON.stringify(N))},[]),j=reactExports.useCallback(()=>{const T=new Date,N=new Date(T.getTime()+7*24*60*60*1e3),O={type:"kickoff_7days",isActive:!0,progress:0,daysRemaining:7,startDate:T.toISOString(),endDate:N.toISOString(),workoutsCompleted:0,targetWorkouts:3},$={...i,currentChallenge:O};w($),_({isOpen:!0,challengeType:"kickoff_7days",title:"Sfida Kickoff Attivata! 🔥",description:"Completa 3 allenamenti in 7 giorni per sbloccare il badge Kickoff Champion",icon:"🔥",daysRemaining:7,progress:0,target:3})},[i,w]),S=reactExports.useCallback(()=>{var z;if(!((z=i.currentChallenge)!=null&&z.isActive))return;const T=i.currentChallenge,N=new Date,O=new Date(T.endDate);if(N>O){const F={...i,currentChallenge:null};w(F);return}const $=T.workoutsCompleted+1,D=Math.min($,T.targetWorkouts),L=Math.ceil((O.getTime()-N.getTime())/(1e3*60*60*24)),I={...T,workoutsCompleted:$,progress:D,daysRemaining:Math.max(0,L)};if(D>=T.targetWorkouts){const F={id:`kickoff_champion_${Date.now()}`,name:"Kickoff Champion",description:"Hai completato la Sfida Kickoff!",icon:"🏆",earnedDate:N.toISOString(),challengeType:"kickoff_7days",rarity:"rare"},W={...i,totalMedals:i.totalMedals+1,currentChallenge:null,earnedMedals:[...i.earnedMedals,F]};w(W),_({isOpen:!0,challengeType:null,title:"Sfida Completata! 🏆",description:"Hai sbloccato il badge Kickoff Champion!",icon:"🏆",daysRemaining:0,progress:3,target:3})}else{const F={...i,currentChallenge:I};w(F)}},[i,w]),A=reactExports.useCallback(()=>{_(T=>({...T,isOpen:!1}))},[]),R=reactExports.useCallback(()=>{const T=getChallengeStatus(),N=getMedalsCount();if(T.isActive&&!T.isCompleted){const O=new Date(T.startDate),D=Math.floor((new Date().getTime()-O.getTime())/(1e3*60*60*24)),L=Math.max(0,7-D);return{state:"challenge_active",icon:"🔥",value:`${T.workoutCount}/3`,label:"Sfida Kickoff",description:`${L} giorni rimanenti`,progress:T.workoutCount,daysRemaining:L}}else return T.badgeEarned?{state:"challenge_completed",icon:"🏆",value:N.toString(),label:"Medaglie",description:"+1 Kickoff Champion"}:{state:"default",icon:"🏆",value:N.toString(),label:"Medaglie",description:"Completa le sfide"}},[i]),C=reactExports.useCallback(()=>{var O;const T=localStorage.getItem(WORKOUT_COMPLETED_KEY),N=(O=i.currentChallenge)==null?void 0:O.isActive;return T&&!N&&!E.isOpen},[i,E.isOpen]);return reactExports.useEffect(()=>{C()&&_({isOpen:!0,challengeType:"kickoff_7days",title:"Sblocca la Sfida Kickoff! 🔥",description:"Fai 3 allenamenti in 7 giorni = Badge Kickoff Champion",icon:"🔥",daysRemaining:7,progress:0,target:3})},[C]),{medalSystem:i,challengeModal:E,getMedalCardData:R,startKickoffChallenge:j,recordWorkoutCompletion:S,closeChallengeModal:A}},ChallengeModal=({modalData:i,onClose:o,onStartChallenge:E})=>{if(!i.isOpen)return null;const _=i.progress>=i.target,w=i.challengeType==="kickoff_7days"&&!_;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[45] p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-pp-gold/30 rounded-2xl p-6 max-w-md w-full mx-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-pp-gold/20 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-4xl",children:i.icon})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-pp-gold mb-2",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-pp-gold/80",children:i.description})]}),w&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-pp-gold/80",children:"Progresso"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-pp-gold",children:[i.progress,"/",i.target]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-pp-gold h-3 rounded-full transition-all duration-300",style:{width:`${i.progress/i.target*100}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-pp-gold/60 mt-2 text-center",children:[i.daysRemaining," giorni rimanenti"]})]}),_&&jsxRuntimeExports.jsx("div",{className:"mb-6 bg-green-500/10 border border-green-500/30 rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl mb-2 block",children:"🎉"}),jsxRuntimeExports.jsx("p",{className:"text-green-400 font-semibold",children:"Sfida Completata!"}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm mt-1",children:"Hai sbloccato il badge Kickoff Champion!"})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:w?jsxRuntimeExports.jsx("button",{onClick:o,className:"w-full bg-pp-gold hover:bg-pp-gold/90 text-black font-bold py-3 px-6 rounded-xl transition-colors duration-200",children:"Continua Allenamento"}):_?jsxRuntimeExports.jsx("button",{onClick:o,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl transition-colors duration-200",children:"Vedi Medaglie"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>{E==null||E(),o()},className:"w-full bg-pp-gold hover:bg-pp-gold/90 text-black font-bold py-3 px-6 rounded-xl transition-colors duration-200",children:"Accetta Sfida"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200",children:"Più tardi"})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:_?"Il badge è stato aggiunto alla tua collezione!":"Completa la sfida per sbloccare medaglie esclusive"})})]})})},StatsOverview=()=>{const[i,o]=reactExports.useState({totalWorkouts:0,totalHours:0,totalObjectives:0,completedObjectives:0}),[E,_]=reactExports.useState(!0),{challengeModal:w,getMedalCardData:j,startKickoffChallenge:S,closeChallengeModal:A}=useMedalSystem();reactExports.useEffect(()=>{(async()=>{try{const N=await fetchWorkoutStats(),{data:{user:O}}=await supabase.auth.getUser();if(O){const{data:$}=await supabase.from("user_objectives").select("completed").eq("user_id",O.id),D=($==null?void 0:$.length)||0,L=($==null?void 0:$.filter(I=>I.completed).length)||0;o({totalWorkouts:N.total_workouts,totalHours:N.total_hours,totalObjectives:D,completedObjectives:L})}}catch(N){console.error("Error loading stats:",N)}finally{_(!1)}})()},[]);const R=j(),C=[{label:"Allenamenti completati",value:E?"...":i.totalWorkouts.toString(),change:"+0%",icon:TrendingUp,color:"text-pp-gold",bgColor:"bg-black"},{label:"Obiettivi raggiunti",value:E?"...":`${i.completedObjectives}/${i.totalObjectives}`,change:"+0",icon:Target,color:"text-pp-gold",bgColor:"bg-black"},{label:"Tempo totale",value:E?"...":`${i.totalHours}h`,change:"+0h",icon:Clock,color:"text-pp-gold",bgColor:"bg-black"},{label:R.label,value:E?"...":R.value,change:R.state==="challenge_active"?`${R.daysRemaining}d`:"+0",icon:Award,color:"text-pp-gold",bgColor:"bg-black",description:R.description,isMedalCard:!0,medalData:R}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:C.map(T=>{const N=T.icon,O=T.isMedalCard,$=T.medalData;return jsxRuntimeExports.jsxs("div",{className:`bg-gradient-to-br from-black to-[#c89116]/20 rounded-2xl p-4 shadow-lg border-2 border-[#c89116] hover:shadow-xl hover:shadow-[#c89116]/20 transition-all duration-200 ${O&&$.state==="challenge_active"?"ring-2 ring-pp-gold/50":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-[#c89116]/20 border border-[#c89116]",children:O?jsxRuntimeExports.jsx("span",{className:"text-lg",children:$.icon}):jsxRuntimeExports.jsx(N,{className:`h-5 w-5 ${T.color}`})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white",children:T.change})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-pp-gold",children:T.value}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white",children:T.label}),O&&T.description&&jsxRuntimeExports.jsx("p",{className:"text-xs text-pp-gold/80",children:T.description}),O&&$.state==="challenge_active"&&$.progress!==void 0&&jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:jsxRuntimeExports.jsx("div",{className:"bg-pp-gold h-1 rounded-full transition-all duration-300",style:{width:`${$.progress/3*100}%`}})})})]})]},T.label)})}),jsxRuntimeExports.jsx(ChallengeModal,{modalData:w,onClose:A,onStartChallenge:S})]})};function setRef(i,o){if(typeof i=="function")return i(o);i!=null&&(i.current=o)}function composeRefs(...i){return o=>{let E=!1;const _=i.map(w=>{const j=setRef(w,o);return!E&&typeof j=="function"&&(E=!0),j});if(E)return()=>{for(let w=0;w<_.length;w++){const j=_[w];typeof j=="function"?j():setRef(i[w],null)}}}}function useComposedRefs(...i){return reactExports.useCallback(composeRefs(...i),i)}function createSlot(i){const o=createSlotClone(i),E=reactExports.forwardRef((_,w)=>{const{children:j,...S}=_,A=reactExports.Children.toArray(j),R=A.find(isSlottable);if(R){const C=R.props.children,T=A.map(N=>N===R?reactExports.Children.count(C)>1?reactExports.Children.only(null):reactExports.isValidElement(C)?C.props.children:null:N);return jsxRuntimeExports.jsx(o,{...S,ref:w,children:reactExports.isValidElement(C)?reactExports.cloneElement(C,void 0,T):null})}return jsxRuntimeExports.jsx(o,{...S,ref:w,children:j})});return E.displayName=`${i}.Slot`,E}var Slot$4=createSlot("Slot");function createSlotClone(i){const o=reactExports.forwardRef((E,_)=>{const{children:w,...j}=E;if(reactExports.isValidElement(w)){const S=getElementRef$1(w),A=mergeProps(j,w.props);return w.type!==reactExports.Fragment&&(A.ref=_?composeRefs(_,S):S),reactExports.cloneElement(w,A)}return reactExports.Children.count(w)>1?reactExports.Children.only(null):null});return o.displayName=`${i}.SlotClone`,o}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(i){const o=({children:E})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:E});return o.displayName=`${i}.Slottable`,o.__radixId=SLOTTABLE_IDENTIFIER,o}function isSlottable(i){return reactExports.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(i,o){const E={...o};for(const _ in o){const w=i[_],j=o[_];/^on[A-Z]/.test(_)?w&&j?E[_]=(...A)=>{const R=j(...A);return w(...A),R}:w&&(E[_]=w):_==="style"?E[_]={...w,...j}:_==="className"&&(E[_]=[w,j].filter(Boolean).join(" "))}return{...i,...E}}function getElementRef$1(i){var _,w;let o=(_=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:_.get,E=o&&"isReactWarning"in o&&o.isReactWarning;return E?i.ref:(o=(w=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:w.get,E=o&&"isReactWarning"in o&&o.isReactWarning,E?i.props.ref:i.props.ref||i.ref)}function r(i){var o,E,_="";if(typeof i=="string"||typeof i=="number")_+=i;else if(typeof i=="object")if(Array.isArray(i)){var w=i.length;for(o=0;o<w;o++)i[o]&&(E=r(i[o]))&&(_&&(_+=" "),_+=E)}else for(E in i)i[E]&&(_&&(_+=" "),_+=E);return _}function clsx(){for(var i,o,E=0,_="",w=arguments.length;E<w;E++)(i=arguments[E])&&(o=r(i))&&(_&&(_+=" "),_+=o);return _}const falsyToString=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,cx=clsx,cva=(i,o)=>E=>{var _;if((o==null?void 0:o.variants)==null)return cx(i,E==null?void 0:E.class,E==null?void 0:E.className);const{variants:w,defaultVariants:j}=o,S=Object.keys(w).map(C=>{const T=E==null?void 0:E[C],N=j==null?void 0:j[C];if(T===null)return null;const O=falsyToString(T)||falsyToString(N);return w[C][O]}),A=E&&Object.entries(E).reduce((C,T)=>{let[N,O]=T;return O===void 0||(C[N]=O),C},{}),R=o==null||(_=o.compoundVariants)===null||_===void 0?void 0:_.reduce((C,T)=>{let{class:N,className:O,...$}=T;return Object.entries($).every(D=>{let[L,I]=D;return Array.isArray(I)?I.includes({...j,...A}[L]):{...j,...A}[L]===I})?[...C,N,O]:C},[]);return cx(i,S,R,E==null?void 0:E.class,E==null?void 0:E.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=i=>{const o=createClassMap(i),{conflictingClassGroups:E,conflictingClassGroupModifiers:_}=i;return{getClassGroupId:S=>{const A=S.split(CLASS_PART_SEPARATOR);return A[0]===""&&A.length!==1&&A.shift(),getGroupRecursive(A,o)||getGroupIdForArbitraryProperty(S)},getConflictingClassGroupIds:(S,A)=>{const R=E[S]||[];return A&&_[S]?[...R,..._[S]]:R}}},getGroupRecursive=(i,o)=>{var S;if(i.length===0)return o.classGroupId;const E=i[0],_=o.nextPart.get(E),w=_?getGroupRecursive(i.slice(1),_):void 0;if(w)return w;if(o.validators.length===0)return;const j=i.join(CLASS_PART_SEPARATOR);return(S=o.validators.find(({validator:A})=>A(j)))==null?void 0:S.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=i=>{if(arbitraryPropertyRegex.test(i)){const o=arbitraryPropertyRegex.exec(i)[1],E=o==null?void 0:o.substring(0,o.indexOf(":"));if(E)return"arbitrary.."+E}},createClassMap=i=>{const{theme:o,prefix:E}=i,_={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(i.classGroups),E).forEach(([j,S])=>{processClassesRecursively(S,_,j,o)}),_},processClassesRecursively=(i,o,E,_)=>{i.forEach(w=>{if(typeof w=="string"){const j=w===""?o:getPart(o,w);j.classGroupId=E;return}if(typeof w=="function"){if(isThemeGetter(w)){processClassesRecursively(w(_),o,E,_);return}o.validators.push({validator:w,classGroupId:E});return}Object.entries(w).forEach(([j,S])=>{processClassesRecursively(S,getPart(o,j),E,_)})})},getPart=(i,o)=>{let E=i;return o.split(CLASS_PART_SEPARATOR).forEach(_=>{E.nextPart.has(_)||E.nextPart.set(_,{nextPart:new Map,validators:[]}),E=E.nextPart.get(_)}),E},isThemeGetter=i=>i.isThemeGetter,getPrefixedClassGroupEntries=(i,o)=>o?i.map(([E,_])=>{const w=_.map(j=>typeof j=="string"?o+j:typeof j=="object"?Object.fromEntries(Object.entries(j).map(([S,A])=>[o+S,A])):j);return[E,w]}):i,createLruCache=i=>{if(i<1)return{get:()=>{},set:()=>{}};let o=0,E=new Map,_=new Map;const w=(j,S)=>{E.set(j,S),o++,o>i&&(o=0,_=E,E=new Map)};return{get(j){let S=E.get(j);if(S!==void 0)return S;if((S=_.get(j))!==void 0)return w(j,S),S},set(j,S){E.has(j)?E.set(j,S):w(j,S)}}},IMPORTANT_MODIFIER="!",createParseClassName=i=>{const{separator:o,experimentalParseClassName:E}=i,_=o.length===1,w=o[0],j=o.length,S=A=>{const R=[];let C=0,T=0,N;for(let I=0;I<A.length;I++){let z=A[I];if(C===0){if(z===w&&(_||A.slice(I,I+j)===o)){R.push(A.slice(T,I)),T=I+j;continue}if(z==="/"){N=I;continue}}z==="["?C++:z==="]"&&C--}const O=R.length===0?A:A.substring(T),$=O.startsWith(IMPORTANT_MODIFIER),D=$?O.substring(1):O,L=N&&N>T?N-T:void 0;return{modifiers:R,hasImportantModifier:$,baseClassName:D,maybePostfixModifierPosition:L}};return E?A=>E({className:A,parseClassName:S}):S},sortModifiers=i=>{if(i.length<=1)return i;const o=[];let E=[];return i.forEach(_=>{_[0]==="["?(o.push(...E.sort(),_),E=[]):E.push(_)}),o.push(...E.sort()),o},createConfigUtils=i=>({cache:createLruCache(i.cacheSize),parseClassName:createParseClassName(i),...createClassGroupUtils(i)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(i,o)=>{const{parseClassName:E,getClassGroupId:_,getConflictingClassGroupIds:w}=o,j=[],S=i.trim().split(SPLIT_CLASSES_REGEX);let A="";for(let R=S.length-1;R>=0;R-=1){const C=S[R],{modifiers:T,hasImportantModifier:N,baseClassName:O,maybePostfixModifierPosition:$}=E(C);let D=!!$,L=_(D?O.substring(0,$):O);if(!L){if(!D){A=C+(A.length>0?" "+A:A);continue}if(L=_(O),!L){A=C+(A.length>0?" "+A:A);continue}D=!1}const I=sortModifiers(T).join(":"),z=N?I+IMPORTANT_MODIFIER:I,F=z+L;if(j.includes(F))continue;j.push(F);const W=w(L,D);for(let H=0;H<W.length;++H){const B=W[H];j.push(z+B)}A=C+(A.length>0?" "+A:A)}return A};function twJoin(){let i=0,o,E,_="";for(;i<arguments.length;)(o=arguments[i++])&&(E=toValue(o))&&(_&&(_+=" "),_+=E);return _}const toValue=i=>{if(typeof i=="string")return i;let o,E="";for(let _=0;_<i.length;_++)i[_]&&(o=toValue(i[_]))&&(E&&(E+=" "),E+=o);return E};function createTailwindMerge(i,...o){let E,_,w,j=S;function S(R){const C=o.reduce((T,N)=>N(T),i());return E=createConfigUtils(C),_=E.cache.get,w=E.cache.set,j=A,A(R)}function A(R){const C=_(R);if(C)return C;const T=mergeClassList(R,E);return w(R,T),T}return function(){return j(twJoin.apply(null,arguments))}}const fromTheme=i=>{const o=E=>E[i]||[];return o.isThemeGetter=!0,o},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength$4=i=>isNumber$4(i)||stringLengths.has(i)||fractionRegex.test(i),isArbitraryLength=i=>getIsArbitraryValue(i,"length",isLengthOnly),isNumber$4=i=>!!i&&!Number.isNaN(Number(i)),isArbitraryNumber=i=>getIsArbitraryValue(i,"number",isNumber$4),isInteger=i=>!!i&&Number.isInteger(Number(i)),isPercent$1=i=>i.endsWith("%")&&isNumber$4(i.slice(0,-1)),isArbitraryValue=i=>arbitraryValueRegex.test(i),isTshirtSize=i=>tshirtUnitRegex.test(i),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=i=>getIsArbitraryValue(i,sizeLabels,isNever),isArbitraryPosition=i=>getIsArbitraryValue(i,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=i=>getIsArbitraryValue(i,imageLabels,isImage),isArbitraryShadow=i=>getIsArbitraryValue(i,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(i,o,E)=>{const _=arbitraryValueRegex.exec(i);return _?_[1]?typeof o=="string"?_[1]===o:o.has(_[1]):E(_[2]):!1},isLengthOnly=i=>lengthUnitRegex.test(i)&&!colorFunctionRegex.test(i),isNever=()=>!1,isShadow=i=>shadowRegex.test(i),isImage=i=>imageRegex.test(i),getDefaultConfig=()=>{const i=fromTheme("colors"),o=fromTheme("spacing"),E=fromTheme("blur"),_=fromTheme("brightness"),w=fromTheme("borderColor"),j=fromTheme("borderRadius"),S=fromTheme("borderSpacing"),A=fromTheme("borderWidth"),R=fromTheme("contrast"),C=fromTheme("grayscale"),T=fromTheme("hueRotate"),N=fromTheme("invert"),O=fromTheme("gap"),$=fromTheme("gradientColorStops"),D=fromTheme("gradientColorStopPositions"),L=fromTheme("inset"),I=fromTheme("margin"),z=fromTheme("opacity"),F=fromTheme("padding"),W=fromTheme("saturate"),H=fromTheme("scale"),B=fromTheme("sepia"),U=fromTheme("skew"),G=fromTheme("space"),V=fromTheme("translate"),K=()=>["auto","contain","none"],je=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",isArbitraryValue,o],fe=()=>[isArbitraryValue,o],Ae=()=>["",isLength$4,isArbitraryLength],Oe=()=>["auto",isNumber$4,isArbitraryValue],Pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ne=()=>["solid","dashed","dotted","double","none"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Me=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",isArbitraryValue],Re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ke=()=>[isNumber$4,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength$4,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:ke(),borderColor:[i],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:fe(),borderWidth:Ae(),contrast:ke(),grayscale:Q(),hueRotate:ke(),invert:Q(),gap:fe(),gradientColorStops:[i],gradientColorStopPositions:[isPercent$1,isArbitraryLength],inset:Z(),margin:Z(),opacity:ke(),padding:fe(),saturate:ke(),scale:ke(),sepia:Q(),skew:ke(),space:fe(),translate:fe()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Re()}],"break-before":[{"break-before":Re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pe(),isArbitraryValue]}],overflow:[{overflow:je()}],"overflow-x":[{"overflow-x":je()}],"overflow-y":[{"overflow-y":je()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[L]}],"inset-x":[{"inset-x":[L]}],"inset-y":[{"inset-y":[L]}],start:[{start:[L]}],end:[{end:[L]}],top:[{top:[L]}],right:[{right:[L]}],bottom:[{bottom:[L]}],left:[{left:[L]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Oe()}],"col-end":[{"col-end":Oe()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Oe()}],"row-end":[{"row-end":Oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[O]}],"gap-x":[{"gap-x":[O]}],"gap-y":[{"gap-y":[O]}],"justify-content":[{justify:["normal",...Me()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Me(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Me(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,o]}],"min-w":[{"min-w":[isArbitraryValue,o,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,o,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,o,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,o,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,o,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,o,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$4,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength$4,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[z]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$4,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength$4,isArbitraryValue]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:fe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[z]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pe(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[$]}],"gradient-via":[{via:[$]}],"gradient-to":[{to:[$]}],rounded:[{rounded:[j]}],"rounded-s":[{"rounded-s":[j]}],"rounded-e":[{"rounded-e":[j]}],"rounded-t":[{"rounded-t":[j]}],"rounded-r":[{"rounded-r":[j]}],"rounded-b":[{"rounded-b":[j]}],"rounded-l":[{"rounded-l":[j]}],"rounded-ss":[{"rounded-ss":[j]}],"rounded-se":[{"rounded-se":[j]}],"rounded-ee":[{"rounded-ee":[j]}],"rounded-es":[{"rounded-es":[j]}],"rounded-tl":[{"rounded-tl":[j]}],"rounded-tr":[{"rounded-tr":[j]}],"rounded-br":[{"rounded-br":[j]}],"rounded-bl":[{"rounded-bl":[j]}],"border-w":[{border:[A]}],"border-w-x":[{"border-x":[A]}],"border-w-y":[{"border-y":[A]}],"border-w-s":[{"border-s":[A]}],"border-w-e":[{"border-e":[A]}],"border-w-t":[{"border-t":[A]}],"border-w-r":[{"border-r":[A]}],"border-w-b":[{"border-b":[A]}],"border-w-l":[{"border-l":[A]}],"border-opacity":[{"border-opacity":[z]}],"border-style":[{border:[...Ne(),"hidden"]}],"divide-x":[{"divide-x":[A]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[A]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[z]}],"divide-style":[{divide:Ne()}],"border-color":[{border:[w]}],"border-color-x":[{"border-x":[w]}],"border-color-y":[{"border-y":[w]}],"border-color-s":[{"border-s":[w]}],"border-color-e":[{"border-e":[w]}],"border-color-t":[{"border-t":[w]}],"border-color-r":[{"border-r":[w]}],"border-color-b":[{"border-b":[w]}],"border-color-l":[{"border-l":[w]}],"divide-color":[{divide:[w]}],"outline-style":[{outline:["",...Ne()]}],"outline-offset":[{"outline-offset":[isLength$4,isArbitraryValue]}],"outline-w":[{outline:[isLength$4,isArbitraryLength]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[z]}],"ring-offset-w":[{"ring-offset":[isLength$4,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[z]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ce()}],filter:[{filter:["","none"]}],blur:[{blur:[E]}],brightness:[{brightness:[_]}],contrast:[{contrast:[R]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[C]}],"hue-rotate":[{"hue-rotate":[T]}],invert:[{invert:[N]}],saturate:[{saturate:[W]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[E]}],"backdrop-brightness":[{"backdrop-brightness":[_]}],"backdrop-contrast":[{"backdrop-contrast":[R]}],"backdrop-grayscale":[{"backdrop-grayscale":[C]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[T]}],"backdrop-invert":[{"backdrop-invert":[N]}],"backdrop-opacity":[{"backdrop-opacity":[z]}],"backdrop-saturate":[{"backdrop-saturate":[W]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[S]}],"border-spacing-x":[{"border-spacing-x":[S]}],"border-spacing-y":[{"border-spacing-y":[S]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:ke()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:ke()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":fe()}],"scroll-mx":[{"scroll-mx":fe()}],"scroll-my":[{"scroll-my":fe()}],"scroll-ms":[{"scroll-ms":fe()}],"scroll-me":[{"scroll-me":fe()}],"scroll-mt":[{"scroll-mt":fe()}],"scroll-mr":[{"scroll-mr":fe()}],"scroll-mb":[{"scroll-mb":fe()}],"scroll-ml":[{"scroll-ml":fe()}],"scroll-p":[{"scroll-p":fe()}],"scroll-px":[{"scroll-px":fe()}],"scroll-py":[{"scroll-py":fe()}],"scroll-ps":[{"scroll-ps":fe()}],"scroll-pe":[{"scroll-pe":fe()}],"scroll-pt":[{"scroll-pt":fe()}],"scroll-pr":[{"scroll-pr":fe()}],"scroll-pb":[{"scroll-pb":fe()}],"scroll-pl":[{"scroll-pl":fe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[isLength$4,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...i){return twMerge(clsx(i))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background text-foreground hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"text-foreground hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button$1=reactExports.forwardRef(({className:i,variant:o,size:E,asChild:_=!1,...w},j)=>{const S=_?Slot$4:"button";return jsxRuntimeExports.jsx(S,{className:cn(buttonVariants({variant:o,size:E,className:i})),ref:j,...w})});Button$1.displayName="Button";const ObjectiveModal=({isOpen:i,onClose:o,onObjectiveCreated:E})=>{const[_,w]=reactExports.useState(""),[j,S]=reactExports.useState(""),[A,R]=reactExports.useState(!1),C=async()=>{if(!(!_.trim()||!j.trim())){R(!0);try{const{data:{user:N}}=await supabase.auth.getUser();if(!N)return;const{error:O}=await supabase.from("user_objectives").insert({user_id:N.id,title:_.trim(),description:j.trim(),completed:!1,progress:0});if(O)throw O;w(""),S(""),o(),E&&E()}catch(N){console.error("Error saving objective:",N)}finally{R(!1)}}},T=()=>{w(""),S(""),o()};return i?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[45]",onClick:o,children:jsxRuntimeExports.jsxs("div",{className:"bg-black border-2 border-[#EEBA2B] rounded-2xl p-6 max-w-md w-full mx-4",onClick:N=>N.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#EEBA2B]",children:"Nuovo Obiettivo"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"text-white hover:text-[#EEBA2B]",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Titolo dell'obiettivo"}),jsxRuntimeExports.jsx("input",{type:"text",value:_,onChange:N=>w(N.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-lg text-white",placeholder:"Es. Correre 10km",maxLength:50})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Descrizione della sfida"}),jsxRuntimeExports.jsx("textarea",{value:j,onChange:N=>S(N.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-lg text-white min-h-[100px] resize-none",placeholder:"Descrivi in cosa consiste la sfida per completare questo obiettivo...",maxLength:200})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 mt-6",children:[jsxRuntimeExports.jsx(Button$1,{onClick:T,variant:"outline",className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Elimina"}),jsxRuntimeExports.jsx(Button$1,{onClick:C,disabled:!_.trim()||!j.trim()||A,className:"flex-1 bg-[#EEBA2B] hover:bg-[#EEBA2B]/80 text-black font-medium",children:A?"Salvando...":"Salva"})]})]})}):null},NewObjectiveCard=({onObjectiveCreated:i})=>{const[o,E]=reactExports.useState(!1),_=()=>{E(!0)},w=()=>{E(!1)},j=()=>{i&&i(),E(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{onClick:_,className:"p-4 rounded-xl border-2 border-dashed border-[#EEBA2B] bg-black hover:bg-[#EEBA2B]/10 transition-all duration-200 cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-[#EEBA2B]/20 flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(Plus,{className:"h-6 w-6 text-[#EEBA2B]"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1 text-[#EEBA2B]",children:"Nuovo Obiettivo"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/70",children:"Crea la tua sfida personalizzata"})]})}),jsxRuntimeExports.jsx(ObjectiveModal,{isOpen:o,onClose:w,onObjectiveCreated:j})]})},QuickActions=()=>{const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(!1),[w,j]=reactExports.useState(!1),S=useNavigate(),{user:A}=useAuth();reactExports.useEffect(()=>{R()},[]);const R=async()=>{if(A)try{const L=new Date().toISOString().split("T")[0],{data:I,error:z}=await supabase.from("custom_workouts").select("*").eq("user_id",A.id).gte("created_at",L).order("created_at",{ascending:!1}).limit(1);if(z){console.error("Errore nel controllo workout di oggi:",z);return}I&&I.length>0&&o(I[0])}catch(L){console.error("Errore nel controllo workout di oggi:",L)}},C=async()=>{if(!A){ue.error("Devi essere loggato per iniziare un allenamento");return}_(!0);try{i?(S("/workouts"),ue.success("Vai al tuo allenamento di oggi")):(S("/workouts"),ue.success("Crea il tuo allenamento di oggi"))}catch(L){console.error("Errore nell'avvio allenamento:",L),ue.error("Errore nell'avvio dell'allenamento")}finally{_(!1)}},T=()=>{j(!1)},D=[{label:"Inizia Allenamento",description:i?"Workout di oggi":"Crea nuovo workout",icon:Play,color:"bg-gradient-to-r from-black to-[#c89116] hover:from-[#c89116] hover:to-black border-2 border-[#c89116]",textColor:"text-white",onClick:C,disabled:E,accessible:!0},{label:"Timer",description:"Timer per allenamenti",icon:Clock,color:"bg-gradient-to-r from-[#c89116] to-black hover:from-black hover:to-[#c89116] border-2 border-[#c89116]",textColor:"text-white",onClick:()=>{S("/timer")},accessible:!0},{label:"Calendario",description:"Prenota appuntamenti",icon:Calendar$1,color:"bg-gradient-to-r from-black to-[#c89116] hover:from-[#c89116] hover:to-black border-2 border-[#c89116]",textColor:"text-white",onClick:()=>{S("/schedule")},accessible:!0},{label:"PrimeBot",description:"AI Coach personale",icon:Bot,color:"bg-gradient-to-r from-[#c89116] to-black hover:from-black hover:to-[#c89116] border-2 border-[#c89116]",textColor:"text-white",onClick:()=>{S("/ai-coach")},accessible:!0}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-black to-[#c89116]/10 rounded-2xl p-3 sm:p-6 shadow-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-base sm:text-lg font-semibold text-pp-gold mb-3 sm:mb-4",children:"Azioni Rapide"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:D.map(L=>{const I=L.icon;return L.accessible?jsxRuntimeExports.jsxs(Button$1,{onClick:L.onClick,disabled:L.disabled,className:`${L.color} ${L.textColor} h-auto p-2 sm:p-4 flex flex-col items-center space-y-1 sm:space-y-2 hover:scale-105 transition-all duration-200`,children:[jsxRuntimeExports.jsx(I,{className:"h-4 w-4 sm:h-6 sm:w-6"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs sm:text-sm",children:L.label}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-90 hidden sm:block",children:L.description})]})]},L.label):jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs(Button$1,{disabled:!0,className:`${L.color} ${L.textColor} h-auto p-2 sm:p-4 flex flex-col items-center space-y-1 sm:space-y-2 opacity-50`,children:[jsxRuntimeExports.jsx(I,{className:"h-4 w-4 sm:h-6 sm:w-6"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs sm:text-sm",children:L.label}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-90 hidden sm:block",children:L.description})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-lg z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:"🔒"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-200",children:"Prossimamente"})]})})]},L.label)})})]}),w&&jsxRuntimeExports.jsx(NewObjectiveCard,{onClose:T})]})},RecentActivity=()=>{const[i,o]=reactExports.useState([]),[E,_]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{try{const{data:{user:j}}=await supabase.auth.getUser();if(!j)return;const S=[],{data:A}=await supabase.from("custom_workouts").select("title, total_duration, completed_at, workout_type").eq("user_id",j.id).eq("completed",!0).order("completed_at",{ascending:!1}).limit(3);A==null||A.forEach(C=>{const T=new Date(C.completed_at),O=Math.floor((new Date().getTime()-T.getTime())/(1e3*60*60));let $="";O<1?$="meno di 1 ora fa":O<24?$=`${O} ore fa`:$=`${Math.floor(O/24)} giorni fa`,S.push({type:"workout",title:`${C.title} completato`,time:C.total_duration?`${C.total_duration} min`:"",ago:$,status:"completed",icon:Dumbbell,color:"text-pp-gold"})});const{data:R}=await supabase.from("user_objectives").select("title, completed_at").eq("user_id",j.id).eq("completed",!0).order("completed_at",{ascending:!1}).limit(2);R==null||R.forEach(C=>{if(C.completed_at){const T=new Date(C.completed_at),O=Math.floor((new Date().getTime()-T.getTime())/(1e3*60*60));let $="";O<1?$="meno di 1 ora fa":O<24?$=`${O} ore fa`:$=`${Math.floor(O/24)} giorni fa`,S.push({type:"objective",title:`Obiettivo "${C.title}" raggiunto`,time:"",ago:$,status:"completed",icon:Target,color:"text-pp-gold"})}}),S.sort((C,T)=>{const N=O=>O.includes("meno di 1 ora")?0:O.includes("ore fa")?parseInt(O.split(" ")[0]):O.includes("giorni fa")?parseInt(O.split(" ")[0])*24:999;return N(C.ago)-N(T.ago)}),o(S.slice(0,4))}catch(j){console.error("Error loading recent activities:",j)}finally{_(!1)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-black to-[#c89116]/10 rounded-2xl p-6 shadow-lg border-2 border-[#c89116]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-pp-gold",children:"Attività Recenti"}),jsxRuntimeExports.jsx("button",{className:"text-sm text-white hover:text-pp-gold font-medium transition-colors",children:"Vedi tutte"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:E?jsxRuntimeExports.jsx("div",{className:"text-center text-pp-gold/60 py-8",children:"Caricamento attività..."}):i.length===0?jsxRuntimeExports.jsx("div",{className:"text-center text-pp-gold/60 py-8",children:"Nessuna attività recente"}):i.map((w,j)=>{const S=w.icon;return jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-[#c89116]/10 rounded-xl transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-[#c89116]/20 border border-[#c89116]",children:jsxRuntimeExports.jsx(S,{className:`h-4 w-4 ${w.color}`})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-white truncate",children:w.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/70",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:w.time}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:w.ago})]})]})]},j)})})]})};var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(i){var o=hasOwnProperty$a.call(i,symToStringTag$1),E=i[symToStringTag$1];try{i[symToStringTag$1]=void 0;var _=!0}catch{}var w=nativeObjectToString$1.call(i);return _&&(o?i[symToStringTag$1]=E:delete i[symToStringTag$1]),w}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(i){return nativeObjectToString.call(i)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(i){return i==null?i===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(i)?getRawTag(i):objectToString(i)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(i){return i!=null&&typeof i=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(i){return typeof i=="symbol"||isObjectLike$8(i)&&baseGetTag$8(i)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(i,o){if(isArray$e(i))return!1;var E=typeof i;return E=="number"||E=="symbol"||E=="boolean"||i==null||isSymbol$5(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||o!=null&&i in Object(o)}var _isKey=isKey$3;function isObject$7(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(i){if(!isObject$6(i))return!1;var o=baseGetTag$7(i);return o==funcTag$1||o==genTag||o==asyncTag||o==proxyTag}var isFunction_1=isFunction$3;const isFunction$4=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function isMasked$1(i){return!!maskSrcKey&&maskSrcKey in i}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(i){if(i!=null){try{return funcToString$2.call(i)}catch{}try{return i+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(i){if(!isObject$5(i)||isMasked(i))return!1;var o=isFunction$2(i)?reIsNative:reIsHostCtor;return o.test(toSource$1(i))}var _baseIsNative=baseIsNative$1;function getValue$1(i,o){return i==null?void 0:i[o]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(i,o){var E=getValue(i,o);return baseIsNative(E)?E:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(i){var o=this.__data__;if(nativeCreate$2){var E=o[i];return E===HASH_UNDEFINED$2?void 0:E}return hasOwnProperty$8.call(o,i)?o[i]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(i){var o=this.__data__;return nativeCreate$1?o[i]!==void 0:hasOwnProperty$7.call(o,i)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(i,o){var E=this.__data__;return this.size+=this.has(i)?0:1,E[i]=nativeCreate&&o===void 0?HASH_UNDEFINED$1:o,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(i){var o=-1,E=i==null?0:i.length;for(this.clear();++o<E;){var _=i[o];this.set(_[0],_[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(i,o){return i===o||i!==i&&o!==o}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(i,o){for(var E=i.length;E--;)if(eq$2(i[E][0],o))return E;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(i){var o=this.__data__,E=assocIndexOf$3(o,i);if(E<0)return!1;var _=o.length-1;return E==_?o.pop():splice.call(o,E,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(i){var o=this.__data__,E=assocIndexOf$2(o,i);return E<0?void 0:o[E][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(i){return assocIndexOf$1(this.__data__,i)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(i,o){var E=this.__data__,_=assocIndexOf(E,i);return _<0?(++this.size,E.push([i,o])):E[_][1]=o,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(i){var o=-1,E=i==null?0:i.length;for(this.clear();++o<E;){var _=i[o];this.set(_[0],_[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(i,o){var E=i.__data__;return isKeyable(o)?E[typeof o=="string"?"string":"hash"]:E.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(i){var o=getMapData$3(this,i).delete(i);return this.size-=o?1:0,o}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(i){return getMapData$2(this,i).get(i)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(i){return getMapData$1(this,i).has(i)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(i,o){var E=getMapData(this,i),_=E.size;return E.set(i,o),this.size+=E.size==_?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(i){var o=-1,E=i==null?0:i.length;for(this.clear();++o<E;){var _=i[o];this.set(_[0],_[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var E=function(){var _=arguments,w=o?o.apply(this,_):_[0],j=E.cache;if(j.has(w))return j.get(w);var S=i.apply(this,_);return E.cache=j.set(w,S)||j,S};return E.cache=new(memoize$2.Cache||MapCache$2),E}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(i){var o=memoize$1(i,function(_){return E.size===MAX_MEMOIZE_SIZE&&E.clear(),_}),E=o.cache;return o}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(rePropName,function(E,_,w,j){o.push(w?j.replace(reEscapeChar,"$1"):_||E)}),o}),_stringToPath=stringToPath$1;function arrayMap$3(i,o){for(var E=-1,_=i==null?0:i.length,w=Array(_);++E<_;)w[E]=o(i[E],E,i);return w}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(i){if(typeof i=="string")return i;if(isArray$d(i))return arrayMap$2(i,baseToString$1)+"";if(isSymbol$4(i))return symbolToString?symbolToString.call(i):"";var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(i){return i==null?"":baseToString(i)}var toString_1=toString$3,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(i,o){return isArray$c(i)?i:isKey$2(i,o)?[i]:stringToPath(toString$2(i))}var _castPath=castPath$2,isSymbol$3=isSymbol_1;function toKey$4(i){if(typeof i=="string"||isSymbol$3(i))return i;var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(i,o){o=castPath$1(o,i);for(var E=0,_=o.length;i!=null&&E<_;)i=i[toKey$3(o[E++])];return E&&E==_?i:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(i,o,E){var _=i==null?void 0:baseGet$2(i,o);return _===void 0?E:_}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(i){return i==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(i){return typeof i=="string"||!isArray$b(i)&&isObjectLike$7(i)&&baseGetTag$6(i)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case b:switch(i=i.type,i){case d:case f:case e:case m:case n:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case h:case l:case q:case p:case g:return i;default:return o}}case c$1:return o}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(i){return v(i)===h};reactIs_production_min.isContextProvider=function(i){return v(i)===g};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===b};reactIs_production_min.isForwardRef=function(i){return v(i)===l};reactIs_production_min.isFragment=function(i){return v(i)===d};reactIs_production_min.isLazy=function(i){return v(i)===q};reactIs_production_min.isMemo=function(i){return v(i)===p};reactIs_production_min.isPortal=function(i){return v(i)===c$1};reactIs_production_min.isProfiler=function(i){return v(i)===f};reactIs_production_min.isStrictMode=function(i){return v(i)===e};reactIs_production_min.isSuspense=function(i){return v(i)===m};reactIs_production_min.isSuspenseList=function(i){return v(i)===n};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===d||i===f||i===e||i===m||i===n||i===t||typeof i=="object"&&i!==null&&(i.$$typeof===q||i.$$typeof===p||i.$$typeof===g||i.$$typeof===h||i.$$typeof===l||i.$$typeof===u||i.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(i){return typeof i=="number"||isObjectLike$6(i)&&baseGetTag$5(i)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(i){return isNumber$1(i)&&i!=+i}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function(o){return o===0?0:o>0?1:-1},isPercent=function(o){return isString$1(o)&&o.indexOf("%")===o.length-1},isNumber=function(o){return isNumber$3(o)&&!isNan(o)},isNullish=function(o){return isNil$1(o)},isNumOrStr=function(o){return isNumber(o)||isString$1(o)},idCounter$1=0,uniqueId=function(o){var E=++idCounter$1;return"".concat(o||"").concat(E)},getPercentValue=function(o,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(o)&&!isString$1(o))return _;var j;if(isPercent(o)){var S=o.indexOf("%");j=E*parseFloat(o.slice(0,S))/100}else j=+o;return isNan(j)&&(j=_),w&&j>E&&(j=E),j},getAnyElementOfObject=function(o){if(!o)return null;var E=Object.keys(o);return E&&E.length?o[E[0]]:null},hasDuplicate=function(o){if(!Array.isArray(o))return!1;for(var E=o.length,_={},w=0;w<E;w++)if(!_[o[w]])_[o[w]]=!0;else return!0;return!1},interpolateNumber$2=function(o,E){return isNumber(o)&&isNumber(E)?function(_){return o+_*(E-o)}:function(){return E}};function findEntryInArray(i,o,E){return!i||!i.length?null:i.find(function(_){return _&&(typeof o=="function"?o(_):get$2(_,o))===E})}var compareValues=function(o,E){return isNumber(o)&&isNumber(E)?o-E:isString$1(o)&&isString$1(E)?o.localeCompare(E):o instanceof Date&&E instanceof Date?o.getTime()-E.getTime():String(o).localeCompare(String(E))};function shallowEqual(i,o){for(var E in i)if({}.hasOwnProperty.call(i,E)&&(!{}.hasOwnProperty.call(o,E)||i[E]!==o[E]))return!1;for(var _ in o)if({}.hasOwnProperty.call(o,_)&&!{}.hasOwnProperty.call(i,_))return!1;return!0}function _typeof$I(i){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$I(i)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(o,E){if(!o||typeof o=="function"||typeof o=="boolean")return null;var _=o;if(reactExports.isValidElement(o)&&(_=o.props),!isObject$8(_))return null;var w={};return Object.keys(_).forEach(function(j){EventKeys.includes(j)&&(w[j]=E||function(S){return _[j](_,S)})}),w},getEventHandlerOfChild=function(o,E,_){return function(w){return o(E,_,w),null}},adaptEventsOfChild=function(o,E,_){if(!isObject$8(o)||_typeof$I(o)!=="object")return null;var w=null;return Object.keys(o).forEach(function(j){var S=o[j];EventKeys.includes(j)&&typeof S=="function"&&(w||(w={}),w[j]=getEventHandlerOfChild(S,E,_))}),w},_excluded$h=["children"],_excluded2$6=["children"];function _objectWithoutProperties$h(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$h(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$h(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _typeof$H(i){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$H(i)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(o){return typeof o=="string"?o:o?o.displayName||o.name||"Component":""},lastChildren=null,lastResult=null,toArray=function i(o){if(o===lastChildren&&Array.isArray(lastResult))return lastResult;var E=[];return reactExports.Children.forEach(o,function(_){isNil$1(_)||(reactIsExports.isFragment(_)?E=E.concat(i(_.props.children)):E.push(_))}),lastResult=E,lastChildren=o,E};function findAllByType(i,o){var E=[],_=[];return Array.isArray(o)?_=o.map(function(w){return getDisplayName(w)}):_=[getDisplayName(o)],toArray(i).forEach(function(w){var j=get$2(w,"type.displayName")||get$2(w,"type.name");_.indexOf(j)!==-1&&E.push(w)}),E}function findChildByType(i,o){var E=findAllByType(i,o);return E&&E[0]}var validateWidthHeight=function(o){if(!o||!o.props)return!1;var E=o.props,_=E.width,w=E.height;return!(!isNumber(_)||_<=0||!isNumber(w)||w<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(o){return o&&o.type&&isString$1(o.type)&&SVG_TAGS.indexOf(o.type)>=0},hasClipDot=function(o){return o&&_typeof$H(o)==="object"&&"clipDot"in o},isValidSpreadableProp=function(o,E,_,w){var j,S=(j=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[w])!==null&&j!==void 0?j:[];return E.startsWith("data-")||!isFunction$4(o)&&(w&&S.includes(E)||SVGElementPropKeys.includes(E))||_&&EventKeys.includes(E)},filterProps=function(o,E,_){if(!o||typeof o=="function"||typeof o=="boolean")return null;var w=o;if(reactExports.isValidElement(o)&&(w=o.props),!isObject$8(w))return null;var j={};return Object.keys(w).forEach(function(S){var A;isValidSpreadableProp((A=w)===null||A===void 0?void 0:A[S],S,E,_)&&(j[S]=w[S])}),j},isChildrenEqual=function i(o,E){if(o===E)return!0;var _=reactExports.Children.count(o);if(_!==reactExports.Children.count(E))return!1;if(_===0)return!0;if(_===1)return isSingleChildEqual(Array.isArray(o)?o[0]:o,Array.isArray(E)?E[0]:E);for(var w=0;w<_;w++){var j=o[w],S=E[w];if(Array.isArray(j)||Array.isArray(S)){if(!i(j,S))return!1}else if(!isSingleChildEqual(j,S))return!1}return!0},isSingleChildEqual=function(o,E){if(isNil$1(o)&&isNil$1(E))return!0;if(!isNil$1(o)&&!isNil$1(E)){var _=o.props||{},w=_.children,j=_objectWithoutProperties$h(_,_excluded$h),S=E.props||{},A=S.children,R=_objectWithoutProperties$h(S,_excluded2$6);return w&&A?shallowEqual(j,R)&&isChildrenEqual(w,A):!w&&!A?shallowEqual(j,R):!1}return!1},renderByOrder=function(o,E){var _=[],w={};return toArray(o).forEach(function(j,S){if(isSvgElement(j))_.push(j);else if(j){var A=getDisplayName(j.type),R=E[A]||{},C=R.handler,T=R.once;if(C&&(!T||!w[A])){var N=C(j,A,S);_.push(N),w[A]=!0}}}),_},getReactEventByType=function(o){var E=o&&o.type;return E&&REACT_BROWSER_EVENT_MAP[E]?REACT_BROWSER_EVENT_MAP[E]:null},parseChildIndex=function(o,E){return toArray(E).indexOf(o)},_excluded$g=["children","width","height","viewBox","className","style","title","desc"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$q.apply(this,arguments)}function _objectWithoutProperties$g(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$g(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$g(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function Surface(i){var o=i.children,E=i.width,_=i.height,w=i.viewBox,j=i.className,S=i.style,A=i.title,R=i.desc,C=_objectWithoutProperties$g(i,_excluded$g),T=w||{width:E,height:_,x:0,y:0},N=clsx("recharts-surface",j);return React.createElement("svg",_extends$q({},filterProps(C,!0,"svg"),{className:N,width:E,height:_,style:S,viewBox:"".concat(T.x," ").concat(T.y," ").concat(T.width," ").concat(T.height)}),React.createElement("title",null,A),React.createElement("desc",null,R),o)}var _excluded$f=["children","className"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$p.apply(this,arguments)}function _objectWithoutProperties$f(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$f(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$f(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}var Layer=React.forwardRef(function(i,o){var E=i.children,_=i.className,w=_objectWithoutProperties$f(i,_excluded$f),j=clsx("recharts-layer",_);return React.createElement("g",_extends$p({className:j},filterProps(w,!0),{ref:o}),E)}),warn=function(o,E){for(var _=arguments.length,w=new Array(_>2?_-2:0),j=2;j<_;j++)w[j-2]=arguments[j]};function baseSlice$1(i,o,E){var _=-1,w=i.length;o<0&&(o=-o>w?0:w+o),E=E>w?w:E,E<0&&(E+=w),w=o>E?0:E-o>>>0,o>>>=0;for(var j=Array(w);++_<w;)j[_]=i[_+o];return j}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(i,o,E){var _=i.length;return E=E===void 0?_:E,!o&&E>=_?i:baseSlice(i,o,E)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(i){return reHasUnicode.test(i)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(i){return i.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(i){return i.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(i){return hasUnicode$1(i)?unicodeToArray(i):asciiToArray(i)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(i){return function(o){o=toString$1(o);var E=hasUnicode(o)?stringToArray(o):void 0,_=E?E[0]:o.charAt(0),w=E?castSlice(E,1).join(""):o.slice(1);return _[i]()+w}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(i){return function(){return i}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(i){this._+=i[0];for(let o=1,E=i.length;o<E;++o)this._+=arguments[o]+i[o]}function appendRound(i){let o=Math.floor(i);if(!(o>=0))throw new Error(`invalid digits: ${i}`);if(o>15)return append;const E=10**o;return function(_){this._+=_[0];for(let w=1,j=_.length;w<j;++w)this._+=Math.round(arguments[w]*E)/E+_[w]}}class Path{constructor(o){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=o==null?append:appendRound(o)}moveTo(o,E){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+E}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(o,E){this._append`L${this._x1=+o},${this._y1=+E}`}quadraticCurveTo(o,E,_,w){this._append`Q${+o},${+E},${this._x1=+_},${this._y1=+w}`}bezierCurveTo(o,E,_,w,j,S){this._append`C${+o},${+E},${+_},${+w},${this._x1=+j},${this._y1=+S}`}arcTo(o,E,_,w,j){if(o=+o,E=+E,_=+_,w=+w,j=+j,j<0)throw new Error(`negative radius: ${j}`);let S=this._x1,A=this._y1,R=_-o,C=w-E,T=S-o,N=A-E,O=T*T+N*N;if(this._x1===null)this._append`M${this._x1=o},${this._y1=E}`;else if(O>epsilon)if(!(Math.abs(N*R-C*T)>epsilon)||!j)this._append`L${this._x1=o},${this._y1=E}`;else{let $=_-S,D=w-A,L=R*R+C*C,I=$*$+D*D,z=Math.sqrt(L),F=Math.sqrt(O),W=j*Math.tan((pi-Math.acos((L+O-I)/(2*z*F)))/2),H=W/F,B=W/z;Math.abs(H-1)>epsilon&&this._append`L${o+H*T},${E+H*N}`,this._append`A${j},${j},0,0,${+(N*$>T*D)},${this._x1=o+B*R},${this._y1=E+B*C}`}}arc(o,E,_,w,j,S){if(o=+o,E=+E,_=+_,S=!!S,_<0)throw new Error(`negative radius: ${_}`);let A=_*Math.cos(w),R=_*Math.sin(w),C=o+A,T=E+R,N=1^S,O=S?w-j:j-w;this._x1===null?this._append`M${C},${T}`:(Math.abs(this._x1-C)>epsilon||Math.abs(this._y1-T)>epsilon)&&this._append`L${C},${T}`,_&&(O<0&&(O=O%tau+tau),O>tauEpsilon?this._append`A${_},${_},0,1,${N},${o-A},${E-R}A${_},${_},0,1,${N},${this._x1=C},${this._y1=T}`:O>epsilon&&this._append`A${_},${_},0,${+(O>=pi)},${N},${this._x1=o+_*Math.cos(j)},${this._y1=E+_*Math.sin(j)}`)}rect(o,E,_,w){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+E}h${_=+_}v${+w}h${-_}Z`}toString(){return this._}}function withPath(i){let o=3;return i.digits=function(E){if(!arguments.length)return o;if(E==null)o=null;else{const _=Math.floor(E);if(!(_>=0))throw new RangeError(`invalid digits: ${E}`);o=_}return i},()=>new Path(o)}function array(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Linear(i){this._context=i}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;default:this._context.lineTo(i,o);break}}};function curveLinear(i){return new Linear(i)}function x(i){return i[0]}function y(i){return i[1]}function shapeLine(i,o){var E=constant$3(!0),_=null,w=curveLinear,j=null,S=withPath(A);i=typeof i=="function"?i:i===void 0?x:constant$3(i),o=typeof o=="function"?o:o===void 0?y:constant$3(o);function A(R){var C,T=(R=array(R)).length,N,O=!1,$;for(_==null&&(j=w($=S())),C=0;C<=T;++C)!(C<T&&E(N=R[C],C,R))===O&&((O=!O)?j.lineStart():j.lineEnd()),O&&j.point(+i(N,C,R),+o(N,C,R));if($)return j=null,$+""||null}return A.x=function(R){return arguments.length?(i=typeof R=="function"?R:constant$3(+R),A):i},A.y=function(R){return arguments.length?(o=typeof R=="function"?R:constant$3(+R),A):o},A.defined=function(R){return arguments.length?(E=typeof R=="function"?R:constant$3(!!R),A):E},A.curve=function(R){return arguments.length?(w=R,_!=null&&(j=w(_)),A):w},A.context=function(R){return arguments.length?(R==null?_=j=null:j=w(_=R),A):_},A}function shapeArea(i,o,E){var _=null,w=constant$3(!0),j=null,S=curveLinear,A=null,R=withPath(C);i=typeof i=="function"?i:i===void 0?x:constant$3(+i),o=typeof o=="function"?o:constant$3(o===void 0?0:+o),E=typeof E=="function"?E:E===void 0?y:constant$3(+E);function C(N){var O,$,D,L=(N=array(N)).length,I,z=!1,F,W=new Array(L),H=new Array(L);for(j==null&&(A=S(F=R())),O=0;O<=L;++O){if(!(O<L&&w(I=N[O],O,N))===z)if(z=!z)$=O,A.areaStart(),A.lineStart();else{for(A.lineEnd(),A.lineStart(),D=O-1;D>=$;--D)A.point(W[D],H[D]);A.lineEnd(),A.areaEnd()}z&&(W[O]=+i(I,O,N),H[O]=+o(I,O,N),A.point(_?+_(I,O,N):W[O],E?+E(I,O,N):H[O]))}if(F)return A=null,F+""||null}function T(){return shapeLine().defined(w).curve(S).context(j)}return C.x=function(N){return arguments.length?(i=typeof N=="function"?N:constant$3(+N),_=null,C):i},C.x0=function(N){return arguments.length?(i=typeof N=="function"?N:constant$3(+N),C):i},C.x1=function(N){return arguments.length?(_=N==null?null:typeof N=="function"?N:constant$3(+N),C):_},C.y=function(N){return arguments.length?(o=typeof N=="function"?N:constant$3(+N),E=null,C):o},C.y0=function(N){return arguments.length?(o=typeof N=="function"?N:constant$3(+N),C):o},C.y1=function(N){return arguments.length?(E=N==null?null:typeof N=="function"?N:constant$3(+N),C):E},C.lineX0=C.lineY0=function(){return T().x(i).y(o)},C.lineY1=function(){return T().x(i).y(E)},C.lineX1=function(){return T().x(_).y(o)},C.defined=function(N){return arguments.length?(w=typeof N=="function"?N:constant$3(!!N),C):w},C.curve=function(N){return arguments.length?(S=N,j!=null&&(A=S(j)),C):S},C.context=function(N){return arguments.length?(N==null?j=A=null:A=S(j=N),C):j},C}class Bump{constructor(o,E){this._context=o,this._x=E}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(o,E){switch(o=+o,E=+E,this._point){case 0:{this._point=1,this._line?this._context.lineTo(o,E):this._context.moveTo(o,E);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+o)/2,this._y0,this._x0,E,o,E):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+E)/2,o,this._y0,o,E);break}}this._x0=o,this._y0=E}}function bumpX(i){return new Bump(i,!0)}function bumpY(i){return new Bump(i,!1)}const symbolCircle={draw(i,o){const E=sqrt$1(o/pi$1);i.moveTo(E,0),i.arc(0,0,E,0,tau$1)}},symbolCross={draw(i,o){const E=sqrt$1(o/5)/2;i.moveTo(-3*E,-E),i.lineTo(-E,-E),i.lineTo(-E,-3*E),i.lineTo(E,-3*E),i.lineTo(E,-E),i.lineTo(3*E,-E),i.lineTo(3*E,E),i.lineTo(E,E),i.lineTo(E,3*E),i.lineTo(-E,3*E),i.lineTo(-E,E),i.lineTo(-3*E,E),i.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(i,o){const E=sqrt$1(o/tan30_2),_=E*tan30;i.moveTo(0,-E),i.lineTo(_,0),i.lineTo(0,E),i.lineTo(-_,0),i.closePath()}},symbolSquare={draw(i,o){const E=sqrt$1(o),_=-E/2;i.rect(_,_,E,E)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(i,o){const E=sqrt$1(o*ka),_=kx*E,w=ky*E;i.moveTo(0,-E),i.lineTo(_,w);for(let j=1;j<5;++j){const S=tau$1*j/5,A=cos(S),R=sin(S);i.lineTo(R*E,-A*E),i.lineTo(A*_-R*w,R*_+A*w)}i.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(i,o){const E=-sqrt$1(o/(sqrt3*3));i.moveTo(0,E*2),i.lineTo(-sqrt3*E,-E),i.lineTo(sqrt3*E,-E),i.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(i,o){const E=sqrt$1(o/a),_=E/2,w=E*k,j=_,S=E*k+E,A=-j,R=S;i.moveTo(_,w),i.lineTo(j,S),i.lineTo(A,R),i.lineTo(c*_-s*w,s*_+c*w),i.lineTo(c*j-s*S,s*j+c*S),i.lineTo(c*A-s*R,s*A+c*R),i.lineTo(c*_+s*w,c*w-s*_),i.lineTo(c*j+s*S,c*S-s*j),i.lineTo(c*A+s*R,c*R-s*A),i.closePath()}};function Symbol$3(i,o){let E=null,_=withPath(w);i=typeof i=="function"?i:constant$3(i||symbolCircle),o=typeof o=="function"?o:constant$3(o===void 0?64:+o);function w(){let j;if(E||(E=j=_()),i.apply(this,arguments).draw(E,+o.apply(this,arguments)),j)return E=null,j+""||null}return w.type=function(j){return arguments.length?(i=typeof j=="function"?j:constant$3(j),w):i},w.size=function(j){return arguments.length?(o=typeof j=="function"?j:constant$3(+j),w):o},w.context=function(j){return arguments.length?(E=j??null,w):E},w}function noop$3(){}function point$2(i,o,E){i._context.bezierCurveTo((2*i._x0+i._x1)/3,(2*i._y0+i._y1)/3,(i._x0+2*i._x1)/3,(i._y0+2*i._y1)/3,(i._x0+4*i._x1+o)/6,(i._y0+4*i._y1+E)/6)}function Basis(i){this._context=i}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,i,o);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o}};function curveBasis(i){return new Basis(i)}function BasisClosed(i){this._context=i}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._x2=i,this._y2=o;break;case 1:this._point=2,this._x3=i,this._y3=o;break;case 2:this._point=3,this._x4=i,this._y4=o,this._context.moveTo((this._x0+4*this._x1+i)/6,(this._y0+4*this._y1+o)/6);break;default:point$2(this,i,o);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o}};function curveBasisClosed(i){return new BasisClosed(i)}function BasisOpen(i){this._context=i}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var E=(this._x0+4*this._x1+i)/6,_=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(E,_):this._context.moveTo(E,_);break;case 3:this._point=4;default:point$2(this,i,o);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o}};function curveBasisOpen(i){return new BasisOpen(i)}function LinearClosed(i){this._context=i}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(i,o){i=+i,o=+o,this._point?this._context.lineTo(i,o):(this._point=1,this._context.moveTo(i,o))}};function curveLinearClosed(i){return new LinearClosed(i)}function sign(i){return i<0?-1:1}function slope3(i,o,E){var _=i._x1-i._x0,w=o-i._x1,j=(i._y1-i._y0)/(_||w<0&&-0),S=(E-i._y1)/(w||_<0&&-0),A=(j*w+S*_)/(_+w);return(sign(j)+sign(S))*Math.min(Math.abs(j),Math.abs(S),.5*Math.abs(A))||0}function slope2(i,o){var E=i._x1-i._x0;return E?(3*(i._y1-i._y0)/E-o)/2:o}function point$1(i,o,E){var _=i._x0,w=i._y0,j=i._x1,S=i._y1,A=(j-_)/3;i._context.bezierCurveTo(_+A,w+A*o,j-A,S-A*E,j,S)}function MonotoneX(i){this._context=i}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){var E=NaN;if(i=+i,o=+o,!(i===this._x1&&o===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,E=slope3(this,i,o)),E);break;default:point$1(this,this._t0,E=slope3(this,i,o));break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o,this._t0=E}}};function MonotoneY(i){this._context=new ReflectContext(i)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(i,o){MonotoneX.prototype.point.call(this,o,i)};function ReflectContext(i){this._context=i}ReflectContext.prototype={moveTo:function(i,o){this._context.moveTo(o,i)},closePath:function(){this._context.closePath()},lineTo:function(i,o){this._context.lineTo(o,i)},bezierCurveTo:function(i,o,E,_,w,j){this._context.bezierCurveTo(o,i,_,E,j,w)}};function monotoneX(i){return new MonotoneX(i)}function monotoneY(i){return new MonotoneY(i)}function Natural(i){this._context=i}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var i=this._x,o=this._y,E=i.length;if(E)if(this._line?this._context.lineTo(i[0],o[0]):this._context.moveTo(i[0],o[0]),E===2)this._context.lineTo(i[1],o[1]);else for(var _=controlPoints(i),w=controlPoints(o),j=0,S=1;S<E;++j,++S)this._context.bezierCurveTo(_[0][j],w[0][j],_[1][j],w[1][j],i[S],o[S]);(this._line||this._line!==0&&E===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(i,o){this._x.push(+i),this._y.push(+o)}};function controlPoints(i){var o,E=i.length-1,_,w=new Array(E),j=new Array(E),S=new Array(E);for(w[0]=0,j[0]=2,S[0]=i[0]+2*i[1],o=1;o<E-1;++o)w[o]=1,j[o]=4,S[o]=4*i[o]+2*i[o+1];for(w[E-1]=2,j[E-1]=7,S[E-1]=8*i[E-1]+i[E],o=1;o<E;++o)_=w[o]/j[o-1],j[o]-=_,S[o]-=_*S[o-1];for(w[E-1]=S[E-1]/j[E-1],o=E-2;o>=0;--o)w[o]=(S[o]-w[o+1])/j[o];for(j[E-1]=(i[E]+w[E-1])/2,o=0;o<E-1;++o)j[o]=2*i[o+1]-w[o+1];return[w,j]}function curveNatural(i){return new Natural(i)}function Step(i,o){this._context=i,this._t=o}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(i,o);else{var E=this._x*(1-this._t)+i*this._t;this._context.lineTo(E,this._y),this._context.lineTo(E,o)}break}}this._x=i,this._y=o}};function curveStep(i){return new Step(i,.5)}function stepBefore(i){return new Step(i,0)}function stepAfter(i){return new Step(i,1)}function stackOffsetNone(i,o){if((S=i.length)>1)for(var E=1,_,w,j=i[o[0]],S,A=j.length;E<S;++E)for(w=j,j=i[o[E]],_=0;_<A;++_)j[_][1]+=j[_][0]=isNaN(w[_][1])?w[_][0]:w[_][1]}function stackOrderNone(i){for(var o=i.length,E=new Array(o);--o>=0;)E[o]=o;return E}function stackValue(i,o){return i[o]}function stackSeries(i){const o=[];return o.key=i,o}function shapeStack(){var i=constant$3([]),o=stackOrderNone,E=stackOffsetNone,_=stackValue;function w(j){var S=Array.from(i.apply(this,arguments),stackSeries),A,R=S.length,C=-1,T;for(const N of j)for(A=0,++C;A<R;++A)(S[A][C]=[0,+_(N,S[A].key,C,j)]).data=N;for(A=0,T=array(o(S));A<R;++A)S[T[A]].index=A;return E(S,T),S}return w.keys=function(j){return arguments.length?(i=typeof j=="function"?j:constant$3(Array.from(j)),w):i},w.value=function(j){return arguments.length?(_=typeof j=="function"?j:constant$3(+j),w):_},w.order=function(j){return arguments.length?(o=j==null?stackOrderNone:typeof j=="function"?j:constant$3(Array.from(j)),w):o},w.offset=function(j){return arguments.length?(E=j??stackOffsetNone,w):E},w}function stackOffsetExpand(i,o){if((_=i.length)>0){for(var E,_,w=0,j=i[0].length,S;w<j;++w){for(S=E=0;E<_;++E)S+=i[E][w][1]||0;if(S)for(E=0;E<_;++E)i[E][w][1]/=S}stackOffsetNone(i,o)}}function stackOffsetSilhouette(i,o){if((w=i.length)>0){for(var E=0,_=i[o[0]],w,j=_.length;E<j;++E){for(var S=0,A=0;S<w;++S)A+=i[S][E][1]||0;_[E][1]+=_[E][0]=-A/2}stackOffsetNone(i,o)}}function stackOffsetWiggle(i,o){if(!(!((S=i.length)>0)||!((j=(w=i[o[0]]).length)>0))){for(var E=0,_=1,w,j,S;_<j;++_){for(var A=0,R=0,C=0;A<S;++A){for(var T=i[o[A]],N=T[_][1]||0,O=T[_-1][1]||0,$=(N-O)/2,D=0;D<A;++D){var L=i[o[D]],I=L[_][1]||0,z=L[_-1][1]||0;$+=I-z}R+=N,C+=$*N}w[_-1][1]+=w[_-1][0]=E,R&&(E-=C/R)}w[_-1][1]+=w[_-1][0]=E,stackOffsetNone(i,o)}}function _typeof$G(i){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$G(i)}var _excluded$e=["type","size","sizeType"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$o.apply(this,arguments)}function ownKeys$z(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$z(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$z(Object(E),!0).forEach(function(_){_defineProperty$F(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$z(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$F(i,o,E){return o=_toPropertyKey$F(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$F(i){var o=_toPrimitive$F(i,"string");return _typeof$G(o)=="symbol"?o:o+""}function _toPrimitive$F(i,o){if(_typeof$G(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$G(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$e(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$e(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$e(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function(o){var E="symbol".concat(upperFirst$1(o));return symbolFactories[E]||symbolCircle},calculateAreaSize=function(o,E,_){if(E==="area")return o;switch(_){case"cross":return 5*o*o/9;case"diamond":return .5*o*o/Math.sqrt(3);case"square":return o*o;case"star":{var w=18*RADIAN$1;return 1.25*o*o*(Math.tan(w)-Math.tan(w*2)*Math.pow(Math.tan(w),2))}case"triangle":return Math.sqrt(3)*o*o/4;case"wye":return(21-10*Math.sqrt(3))*o*o/8;default:return Math.PI*o*o/4}},registerSymbol=function(o,E){symbolFactories["symbol".concat(upperFirst$1(o))]=E},Symbols=function(o){var E=o.type,_=E===void 0?"circle":E,w=o.size,j=w===void 0?64:w,S=o.sizeType,A=S===void 0?"area":S,R=_objectWithoutProperties$e(o,_excluded$e),C=_objectSpread$z(_objectSpread$z({},R),{},{type:_,size:j,sizeType:A}),T=function(){var I=getSymbolFactory(_),z=Symbol$3().type(I).size(calculateAreaSize(j,A,_));return z()},N=C.className,O=C.cx,$=C.cy,D=filterProps(C,!0);return O===+O&&$===+$&&j===+j?React.createElement("path",_extends$o({},D,{className:clsx("recharts-symbols",N),transform:"translate(".concat(O,", ").concat($,")"),d:T()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$F(i){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$F(i)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$n.apply(this,arguments)}function ownKeys$y(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$y(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$y(Object(E),!0).forEach(function(_){_defineProperty$E(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$y(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$i(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$E(_.key),_)}}function _createClass$i(i,o,E){return o&&_defineProperties$i(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$e(i,o,E){return o=_getPrototypeOf$f(o),_possibleConstructorReturn$f(i,_isNativeReflectConstruct$f()?Reflect.construct(o,E||[],_getPrototypeOf$f(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$f(i,o){if(o&&(_typeof$F(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(i)}function _assertThisInitialized$f(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$f(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!i})()}function _getPrototypeOf$f(i){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$f(i)}function _inherits$f(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$f(i,o)}function _setPrototypeOf$f(i,o){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$f(i,o)}function _defineProperty$E(i,o,E){return o=_toPropertyKey$E(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$E(i){var o=_toPrimitive$E(i,"string");return _typeof$F(o)=="symbol"?o:o+""}function _toPrimitive$E(i,o){if(_typeof$F(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$F(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var SIZE=32,DefaultLegendContent=function(i){function o(){return _classCallCheck$i(this,o),_callSuper$e(this,o,arguments)}return _inherits$f(o,i),_createClass$i(o,[{key:"renderIcon",value:function(_){var w=this.props.inactiveColor,j=SIZE/2,S=SIZE/6,A=SIZE/3,R=_.inactive?w:_.color;if(_.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:R,strokeDasharray:_.payload.strokeDasharray,x1:0,y1:j,x2:SIZE,y2:j,className:"recharts-legend-icon"});if(_.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:R,d:"M0,".concat(j,"h").concat(A,`
            A`).concat(S,",").concat(S,",0,1,1,").concat(2*A,",").concat(j,`
            H`).concat(SIZE,"M").concat(2*A,",").concat(j,`
            A`).concat(S,",").concat(S,",0,1,1,").concat(A,",").concat(j),className:"recharts-legend-icon"});if(_.type==="rect")return React.createElement("path",{stroke:"none",fill:R,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(_.legendIcon)){var C=_objectSpread$y({},_);return delete C.legendIcon,React.cloneElement(_.legendIcon,C)}return React.createElement(Symbols,{fill:R,cx:j,cy:j,size:SIZE,sizeType:"diameter",type:_.type})}},{key:"renderItems",value:function(){var _=this,w=this.props,j=w.payload,S=w.iconSize,A=w.layout,R=w.formatter,C=w.inactiveColor,T={x:0,y:0,width:SIZE,height:SIZE},N={display:A==="horizontal"?"inline-block":"block",marginRight:10},O={display:"inline-block",verticalAlign:"middle",marginRight:4};return j.map(function($,D){var L=$.formatter||R,I=clsx(_defineProperty$E(_defineProperty$E({"recharts-legend-item":!0},"legend-item-".concat(D),!0),"inactive",$.inactive));if($.type==="none")return null;var z=isFunction$4($.value)?null:$.value;warn(!isFunction$4($.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var F=$.inactive?C:$.color;return React.createElement("li",_extends$n({className:I,style:N,key:"legend-item-".concat(D)},adaptEventsOfChild(_.props,$,D)),React.createElement(Surface,{width:S,height:S,viewBox:T,style:O},_.renderIcon($)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:F}},L?L(z,$,D):z))})}},{key:"render",value:function(){var _=this.props,w=_.payload,j=_.layout,S=_.align;if(!w||!w.length)return null;var A={padding:0,margin:0,textAlign:j==="horizontal"?S:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:A},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$E(DefaultLegendContent,"displayName","Legend");_defineProperty$E(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(i){var o=this.__data__,E=o.delete(i);return this.size=o.size,E}var _stackDelete=stackDelete$1;function stackGet$1(i){return this.__data__.get(i)}var _stackGet=stackGet$1;function stackHas$1(i){return this.__data__.has(i)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(i,o){var E=this.__data__;if(E instanceof ListCache$1){var _=E.__data__;if(!Map$2||_.length<LARGE_ARRAY_SIZE$1-1)return _.push([i,o]),this.size=++E.size,this;E=this.__data__=new MapCache$1(_)}return E.set(i,o),this.size=E.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(i){var o=this.__data__=new ListCache(i);this.size=o.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(i){return this.__data__.set(i,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(i){return this.__data__.has(i)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(i){var o=-1,E=i==null?0:i.length;for(this.__data__=new MapCache;++o<E;)this.add(i[o])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(i,o){for(var E=-1,_=i==null?0:i.length;++E<_;)if(o(i[E],E,i))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(i,o){return i.has(o)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(i,o,E,_,w,j){var S=E&COMPARE_PARTIAL_FLAG$5,A=i.length,R=o.length;if(A!=R&&!(S&&R>A))return!1;var C=j.get(i),T=j.get(o);if(C&&T)return C==o&&T==i;var N=-1,O=!0,$=E&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(j.set(i,o),j.set(o,i);++N<A;){var D=i[N],L=o[N];if(_)var I=S?_(L,D,N,o,i,j):_(D,L,N,i,o,j);if(I!==void 0){if(I)continue;O=!1;break}if($){if(!arraySome$1(o,function(z,F){if(!cacheHas$1($,F)&&(D===z||w(D,z,E,_,j)))return $.push(F)})){O=!1;break}}else if(!(D===L||w(D,L,E,_,j))){O=!1;break}}return j.delete(i),j.delete(o),O}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(i){var o=-1,E=Array(i.size);return i.forEach(function(_,w){E[++o]=[w,_]}),E}var _mapToArray=mapToArray$1;function setToArray$3(i){var o=-1,E=Array(i.size);return i.forEach(function(_){E[++o]=_}),E}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(i,o,E,_,w,j,S){switch(E){case dataViewTag$2:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case arrayBufferTag$1:return!(i.byteLength!=o.byteLength||!j(new Uint8Array$1(i),new Uint8Array$1(o)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+i,+o);case errorTag$1:return i.name==o.name&&i.message==o.message;case regexpTag$1:case stringTag$1:return i==o+"";case mapTag$2:var A=mapToArray;case setTag$2:var R=_&COMPARE_PARTIAL_FLAG$4;if(A||(A=setToArray$2),i.size!=o.size&&!R)return!1;var C=S.get(i);if(C)return C==o;_|=COMPARE_UNORDERED_FLAG$2,S.set(i,o);var T=equalArrays$1(A(i),A(o),_,w,j,S);return S.delete(i),T;case symbolTag:if(symbolValueOf)return symbolValueOf.call(i)==symbolValueOf.call(o)}return!1}var _equalByTag=equalByTag$1;function arrayPush$3(i,o){for(var E=-1,_=o.length,w=i.length;++E<_;)i[w+E]=o[E];return i}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(i,o,E){var _=o(i);return isArray$a(i)?_:arrayPush$2(_,E(i))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(i,o){for(var E=-1,_=i==null?0:i.length,w=0,j=[];++E<_;){var S=i[E];o(S,E,i)&&(j[w++]=S)}return j}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(i){return i==null?[]:(i=Object(i),arrayFilter(nativeGetSymbols(i),function(o){return propertyIsEnumerable$1.call(i,o)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(i,o){for(var E=-1,_=Array(i);++E<i;)_[E]=o(E);return _}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(i){return isObjectLike$5(i)&&baseGetTag$4(i)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(i){return isObjectLike$4(i)&&hasOwnProperty$6.call(i,"callee")&&!propertyIsEnumerable.call(i,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(i,o){var E=_root,_=stubFalse_1,w=o&&!o.nodeType&&o,j=w&&!0&&i&&!i.nodeType&&i,S=j&&j.exports===w,A=S?E.Buffer:void 0,R=A?A.isBuffer:void 0,C=R||_;i.exports=C})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(i,o){var E=typeof i;return o=o??MAX_SAFE_INTEGER$2,!!o&&(E=="number"||E!="symbol"&&reIsUint.test(i))&&i>-1&&i%1==0&&i<o}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(i){return isObjectLike$3(i)&&isLength$2(i.length)&&!!typedArrayTags[baseGetTag$3(i)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(i){return function(o){return i(o)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(i,o){var E=_freeGlobal,_=o&&!o.nodeType&&o,w=_&&!0&&i&&!i.nodeType&&i,j=w&&w.exports===_,S=j&&E.process,A=function(){try{var R=w&&w.require&&w.require("util").types;return R||S&&S.binding&&S.binding("util")}catch{}}();i.exports=A})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(i,o){var E=isArray$9(i),_=!E&&isArguments$2(i),w=!E&&!_&&isBuffer$1(i),j=!E&&!_&&!w&&isTypedArray$2(i),S=E||_||w||j,A=S?baseTimes(i.length,String):[],R=A.length;for(var C in i)(o||hasOwnProperty$5.call(i,C))&&!(S&&(C=="length"||w&&(C=="offset"||C=="parent")||j&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||isIndex$2(C,R)))&&A.push(C);return A}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(i){var o=i&&i.constructor,E=typeof o=="function"&&o.prototype||objectProto$4;return i===E}var _isPrototype=isPrototype$1;function overArg$2(i,o){return function(E){return i(o(E))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(i){if(!isPrototype(i))return nativeKeys(i);var o=[];for(var E in Object(i))hasOwnProperty$4.call(i,E)&&E!="constructor"&&o.push(E);return o}var _baseKeys=baseKeys$1,isFunction$1=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(i){return i!=null&&isLength$1(i.length)&&!isFunction$1(i)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(i){return isArrayLike$4(i)?arrayLikeKeys(i):baseKeys(i)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(i){return baseGetAllKeys(i,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(i,o,E,_,w,j){var S=E&COMPARE_PARTIAL_FLAG$3,A=getAllKeys(i),R=A.length,C=getAllKeys(o),T=C.length;if(R!=T&&!S)return!1;for(var N=R;N--;){var O=A[N];if(!(S?O in o:hasOwnProperty$3.call(o,O)))return!1}var $=j.get(i),D=j.get(o);if($&&D)return $==o&&D==i;var L=!0;j.set(i,o),j.set(o,i);for(var I=S;++N<R;){O=A[N];var z=i[O],F=o[O];if(_)var W=S?_(F,z,O,o,i,j):_(z,F,O,i,o,j);if(!(W===void 0?z===F||w(z,F,E,_,j):W)){L=!1;break}I||(I=O=="constructor")}if(L&&!I){var H=i.constructor,B=o.constructor;H!=B&&"constructor"in i&&"constructor"in o&&!(typeof H=="function"&&H instanceof H&&typeof B=="function"&&B instanceof B)&&(L=!1)}return j.delete(i),j.delete(o),L}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(i){var o=baseGetTag$2(i),E=o==objectTag$2?i.constructor:void 0,_=E?toSource(E):"";if(_)switch(_){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return o});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(i,o,E,_,w,j){var S=isArray$8(i),A=isArray$8(o),R=S?arrayTag:getTag$1(i),C=A?arrayTag:getTag$1(o);R=R==argsTag?objectTag$1:R,C=C==argsTag?objectTag$1:C;var T=R==objectTag$1,N=C==objectTag$1,O=R==C;if(O&&isBuffer(i)){if(!isBuffer(o))return!1;S=!0,T=!1}if(O&&!T)return j||(j=new Stack$1),S||isTypedArray$1(i)?equalArrays(i,o,E,_,w,j):equalByTag(i,o,R,E,_,w,j);if(!(E&COMPARE_PARTIAL_FLAG$2)){var $=T&&hasOwnProperty$2.call(i,"__wrapped__"),D=N&&hasOwnProperty$2.call(o,"__wrapped__");if($||D){var L=$?i.value():i,I=D?o.value():o;return j||(j=new Stack$1),w(L,I,E,_,j)}}return O?(j||(j=new Stack$1),equalObjects(i,o,E,_,w,j)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(i,o,E,_,w){return i===o?!0:i==null||o==null||!isObjectLike$2(i)&&!isObjectLike$2(o)?i!==i&&o!==o:baseIsEqualDeep(i,o,E,_,baseIsEqual$3,w)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(i,o,E,_){var w=E.length,j=w,S=!_;if(i==null)return!j;for(i=Object(i);w--;){var A=E[w];if(S&&A[2]?A[1]!==i[A[0]]:!(A[0]in i))return!1}for(;++w<j;){A=E[w];var R=A[0],C=i[R],T=A[1];if(S&&A[2]){if(C===void 0&&!(R in i))return!1}else{var N=new Stack;if(_)var O=_(C,T,R,i,o,N);if(!(O===void 0?baseIsEqual$2(T,C,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,_,N):O))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(i){return i===i&&!isObject$4(i)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(i){for(var o=keys$3(i),E=o.length;E--;){var _=o[E],w=i[_];o[E]=[_,w,isStrictComparable$1(w)]}return o}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(i,o){return function(E){return E==null?!1:E[i]===o&&(o!==void 0||i in Object(E))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(i){var o=getMatchData(i);return o.length==1&&o[0][2]?matchesStrictComparable$1(o[0][0],o[0][1]):function(E){return E===i||baseIsMatch(E,i,o)}}var _baseMatches=baseMatches$1;function baseHasIn$1(i,o){return i!=null&&o in Object(i)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(i,o,E){o=castPath(o,i);for(var _=-1,w=o.length,j=!1;++_<w;){var S=toKey$2(o[_]);if(!(j=i!=null&&E(i,S)))break;i=i[S]}return j||++_!=w?j:(w=i==null?0:i.length,!!w&&isLength(w)&&isIndex$1(S,w)&&(isArray$7(i)||isArguments$1(i)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(i,o){return i!=null&&hasPath(i,o,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(i,o){return isKey$1(i)&&isStrictComparable(o)?matchesStrictComparable(toKey$1(i),o):function(E){var _=get(E,i);return _===void 0&&_===o?hasIn(E,i):baseIsEqual$1(o,_,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(i){return i}var identity_1=identity$b;function baseProperty$1(i){return function(o){return o==null?void 0:o[i]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(i){return function(o){return baseGet$1(o,i)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(i){return isKey(i)?baseProperty(toKey(i)):basePropertyDeep(i)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$8(i){return typeof i=="function"?i:i==null?identity$a:typeof i=="object"?isArray$6(i)?baseMatchesProperty(i[0],i[1]):baseMatches(i):property(i)}var _baseIteratee=baseIteratee$8;function baseFindIndex$2(i,o,E,_){for(var w=i.length,j=E+(_?1:-1);_?j--:++j<w;)if(o(i[j],j,i))return j;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(i){return i!==i}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(i,o,E){for(var _=E-1,w=i.length;++_<w;)if(i[_]===o)return _;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(i,o,E){return o===o?strictIndexOf(i,o,E):baseFindIndex$1(i,baseIsNaN,E)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(i,o){var E=i==null?0:i.length;return!!E&&baseIndexOf(i,o,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(i,o,E){for(var _=-1,w=i==null?0:i.length;++_<w;)if(E(o,i[_]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$2(){}var noop_1=noop$2,Set$1=_Set,noop$1=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(i){return new Set$1(i)}:noop$1,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(i,o,E){var _=-1,w=arrayIncludes,j=i.length,S=!0,A=[],R=A;if(E)S=!1,w=arrayIncludesWith;else if(j>=LARGE_ARRAY_SIZE){var C=o?null:createSet(i);if(C)return setToArray(C);S=!1,w=cacheHas,R=new SetCache}else R=o?[]:A;e:for(;++_<j;){var T=i[_],N=o?o(T):T;if(T=E||T!==0?T:0,S&&N===N){for(var O=R.length;O--;)if(R[O]===N)continue e;o&&R.push(N),A.push(T)}else w(R,N,E)||(R!==A&&R.push(N),A.push(T))}return A}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy(i,o){return i&&i.length?baseUniq(i,baseIteratee$7(o)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(i,o,E){return o===!0?uniqBy$1(i,E):isFunction$4(o)?uniqBy$1(i,o):i}function _typeof$E(i){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$E(i)}var _excluded$d=["ref"];function ownKeys$x(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$x(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$x(Object(E),!0).forEach(function(_){_defineProperty$D(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$x(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$h(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$D(_.key),_)}}function _createClass$h(i,o,E){return o&&_defineProperties$h(i.prototype,o),E&&_defineProperties$h(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$d(i,o,E){return o=_getPrototypeOf$e(o),_possibleConstructorReturn$e(i,_isNativeReflectConstruct$e()?Reflect.construct(o,E||[],_getPrototypeOf$e(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$e(i,o){if(o&&(_typeof$E(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(i)}function _assertThisInitialized$e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$e(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!i})()}function _getPrototypeOf$e(i){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$e(i)}function _inherits$e(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$e(i,o)}function _setPrototypeOf$e(i,o){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$e(i,o)}function _defineProperty$D(i,o,E){return o=_toPropertyKey$D(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$D(i){var o=_toPrimitive$D(i,"string");return _typeof$E(o)=="symbol"?o:o+""}function _toPrimitive$D(i,o){if(_typeof$E(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$E(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _objectWithoutProperties$d(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$d(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$d(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function defaultUniqBy$1(i){return i.value}function renderContent$1(i,o){if(React.isValidElement(i))return React.cloneElement(i,o);if(typeof i=="function")return React.createElement(i,o);o.ref;var E=_objectWithoutProperties$d(o,_excluded$d);return React.createElement(DefaultLegendContent,E)}var EPS$1=1,Legend=function(i){function o(){var E;_classCallCheck$h(this,o);for(var _=arguments.length,w=new Array(_),j=0;j<_;j++)w[j]=arguments[j];return E=_callSuper$d(this,o,[].concat(w)),_defineProperty$D(E,"lastBoundingBox",{width:-1,height:-1}),E}return _inherits$e(o,i),_createClass$h(o,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var _=this.wrapperNode.getBoundingClientRect();return _.height=this.wrapperNode.offsetHeight,_.width=this.wrapperNode.offsetWidth,_}return null}},{key:"updateBBox",value:function(){var _=this.props.onBBoxUpdate,w=this.getBBox();w?(Math.abs(w.width-this.lastBoundingBox.width)>EPS$1||Math.abs(w.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=w.width,this.lastBoundingBox.height=w.height,_&&_(w)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,_&&_(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$x({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(_){var w=this.props,j=w.layout,S=w.align,A=w.verticalAlign,R=w.margin,C=w.chartWidth,T=w.chartHeight,N,O;if(!_||(_.left===void 0||_.left===null)&&(_.right===void 0||_.right===null))if(S==="center"&&j==="vertical"){var $=this.getBBoxSnapshot();N={left:((C||0)-$.width)/2}}else N=S==="right"?{right:R&&R.right||0}:{left:R&&R.left||0};if(!_||(_.top===void 0||_.top===null)&&(_.bottom===void 0||_.bottom===null))if(A==="middle"){var D=this.getBBoxSnapshot();O={top:((T||0)-D.height)/2}}else O=A==="bottom"?{bottom:R&&R.bottom||0}:{top:R&&R.top||0};return _objectSpread$x(_objectSpread$x({},N),O)}},{key:"render",value:function(){var _=this,w=this.props,j=w.content,S=w.width,A=w.height,R=w.wrapperStyle,C=w.payloadUniqBy,T=w.payload,N=_objectSpread$x(_objectSpread$x({position:"absolute",width:S||"auto",height:A||"auto"},this.getDefaultPosition(R)),R);return React.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:function($){_.wrapperNode=$}},renderContent$1(j,_objectSpread$x(_objectSpread$x({},this.props),{},{payload:getUniqPayload(T,C,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(_,w){var j=_objectSpread$x(_objectSpread$x({},this.defaultProps),_.props),S=j.layout;return S==="vertical"&&isNumber(_.props.height)?{height:_.props.height}:S==="horizontal"?{width:_.props.width||w}:null}}])}(reactExports.PureComponent);_defineProperty$D(Legend,"displayName","Legend");_defineProperty$D(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(i){return isArray$5(i)||isArguments(i)||!!(spreadableSymbol&&i&&i[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(i,o,E,_,w){var j=-1,S=i.length;for(E||(E=isFlattenable),w||(w=[]);++j<S;){var A=i[j];o>0&&E(A)?o>1?baseFlatten$2(A,o-1,E,_,w):arrayPush$1(w,A):_||(w[w.length]=A)}return w}var _baseFlatten=baseFlatten$2;function createBaseFor$1(i){return function(o,E,_){for(var w=-1,j=Object(o),S=_(o),A=S.length;A--;){var R=S[i?A:++w];if(E(j[R],R,j)===!1)break}return o}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(i,o){return i&&baseFor(i,o,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(i,o){return function(E,_){if(E==null)return E;if(!isArrayLike$3(E))return i(E,_);for(var w=E.length,j=o?w:-1,S=Object(E);(o?j--:++j<w)&&_(S[j],j,S)!==!1;);return E}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(i,o){var E=-1,_=isArrayLike$2(i)?Array(i.length):[];return baseEach$2(i,function(w,j,S){_[++E]=o(w,j,S)}),_}var _baseMap=baseMap$2;function baseSortBy$1(i,o){var E=i.length;for(i.sort(o);E--;)i[E]=i[E].value;return i}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(i,o){if(i!==o){var E=i!==void 0,_=i===null,w=i===i,j=isSymbol$2(i),S=o!==void 0,A=o===null,R=o===o,C=isSymbol$2(o);if(!A&&!C&&!j&&i>o||j&&S&&R&&!A&&!C||_&&S&&R||!E&&R||!w)return 1;if(!_&&!j&&!C&&i<o||C&&E&&w&&!_&&!j||A&&E&&w||!S&&w||!R)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(i,o,E){for(var _=-1,w=i.criteria,j=o.criteria,S=w.length,A=E.length;++_<S;){var R=compareAscending(w[_],j[_]);if(R){if(_>=A)return R;var C=E[_];return R*(C=="desc"?-1:1)}}return i.index-o.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(i,o,E){o.length?o=arrayMap$1(o,function(j){return isArray$4(j)?function(S){return baseGet(S,j.length===1?j[0]:j)}:j}):o=[identity$9];var _=-1;o=arrayMap$1(o,baseUnary(baseIteratee$6));var w=baseMap$1(i,function(j,S,A){var R=arrayMap$1(o,function(C){return C(j)});return{criteria:R,index:++_,value:j}});return baseSortBy(w,function(j,S){return compareMultiple(j,S,E)})}var _baseOrderBy=baseOrderBy$1;function apply$2(i,o,E){switch(E.length){case 0:return i.call(o);case 1:return i.call(o,E[0]);case 2:return i.call(o,E[0],E[1]);case 3:return i.call(o,E[0],E[1],E[2])}return i.apply(o,E)}var _apply=apply$2,apply$1=_apply,nativeMax$3=Math.max;function overRest$1(i,o,E){return o=nativeMax$3(o===void 0?i.length-1:o,0),function(){for(var _=arguments,w=-1,j=nativeMax$3(_.length-o,0),S=Array(j);++w<j;)S[w]=_[o+w];w=-1;for(var A=Array(o+1);++w<o;)A[w]=_[w];return A[o]=E(S),apply$1(i,this,A)}}var _overRest=overRest$1;function constant$2(i){return function(){return i}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch{}}(),_defineProperty$C=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$C,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(i,o){return defineProperty$1(i,"toString",{configurable:!0,enumerable:!1,value:constant$1(o),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(i){var o=0,E=0;return function(){var _=nativeNow(),w=HOT_SPAN-(_-E);if(E=_,w>0){if(++o>=HOT_COUNT)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(i,o){return setToString(overRest(i,o,identity$7),i+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(i,o,E){if(!isObject$3(E))return!1;var _=typeof o;return(_=="number"?isArrayLike$1(E)&&isIndex(o,E.length):_=="string"&&o in E)?eq(E[o],i):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(i,o){if(i==null)return[];var E=o.length;return E>1&&isIterateeCall$3(i,o[0],o[1])?o=[]:E>2&&isIterateeCall$3(o[0],o[1],o[2])&&(o=[o[0]]),baseOrderBy(i,baseFlatten$1(o,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$D(i){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$D(i)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$m.apply(this,arguments)}function _slicedToArray$b(i,o){return _arrayWithHoles$c(i)||_iterableToArrayLimit$b(i,o)||_unsupportedIterableToArray$j(i,o)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$j(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$j(i,o)}}function _arrayLikeToArray$j(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$b(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$c(i){if(Array.isArray(i))return i}function ownKeys$w(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$w(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$w(Object(E),!0).forEach(function(_){_defineProperty$B(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$w(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$B(i,o,E){return o=_toPropertyKey$C(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$C(i){var o=_toPrimitive$C(i,"string");return _typeof$D(o)=="symbol"?o:o+""}function _toPrimitive$C(i,o){if(_typeof$D(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$D(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function defaultFormatter(i){return Array.isArray(i)&&isNumOrStr(i[0])&&isNumOrStr(i[1])?i.join(" ~ "):i}var DefaultTooltipContent=function(o){var E=o.separator,_=E===void 0?" : ":E,w=o.contentStyle,j=w===void 0?{}:w,S=o.itemStyle,A=S===void 0?{}:S,R=o.labelStyle,C=R===void 0?{}:R,T=o.payload,N=o.formatter,O=o.itemSorter,$=o.wrapperClassName,D=o.labelClassName,L=o.label,I=o.labelFormatter,z=o.accessibilityLayer,F=z===void 0?!1:z,W=function(){if(T&&T.length){var fe={padding:0,margin:0},Ae=(O?sortBy$1(T,O):T).map(function(Oe,Pe){if(Oe.type==="none")return null;var Ne=_objectSpread$w({display:"block",paddingTop:4,paddingBottom:4,color:Oe.color||"#000"},A),Ce=Oe.formatter||N||defaultFormatter,Me=Oe.value,Q=Oe.name,Re=Me,ke=Q;if(Ce&&Re!=null&&ke!=null){var _e=Ce(Me,Q,Oe,Pe,T);if(Array.isArray(_e)){var Y=_slicedToArray$b(_e,2);Re=Y[0],ke=Y[1]}else Re=_e}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Pe),style:Ne},isNumOrStr(ke)?React.createElement("span",{className:"recharts-tooltip-item-name"},ke):null,isNumOrStr(ke)?React.createElement("span",{className:"recharts-tooltip-item-separator"},_):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Re),React.createElement("span",{className:"recharts-tooltip-item-unit"},Oe.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:fe},Ae)}return null},H=_objectSpread$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},j),B=_objectSpread$w({margin:0},C),U=!isNil$1(L),G=U?L:"",V=clsx("recharts-default-tooltip",$),K=clsx("recharts-tooltip-label",D);U&&I&&T!==void 0&&T!==null&&(G=I(L,T));var je=F?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$m({className:V,style:H},je),React.createElement("p",{className:K,style:B},React.isValidElement(G)?G:"".concat(G)),W())};function _typeof$C(i){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$C(i)}function _defineProperty$A(i,o,E){return o=_toPropertyKey$B(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$B(i){var o=_toPrimitive$B(i,"string");return _typeof$C(o)=="symbol"?o:o+""}function _toPrimitive$B(i,o){if(_typeof$C(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$C(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(i){var o=i.coordinate,E=i.translateX,_=i.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$A(_defineProperty$A(_defineProperty$A(_defineProperty$A({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(E)&&o&&isNumber(o.x)&&E>=o.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(E)&&o&&isNumber(o.x)&&E<o.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(_)&&o&&isNumber(o.y)&&_>=o.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(_)&&o&&isNumber(o.y)&&_<o.y))}function getTooltipTranslateXY(i){var o=i.allowEscapeViewBox,E=i.coordinate,_=i.key,w=i.offsetTopLeft,j=i.position,S=i.reverseDirection,A=i.tooltipDimension,R=i.viewBox,C=i.viewBoxDimension;if(j&&isNumber(j[_]))return j[_];var T=E[_]-A-w,N=E[_]+w;if(o[_])return S[_]?T:N;if(S[_]){var O=T,$=R[_];return O<$?Math.max(N,R[_]):Math.max(T,R[_])}var D=N+A,L=R[_]+C;return D>L?Math.max(T,R[_]):Math.max(N,R[_])}function getTransformStyle(i){var o=i.translateX,E=i.translateY,_=i.useTranslate3d;return{transform:_?"translate3d(".concat(o,"px, ").concat(E,"px, 0)"):"translate(".concat(o,"px, ").concat(E,"px)")}}function getTooltipTranslate(i){var o=i.allowEscapeViewBox,E=i.coordinate,_=i.offsetTopLeft,w=i.position,j=i.reverseDirection,S=i.tooltipBox,A=i.useTranslate3d,R=i.viewBox,C,T,N;return S.height>0&&S.width>0&&E?(T=getTooltipTranslateXY({allowEscapeViewBox:o,coordinate:E,key:"x",offsetTopLeft:_,position:w,reverseDirection:j,tooltipDimension:S.width,viewBox:R,viewBoxDimension:R.width}),N=getTooltipTranslateXY({allowEscapeViewBox:o,coordinate:E,key:"y",offsetTopLeft:_,position:w,reverseDirection:j,tooltipDimension:S.height,viewBox:R,viewBoxDimension:R.height}),C=getTransformStyle({translateX:T,translateY:N,useTranslate3d:A})):C=TOOLTIP_HIDDEN,{cssProperties:C,cssClasses:getTooltipCSSClassName({translateX:T,translateY:N,coordinate:E})}}function _typeof$B(i){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$B(i)}function ownKeys$v(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$v(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$v(Object(E),!0).forEach(function(_){_defineProperty$z(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$v(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$g(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$A(_.key),_)}}function _createClass$g(i,o,E){return o&&_defineProperties$g(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$c(i,o,E){return o=_getPrototypeOf$d(o),_possibleConstructorReturn$d(i,_isNativeReflectConstruct$d()?Reflect.construct(o,E||[],_getPrototypeOf$d(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$d(i,o){if(o&&(_typeof$B(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(i)}function _assertThisInitialized$d(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$d(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!i})()}function _getPrototypeOf$d(i){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$d(i)}function _inherits$d(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$d(i,o)}function _setPrototypeOf$d(i,o){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$d(i,o)}function _defineProperty$z(i,o,E){return o=_toPropertyKey$A(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$A(i){var o=_toPrimitive$A(i,"string");return _typeof$B(o)=="symbol"?o:o+""}function _toPrimitive$A(i,o){if(_typeof$B(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$B(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var EPSILON=1,TooltipBoundingBox=function(i){function o(){var E;_classCallCheck$g(this,o);for(var _=arguments.length,w=new Array(_),j=0;j<_;j++)w[j]=arguments[j];return E=_callSuper$c(this,o,[].concat(w)),_defineProperty$z(E,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$z(E,"handleKeyDown",function(S){if(S.key==="Escape"){var A,R,C,T;E.setState({dismissed:!0,dismissedAtCoordinate:{x:(A=(R=E.props.coordinate)===null||R===void 0?void 0:R.x)!==null&&A!==void 0?A:0,y:(C=(T=E.props.coordinate)===null||T===void 0?void 0:T.y)!==null&&C!==void 0?C:0}})}}),E}return _inherits$d(o,i),_createClass$g(o,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var _=this.wrapperNode.getBoundingClientRect();(Math.abs(_.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(_.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:_.width,height:_.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var _,w;this.props.active&&this.updateBBox(),this.state.dismissed&&(((_=this.props.coordinate)===null||_===void 0?void 0:_.x)!==this.state.dismissedAtCoordinate.x||((w=this.props.coordinate)===null||w===void 0?void 0:w.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var _=this,w=this.props,j=w.active,S=w.allowEscapeViewBox,A=w.animationDuration,R=w.animationEasing,C=w.children,T=w.coordinate,N=w.hasPayload,O=w.isAnimationActive,$=w.offset,D=w.position,L=w.reverseDirection,I=w.useTranslate3d,z=w.viewBox,F=w.wrapperStyle,W=getTooltipTranslate({allowEscapeViewBox:S,coordinate:T,offsetTopLeft:$,position:D,reverseDirection:L,tooltipBox:this.state.lastBoundingBox,useTranslate3d:I,viewBox:z}),H=W.cssClasses,B=W.cssProperties,U=_objectSpread$v(_objectSpread$v({transition:O&&j?"transform ".concat(A,"ms ").concat(R):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&j&&N?"visible":"hidden",position:"absolute",top:0,left:0},F);return React.createElement("div",{tabIndex:-1,className:H,style:U,ref:function(V){_.wrapperNode=V}},C)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$A(i){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$A(i)}function ownKeys$u(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$u(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$u(Object(E),!0).forEach(function(_){_defineProperty$y(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$u(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$f(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$z(_.key),_)}}function _createClass$f(i,o,E){return o&&_defineProperties$f(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$b(i,o,E){return o=_getPrototypeOf$c(o),_possibleConstructorReturn$c(i,_isNativeReflectConstruct$c()?Reflect.construct(o,E||[],_getPrototypeOf$c(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$c(i,o){if(o&&(_typeof$A(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(i)}function _assertThisInitialized$c(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$c(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!i})()}function _getPrototypeOf$c(i){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$c(i)}function _inherits$c(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$c(i,o)}function _setPrototypeOf$c(i,o){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$c(i,o)}function _defineProperty$y(i,o,E){return o=_toPropertyKey$z(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$z(i){var o=_toPrimitive$z(i,"string");return _typeof$A(o)=="symbol"?o:o+""}function _toPrimitive$z(i,o){if(_typeof$A(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$A(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function defaultUniqBy(i){return i.dataKey}function renderContent(i,o){return React.isValidElement(i)?React.cloneElement(i,o):typeof i=="function"?React.createElement(i,o):React.createElement(DefaultTooltipContent,o)}var Tooltip=function(i){function o(){return _classCallCheck$f(this,o),_callSuper$b(this,o,arguments)}return _inherits$c(o,i),_createClass$f(o,[{key:"render",value:function(){var _=this,w=this.props,j=w.active,S=w.allowEscapeViewBox,A=w.animationDuration,R=w.animationEasing,C=w.content,T=w.coordinate,N=w.filterNull,O=w.isAnimationActive,$=w.offset,D=w.payload,L=w.payloadUniqBy,I=w.position,z=w.reverseDirection,F=w.useTranslate3d,W=w.viewBox,H=w.wrapperStyle,B=D??[];N&&B.length&&(B=getUniqPayload(D.filter(function(G){return G.value!=null&&(G.hide!==!0||_.props.includeHidden)}),L,defaultUniqBy));var U=B.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:S,animationDuration:A,animationEasing:R,isAnimationActive:O,active:j,coordinate:T,hasPayload:U,offset:$,position:I,reverseDirection:z,useTranslate3d:F,viewBox:W,wrapperStyle:H},renderContent(C,_objectSpread$u(_objectSpread$u({},this.props),{},{payload:B})))}}])}(reactExports.PureComponent);_defineProperty$y(Tooltip,"displayName","Tooltip");_defineProperty$y(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(i){for(var o=i.length;o--&&reWhitespace.test(i.charAt(o)););return o}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(i){return i&&i.slice(0,trimmedEndIndex(i)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(i){if(typeof i=="number")return i;if(isSymbol$1(i))return NAN;if(isObject$2(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=isObject$2(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=baseTrim(i);var E=reIsBinary.test(i);return E||reIsOctal.test(i)?freeParseInt(i.slice(2),E?2:8):reIsBadHex.test(i)?NAN:+i}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(i,o,E){var _,w,j,S,A,R,C=0,T=!1,N=!1,O=!0;if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT$1);o=toNumber$1(o)||0,isObject$1(E)&&(T=!!E.leading,N="maxWait"in E,j=N?nativeMax$2(toNumber$1(E.maxWait)||0,o):j,O="trailing"in E?!!E.trailing:O);function $(U){var G=_,V=w;return _=w=void 0,C=U,S=i.apply(V,G),S}function D(U){return C=U,A=setTimeout(z,o),T?$(U):S}function L(U){var G=U-R,V=U-C,K=o-G;return N?nativeMin(K,j-V):K}function I(U){var G=U-R,V=U-C;return R===void 0||G>=o||G<0||N&&V>=j}function z(){var U=now();if(I(U))return F(U);A=setTimeout(z,L(U))}function F(U){return A=void 0,O&&_?$(U):(_=w=void 0,S)}function W(){A!==void 0&&clearTimeout(A),C=0,_=R=w=A=void 0}function H(){return A===void 0?S:F(now())}function B(){var U=now(),G=I(U);if(_=arguments,w=this,R=U,G){if(A===void 0)return D(R);if(N)return clearTimeout(A),A=setTimeout(z,o),$(R)}return A===void 0&&(A=setTimeout(z,o)),S}return B.cancel=W,B.flush=H,B}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(i,o,E){var _=!0,w=!0;if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(E)&&(_="leading"in E?!!E.leading:_,w="trailing"in E?!!E.trailing:w),debounce(i,o,{leading:_,maxWait:o,trailing:w})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$z(i){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$z(i)}function ownKeys$t(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$t(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$t(Object(E),!0).forEach(function(_){_defineProperty$x(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$t(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$x(i,o,E){return o=_toPropertyKey$y(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$y(i){var o=_toPrimitive$y(i,"string");return _typeof$z(o)=="symbol"?o:o+""}function _toPrimitive$y(i,o){if(_typeof$z(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$z(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray$a(i,o){return _arrayWithHoles$b(i)||_iterableToArrayLimit$a(i,o)||_unsupportedIterableToArray$i(i,o)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$i(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$i(i,o)}}function _arrayLikeToArray$i(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$a(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$b(i){if(Array.isArray(i))return i}var ResponsiveContainer=reactExports.forwardRef(function(i,o){var E=i.aspect,_=i.initialDimension,w=_===void 0?{width:-1,height:-1}:_,j=i.width,S=j===void 0?"100%":j,A=i.height,R=A===void 0?"100%":A,C=i.minWidth,T=C===void 0?0:C,N=i.minHeight,O=i.maxHeight,$=i.children,D=i.debounce,L=D===void 0?0:D,I=i.id,z=i.className,F=i.onResize,W=i.style,H=W===void 0?{}:W,B=reactExports.useRef(null),U=reactExports.useRef();U.current=F,reactExports.useImperativeHandle(o,function(){return Object.defineProperty(B.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),B.current},configurable:!0})});var G=reactExports.useState({containerWidth:w.width,containerHeight:w.height}),V=_slicedToArray$a(G,2),K=V[0],je=V[1],Z=reactExports.useCallback(function(Ae,Oe){je(function(Pe){var Ne=Math.round(Ae),Ce=Math.round(Oe);return Pe.containerWidth===Ne&&Pe.containerHeight===Ce?Pe:{containerWidth:Ne,containerHeight:Ce}})},[]);reactExports.useEffect(function(){var Ae=function(Q){var Re,ke=Q[0].contentRect,_e=ke.width,Y=ke.height;Z(_e,Y),(Re=U.current)===null||Re===void 0||Re.call(U,_e,Y)};L>0&&(Ae=throttle$1(Ae,L,{trailing:!0,leading:!1}));var Oe=new ResizeObserver(Ae),Pe=B.current.getBoundingClientRect(),Ne=Pe.width,Ce=Pe.height;return Z(Ne,Ce),Oe.observe(B.current),function(){Oe.disconnect()}},[Z,L]);var fe=reactExports.useMemo(function(){var Ae=K.containerWidth,Oe=K.containerHeight;if(Ae<0||Oe<0)return null;warn(isPercent(S)||isPercent(R),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,S,R),warn(!E||E>0,"The aspect(%s) must be greater than zero.",E);var Pe=isPercent(S)?Ae:S,Ne=isPercent(R)?Oe:R;E&&E>0&&(Pe?Ne=Pe/E:Ne&&(Pe=Ne*E),O&&Ne>O&&(Ne=O)),warn(Pe>0||Ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Pe,Ne,S,R,T,N,E);var Ce=!Array.isArray($)&&getDisplayName($.type).endsWith("Chart");return React.Children.map($,function(Me){return React.isValidElement(Me)?reactExports.cloneElement(Me,_objectSpread$t({width:Pe,height:Ne},Ce?{style:_objectSpread$t({height:"100%",width:"100%",maxHeight:Ne,maxWidth:Pe},Me.props.style)}:{})):Me})},[E,$,R,O,N,T,K,S]);return React.createElement("div",{id:I?"".concat(I):void 0,className:clsx("recharts-responsive-container",z),style:_objectSpread$t(_objectSpread$t({},H),{},{width:S,height:R,minWidth:T,minHeight:N,maxHeight:O}),ref:B},fe)}),Cell=function(o){return null};Cell.displayName="Cell";function _typeof$y(i){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$y(i)}function ownKeys$s(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$s(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$s(Object(E),!0).forEach(function(_){_defineProperty$w(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$s(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$w(i,o,E){return o=_toPropertyKey$x(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$x(i){var o=_toPrimitive$x(i,"string");return _typeof$y(o)=="symbol"?o:o+""}function _toPrimitive$x(i,o){if(_typeof$y(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$y(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(i){var o=_objectSpread$s({},i);return Object.keys(o).forEach(function(E){o[E]||delete o[E]}),o}var getStringSize=function(o){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o==null||Global.isSsr)return{width:0,height:0};var _=removeInvalidKeys(E),w=JSON.stringify({text:o,copyStyle:_});if(stringCache.widthCache[w])return stringCache.widthCache[w];try{var j=document.getElementById(MEASUREMENT_SPAN_ID);j||(j=document.createElement("span"),j.setAttribute("id",MEASUREMENT_SPAN_ID),j.setAttribute("aria-hidden","true"),document.body.appendChild(j));var S=_objectSpread$s(_objectSpread$s({},SPAN_STYLE),_);Object.assign(j.style,S),j.textContent="".concat(o);var A=j.getBoundingClientRect(),R={width:A.width,height:A.height};return stringCache.widthCache[w]=R,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),R}catch{return{width:0,height:0}}},getOffset$1=function(o){return{top:o.top+window.scrollY-document.documentElement.clientTop,left:o.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$x(i){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$x(i)}function _slicedToArray$9(i,o){return _arrayWithHoles$a(i)||_iterableToArrayLimit$9(i,o)||_unsupportedIterableToArray$h(i,o)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$h(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$h(i,o)}}function _arrayLikeToArray$h(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$9(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o===0){if(Object(E)!==E)return;R=!1}else for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$a(i){if(Array.isArray(i))return i}function _classCallCheck$e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$w(_.key),_)}}function _createClass$e(i,o,E){return o&&_defineProperties$e(i.prototype,o),E&&_defineProperties$e(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function _toPropertyKey$w(i){var o=_toPrimitive$w(i,"string");return _typeof$x(o)=="symbol"?o:o+""}function _toPrimitive$w(i,o){if(_typeof$x(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$x(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(i,o){return i*CONVERSION_RATES[o]}var DecimalCSS=function(){function i(o,E){_classCallCheck$e(this,i),this.num=o,this.unit=E,this.num=o,this.unit=E,Number.isNaN(o)&&(this.unit=""),E!==""&&!CSS_LENGTH_UNIT_REGEX.test(E)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(E)&&(this.num=convertToPx(o,E),this.unit="px")}return _createClass$e(i,[{key:"add",value:function(E){return this.unit!==E.unit?new i(NaN,""):new i(this.num+E.num,this.unit)}},{key:"subtract",value:function(E){return this.unit!==E.unit?new i(NaN,""):new i(this.num-E.num,this.unit)}},{key:"multiply",value:function(E){return this.unit!==""&&E.unit!==""&&this.unit!==E.unit?new i(NaN,""):new i(this.num*E.num,this.unit||E.unit)}},{key:"divide",value:function(E){return this.unit!==""&&E.unit!==""&&this.unit!==E.unit?new i(NaN,""):new i(this.num/E.num,this.unit||E.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(E){var _,w=(_=NUM_SPLIT_REGEX.exec(E))!==null&&_!==void 0?_:[],j=_slicedToArray$9(w,3),S=j[1],A=j[2];return new i(parseFloat(S),A??"")}}])}();function calculateArithmetic(i){if(i.includes(STR_NAN))return STR_NAN;for(var o=i;o.includes("*")||o.includes("/");){var E,_=(E=MULTIPLY_OR_DIVIDE_REGEX.exec(o))!==null&&E!==void 0?E:[],w=_slicedToArray$9(_,4),j=w[1],S=w[2],A=w[3],R=DecimalCSS.parse(j??""),C=DecimalCSS.parse(A??""),T=S==="*"?R.multiply(C):R.divide(C);if(T.isNaN())return STR_NAN;o=o.replace(MULTIPLY_OR_DIVIDE_REGEX,T.toString())}for(;o.includes("+")||/.-\d+(?:\.\d+)?/.test(o);){var N,O=(N=ADD_OR_SUBTRACT_REGEX.exec(o))!==null&&N!==void 0?N:[],$=_slicedToArray$9(O,4),D=$[1],L=$[2],I=$[3],z=DecimalCSS.parse(D??""),F=DecimalCSS.parse(I??""),W=L==="+"?z.add(F):z.subtract(F);if(W.isNaN())return STR_NAN;o=o.replace(ADD_OR_SUBTRACT_REGEX,W.toString())}return o}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(i){for(var o=i;o.includes("(");){var E=PARENTHESES_REGEX.exec(o),_=_slicedToArray$9(E,2),w=_[1];o=o.replace(PARENTHESES_REGEX,calculateArithmetic(w))}return o}function evaluateExpression(i){var o=i.replace(/\s+/g,"");return o=calculateParentheses(o),o=calculateArithmetic(o),o}function safeEvaluateExpression(i){try{return evaluateExpression(i)}catch{return STR_NAN}}function reduceCSSCalc(i){var o=safeEvaluateExpression(i.slice(5,-1));return o===STR_NAN?"":o}var _excluded$c=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$5=["dx","dy","angle","className","breakAll"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$l.apply(this,arguments)}function _objectWithoutProperties$c(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$c(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$c(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _slicedToArray$8(i,o){return _arrayWithHoles$9(i)||_iterableToArrayLimit$8(i,o)||_unsupportedIterableToArray$g(i,o)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$g(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$g(i,o)}}function _arrayLikeToArray$g(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$8(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o===0){if(Object(E)!==E)return;R=!1}else for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$9(i){if(Array.isArray(i))return i}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(o){var E=o.children,_=o.breakAll,w=o.style;try{var j=[];isNil$1(E)||(_?j=E.toString().split(""):j=E.toString().split(BREAKING_SPACES));var S=j.map(function(R){return{word:R,width:getStringSize(R,w).width}}),A=_?0:getStringSize(" ",w).width;return{wordsWithComputedWidth:S,spaceWidth:A}}catch{return null}},calculateWordsByLines=function(o,E,_,w,j){var S=o.maxLines,A=o.children,R=o.style,C=o.breakAll,T=isNumber(S),N=A,O=function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Pe.reduce(function(Ne,Ce){var Me=Ce.word,Q=Ce.width,Re=Ne[Ne.length-1];if(Re&&(w==null||j||Re.width+Q+_<Number(w)))Re.words.push(Me),Re.width+=Q+_;else{var ke={words:[Me],width:Q};Ne.push(ke)}return Ne},[])},$=O(E),D=function(Pe){return Pe.reduce(function(Ne,Ce){return Ne.width>Ce.width?Ne:Ce})};if(!T)return $;for(var L="…",I=function(Pe){var Ne=N.slice(0,Pe),Ce=calculateWordWidths({breakAll:C,style:R,children:Ne+L}).wordsWithComputedWidth,Me=O(Ce),Q=Me.length>S||D(Me).width>Number(w);return[Q,Me]},z=0,F=N.length-1,W=0,H;z<=F&&W<=N.length-1;){var B=Math.floor((z+F)/2),U=B-1,G=I(U),V=_slicedToArray$8(G,2),K=V[0],je=V[1],Z=I(B),fe=_slicedToArray$8(Z,1),Ae=fe[0];if(!K&&!Ae&&(z=B+1),K&&Ae&&(F=B-1),!K&&Ae){H=je;break}W++}return H||$},getWordsWithoutCalculate=function(o){var E=isNil$1(o)?[]:o.toString().split(BREAKING_SPACES);return[{words:E}]},getWordsByLines=function(o){var E=o.width,_=o.scaleToFit,w=o.children,j=o.style,S=o.breakAll,A=o.maxLines;if((E||_)&&!Global.isSsr){var R,C,T=calculateWordWidths({breakAll:S,children:w,style:j});if(T){var N=T.wordsWithComputedWidth,O=T.spaceWidth;R=N,C=O}else return getWordsWithoutCalculate(w);return calculateWordsByLines({breakAll:S,children:w,maxLines:A,style:j},R,C,E,_)}return getWordsWithoutCalculate(w)},DEFAULT_FILL="#808080",Text=function(o){var E=o.x,_=E===void 0?0:E,w=o.y,j=w===void 0?0:w,S=o.lineHeight,A=S===void 0?"1em":S,R=o.capHeight,C=R===void 0?"0.71em":R,T=o.scaleToFit,N=T===void 0?!1:T,O=o.textAnchor,$=O===void 0?"start":O,D=o.verticalAnchor,L=D===void 0?"end":D,I=o.fill,z=I===void 0?DEFAULT_FILL:I,F=_objectWithoutProperties$c(o,_excluded$c),W=reactExports.useMemo(function(){return getWordsByLines({breakAll:F.breakAll,children:F.children,maxLines:F.maxLines,scaleToFit:N,style:F.style,width:F.width})},[F.breakAll,F.children,F.maxLines,N,F.style,F.width]),H=F.dx,B=F.dy,U=F.angle,G=F.className,V=F.breakAll,K=_objectWithoutProperties$c(F,_excluded2$5);if(!isNumOrStr(_)||!isNumOrStr(j))return null;var je=_+(isNumber(H)?H:0),Z=j+(isNumber(B)?B:0),fe;switch(L){case"start":fe=reduceCSSCalc("calc(".concat(C,")"));break;case"middle":fe=reduceCSSCalc("calc(".concat((W.length-1)/2," * -").concat(A," + (").concat(C," / 2))"));break;default:fe=reduceCSSCalc("calc(".concat(W.length-1," * -").concat(A,")"));break}var Ae=[];if(N){var Oe=W[0].width,Pe=F.width;Ae.push("scale(".concat((isNumber(Pe)?Pe/Oe:1)/Oe,")"))}return U&&Ae.push("rotate(".concat(U,", ").concat(je,", ").concat(Z,")")),Ae.length&&(K.transform=Ae.join(" ")),React.createElement("text",_extends$l({},filterProps(K,!0),{x:je,y:Z,className:clsx("recharts-text",G),textAnchor:$,fill:z.includes("url")?DEFAULT_FILL:z}),W.map(function(Ne,Ce){var Me=Ne.words.join(V?"":" ");return React.createElement("tspan",{x:je,dy:Ce===0?fe:A,key:"".concat(Me,"-").concat(Ce)},Me)}))};function ascending(i,o){return i==null||o==null?NaN:i<o?-1:i>o?1:i>=o?0:NaN}function descending(i,o){return i==null||o==null?NaN:o<i?-1:o>i?1:o>=i?0:NaN}function bisector(i){let o,E,_;i.length!==2?(o=ascending,E=(A,R)=>ascending(i(A),R),_=(A,R)=>i(A)-R):(o=i===ascending||i===descending?i:zero$1,E=i,_=i);function w(A,R,C=0,T=A.length){if(C<T){if(o(R,R)!==0)return T;do{const N=C+T>>>1;E(A[N],R)<0?C=N+1:T=N}while(C<T)}return C}function j(A,R,C=0,T=A.length){if(C<T){if(o(R,R)!==0)return T;do{const N=C+T>>>1;E(A[N],R)<=0?C=N+1:T=N}while(C<T)}return C}function S(A,R,C=0,T=A.length){const N=w(A,R,C,T-1);return N>C&&_(A[N-1],R)>-_(A[N],R)?N-1:N}return{left:w,center:S,right:j}}function zero$1(){return 0}function number$2(i){return i===null?NaN:+i}function*numbers(i,o){for(let E of i)E!=null&&(E=+E)>=E&&(yield E)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(o,E=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:E}}),o!=null)for(const[_,w]of o)this.set(_,w)}get(o){return super.get(intern_get(this,o))}has(o){return super.has(intern_get(this,o))}set(o,E){return super.set(intern_set(this,o),E)}delete(o){return super.delete(intern_delete(this,o))}}function intern_get({_intern:i,_key:o},E){const _=o(E);return i.has(_)?i.get(_):E}function intern_set({_intern:i,_key:o},E){const _=o(E);return i.has(_)?i.get(_):(i.set(_,E),E)}function intern_delete({_intern:i,_key:o},E){const _=o(E);return i.has(_)&&(E=i.get(_),i.delete(_)),E}function keyof(i){return i!==null&&typeof i=="object"?i.valueOf():i}function compareDefined(i=ascending){if(i===ascending)return ascendingDefined;if(typeof i!="function")throw new TypeError("compare is not a function");return(o,E)=>{const _=i(o,E);return _||_===0?_:(i(E,E)===0)-(i(o,o)===0)}}function ascendingDefined(i,o){return(i==null||!(i>=i))-(o==null||!(o>=o))||(i<o?-1:i>o?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(i,o,E){const _=(o-i)/Math.max(0,E),w=Math.floor(Math.log10(_)),j=_/Math.pow(10,w),S=j>=e10?10:j>=e5?5:j>=e2?2:1;let A,R,C;return w<0?(C=Math.pow(10,-w)/S,A=Math.round(i*C),R=Math.round(o*C),A/C<i&&++A,R/C>o&&--R,C=-C):(C=Math.pow(10,w)*S,A=Math.round(i/C),R=Math.round(o/C),A*C<i&&++A,R*C>o&&--R),R<A&&.5<=E&&E<2?tickSpec(i,o,E*2):[A,R,C]}function ticks(i,o,E){if(o=+o,i=+i,E=+E,!(E>0))return[];if(i===o)return[i];const _=o<i,[w,j,S]=_?tickSpec(o,i,E):tickSpec(i,o,E);if(!(j>=w))return[];const A=j-w+1,R=new Array(A);if(_)if(S<0)for(let C=0;C<A;++C)R[C]=(j-C)/-S;else for(let C=0;C<A;++C)R[C]=(j-C)*S;else if(S<0)for(let C=0;C<A;++C)R[C]=(w+C)/-S;else for(let C=0;C<A;++C)R[C]=(w+C)*S;return R}function tickIncrement(i,o,E){return o=+o,i=+i,E=+E,tickSpec(i,o,E)[2]}function tickStep(i,o,E){o=+o,i=+i,E=+E;const _=o<i,w=_?tickIncrement(o,i,E):tickIncrement(i,o,E);return(_?-1:1)*(w<0?1/-w:w)}function max$4(i,o){let E;for(const _ of i)_!=null&&(E<_||E===void 0&&_>=_)&&(E=_);return E}function min$4(i,o){let E;for(const _ of i)_!=null&&(E>_||E===void 0&&_>=_)&&(E=_);return E}function quickselect(i,o,E=0,_=1/0,w){if(o=Math.floor(o),E=Math.floor(Math.max(0,E)),_=Math.floor(Math.min(i.length-1,_)),!(E<=o&&o<=_))return i;for(w=w===void 0?ascendingDefined:compareDefined(w);_>E;){if(_-E>600){const R=_-E+1,C=o-E+1,T=Math.log(R),N=.5*Math.exp(2*T/3),O=.5*Math.sqrt(T*N*(R-N)/R)*(C-R/2<0?-1:1),$=Math.max(E,Math.floor(o-C*N/R+O)),D=Math.min(_,Math.floor(o+(R-C)*N/R+O));quickselect(i,o,$,D,w)}const j=i[o];let S=E,A=_;for(swap(i,E,o),w(i[_],j)>0&&swap(i,E,_);S<A;){for(swap(i,S,A),++S,--A;w(i[S],j)<0;)++S;for(;w(i[A],j)>0;)--A}w(i[E],j)===0?swap(i,E,A):(++A,swap(i,A,_)),A<=o&&(E=A+1),o<=A&&(_=A-1)}return i}function swap(i,o,E){const _=i[o];i[o]=i[E],i[E]=_}function quantile$1(i,o,E){if(i=Float64Array.from(numbers(i)),!(!(_=i.length)||isNaN(o=+o))){if(o<=0||_<2)return min$4(i);if(o>=1)return max$4(i);var _,w=(_-1)*o,j=Math.floor(w),S=max$4(quickselect(i,j).subarray(0,j+1)),A=min$4(i.subarray(j+1));return S+(A-S)*(w-j)}}function quantileSorted(i,o,E=number$2){if(!(!(_=i.length)||isNaN(o=+o))){if(o<=0||_<2)return+E(i[0],0,i);if(o>=1)return+E(i[_-1],_-1,i);var _,w=(_-1)*o,j=Math.floor(w),S=+E(i[j],j,i),A=+E(i[j+1],j+1,i);return S+(A-S)*(w-j)}}function range$3(i,o,E){i=+i,o=+o,E=(w=arguments.length)<2?(o=i,i=0,1):w<3?1:+E;for(var _=-1,w=Math.max(0,Math.ceil((o-i)/E))|0,j=new Array(w);++_<w;)j[_]=i+_*E;return j}function initRange(i,o){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(o).domain(i);break}return this}function initInterpolator(i,o){switch(arguments.length){case 0:break;case 1:{typeof i=="function"?this.interpolator(i):this.range(i);break}default:{this.domain(i),typeof o=="function"?this.interpolator(o):this.range(o);break}}return this}const implicit=Symbol("implicit");function ordinal(){var i=new InternMap,o=[],E=[],_=implicit;function w(j){let S=i.get(j);if(S===void 0){if(_!==implicit)return _;i.set(j,S=o.push(j)-1)}return E[S%E.length]}return w.domain=function(j){if(!arguments.length)return o.slice();o=[],i=new InternMap;for(const S of j)i.has(S)||i.set(S,o.push(S)-1);return w},w.range=function(j){return arguments.length?(E=Array.from(j),w):E.slice()},w.unknown=function(j){return arguments.length?(_=j,w):_},w.copy=function(){return ordinal(o,E).unknown(_)},initRange.apply(w,arguments),w}function band(){var i=ordinal().unknown(void 0),o=i.domain,E=i.range,_=0,w=1,j,S,A=!1,R=0,C=0,T=.5;delete i.unknown;function N(){var O=o().length,$=w<_,D=$?w:_,L=$?_:w;j=(L-D)/Math.max(1,O-R+C*2),A&&(j=Math.floor(j)),D+=(L-D-j*(O-R))*T,S=j*(1-R),A&&(D=Math.round(D),S=Math.round(S));var I=range$3(O).map(function(z){return D+j*z});return E($?I.reverse():I)}return i.domain=function(O){return arguments.length?(o(O),N()):o()},i.range=function(O){return arguments.length?([_,w]=O,_=+_,w=+w,N()):[_,w]},i.rangeRound=function(O){return[_,w]=O,_=+_,w=+w,A=!0,N()},i.bandwidth=function(){return S},i.step=function(){return j},i.round=function(O){return arguments.length?(A=!!O,N()):A},i.padding=function(O){return arguments.length?(R=Math.min(1,C=+O),N()):R},i.paddingInner=function(O){return arguments.length?(R=Math.min(1,O),N()):R},i.paddingOuter=function(O){return arguments.length?(C=+O,N()):C},i.align=function(O){return arguments.length?(T=Math.max(0,Math.min(1,O)),N()):T},i.copy=function(){return band(o(),[_,w]).round(A).paddingInner(R).paddingOuter(C).align(T)},initRange.apply(N(),arguments)}function pointish(i){var o=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return pointish(o())},i}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(i,o,E){i.prototype=o.prototype=E,E.constructor=i}function extend(i,o){var E=Object.create(i.prototype);for(var _ in o)E[_]=o[_];return E}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(i){var o,E;return i=(i+"").trim().toLowerCase(),(o=reHex.exec(i))?(E=o[1].length,o=parseInt(o[1],16),E===6?rgbn(o):E===3?new Rgb(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):E===8?rgba(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):E===4?rgba(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=reRgbInteger.exec(i))?new Rgb(o[1],o[2],o[3],1):(o=reRgbPercent.exec(i))?new Rgb(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=reRgbaInteger.exec(i))?rgba(o[1],o[2],o[3],o[4]):(o=reRgbaPercent.exec(i))?rgba(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=reHslPercent.exec(i))?hsla(o[1],o[2]/100,o[3]/100,1):(o=reHslaPercent.exec(i))?hsla(o[1],o[2]/100,o[3]/100,o[4]):named.hasOwnProperty(i)?rgbn(named[i]):i==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(i){return new Rgb(i>>16&255,i>>8&255,i&255,1)}function rgba(i,o,E,_){return _<=0&&(i=o=E=NaN),new Rgb(i,o,E,_)}function rgbConvert(i){return i instanceof Color||(i=color(i)),i?(i=i.rgb(),new Rgb(i.r,i.g,i.b,i.opacity)):new Rgb}function rgb$1(i,o,E,_){return arguments.length===1?rgbConvert(i):new Rgb(i,o,E,_??1)}function Rgb(i,o,E,_){this.r=+i,this.g=+o,this.b=+E,this.opacity=+_}define(Rgb,rgb$1,extend(Color,{brighter(i){return i=i==null?brighter:Math.pow(brighter,i),new Rgb(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?darker:Math.pow(darker,i),new Rgb(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const i=clampa(this.opacity);return`${i===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${i===1?")":`, ${i})`}`}function clampa(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function clampi(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function hex(i){return i=clampi(i),(i<16?"0":"")+i.toString(16)}function hsla(i,o,E,_){return _<=0?i=o=E=NaN:E<=0||E>=1?i=o=NaN:o<=0&&(i=NaN),new Hsl(i,o,E,_)}function hslConvert(i){if(i instanceof Hsl)return new Hsl(i.h,i.s,i.l,i.opacity);if(i instanceof Color||(i=color(i)),!i)return new Hsl;if(i instanceof Hsl)return i;i=i.rgb();var o=i.r/255,E=i.g/255,_=i.b/255,w=Math.min(o,E,_),j=Math.max(o,E,_),S=NaN,A=j-w,R=(j+w)/2;return A?(o===j?S=(E-_)/A+(E<_)*6:E===j?S=(_-o)/A+2:S=(o-E)/A+4,A/=R<.5?j+w:2-j-w,S*=60):A=R>0&&R<1?0:S,new Hsl(S,A,R,i.opacity)}function hsl(i,o,E,_){return arguments.length===1?hslConvert(i):new Hsl(i,o,E,_??1)}function Hsl(i,o,E,_){this.h=+i,this.s=+o,this.l=+E,this.opacity=+_}define(Hsl,hsl,extend(Color,{brighter(i){return i=i==null?brighter:Math.pow(brighter,i),new Hsl(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?darker:Math.pow(darker,i),new Hsl(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,o=isNaN(i)||isNaN(this.s)?0:this.s,E=this.l,_=E+(E<.5?E:1-E)*o,w=2*E-_;return new Rgb(hsl2rgb(i>=240?i-240:i+120,w,_),hsl2rgb(i,w,_),hsl2rgb(i<120?i+240:i-120,w,_),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=clampa(this.opacity);return`${i===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${i===1?")":`, ${i})`}`}}));function clamph(i){return i=(i||0)%360,i<0?i+360:i}function clampt(i){return Math.max(0,Math.min(1,i||0))}function hsl2rgb(i,o,E){return(i<60?o+(E-o)*i/60:i<180?E:i<240?o+(E-o)*(240-i)/60:o)*255}const constant=i=>()=>i;function linear$1(i,o){return function(E){return i+E*o}}function exponential(i,o,E){return i=Math.pow(i,E),o=Math.pow(o,E)-i,E=1/E,function(_){return Math.pow(i+_*o,E)}}function gamma(i){return(i=+i)==1?nogamma:function(o,E){return E-o?exponential(o,E,i):constant(isNaN(o)?E:o)}}function nogamma(i,o){var E=o-i;return E?linear$1(i,E):constant(isNaN(i)?o:i)}const rgb=function i(o){var E=gamma(o);function _(w,j){var S=E((w=rgb$1(w)).r,(j=rgb$1(j)).r),A=E(w.g,j.g),R=E(w.b,j.b),C=nogamma(w.opacity,j.opacity);return function(T){return w.r=S(T),w.g=A(T),w.b=R(T),w.opacity=C(T),w+""}}return _.gamma=i,_}(1);function numberArray(i,o){o||(o=[]);var E=i?Math.min(o.length,i.length):0,_=o.slice(),w;return function(j){for(w=0;w<E;++w)_[w]=i[w]*(1-j)+o[w]*j;return _}}function isNumberArray(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function genericArray(i,o){var E=o?o.length:0,_=i?Math.min(E,i.length):0,w=new Array(_),j=new Array(E),S;for(S=0;S<_;++S)w[S]=interpolate(i[S],o[S]);for(;S<E;++S)j[S]=o[S];return function(A){for(S=0;S<_;++S)j[S]=w[S](A);return j}}function date$1(i,o){var E=new Date;return i=+i,o=+o,function(_){return E.setTime(i*(1-_)+o*_),E}}function interpolateNumber$1(i,o){return i=+i,o=+o,function(E){return i*(1-E)+o*E}}function object(i,o){var E={},_={},w;(i===null||typeof i!="object")&&(i={}),(o===null||typeof o!="object")&&(o={});for(w in o)w in i?E[w]=interpolate(i[w],o[w]):_[w]=o[w];return function(j){for(w in E)_[w]=E[w](j);return _}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(i){return function(){return i}}function one(i){return function(o){return i(o)+""}}function string(i,o){var E=reA.lastIndex=reB.lastIndex=0,_,w,j,S=-1,A=[],R=[];for(i=i+"",o=o+"";(_=reA.exec(i))&&(w=reB.exec(o));)(j=w.index)>E&&(j=o.slice(E,j),A[S]?A[S]+=j:A[++S]=j),(_=_[0])===(w=w[0])?A[S]?A[S]+=w:A[++S]=w:(A[++S]=null,R.push({i:S,x:interpolateNumber$1(_,w)})),E=reB.lastIndex;return E<o.length&&(j=o.slice(E),A[S]?A[S]+=j:A[++S]=j),A.length<2?R[0]?one(R[0].x):zero(o):(o=R.length,function(C){for(var T=0,N;T<o;++T)A[(N=R[T]).i]=N.x(C);return A.join("")})}function interpolate(i,o){var E=typeof o,_;return o==null||E==="boolean"?constant(o):(E==="number"?interpolateNumber$1:E==="string"?(_=color(o))?(o=_,rgb):string:o instanceof color?rgb:o instanceof Date?date$1:isNumberArray(o)?numberArray:Array.isArray(o)?genericArray:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?object:interpolateNumber$1)(i,o)}function interpolateRound(i,o){return i=+i,o=+o,function(E){return Math.round(i*(1-E)+o*E)}}function piecewise(i,o){o===void 0&&(o=i,i=interpolate);for(var E=0,_=o.length-1,w=o[0],j=new Array(_<0?0:_);E<_;)j[E]=i(w,w=o[++E]);return function(S){var A=Math.max(0,Math.min(_-1,Math.floor(S*=_)));return j[A](S-A)}}function constants(i){return function(){return i}}function number$1(i){return+i}var unit=[0,1];function identity$6(i){return i}function normalize(i,o){return(o-=i=+i)?function(E){return(E-i)/o}:constants(isNaN(o)?NaN:.5)}function clamper(i,o){var E;return i>o&&(E=i,i=o,o=E),function(_){return Math.max(i,Math.min(o,_))}}function bimap(i,o,E){var _=i[0],w=i[1],j=o[0],S=o[1];return w<_?(_=normalize(w,_),j=E(S,j)):(_=normalize(_,w),j=E(j,S)),function(A){return j(_(A))}}function polymap(i,o,E){var _=Math.min(i.length,o.length)-1,w=new Array(_),j=new Array(_),S=-1;for(i[_]<i[0]&&(i=i.slice().reverse(),o=o.slice().reverse());++S<_;)w[S]=normalize(i[S],i[S+1]),j[S]=E(o[S],o[S+1]);return function(A){var R=bisectRight(i,A,1,_)-1;return j[R](w[R](A))}}function copy$1(i,o){return o.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function transformer$2(){var i=unit,o=unit,E=interpolate,_,w,j,S=identity$6,A,R,C;function T(){var O=Math.min(i.length,o.length);return S!==identity$6&&(S=clamper(i[0],i[O-1])),A=O>2?polymap:bimap,R=C=null,N}function N(O){return O==null||isNaN(O=+O)?j:(R||(R=A(i.map(_),o,E)))(_(S(O)))}return N.invert=function(O){return S(w((C||(C=A(o,i.map(_),interpolateNumber$1)))(O)))},N.domain=function(O){return arguments.length?(i=Array.from(O,number$1),T()):i.slice()},N.range=function(O){return arguments.length?(o=Array.from(O),T()):o.slice()},N.rangeRound=function(O){return o=Array.from(O),E=interpolateRound,T()},N.clamp=function(O){return arguments.length?(S=O?!0:identity$6,T()):S!==identity$6},N.interpolate=function(O){return arguments.length?(E=O,T()):E},N.unknown=function(O){return arguments.length?(j=O,N):j},function(O,$){return _=O,w=$,T()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function formatDecimalParts(i,o){if((E=(i=o?i.toExponential(o-1):i.toExponential()).indexOf("e"))<0)return null;var E,_=i.slice(0,E);return[_.length>1?_[0]+_.slice(2):_,+i.slice(E+1)]}function exponent(i){return i=formatDecimalParts(Math.abs(i)),i?i[1]:NaN}function formatGroup(i,o){return function(E,_){for(var w=E.length,j=[],S=0,A=i[0],R=0;w>0&&A>0&&(R+A+1>_&&(A=Math.max(1,_-R)),j.push(E.substring(w-=A,w+A)),!((R+=A+1)>_));)A=i[S=(S+1)%i.length];return j.reverse().join(o)}}function formatNumerals(i){return function(o){return o.replace(/[0-9]/g,function(E){return i[+E]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(i){if(!(o=re.exec(i)))throw new Error("invalid format: "+i);var o;return new FormatSpecifier({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(i){e:for(var o=i.length,E=1,_=-1,w;E<o;++E)switch(i[E]){case".":_=w=E;break;case"0":_===0&&(_=E),w=E;break;default:if(!+i[E])break e;_>0&&(_=0);break}return _>0?i.slice(0,_)+i.slice(w+1):i}var prefixExponent;function formatPrefixAuto(i,o){var E=formatDecimalParts(i,o);if(!E)return i+"";var _=E[0],w=E[1],j=w-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(w/3)))*3)+1,S=_.length;return j===S?_:j>S?_+new Array(j-S+1).join("0"):j>0?_.slice(0,j)+"."+_.slice(j):"0."+new Array(1-j).join("0")+formatDecimalParts(i,Math.max(0,o+j-1))[0]}function formatRounded(i,o){var E=formatDecimalParts(i,o);if(!E)return i+"";var _=E[0],w=E[1];return w<0?"0."+new Array(-w).join("0")+_:_.length>w+1?_.slice(0,w+1)+"."+_.slice(w+1):_+new Array(w-_.length+2).join("0")}const formatTypes={"%":(i,o)=>(i*100).toFixed(o),b:i=>Math.round(i).toString(2),c:i=>i+"",d:formatDecimal,e:(i,o)=>i.toExponential(o),f:(i,o)=>i.toFixed(o),g:(i,o)=>i.toPrecision(o),o:i=>Math.round(i).toString(8),p:(i,o)=>formatRounded(i*100,o),r:formatRounded,s:formatPrefixAuto,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function identity$5(i){return i}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(i){var o=i.grouping===void 0||i.thousands===void 0?identity$5:formatGroup(map$3.call(i.grouping,Number),i.thousands+""),E=i.currency===void 0?"":i.currency[0]+"",_=i.currency===void 0?"":i.currency[1]+"",w=i.decimal===void 0?".":i.decimal+"",j=i.numerals===void 0?identity$5:formatNumerals(map$3.call(i.numerals,String)),S=i.percent===void 0?"%":i.percent+"",A=i.minus===void 0?"−":i.minus+"",R=i.nan===void 0?"NaN":i.nan+"";function C(N){N=formatSpecifier(N);var O=N.fill,$=N.align,D=N.sign,L=N.symbol,I=N.zero,z=N.width,F=N.comma,W=N.precision,H=N.trim,B=N.type;B==="n"?(F=!0,B="g"):formatTypes[B]||(W===void 0&&(W=12),H=!0,B="g"),(I||O==="0"&&$==="=")&&(I=!0,O="0",$="=");var U=L==="$"?E:L==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",G=L==="$"?_:/[%p]/.test(B)?S:"",V=formatTypes[B],K=/[defgprs%]/.test(B);W=W===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function je(Z){var fe=U,Ae=G,Oe,Pe,Ne;if(B==="c")Ae=V(Z)+Ae,Z="";else{Z=+Z;var Ce=Z<0||1/Z<0;if(Z=isNaN(Z)?R:V(Math.abs(Z),W),H&&(Z=formatTrim(Z)),Ce&&+Z==0&&D!=="+"&&(Ce=!1),fe=(Ce?D==="("?D:A:D==="-"||D==="("?"":D)+fe,Ae=(B==="s"?prefixes[8+prefixExponent/3]:"")+Ae+(Ce&&D==="("?")":""),K){for(Oe=-1,Pe=Z.length;++Oe<Pe;)if(Ne=Z.charCodeAt(Oe),48>Ne||Ne>57){Ae=(Ne===46?w+Z.slice(Oe+1):Z.slice(Oe))+Ae,Z=Z.slice(0,Oe);break}}}F&&!I&&(Z=o(Z,1/0));var Me=fe.length+Z.length+Ae.length,Q=Me<z?new Array(z-Me+1).join(O):"";switch(F&&I&&(Z=o(Q+Z,Q.length?z-Ae.length:1/0),Q=""),$){case"<":Z=fe+Z+Ae+Q;break;case"=":Z=fe+Q+Z+Ae;break;case"^":Z=Q.slice(0,Me=Q.length>>1)+fe+Z+Ae+Q.slice(Me);break;default:Z=Q+fe+Z+Ae;break}return j(Z)}return je.toString=function(){return N+""},je}function T(N,O){var $=C((N=formatSpecifier(N),N.type="f",N)),D=Math.max(-8,Math.min(8,Math.floor(exponent(O)/3)))*3,L=Math.pow(10,-D),I=prefixes[8+D/3];return function(z){return $(L*z)+I}}return{format:C,formatPrefix:T}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(i){return locale$1=formatLocale$1(i),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(i){return Math.max(0,-exponent(Math.abs(i)))}function precisionPrefix(i,o){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(o)/3)))*3-exponent(Math.abs(i)))}function precisionRound(i,o){return i=Math.abs(i),o=Math.abs(o)-i,Math.max(0,exponent(o)-exponent(i))+1}function tickFormat(i,o,E,_){var w=tickStep(i,o,E),j;switch(_=formatSpecifier(_??",f"),_.type){case"s":{var S=Math.max(Math.abs(i),Math.abs(o));return _.precision==null&&!isNaN(j=precisionPrefix(w,S))&&(_.precision=j),formatPrefix(_,S)}case"":case"e":case"g":case"p":case"r":{_.precision==null&&!isNaN(j=precisionRound(w,Math.max(Math.abs(i),Math.abs(o))))&&(_.precision=j-(_.type==="e"));break}case"f":case"%":{_.precision==null&&!isNaN(j=precisionFixed(w))&&(_.precision=j-(_.type==="%")*2);break}}return format$1(_)}function linearish(i){var o=i.domain;return i.ticks=function(E){var _=o();return ticks(_[0],_[_.length-1],E??10)},i.tickFormat=function(E,_){var w=o();return tickFormat(w[0],w[w.length-1],E??10,_)},i.nice=function(E){E==null&&(E=10);var _=o(),w=0,j=_.length-1,S=_[w],A=_[j],R,C,T=10;for(A<S&&(C=S,S=A,A=C,C=w,w=j,j=C);T-- >0;){if(C=tickIncrement(S,A,E),C===R)return _[w]=S,_[j]=A,o(_);if(C>0)S=Math.floor(S/C)*C,A=Math.ceil(A/C)*C;else if(C<0)S=Math.ceil(S*C)/C,A=Math.floor(A*C)/C;else break;R=C}return i},i}function linear(){var i=continuous();return i.copy=function(){return copy$1(i,linear())},initRange.apply(i,arguments),linearish(i)}function identity$4(i){var o;function E(_){return _==null||isNaN(_=+_)?o:_}return E.invert=E,E.domain=E.range=function(_){return arguments.length?(i=Array.from(_,number$1),E):i.slice()},E.unknown=function(_){return arguments.length?(o=_,E):o},E.copy=function(){return identity$4(i).unknown(o)},i=arguments.length?Array.from(i,number$1):[0,1],linearish(E)}function nice(i,o){i=i.slice();var E=0,_=i.length-1,w=i[E],j=i[_],S;return j<w&&(S=E,E=_,_=S,S=w,w=j,j=S),i[E]=o.floor(w),i[_]=o.ceil(j),i}function transformLog(i){return Math.log(i)}function transformExp(i){return Math.exp(i)}function transformLogn(i){return-Math.log(-i)}function transformExpn(i){return-Math.exp(-i)}function pow10(i){return isFinite(i)?+("1e"+i):i<0?0:i}function powp(i){return i===10?pow10:i===Math.E?Math.exp:o=>Math.pow(i,o)}function logp(i){return i===Math.E?Math.log:i===10&&Math.log10||i===2&&Math.log2||(i=Math.log(i),o=>Math.log(o)/i)}function reflect(i){return(o,E)=>-i(-o,E)}function loggish(i){const o=i(transformLog,transformExp),E=o.domain;let _=10,w,j;function S(){return w=logp(_),j=powp(_),E()[0]<0?(w=reflect(w),j=reflect(j),i(transformLogn,transformExpn)):i(transformLog,transformExp),o}return o.base=function(A){return arguments.length?(_=+A,S()):_},o.domain=function(A){return arguments.length?(E(A),S()):E()},o.ticks=A=>{const R=E();let C=R[0],T=R[R.length-1];const N=T<C;N&&([C,T]=[T,C]);let O=w(C),$=w(T),D,L;const I=A==null?10:+A;let z=[];if(!(_%1)&&$-O<I){if(O=Math.floor(O),$=Math.ceil($),C>0){for(;O<=$;++O)for(D=1;D<_;++D)if(L=O<0?D/j(-O):D*j(O),!(L<C)){if(L>T)break;z.push(L)}}else for(;O<=$;++O)for(D=_-1;D>=1;--D)if(L=O>0?D/j(-O):D*j(O),!(L<C)){if(L>T)break;z.push(L)}z.length*2<I&&(z=ticks(C,T,I))}else z=ticks(O,$,Math.min($-O,I)).map(j);return N?z.reverse():z},o.tickFormat=(A,R)=>{if(A==null&&(A=10),R==null&&(R=_===10?"s":","),typeof R!="function"&&(!(_%1)&&(R=formatSpecifier(R)).precision==null&&(R.trim=!0),R=format$1(R)),A===1/0)return R;const C=Math.max(1,_*A/o.ticks().length);return T=>{let N=T/j(Math.round(w(T)));return N*_<_-.5&&(N*=_),N<=C?R(T):""}},o.nice=()=>E(nice(E(),{floor:A=>j(Math.floor(w(A))),ceil:A=>j(Math.ceil(w(A)))})),o}function log$3(){const i=loggish(transformer$2()).domain([1,10]);return i.copy=()=>copy$1(i,log$3()).base(i.base()),initRange.apply(i,arguments),i}function transformSymlog(i){return function(o){return Math.sign(o)*Math.log1p(Math.abs(o/i))}}function transformSymexp(i){return function(o){return Math.sign(o)*Math.expm1(Math.abs(o))*i}}function symlogish(i){var o=1,E=i(transformSymlog(o),transformSymexp(o));return E.constant=function(_){return arguments.length?i(transformSymlog(o=+_),transformSymexp(o)):o},linearish(E)}function symlog(){var i=symlogish(transformer$2());return i.copy=function(){return copy$1(i,symlog()).constant(i.constant())},initRange.apply(i,arguments)}function transformPow(i){return function(o){return o<0?-Math.pow(-o,i):Math.pow(o,i)}}function transformSqrt(i){return i<0?-Math.sqrt(-i):Math.sqrt(i)}function transformSquare(i){return i<0?-i*i:i*i}function powish(i){var o=i(identity$6,identity$6),E=1;function _(){return E===1?i(identity$6,identity$6):E===.5?i(transformSqrt,transformSquare):i(transformPow(E),transformPow(1/E))}return o.exponent=function(w){return arguments.length?(E=+w,_()):E},linearish(o)}function pow(){var i=powish(transformer$2());return i.copy=function(){return copy$1(i,pow()).exponent(i.exponent())},initRange.apply(i,arguments),i}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(i){return Math.sign(i)*i*i}function unsquare(i){return Math.sign(i)*Math.sqrt(Math.abs(i))}function radial(){var i=continuous(),o=[0,1],E=!1,_;function w(j){var S=unsquare(i(j));return isNaN(S)?_:E?Math.round(S):S}return w.invert=function(j){return i.invert(square(j))},w.domain=function(j){return arguments.length?(i.domain(j),w):i.domain()},w.range=function(j){return arguments.length?(i.range((o=Array.from(j,number$1)).map(square)),w):o.slice()},w.rangeRound=function(j){return w.range(j).round(!0)},w.round=function(j){return arguments.length?(E=!!j,w):E},w.clamp=function(j){return arguments.length?(i.clamp(j),w):i.clamp()},w.unknown=function(j){return arguments.length?(_=j,w):_},w.copy=function(){return radial(i.domain(),o).round(E).clamp(i.clamp()).unknown(_)},initRange.apply(w,arguments),linearish(w)}function quantile(){var i=[],o=[],E=[],_;function w(){var S=0,A=Math.max(1,o.length);for(E=new Array(A-1);++S<A;)E[S-1]=quantileSorted(i,S/A);return j}function j(S){return S==null||isNaN(S=+S)?_:o[bisectRight(E,S)]}return j.invertExtent=function(S){var A=o.indexOf(S);return A<0?[NaN,NaN]:[A>0?E[A-1]:i[0],A<E.length?E[A]:i[i.length-1]]},j.domain=function(S){if(!arguments.length)return i.slice();i=[];for(let A of S)A!=null&&!isNaN(A=+A)&&i.push(A);return i.sort(ascending),w()},j.range=function(S){return arguments.length?(o=Array.from(S),w()):o.slice()},j.unknown=function(S){return arguments.length?(_=S,j):_},j.quantiles=function(){return E.slice()},j.copy=function(){return quantile().domain(i).range(o).unknown(_)},initRange.apply(j,arguments)}function quantize(){var i=0,o=1,E=1,_=[.5],w=[0,1],j;function S(R){return R!=null&&R<=R?w[bisectRight(_,R,0,E)]:j}function A(){var R=-1;for(_=new Array(E);++R<E;)_[R]=((R+1)*o-(R-E)*i)/(E+1);return S}return S.domain=function(R){return arguments.length?([i,o]=R,i=+i,o=+o,A()):[i,o]},S.range=function(R){return arguments.length?(E=(w=Array.from(R)).length-1,A()):w.slice()},S.invertExtent=function(R){var C=w.indexOf(R);return C<0?[NaN,NaN]:C<1?[i,_[0]]:C>=E?[_[E-1],o]:[_[C-1],_[C]]},S.unknown=function(R){return arguments.length&&(j=R),S},S.thresholds=function(){return _.slice()},S.copy=function(){return quantize().domain([i,o]).range(w).unknown(j)},initRange.apply(linearish(S),arguments)}function threshold(){var i=[.5],o=[0,1],E,_=1;function w(j){return j!=null&&j<=j?o[bisectRight(i,j,0,_)]:E}return w.domain=function(j){return arguments.length?(i=Array.from(j),_=Math.min(i.length,o.length-1),w):i.slice()},w.range=function(j){return arguments.length?(o=Array.from(j),_=Math.min(i.length,o.length-1),w):o.slice()},w.invertExtent=function(j){var S=o.indexOf(j);return[i[S-1],i[S]]},w.unknown=function(j){return arguments.length?(E=j,w):E},w.copy=function(){return threshold().domain(i).range(o).unknown(E)},initRange.apply(w,arguments)}const t0=new Date,t1=new Date;function timeInterval(i,o,E,_){function w(j){return i(j=arguments.length===0?new Date:new Date(+j)),j}return w.floor=j=>(i(j=new Date(+j)),j),w.ceil=j=>(i(j=new Date(j-1)),o(j,1),i(j),j),w.round=j=>{const S=w(j),A=w.ceil(j);return j-S<A-j?S:A},w.offset=(j,S)=>(o(j=new Date(+j),S==null?1:Math.floor(S)),j),w.range=(j,S,A)=>{const R=[];if(j=w.ceil(j),A=A==null?1:Math.floor(A),!(j<S)||!(A>0))return R;let C;do R.push(C=new Date(+j)),o(j,A),i(j);while(C<j&&j<S);return R},w.filter=j=>timeInterval(S=>{if(S>=S)for(;i(S),!j(S);)S.setTime(S-1)},(S,A)=>{if(S>=S)if(A<0)for(;++A<=0;)for(;o(S,-1),!j(S););else for(;--A>=0;)for(;o(S,1),!j(S););}),E&&(w.count=(j,S)=>(t0.setTime(+j),t1.setTime(+S),i(t0),i(t1),Math.floor(E(t0,t1))),w.every=j=>(j=Math.floor(j),!isFinite(j)||!(j>0)?null:j>1?w.filter(_?S=>_(S)%j===0:S=>w.count(0,S)%j===0):w)),w}const millisecond=timeInterval(()=>{},(i,o)=>{i.setTime(+i+o)},(i,o)=>o-i);millisecond.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?timeInterval(o=>{o.setTime(Math.floor(o/i)*i)},(o,E)=>{o.setTime(+o+E*i)},(o,E)=>(E-o)/i):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(i=>{i.setTime(i-i.getMilliseconds())},(i,o)=>{i.setTime(+i+o*durationSecond)},(i,o)=>(o-i)/durationSecond,i=>i.getUTCSeconds());second.range;const timeMinute=timeInterval(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*durationSecond)},(i,o)=>{i.setTime(+i+o*durationMinute)},(i,o)=>(o-i)/durationMinute,i=>i.getMinutes());timeMinute.range;const utcMinute=timeInterval(i=>{i.setUTCSeconds(0,0)},(i,o)=>{i.setTime(+i+o*durationMinute)},(i,o)=>(o-i)/durationMinute,i=>i.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*durationSecond-i.getMinutes()*durationMinute)},(i,o)=>{i.setTime(+i+o*durationHour)},(i,o)=>(o-i)/durationHour,i=>i.getHours());timeHour.range;const utcHour=timeInterval(i=>{i.setUTCMinutes(0,0,0)},(i,o)=>{i.setTime(+i+o*durationHour)},(i,o)=>(o-i)/durationHour,i=>i.getUTCHours());utcHour.range;const timeDay=timeInterval(i=>i.setHours(0,0,0,0),(i,o)=>i.setDate(i.getDate()+o),(i,o)=>(o-i-(o.getTimezoneOffset()-i.getTimezoneOffset())*durationMinute)/durationDay,i=>i.getDate()-1);timeDay.range;const utcDay=timeInterval(i=>{i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCDate(i.getUTCDate()+o)},(i,o)=>(o-i)/durationDay,i=>i.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(i=>{i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCDate(i.getUTCDate()+o)},(i,o)=>(o-i)/durationDay,i=>Math.floor(i/durationDay));unixDay.range;function timeWeekday(i){return timeInterval(o=>{o.setDate(o.getDate()-(o.getDay()+7-i)%7),o.setHours(0,0,0,0)},(o,E)=>{o.setDate(o.getDate()+E*7)},(o,E)=>(E-o-(E.getTimezoneOffset()-o.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(i){return timeInterval(o=>{o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-i)%7),o.setUTCHours(0,0,0,0)},(o,E)=>{o.setUTCDate(o.getUTCDate()+E*7)},(o,E)=>(E-o)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(i=>{i.setDate(1),i.setHours(0,0,0,0)},(i,o)=>{i.setMonth(i.getMonth()+o)},(i,o)=>o.getMonth()-i.getMonth()+(o.getFullYear()-i.getFullYear())*12,i=>i.getMonth());timeMonth.range;const utcMonth=timeInterval(i=>{i.setUTCDate(1),i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCMonth(i.getUTCMonth()+o)},(i,o)=>o.getUTCMonth()-i.getUTCMonth()+(o.getUTCFullYear()-i.getUTCFullYear())*12,i=>i.getUTCMonth());utcMonth.range;const timeYear=timeInterval(i=>{i.setMonth(0,1),i.setHours(0,0,0,0)},(i,o)=>{i.setFullYear(i.getFullYear()+o)},(i,o)=>o.getFullYear()-i.getFullYear(),i=>i.getFullYear());timeYear.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:timeInterval(o=>{o.setFullYear(Math.floor(o.getFullYear()/i)*i),o.setMonth(0,1),o.setHours(0,0,0,0)},(o,E)=>{o.setFullYear(o.getFullYear()+E*i)});timeYear.range;const utcYear=timeInterval(i=>{i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCFullYear(i.getUTCFullYear()+o)},(i,o)=>o.getUTCFullYear()-i.getUTCFullYear(),i=>i.getUTCFullYear());utcYear.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:timeInterval(o=>{o.setUTCFullYear(Math.floor(o.getUTCFullYear()/i)*i),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,E)=>{o.setUTCFullYear(o.getUTCFullYear()+E*i)});utcYear.range;function ticker(i,o,E,_,w,j){const S=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[j,1,durationMinute],[j,5,5*durationMinute],[j,15,15*durationMinute],[j,30,30*durationMinute],[w,1,durationHour],[w,3,3*durationHour],[w,6,6*durationHour],[w,12,12*durationHour],[_,1,durationDay],[_,2,2*durationDay],[E,1,durationWeek],[o,1,durationMonth],[o,3,3*durationMonth],[i,1,durationYear]];function A(C,T,N){const O=T<C;O&&([C,T]=[T,C]);const $=N&&typeof N.range=="function"?N:R(C,T,N),D=$?$.range(C,+T+1):[];return O?D.reverse():D}function R(C,T,N){const O=Math.abs(T-C)/N,$=bisector(([,,I])=>I).right(S,O);if($===S.length)return i.every(tickStep(C/durationYear,T/durationYear,N));if($===0)return millisecond.every(Math.max(tickStep(C,T,N),1));const[D,L]=S[O/S[$-1][2]<S[$][2]/O?$-1:$];return D.every(L)}return[A,R]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(i){if(0<=i.y&&i.y<100){var o=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return o.setFullYear(i.y),o}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function utcDate(i){if(0<=i.y&&i.y<100){var o=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return o.setUTCFullYear(i.y),o}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function newDate(i,o,E){return{y:i,m:o,d:E,H:0,M:0,S:0,L:0}}function formatLocale(i){var o=i.dateTime,E=i.date,_=i.time,w=i.periods,j=i.days,S=i.shortDays,A=i.months,R=i.shortMonths,C=formatRe(w),T=formatLookup(w),N=formatRe(j),O=formatLookup(j),$=formatRe(S),D=formatLookup(S),L=formatRe(A),I=formatLookup(A),z=formatRe(R),F=formatLookup(R),W={a:Ce,A:Me,b:Q,B:Re,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ke,q:_e,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},H={a:Y,A:J,b:Se,B:Ie,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:$e,q:De,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},B={a:je,A:Z,b:fe,B:Ae,c:Oe,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:K,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Pe,X:Ne,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};W.x=U(E,W),W.X=U(_,W),W.c=U(o,W),H.x=U(E,H),H.X=U(_,H),H.c=U(o,H);function U(Be,Le){return function(He){var We=[],rt=-1,it=0,dt=Be.length,Ke,Xe,Fe;for(He instanceof Date||(He=new Date(+He));++rt<dt;)Be.charCodeAt(rt)===37&&(We.push(Be.slice(it,rt)),(Xe=pads[Ke=Be.charAt(++rt)])!=null?Ke=Be.charAt(++rt):Xe=Ke==="e"?" ":"0",(Fe=Le[Ke])&&(Ke=Fe(He,Xe)),We.push(Ke),it=rt+1);return We.push(Be.slice(it,rt)),We.join("")}}function G(Be,Le){return function(He){var We=newDate(1900,void 0,1),rt=V(We,Be,He+="",0),it,dt;if(rt!=He.length)return null;if("Q"in We)return new Date(We.Q);if("s"in We)return new Date(We.s*1e3+("L"in We?We.L:0));if(Le&&!("Z"in We)&&(We.Z=0),"p"in We&&(We.H=We.H%12+We.p*12),We.m===void 0&&(We.m="q"in We?We.q:0),"V"in We){if(We.V<1||We.V>53)return null;"w"in We||(We.w=1),"Z"in We?(it=utcDate(newDate(We.y,0,1)),dt=it.getUTCDay(),it=dt>4||dt===0?utcMonday.ceil(it):utcMonday(it),it=utcDay.offset(it,(We.V-1)*7),We.y=it.getUTCFullYear(),We.m=it.getUTCMonth(),We.d=it.getUTCDate()+(We.w+6)%7):(it=localDate(newDate(We.y,0,1)),dt=it.getDay(),it=dt>4||dt===0?timeMonday.ceil(it):timeMonday(it),it=timeDay.offset(it,(We.V-1)*7),We.y=it.getFullYear(),We.m=it.getMonth(),We.d=it.getDate()+(We.w+6)%7)}else("W"in We||"U"in We)&&("w"in We||(We.w="u"in We?We.u%7:"W"in We?1:0),dt="Z"in We?utcDate(newDate(We.y,0,1)).getUTCDay():localDate(newDate(We.y,0,1)).getDay(),We.m=0,We.d="W"in We?(We.w+6)%7+We.W*7-(dt+5)%7:We.w+We.U*7-(dt+6)%7);return"Z"in We?(We.H+=We.Z/100|0,We.M+=We.Z%100,utcDate(We)):localDate(We)}}function V(Be,Le,He,We){for(var rt=0,it=Le.length,dt=He.length,Ke,Xe;rt<it;){if(We>=dt)return-1;if(Ke=Le.charCodeAt(rt++),Ke===37){if(Ke=Le.charAt(rt++),Xe=B[Ke in pads?Le.charAt(rt++):Ke],!Xe||(We=Xe(Be,He,We))<0)return-1}else if(Ke!=He.charCodeAt(We++))return-1}return We}function K(Be,Le,He){var We=C.exec(Le.slice(He));return We?(Be.p=T.get(We[0].toLowerCase()),He+We[0].length):-1}function je(Be,Le,He){var We=$.exec(Le.slice(He));return We?(Be.w=D.get(We[0].toLowerCase()),He+We[0].length):-1}function Z(Be,Le,He){var We=N.exec(Le.slice(He));return We?(Be.w=O.get(We[0].toLowerCase()),He+We[0].length):-1}function fe(Be,Le,He){var We=z.exec(Le.slice(He));return We?(Be.m=F.get(We[0].toLowerCase()),He+We[0].length):-1}function Ae(Be,Le,He){var We=L.exec(Le.slice(He));return We?(Be.m=I.get(We[0].toLowerCase()),He+We[0].length):-1}function Oe(Be,Le,He){return V(Be,o,Le,He)}function Pe(Be,Le,He){return V(Be,E,Le,He)}function Ne(Be,Le,He){return V(Be,_,Le,He)}function Ce(Be){return S[Be.getDay()]}function Me(Be){return j[Be.getDay()]}function Q(Be){return R[Be.getMonth()]}function Re(Be){return A[Be.getMonth()]}function ke(Be){return w[+(Be.getHours()>=12)]}function _e(Be){return 1+~~(Be.getMonth()/3)}function Y(Be){return S[Be.getUTCDay()]}function J(Be){return j[Be.getUTCDay()]}function Se(Be){return R[Be.getUTCMonth()]}function Ie(Be){return A[Be.getUTCMonth()]}function $e(Be){return w[+(Be.getUTCHours()>=12)]}function De(Be){return 1+~~(Be.getUTCMonth()/3)}return{format:function(Be){var Le=U(Be+="",W);return Le.toString=function(){return Be},Le},parse:function(Be){var Le=G(Be+="",!1);return Le.toString=function(){return Be},Le},utcFormat:function(Be){var Le=U(Be+="",H);return Le.toString=function(){return Be},Le},utcParse:function(Be){var Le=G(Be+="",!0);return Le.toString=function(){return Be},Le}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(i,o,E){var _=i<0?"-":"",w=(_?-i:i)+"",j=w.length;return _+(j<E?new Array(E-j+1).join(o)+w:w)}function requote(i){return i.replace(requoteRe,"\\$&")}function formatRe(i){return new RegExp("^(?:"+i.map(requote).join("|")+")","i")}function formatLookup(i){return new Map(i.map((o,E)=>[o.toLowerCase(),E]))}function parseWeekdayNumberSunday(i,o,E){var _=numberRe.exec(o.slice(E,E+1));return _?(i.w=+_[0],E+_[0].length):-1}function parseWeekdayNumberMonday(i,o,E){var _=numberRe.exec(o.slice(E,E+1));return _?(i.u=+_[0],E+_[0].length):-1}function parseWeekNumberSunday(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.U=+_[0],E+_[0].length):-1}function parseWeekNumberISO(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.V=+_[0],E+_[0].length):-1}function parseWeekNumberMonday(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.W=+_[0],E+_[0].length):-1}function parseFullYear(i,o,E){var _=numberRe.exec(o.slice(E,E+4));return _?(i.y=+_[0],E+_[0].length):-1}function parseYear(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.y=+_[0]+(+_[0]>68?1900:2e3),E+_[0].length):-1}function parseZone(i,o,E){var _=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(E,E+6));return _?(i.Z=_[1]?0:-(_[2]+(_[3]||"00")),E+_[0].length):-1}function parseQuarter(i,o,E){var _=numberRe.exec(o.slice(E,E+1));return _?(i.q=_[0]*3-3,E+_[0].length):-1}function parseMonthNumber(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.m=_[0]-1,E+_[0].length):-1}function parseDayOfMonth(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.d=+_[0],E+_[0].length):-1}function parseDayOfYear(i,o,E){var _=numberRe.exec(o.slice(E,E+3));return _?(i.m=0,i.d=+_[0],E+_[0].length):-1}function parseHour24(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.H=+_[0],E+_[0].length):-1}function parseMinutes(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.M=+_[0],E+_[0].length):-1}function parseSeconds(i,o,E){var _=numberRe.exec(o.slice(E,E+2));return _?(i.S=+_[0],E+_[0].length):-1}function parseMilliseconds(i,o,E){var _=numberRe.exec(o.slice(E,E+3));return _?(i.L=+_[0],E+_[0].length):-1}function parseMicroseconds(i,o,E){var _=numberRe.exec(o.slice(E,E+6));return _?(i.L=Math.floor(_[0]/1e3),E+_[0].length):-1}function parseLiteralPercent(i,o,E){var _=percentRe.exec(o.slice(E,E+1));return _?E+_[0].length:-1}function parseUnixTimestamp(i,o,E){var _=numberRe.exec(o.slice(E));return _?(i.Q=+_[0],E+_[0].length):-1}function parseUnixTimestampSeconds(i,o,E){var _=numberRe.exec(o.slice(E));return _?(i.s=+_[0],E+_[0].length):-1}function formatDayOfMonth(i,o){return pad(i.getDate(),o,2)}function formatHour24(i,o){return pad(i.getHours(),o,2)}function formatHour12(i,o){return pad(i.getHours()%12||12,o,2)}function formatDayOfYear(i,o){return pad(1+timeDay.count(timeYear(i),i),o,3)}function formatMilliseconds(i,o){return pad(i.getMilliseconds(),o,3)}function formatMicroseconds(i,o){return formatMilliseconds(i,o)+"000"}function formatMonthNumber(i,o){return pad(i.getMonth()+1,o,2)}function formatMinutes(i,o){return pad(i.getMinutes(),o,2)}function formatSeconds(i,o){return pad(i.getSeconds(),o,2)}function formatWeekdayNumberMonday(i){var o=i.getDay();return o===0?7:o}function formatWeekNumberSunday(i,o){return pad(timeSunday.count(timeYear(i)-1,i),o,2)}function dISO(i){var o=i.getDay();return o>=4||o===0?timeThursday(i):timeThursday.ceil(i)}function formatWeekNumberISO(i,o){return i=dISO(i),pad(timeThursday.count(timeYear(i),i)+(timeYear(i).getDay()===4),o,2)}function formatWeekdayNumberSunday(i){return i.getDay()}function formatWeekNumberMonday(i,o){return pad(timeMonday.count(timeYear(i)-1,i),o,2)}function formatYear(i,o){return pad(i.getFullYear()%100,o,2)}function formatYearISO(i,o){return i=dISO(i),pad(i.getFullYear()%100,o,2)}function formatFullYear(i,o){return pad(i.getFullYear()%1e4,o,4)}function formatFullYearISO(i,o){var E=i.getDay();return i=E>=4||E===0?timeThursday(i):timeThursday.ceil(i),pad(i.getFullYear()%1e4,o,4)}function formatZone(i){var o=i.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+pad(o/60|0,"0",2)+pad(o%60,"0",2)}function formatUTCDayOfMonth(i,o){return pad(i.getUTCDate(),o,2)}function formatUTCHour24(i,o){return pad(i.getUTCHours(),o,2)}function formatUTCHour12(i,o){return pad(i.getUTCHours()%12||12,o,2)}function formatUTCDayOfYear(i,o){return pad(1+utcDay.count(utcYear(i),i),o,3)}function formatUTCMilliseconds(i,o){return pad(i.getUTCMilliseconds(),o,3)}function formatUTCMicroseconds(i,o){return formatUTCMilliseconds(i,o)+"000"}function formatUTCMonthNumber(i,o){return pad(i.getUTCMonth()+1,o,2)}function formatUTCMinutes(i,o){return pad(i.getUTCMinutes(),o,2)}function formatUTCSeconds(i,o){return pad(i.getUTCSeconds(),o,2)}function formatUTCWeekdayNumberMonday(i){var o=i.getUTCDay();return o===0?7:o}function formatUTCWeekNumberSunday(i,o){return pad(utcSunday.count(utcYear(i)-1,i),o,2)}function UTCdISO(i){var o=i.getUTCDay();return o>=4||o===0?utcThursday(i):utcThursday.ceil(i)}function formatUTCWeekNumberISO(i,o){return i=UTCdISO(i),pad(utcThursday.count(utcYear(i),i)+(utcYear(i).getUTCDay()===4),o,2)}function formatUTCWeekdayNumberSunday(i){return i.getUTCDay()}function formatUTCWeekNumberMonday(i,o){return pad(utcMonday.count(utcYear(i)-1,i),o,2)}function formatUTCYear(i,o){return pad(i.getUTCFullYear()%100,o,2)}function formatUTCYearISO(i,o){return i=UTCdISO(i),pad(i.getUTCFullYear()%100,o,2)}function formatUTCFullYear(i,o){return pad(i.getUTCFullYear()%1e4,o,4)}function formatUTCFullYearISO(i,o){var E=i.getUTCDay();return i=E>=4||E===0?utcThursday(i):utcThursday.ceil(i),pad(i.getUTCFullYear()%1e4,o,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(i){return+i}function formatUnixTimestampSeconds(i){return Math.floor(+i/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(i){return locale=formatLocale(i),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(i){return new Date(i)}function number(i){return i instanceof Date?+i:+new Date(+i)}function calendar(i,o,E,_,w,j,S,A,R,C){var T=continuous(),N=T.invert,O=T.domain,$=C(".%L"),D=C(":%S"),L=C("%I:%M"),I=C("%I %p"),z=C("%a %d"),F=C("%b %d"),W=C("%B"),H=C("%Y");function B(U){return(R(U)<U?$:A(U)<U?D:S(U)<U?L:j(U)<U?I:_(U)<U?w(U)<U?z:F:E(U)<U?W:H)(U)}return T.invert=function(U){return new Date(N(U))},T.domain=function(U){return arguments.length?O(Array.from(U,number)):O().map(date)},T.ticks=function(U){var G=O();return i(G[0],G[G.length-1],U??10)},T.tickFormat=function(U,G){return G==null?B:C(G)},T.nice=function(U){var G=O();return(!U||typeof U.range!="function")&&(U=o(G[0],G[G.length-1],U??10)),U?O(nice(G,U)):T},T.copy=function(){return copy$1(T,calendar(i,o,E,_,w,j,S,A,R,C))},T}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var i=0,o=1,E,_,w,j,S=identity$6,A=!1,R;function C(N){return N==null||isNaN(N=+N)?R:S(w===0?.5:(N=(j(N)-E)*w,A?Math.max(0,Math.min(1,N)):N))}C.domain=function(N){return arguments.length?([i,o]=N,E=j(i=+i),_=j(o=+o),w=E===_?0:1/(_-E),C):[i,o]},C.clamp=function(N){return arguments.length?(A=!!N,C):A},C.interpolator=function(N){return arguments.length?(S=N,C):S};function T(N){return function(O){var $,D;return arguments.length?([$,D]=O,S=N($,D),C):[S(0),S(1)]}}return C.range=T(interpolate),C.rangeRound=T(interpolateRound),C.unknown=function(N){return arguments.length?(R=N,C):R},function(N){return j=N,E=N(i),_=N(o),w=E===_?0:1/(_-E),C}}function copy(i,o){return o.domain(i.domain()).interpolator(i.interpolator()).clamp(i.clamp()).unknown(i.unknown())}function sequential(){var i=linearish(transformer$1()(identity$6));return i.copy=function(){return copy(i,sequential())},initInterpolator.apply(i,arguments)}function sequentialLog(){var i=loggish(transformer$1()).domain([1,10]);return i.copy=function(){return copy(i,sequentialLog()).base(i.base())},initInterpolator.apply(i,arguments)}function sequentialSymlog(){var i=symlogish(transformer$1());return i.copy=function(){return copy(i,sequentialSymlog()).constant(i.constant())},initInterpolator.apply(i,arguments)}function sequentialPow(){var i=powish(transformer$1());return i.copy=function(){return copy(i,sequentialPow()).exponent(i.exponent())},initInterpolator.apply(i,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var i=[],o=identity$6;function E(_){if(_!=null&&!isNaN(_=+_))return o((bisectRight(i,_,1)-1)/(i.length-1))}return E.domain=function(_){if(!arguments.length)return i.slice();i=[];for(let w of _)w!=null&&!isNaN(w=+w)&&i.push(w);return i.sort(ascending),E},E.interpolator=function(_){return arguments.length?(o=_,E):o},E.range=function(){return i.map((_,w)=>o(w/(i.length-1)))},E.quantiles=function(_){return Array.from({length:_+1},(w,j)=>quantile$1(i,j/_))},E.copy=function(){return sequentialQuantile(o).domain(i)},initInterpolator.apply(E,arguments)}function transformer(){var i=0,o=.5,E=1,_=1,w,j,S,A,R,C=identity$6,T,N=!1,O;function $(L){return isNaN(L=+L)?O:(L=.5+((L=+T(L))-j)*(_*L<_*j?A:R),C(N?Math.max(0,Math.min(1,L)):L))}$.domain=function(L){return arguments.length?([i,o,E]=L,w=T(i=+i),j=T(o=+o),S=T(E=+E),A=w===j?0:.5/(j-w),R=j===S?0:.5/(S-j),_=j<w?-1:1,$):[i,o,E]},$.clamp=function(L){return arguments.length?(N=!!L,$):N},$.interpolator=function(L){return arguments.length?(C=L,$):C};function D(L){return function(I){var z,F,W;return arguments.length?([z,F,W]=I,C=piecewise(L,[z,F,W]),$):[C(0),C(.5),C(1)]}}return $.range=D(interpolate),$.rangeRound=D(interpolateRound),$.unknown=function(L){return arguments.length?(O=L,$):O},function(L){return T=L,w=L(i),j=L(o),S=L(E),A=w===j?0:.5/(j-w),R=j===S?0:.5/(S-j),_=j<w?-1:1,$}}function diverging(){var i=linearish(transformer()(identity$6));return i.copy=function(){return copy(i,diverging())},initInterpolator.apply(i,arguments)}function divergingLog(){var i=loggish(transformer()).domain([.1,1,10]);return i.copy=function(){return copy(i,divergingLog()).base(i.base())},initInterpolator.apply(i,arguments)}function divergingSymlog(){var i=symlogish(transformer());return i.copy=function(){return copy(i,divergingSymlog()).constant(i.constant())},initInterpolator.apply(i,arguments)}function divergingPow(){var i=powish(transformer());return i.copy=function(){return copy(i,divergingPow()).exponent(i.exponent())},initInterpolator.apply(i,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log$3,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$2(i,o,E){for(var _=-1,w=i.length;++_<w;){var j=i[_],S=o(j);if(S!=null&&(A===void 0?S===S&&!isSymbol(S):E(S,A)))var A=S,R=j}return R}var _baseExtremum=baseExtremum$2;function baseGt$1(i,o){return i>o}var _baseGt=baseGt$1,baseExtremum$1=_baseExtremum,baseGt=_baseGt,identity$3=identity_1;function max$2(i){return i&&i.length?baseExtremum$1(i,identity$3,baseGt):void 0}var max_1=max$2;const max$3=getDefaultExportFromCjs(max_1);function baseLt$1(i,o){return i<o}var _baseLt=baseLt$1,baseExtremum=_baseExtremum,baseLt=_baseLt,identity$2=identity_1;function min$2(i){return i&&i.length?baseExtremum(i,identity$2,baseLt):void 0}var min_1=min$2;const min$3=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$2(i,o){var E=isArray$3(i)?arrayMap:baseMap;return E(i,baseIteratee$5(o))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(i,o){return baseFlatten(map$1(i,o),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(i,o){return baseIsEqual(i,o)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var i=new this.constructor(this);return i.s&&(i.s=1),i};P.comparedTo=P.cmp=function(i){var o,E,_,w,j=this;if(i=new j.constructor(i),j.s!==i.s)return j.s||-i.s;if(j.e!==i.e)return j.e>i.e^j.s<0?1:-1;for(_=j.d.length,w=i.d.length,o=0,E=_<w?_:w;o<E;++o)if(j.d[o]!==i.d[o])return j.d[o]>i.d[o]^j.s<0?1:-1;return _===w?0:_>w^j.s<0?1:-1};P.decimalPlaces=P.dp=function(){var i=this,o=i.d.length-1,E=(o-i.e)*LOG_BASE;if(o=i.d[o],o)for(;o%10==0;o/=10)E--;return E<0?0:E};P.dividedBy=P.div=function(i){return divide(this,new this.constructor(i))};P.dividedToIntegerBy=P.idiv=function(i){var o=this,E=o.constructor;return round$1(divide(o,new E(i),0,1),E.precision)};P.equals=P.eq=function(i){return!this.cmp(i)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(i){return this.cmp(i)>0};P.greaterThanOrEqualTo=P.gte=function(i){return this.cmp(i)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(i){return this.cmp(i)<0};P.lessThanOrEqualTo=P.lte=function(i){return this.cmp(i)<1};P.logarithm=P.log=function(i){var o,E=this,_=E.constructor,w=_.precision,j=w+5;if(i===void 0)i=new _(10);else if(i=new _(i),i.s<1||i.eq(ONE))throw Error(decimalError+"NaN");if(E.s<1)throw Error(decimalError+(E.s?"NaN":"-Infinity"));return E.eq(ONE)?new _(0):(external=!1,o=divide(ln(E,j),ln(i,j),j),external=!0,round$1(o,w))};P.minus=P.sub=function(i){var o=this;return i=new o.constructor(i),o.s==i.s?subtract(o,i):add(o,(i.s=-i.s,i))};P.modulo=P.mod=function(i){var o,E=this,_=E.constructor,w=_.precision;if(i=new _(i),!i.s)throw Error(decimalError+"NaN");return E.s?(external=!1,o=divide(E,i,0,1).times(i),external=!0,E.minus(o)):round$1(new _(E),w)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var i=new this.constructor(this);return i.s=-i.s||0,i};P.plus=P.add=function(i){var o=this;return i=new o.constructor(i),o.s==i.s?add(o,i):subtract(o,(i.s=-i.s,i))};P.precision=P.sd=function(i){var o,E,_,w=this;if(i!==void 0&&i!==!!i&&i!==1&&i!==0)throw Error(invalidArgument+i);if(o=getBase10Exponent(w)+1,_=w.d.length-1,E=_*LOG_BASE+1,_=w.d[_],_){for(;_%10==0;_/=10)E--;for(_=w.d[0];_>=10;_/=10)E++}return i&&o>E?o:E};P.squareRoot=P.sqrt=function(){var i,o,E,_,w,j,S,A=this,R=A.constructor;if(A.s<1){if(!A.s)return new R(0);throw Error(decimalError+"NaN")}for(i=getBase10Exponent(A),external=!1,w=Math.sqrt(+A),w==0||w==1/0?(o=digitsToString(A.d),(o.length+i)%2==0&&(o+="0"),w=Math.sqrt(o),i=mathfloor((i+1)/2)-(i<0||i%2),w==1/0?o="5e"+i:(o=w.toExponential(),o=o.slice(0,o.indexOf("e")+1)+i),_=new R(o)):_=new R(w.toString()),E=R.precision,w=S=E+3;;)if(j=_,_=j.plus(divide(A,j,S+2)).times(.5),digitsToString(j.d).slice(0,S)===(o=digitsToString(_.d)).slice(0,S)){if(o=o.slice(S-3,S+1),w==S&&o=="4999"){if(round$1(j,E+1,0),j.times(j).eq(A)){_=j;break}}else if(o!="9999")break;S+=4}return external=!0,round$1(_,E)};P.times=P.mul=function(i){var o,E,_,w,j,S,A,R,C,T=this,N=T.constructor,O=T.d,$=(i=new N(i)).d;if(!T.s||!i.s)return new N(0);for(i.s*=T.s,E=T.e+i.e,R=O.length,C=$.length,R<C&&(j=O,O=$,$=j,S=R,R=C,C=S),j=[],S=R+C,_=S;_--;)j.push(0);for(_=C;--_>=0;){for(o=0,w=R+_;w>_;)A=j[w]+$[_]*O[w-_-1]+o,j[w--]=A%BASE|0,o=A/BASE|0;j[w]=(j[w]+o)%BASE|0}for(;!j[--S];)j.pop();return o?++E:j.shift(),i.d=j,i.e=E,external?round$1(i,N.precision):i};P.toDecimalPlaces=P.todp=function(i,o){var E=this,_=E.constructor;return E=new _(E),i===void 0?E:(checkInt32(i,0,MAX_DIGITS),o===void 0?o=_.rounding:checkInt32(o,0,8),round$1(E,i+getBase10Exponent(E)+1,o))};P.toExponential=function(i,o){var E,_=this,w=_.constructor;return i===void 0?E=toString(_,!0):(checkInt32(i,0,MAX_DIGITS),o===void 0?o=w.rounding:checkInt32(o,0,8),_=round$1(new w(_),i+1,o),E=toString(_,!0,i+1)),E};P.toFixed=function(i,o){var E,_,w=this,j=w.constructor;return i===void 0?toString(w):(checkInt32(i,0,MAX_DIGITS),o===void 0?o=j.rounding:checkInt32(o,0,8),_=round$1(new j(w),i+getBase10Exponent(w)+1,o),E=toString(_.abs(),!1,i+getBase10Exponent(_)+1),w.isneg()&&!w.isZero()?"-"+E:E)};P.toInteger=P.toint=function(){var i=this,o=i.constructor;return round$1(new o(i),getBase10Exponent(i)+1,o.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(i){var o,E,_,w,j,S,A=this,R=A.constructor,C=12,T=+(i=new R(i));if(!i.s)return new R(ONE);if(A=new R(A),!A.s){if(i.s<1)throw Error(decimalError+"Infinity");return A}if(A.eq(ONE))return A;if(_=R.precision,i.eq(ONE))return round$1(A,_);if(o=i.e,E=i.d.length-1,S=o>=E,j=A.s,S){if((E=T<0?-T:T)<=MAX_SAFE_INTEGER){for(w=new R(ONE),o=Math.ceil(_/LOG_BASE+4),external=!1;E%2&&(w=w.times(A),truncate(w.d,o)),E=mathfloor(E/2),E!==0;)A=A.times(A),truncate(A.d,o);return external=!0,i.s<0?new R(ONE).div(w):round$1(w,_)}}else if(j<0)throw Error(decimalError+"NaN");return j=j<0&&i.d[Math.max(o,E)]&1?-1:1,A.s=1,external=!1,w=i.times(ln(A,_+C)),external=!0,w=exp(w),w.s=j,w};P.toPrecision=function(i,o){var E,_,w=this,j=w.constructor;return i===void 0?(E=getBase10Exponent(w),_=toString(w,E<=j.toExpNeg||E>=j.toExpPos)):(checkInt32(i,1,MAX_DIGITS),o===void 0?o=j.rounding:checkInt32(o,0,8),w=round$1(new j(w),i,o),E=getBase10Exponent(w),_=toString(w,i<=E||E<=j.toExpNeg,i)),_};P.toSignificantDigits=P.tosd=function(i,o){var E=this,_=E.constructor;return i===void 0?(i=_.precision,o=_.rounding):(checkInt32(i,1,MAX_DIGITS),o===void 0?o=_.rounding:checkInt32(o,0,8)),round$1(new _(E),i,o)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var i=this,o=getBase10Exponent(i),E=i.constructor;return toString(i,o<=E.toExpNeg||o>=E.toExpPos)};function add(i,o){var E,_,w,j,S,A,R,C,T=i.constructor,N=T.precision;if(!i.s||!o.s)return o.s||(o=new T(i)),external?round$1(o,N):o;if(R=i.d,C=o.d,S=i.e,w=o.e,R=R.slice(),j=S-w,j){for(j<0?(_=R,j=-j,A=C.length):(_=C,w=S,A=R.length),S=Math.ceil(N/LOG_BASE),A=S>A?S+1:A+1,j>A&&(j=A,_.length=1),_.reverse();j--;)_.push(0);_.reverse()}for(A=R.length,j=C.length,A-j<0&&(j=A,_=C,C=R,R=_),E=0;j;)E=(R[--j]=R[j]+C[j]+E)/BASE|0,R[j]%=BASE;for(E&&(R.unshift(E),++w),A=R.length;R[--A]==0;)R.pop();return o.d=R,o.e=w,external?round$1(o,N):o}function checkInt32(i,o,E){if(i!==~~i||i<o||i>E)throw Error(invalidArgument+i)}function digitsToString(i){var o,E,_,w=i.length-1,j="",S=i[0];if(w>0){for(j+=S,o=1;o<w;o++)_=i[o]+"",E=LOG_BASE-_.length,E&&(j+=getZeroString(E)),j+=_;S=i[o],_=S+"",E=LOG_BASE-_.length,E&&(j+=getZeroString(E))}else if(S===0)return"0";for(;S%10===0;)S/=10;return j+S}var divide=function(){function i(_,w){var j,S=0,A=_.length;for(_=_.slice();A--;)j=_[A]*w+S,_[A]=j%BASE|0,S=j/BASE|0;return S&&_.unshift(S),_}function o(_,w,j,S){var A,R;if(j!=S)R=j>S?1:-1;else for(A=R=0;A<j;A++)if(_[A]!=w[A]){R=_[A]>w[A]?1:-1;break}return R}function E(_,w,j){for(var S=0;j--;)_[j]-=S,S=_[j]<w[j]?1:0,_[j]=S*BASE+_[j]-w[j];for(;!_[0]&&_.length>1;)_.shift()}return function(_,w,j,S){var A,R,C,T,N,O,$,D,L,I,z,F,W,H,B,U,G,V,K=_.constructor,je=_.s==w.s?1:-1,Z=_.d,fe=w.d;if(!_.s)return new K(_);if(!w.s)throw Error(decimalError+"Division by zero");for(R=_.e-w.e,G=fe.length,B=Z.length,$=new K(je),D=$.d=[],C=0;fe[C]==(Z[C]||0);)++C;if(fe[C]>(Z[C]||0)&&--R,j==null?F=j=K.precision:S?F=j+(getBase10Exponent(_)-getBase10Exponent(w))+1:F=j,F<0)return new K(0);if(F=F/LOG_BASE+2|0,C=0,G==1)for(T=0,fe=fe[0],F++;(C<B||T)&&F--;C++)W=T*BASE+(Z[C]||0),D[C]=W/fe|0,T=W%fe|0;else{for(T=BASE/(fe[0]+1)|0,T>1&&(fe=i(fe,T),Z=i(Z,T),G=fe.length,B=Z.length),H=G,L=Z.slice(0,G),I=L.length;I<G;)L[I++]=0;V=fe.slice(),V.unshift(0),U=fe[0],fe[1]>=BASE/2&&++U;do T=0,A=o(fe,L,G,I),A<0?(z=L[0],G!=I&&(z=z*BASE+(L[1]||0)),T=z/U|0,T>1?(T>=BASE&&(T=BASE-1),N=i(fe,T),O=N.length,I=L.length,A=o(N,L,O,I),A==1&&(T--,E(N,G<O?V:fe,O))):(T==0&&(A=T=1),N=fe.slice()),O=N.length,O<I&&N.unshift(0),E(L,N,I),A==-1&&(I=L.length,A=o(fe,L,G,I),A<1&&(T++,E(L,G<I?V:fe,I))),I=L.length):A===0&&(T++,L=[0]),D[C++]=T,A&&L[0]?L[I++]=Z[H]||0:(L=[Z[H]],I=1);while((H++<B||L[0]!==void 0)&&F--)}return D[0]||D.shift(),$.e=R,round$1($,S?j+getBase10Exponent($)+1:j)}}();function exp(i,o){var E,_,w,j,S,A,R=0,C=0,T=i.constructor,N=T.precision;if(getBase10Exponent(i)>16)throw Error(exponentOutOfRange+getBase10Exponent(i));if(!i.s)return new T(ONE);for(external=!1,A=N,S=new T(.03125);i.abs().gte(.1);)i=i.times(S),C+=5;for(_=Math.log(mathpow(2,C))/Math.LN10*2+5|0,A+=_,E=w=j=new T(ONE),T.precision=A;;){if(w=round$1(w.times(i),A),E=E.times(++R),S=j.plus(divide(w,E,A)),digitsToString(S.d).slice(0,A)===digitsToString(j.d).slice(0,A)){for(;C--;)j=round$1(j.times(j),A);return T.precision=N,o==null?(external=!0,round$1(j,N)):j}j=S}}function getBase10Exponent(i){for(var o=i.e*LOG_BASE,E=i.d[0];E>=10;E/=10)o++;return o}function getLn10(i,o,E){if(o>i.LN10.sd())throw external=!0,E&&(i.precision=E),Error(decimalError+"LN10 precision limit exceeded");return round$1(new i(i.LN10),o)}function getZeroString(i){for(var o="";i--;)o+="0";return o}function ln(i,o){var E,_,w,j,S,A,R,C,T,N=1,O=10,$=i,D=$.d,L=$.constructor,I=L.precision;if($.s<1)throw Error(decimalError+($.s?"NaN":"-Infinity"));if($.eq(ONE))return new L(0);if(o==null?(external=!1,C=I):C=o,$.eq(10))return o==null&&(external=!0),getLn10(L,C);if(C+=O,L.precision=C,E=digitsToString(D),_=E.charAt(0),j=getBase10Exponent($),Math.abs(j)<15e14){for(;_<7&&_!=1||_==1&&E.charAt(1)>3;)$=$.times(i),E=digitsToString($.d),_=E.charAt(0),N++;j=getBase10Exponent($),_>1?($=new L("0."+E),j++):$=new L(_+"."+E.slice(1))}else return R=getLn10(L,C+2,I).times(j+""),$=ln(new L(_+"."+E.slice(1)),C-O).plus(R),L.precision=I,o==null?(external=!0,round$1($,I)):$;for(A=S=$=divide($.minus(ONE),$.plus(ONE),C),T=round$1($.times($),C),w=3;;){if(S=round$1(S.times(T),C),R=A.plus(divide(S,new L(w),C)),digitsToString(R.d).slice(0,C)===digitsToString(A.d).slice(0,C))return A=A.times(2),j!==0&&(A=A.plus(getLn10(L,C+2,I).times(j+""))),A=divide(A,new L(N),C),L.precision=I,o==null?(external=!0,round$1(A,I)):A;A=R,w+=2}}function parseDecimal(i,o){var E,_,w;for((E=o.indexOf("."))>-1&&(o=o.replace(".","")),(_=o.search(/e/i))>0?(E<0&&(E=_),E+=+o.slice(_+1),o=o.substring(0,_)):E<0&&(E=o.length),_=0;o.charCodeAt(_)===48;)++_;for(w=o.length;o.charCodeAt(w-1)===48;)--w;if(o=o.slice(_,w),o){if(w-=_,E=E-_-1,i.e=mathfloor(E/LOG_BASE),i.d=[],_=(E+1)%LOG_BASE,E<0&&(_+=LOG_BASE),_<w){for(_&&i.d.push(+o.slice(0,_)),w-=LOG_BASE;_<w;)i.d.push(+o.slice(_,_+=LOG_BASE));o=o.slice(_),_=LOG_BASE-o.length}else _-=w;for(;_--;)o+="0";if(i.d.push(+o),external&&(i.e>MAX_E||i.e<-MAX_E))throw Error(exponentOutOfRange+E)}else i.s=0,i.e=0,i.d=[0];return i}function round$1(i,o,E){var _,w,j,S,A,R,C,T,N=i.d;for(S=1,j=N[0];j>=10;j/=10)S++;if(_=o-S,_<0)_+=LOG_BASE,w=o,C=N[T=0];else{if(T=Math.ceil((_+1)/LOG_BASE),j=N.length,T>=j)return i;for(C=j=N[T],S=1;j>=10;j/=10)S++;_%=LOG_BASE,w=_-LOG_BASE+S}if(E!==void 0&&(j=mathpow(10,S-w-1),A=C/j%10|0,R=o<0||N[T+1]!==void 0||C%j,R=E<4?(A||R)&&(E==0||E==(i.s<0?3:2)):A>5||A==5&&(E==4||R||E==6&&(_>0?w>0?C/mathpow(10,S-w):0:N[T-1])%10&1||E==(i.s<0?8:7))),o<1||!N[0])return R?(j=getBase10Exponent(i),N.length=1,o=o-j-1,N[0]=mathpow(10,(LOG_BASE-o%LOG_BASE)%LOG_BASE),i.e=mathfloor(-o/LOG_BASE)||0):(N.length=1,N[0]=i.e=i.s=0),i;if(_==0?(N.length=T,j=1,T--):(N.length=T+1,j=mathpow(10,LOG_BASE-_),N[T]=w>0?(C/mathpow(10,S-w)%mathpow(10,w)|0)*j:0),R)for(;;)if(T==0){(N[0]+=j)==BASE&&(N[0]=1,++i.e);break}else{if(N[T]+=j,N[T]!=BASE)break;N[T--]=0,j=1}for(_=N.length;N[--_]===0;)N.pop();if(external&&(i.e>MAX_E||i.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(i));return i}function subtract(i,o){var E,_,w,j,S,A,R,C,T,N,O=i.constructor,$=O.precision;if(!i.s||!o.s)return o.s?o.s=-o.s:o=new O(i),external?round$1(o,$):o;if(R=i.d,N=o.d,_=o.e,C=i.e,R=R.slice(),S=C-_,S){for(T=S<0,T?(E=R,S=-S,A=N.length):(E=N,_=C,A=R.length),w=Math.max(Math.ceil($/LOG_BASE),A)+2,S>w&&(S=w,E.length=1),E.reverse(),w=S;w--;)E.push(0);E.reverse()}else{for(w=R.length,A=N.length,T=w<A,T&&(A=w),w=0;w<A;w++)if(R[w]!=N[w]){T=R[w]<N[w];break}S=0}for(T&&(E=R,R=N,N=E,o.s=-o.s),A=R.length,w=N.length-A;w>0;--w)R[A++]=0;for(w=N.length;w>S;){if(R[--w]<N[w]){for(j=w;j&&R[--j]===0;)R[j]=BASE-1;--R[j],R[w]+=BASE}R[w]-=N[w]}for(;R[--A]===0;)R.pop();for(;R[0]===0;R.shift())--_;return R[0]?(o.d=R,o.e=_,external?round$1(o,$):o):new O(0)}function toString(i,o,E){var _,w=getBase10Exponent(i),j=digitsToString(i.d),S=j.length;return o?(E&&(_=E-S)>0?j=j.charAt(0)+"."+j.slice(1)+getZeroString(_):S>1&&(j=j.charAt(0)+"."+j.slice(1)),j=j+(w<0?"e":"e+")+w):w<0?(j="0."+getZeroString(-w-1)+j,E&&(_=E-S)>0&&(j+=getZeroString(_))):w>=S?(j+=getZeroString(w+1-S),E&&(_=E-w-1)>0&&(j=j+"."+getZeroString(_))):((_=w+1)<S&&(j=j.slice(0,_)+"."+j.slice(_)),E&&(_=E-S)>0&&(w+1===S&&(j+="."),j+=getZeroString(_))),i.s<0?"-"+j:j}function truncate(i,o){if(i.length>o)return i.length=o,!0}function clone$1(i){var o,E,_;function w(j){var S=this;if(!(S instanceof w))return new w(j);if(S.constructor=w,j instanceof w){S.s=j.s,S.e=j.e,S.d=(j=j.d)?j.slice():j;return}if(typeof j=="number"){if(j*0!==0)throw Error(invalidArgument+j);if(j>0)S.s=1;else if(j<0)j=-j,S.s=-1;else{S.s=0,S.e=0,S.d=[0];return}if(j===~~j&&j<1e7){S.e=0,S.d=[j];return}return parseDecimal(S,j.toString())}else if(typeof j!="string")throw Error(invalidArgument+j);if(j.charCodeAt(0)===45?(j=j.slice(1),S.s=-1):S.s=1,isDecimal.test(j))parseDecimal(S,j);else throw Error(invalidArgument+j)}if(w.prototype=P,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.clone=clone$1,w.config=w.set=config$1,i===void 0&&(i={}),i)for(_=["precision","rounding","toExpNeg","toExpPos","LN10"],o=0;o<_.length;)i.hasOwnProperty(E=_[o++])||(i[E]=this[E]);return w.config(i),w}function config$1(i){if(!i||typeof i!="object")throw Error(decimalError+"Object expected");var o,E,_,w=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(o=0;o<w.length;o+=3)if((_=i[E=w[o]])!==void 0)if(mathfloor(_)===_&&_>=w[o+1]&&_<=w[o+2])this[E]=_;else throw Error(invalidArgument+E+": "+_);if((_=i[E="LN10"])!==void 0)if(_==Math.LN10)this[E]=new this(_);else throw Error(invalidArgument+E+": "+_);return this}var Decimal=clone$1(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(i){return _arrayWithoutHoles$a(i)||_iterableToArray$b(i)||_unsupportedIterableToArray$f(i)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$f(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$f(i,o)}}function _iterableToArray$b(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}function _arrayWithoutHoles$a(i){if(Array.isArray(i))return _arrayLikeToArray$f(i)}function _arrayLikeToArray$f(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}var identity$1=function(o){return o},PLACE_HOLDER={},isPlaceHolder=function(o){return o===PLACE_HOLDER},curry0=function(o){return function E(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?E:o.apply(void 0,arguments)}},curryN=function i(o,E){return o===1?E:curry0(function(){for(var _=arguments.length,w=new Array(_),j=0;j<_;j++)w[j]=arguments[j];var S=w.filter(function(A){return A!==PLACE_HOLDER}).length;return S>=o?E.apply(void 0,w):i(o-S,curry0(function(){for(var A=arguments.length,R=new Array(A),C=0;C<A;C++)R[C]=arguments[C];var T=w.map(function(N){return isPlaceHolder(N)?R.shift():N});return E.apply(void 0,_toConsumableArray$a(T).concat(R))}))})},curry=function(o){return curryN(o.length,o)},range$2=function(o,E){for(var _=[],w=o;w<E;++w)_[w-o]=w;return _},map=curry(function(i,o){return Array.isArray(o)?o.map(i):Object.keys(o).map(function(E){return o[E]}).map(i)}),compose=function(){for(var o=arguments.length,E=new Array(o),_=0;_<o;_++)E[_]=arguments[_];if(!E.length)return identity$1;var w=E.reverse(),j=w[0],S=w.slice(1);return function(){return S.reduce(function(A,R){return R(A)},j.apply(void 0,arguments))}},reverse=function(o){return Array.isArray(o)?o.reverse():o.split("").reverse.join("")},memoize=function(o){var E=null,_=null;return function(){for(var w=arguments.length,j=new Array(w),S=0;S<w;S++)j[S]=arguments[S];return E&&j.every(function(A,R){return A===E[R]})||(E=j,_=o.apply(void 0,j)),_}};function getDigitCount(i){var o;return i===0?o=1:o=Math.floor(new Decimal$1(i).abs().log(10).toNumber())+1,o}function rangeStep(i,o,E){for(var _=new Decimal$1(i),w=0,j=[];_.lt(o)&&w<1e5;)j.push(_.toNumber()),_=_.add(E),w++;return j}var interpolateNumber=curry(function(i,o,E){var _=+i,w=+o;return _+E*(w-_)}),uninterpolateNumber=curry(function(i,o,E){var _=o-+i;return _=_||1/0,(E-i)/_}),uninterpolateTruncation=curry(function(i,o,E){var _=o-+i;return _=_||1/0,Math.max(0,Math.min(1,(E-i)/_))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(i){return _arrayWithoutHoles$9(i)||_iterableToArray$a(i)||_unsupportedIterableToArray$e(i)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}function _arrayWithoutHoles$9(i){if(Array.isArray(i))return _arrayLikeToArray$e(i)}function _slicedToArray$7(i,o){return _arrayWithHoles$8(i)||_iterableToArrayLimit$7(i,o)||_unsupportedIterableToArray$e(i,o)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$e(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$e(i,o)}}function _arrayLikeToArray$e(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$7(i,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var E=[],_=!0,w=!1,j=void 0;try{for(var S=i[Symbol.iterator](),A;!(_=(A=S.next()).done)&&(E.push(A.value),!(o&&E.length===o));_=!0);}catch(R){w=!0,j=R}finally{try{!_&&S.return!=null&&S.return()}finally{if(w)throw j}}return E}}function _arrayWithHoles$8(i){if(Array.isArray(i))return i}function getValidInterval(i){var o=_slicedToArray$7(i,2),E=o[0],_=o[1],w=E,j=_;return E>_&&(w=_,j=E),[w,j]}function getFormatStep(i,o,E){if(i.lte(0))return new Decimal$1(0);var _=Arithmetic.getDigitCount(i.toNumber()),w=new Decimal$1(10).pow(_),j=i.div(w),S=_!==1?.05:.1,A=new Decimal$1(Math.ceil(j.div(S).toNumber())).add(E).mul(S),R=A.mul(w);return o?R:new Decimal$1(Math.ceil(R))}function getTickOfSingleValue(i,o,E){var _=1,w=new Decimal$1(i);if(!w.isint()&&E){var j=Math.abs(i);j<1?(_=new Decimal$1(10).pow(Arithmetic.getDigitCount(i)-1),w=new Decimal$1(Math.floor(w.div(_).toNumber())).mul(_)):j>1&&(w=new Decimal$1(Math.floor(i)))}else i===0?w=new Decimal$1(Math.floor((o-1)/2)):E||(w=new Decimal$1(Math.floor(i)));var S=Math.floor((o-1)/2),A=compose(map(function(R){return w.add(new Decimal$1(R-S).mul(_)).toNumber()}),range$2);return A(0,o)}function calculateStep(i,o,E,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((o-i)/(E-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var j=getFormatStep(new Decimal$1(o).sub(i).div(E-1),_,w),S;i<=0&&o>=0?S=new Decimal$1(0):(S=new Decimal$1(i).add(o).div(2),S=S.sub(new Decimal$1(S).mod(j)));var A=Math.ceil(S.sub(i).div(j).toNumber()),R=Math.ceil(new Decimal$1(o).sub(S).div(j).toNumber()),C=A+R+1;return C>E?calculateStep(i,o,E,_,w+1):(C<E&&(R=o>0?R+(E-C):R,A=o>0?A:A+(E-C)),{step:j,tickMin:S.sub(new Decimal$1(A).mul(j)),tickMax:S.add(new Decimal$1(R).mul(j))})}function getNiceTickValuesFn(i){var o=_slicedToArray$7(i,2),E=o[0],_=o[1],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,S=Math.max(w,2),A=getValidInterval([E,_]),R=_slicedToArray$7(A,2),C=R[0],T=R[1];if(C===-1/0||T===1/0){var N=T===1/0?[C].concat(_toConsumableArray$9(range$2(0,w-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$2(0,w-1).map(function(){return-1/0})),[T]);return E>_?reverse(N):N}if(C===T)return getTickOfSingleValue(C,w,j);var O=calculateStep(C,T,S,j),$=O.step,D=O.tickMin,L=O.tickMax,I=Arithmetic.rangeStep(D,L.add(new Decimal$1(.1).mul($)),$);return E>_?reverse(I):I}function getTickValuesFixedDomainFn(i,o){var E=_slicedToArray$7(i,2),_=E[0],w=E[1],j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,S=getValidInterval([_,w]),A=_slicedToArray$7(S,2),R=A[0],C=A[1];if(R===-1/0||C===1/0)return[_,w];if(R===C)return[R];var T=Math.max(o,2),N=getFormatStep(new Decimal$1(C).sub(R).div(T-1),j,0),O=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(R),new Decimal$1(C).sub(new Decimal$1(.99).mul(N)),N)),[C]);return _>w?reverse(O):O}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(i,o){throw new Error(prefix)}var _excluded$b=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$w(i){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$w(i)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$k.apply(this,arguments)}function _slicedToArray$6(i,o){return _arrayWithHoles$7(i)||_iterableToArrayLimit$6(i,o)||_unsupportedIterableToArray$d(i,o)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$d(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$d(i,o)}}function _arrayLikeToArray$d(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$6(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$7(i){if(Array.isArray(i))return i}function _objectWithoutProperties$b(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$b(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$b(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _classCallCheck$d(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$v(_.key),_)}}function _createClass$d(i,o,E){return o&&_defineProperties$d(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$a(i,o,E){return o=_getPrototypeOf$b(o),_possibleConstructorReturn$b(i,_isNativeReflectConstruct$b()?Reflect.construct(o,E||[],_getPrototypeOf$b(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$b(i,o){if(o&&(_typeof$w(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(i)}function _assertThisInitialized$b(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$b(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!i})()}function _getPrototypeOf$b(i){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$b(i)}function _inherits$b(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$b(i,o)}function _setPrototypeOf$b(i,o){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$b(i,o)}function _defineProperty$v(i,o,E){return o=_toPropertyKey$v(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$v(i){var o=_toPrimitive$v(i,"string");return _typeof$w(o)=="symbol"?o:o+""}function _toPrimitive$v(i,o){if(_typeof$w(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$w(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ErrorBar=function(i){function o(){return _classCallCheck$d(this,o),_callSuper$a(this,o,arguments)}return _inherits$b(o,i),_createClass$d(o,[{key:"render",value:function(){var _=this.props,w=_.offset,j=_.layout,S=_.width,A=_.dataKey,R=_.data,C=_.dataPointFormatter,T=_.xAxis,N=_.yAxis,O=_objectWithoutProperties$b(_,_excluded$b),$=filterProps(O,!1);this.props.direction==="x"&&T.type!=="number"&&invariant();var D=R.map(function(L){var I=C(L,A),z=I.x,F=I.y,W=I.value,H=I.errorVal;if(!H)return null;var B=[],U,G;if(Array.isArray(H)){var V=_slicedToArray$6(H,2);U=V[0],G=V[1]}else U=G=H;if(j==="vertical"){var K=T.scale,je=F+w,Z=je+S,fe=je-S,Ae=K(W-U),Oe=K(W+G);B.push({x1:Oe,y1:Z,x2:Oe,y2:fe}),B.push({x1:Ae,y1:je,x2:Oe,y2:je}),B.push({x1:Ae,y1:Z,x2:Ae,y2:fe})}else if(j==="horizontal"){var Pe=N.scale,Ne=z+w,Ce=Ne-S,Me=Ne+S,Q=Pe(W-U),Re=Pe(W+G);B.push({x1:Ce,y1:Re,x2:Me,y2:Re}),B.push({x1:Ne,y1:Q,x2:Ne,y2:Re}),B.push({x1:Ce,y1:Q,x2:Me,y2:Q})}return React.createElement(Layer,_extends$k({className:"recharts-errorBar",key:"bar-".concat(B.map(function(ke){return"".concat(ke.x1,"-").concat(ke.x2,"-").concat(ke.y1,"-").concat(ke.y2)}))},$),B.map(function(ke){return React.createElement("line",_extends$k({},ke,{key:"line-".concat(ke.x1,"-").concat(ke.x2,"-").concat(ke.y1,"-").concat(ke.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},D)}}])}(React.Component);_defineProperty$v(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$v(ErrorBar,"displayName","ErrorBar");function _typeof$v(i){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$v(i)}function ownKeys$r(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$r(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$r(Object(E),!0).forEach(function(_){_defineProperty$u(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$r(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$u(i,o,E){return o=_toPropertyKey$u(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$u(i){var o=_toPrimitive$u(i,"string");return _typeof$v(o)=="symbol"?o:o+""}function _toPrimitive$u(i,o){if(_typeof$v(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$v(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getLegendProps=function(o){var E=o.children,_=o.formattedGraphicalItems,w=o.legendWidth,j=o.legendContent,S=findChildByType(E,Legend);if(!S)return null;var A=Legend.defaultProps,R=A!==void 0?_objectSpread$r(_objectSpread$r({},A),S.props):{},C;return S.props&&S.props.payload?C=S.props&&S.props.payload:j==="children"?C=(_||[]).reduce(function(T,N){var O=N.item,$=N.props,D=$.sectors||$.data||[];return T.concat(D.map(function(L){return{type:S.props.iconType||O.props.legendType,value:L.name,color:L.fill,payload:L}}))},[]):C=(_||[]).map(function(T){var N=T.item,O=N.type.defaultProps,$=O!==void 0?_objectSpread$r(_objectSpread$r({},O),N.props):{},D=$.dataKey,L=$.name,I=$.legendType,z=$.hide;return{inactive:z,dataKey:D,type:R.iconType||I||"square",color:getMainColorOfGraphicItem(N),value:L||D,payload:$}}),_objectSpread$r(_objectSpread$r(_objectSpread$r({},R),Legend.getWithHeight(S,w)),{},{payload:C,item:S})};function _typeof$u(i){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$u(i)}function _toConsumableArray$8(i){return _arrayWithoutHoles$8(i)||_iterableToArray$9(i)||_unsupportedIterableToArray$c(i)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$c(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$c(i,o)}}function _iterableToArray$9(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$8(i){if(Array.isArray(i))return _arrayLikeToArray$c(i)}function _arrayLikeToArray$c(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function ownKeys$q(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$q(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$q(Object(E),!0).forEach(function(_){_defineProperty$t(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$q(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$t(i,o,E){return o=_toPropertyKey$t(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$t(i){var o=_toPrimitive$t(i,"string");return _typeof$u(o)=="symbol"?o:o+""}function _toPrimitive$t(i,o){if(_typeof$u(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$u(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function getValueByDataKey(i,o,E){return isNil$1(i)||isNil$1(o)?E:isNumOrStr(o)?get$2(i,o,E):isFunction$4(o)?o(i):E}function getDomainOfDataByKey(i,o,E,_){var w=flatMap$1(i,function(A){return getValueByDataKey(A,o)});if(E==="number"){var j=w.filter(function(A){return isNumber(A)||parseFloat(A)});return j.length?[min$3(j),max$3(j)]:[1/0,-1/0]}var S=_?w.filter(function(A){return!isNil$1(A)}):w;return S.map(function(A){return isNumOrStr(A)||A instanceof Date?A:""})}var calculateActiveTickIndex=function(o){var E,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0,S=-1,A=(E=_==null?void 0:_.length)!==null&&E!==void 0?E:0;if(A<=1)return 0;if(j&&j.axisType==="angleAxis"&&Math.abs(Math.abs(j.range[1]-j.range[0])-360)<=1e-6)for(var R=j.range,C=0;C<A;C++){var T=C>0?w[C-1].coordinate:w[A-1].coordinate,N=w[C].coordinate,O=C>=A-1?w[0].coordinate:w[C+1].coordinate,$=void 0;if(mathSign(N-T)!==mathSign(O-N)){var D=[];if(mathSign(O-N)===mathSign(R[1]-R[0])){$=O;var L=N+R[1]-R[0];D[0]=Math.min(L,(L+T)/2),D[1]=Math.max(L,(L+T)/2)}else{$=T;var I=O+R[1]-R[0];D[0]=Math.min(N,(I+N)/2),D[1]=Math.max(N,(I+N)/2)}var z=[Math.min(N,($+N)/2),Math.max(N,($+N)/2)];if(o>z[0]&&o<=z[1]||o>=D[0]&&o<=D[1]){S=w[C].index;break}}else{var F=Math.min(T,O),W=Math.max(T,O);if(o>(F+N)/2&&o<=(W+N)/2){S=w[C].index;break}}}else for(var H=0;H<A;H++)if(H===0&&o<=(_[H].coordinate+_[H+1].coordinate)/2||H>0&&H<A-1&&o>(_[H].coordinate+_[H-1].coordinate)/2&&o<=(_[H].coordinate+_[H+1].coordinate)/2||H===A-1&&o>(_[H].coordinate+_[H-1].coordinate)/2){S=_[H].index;break}return S},getMainColorOfGraphicItem=function(o){var E,_=o,w=_.type.displayName,j=(E=o.type)!==null&&E!==void 0&&E.defaultProps?_objectSpread$q(_objectSpread$q({},o.type.defaultProps),o.props):o.props,S=j.stroke,A=j.fill,R;switch(w){case"Line":R=S;break;case"Area":case"Radar":R=S&&S!=="none"?S:A;break;default:R=A;break}return R},getBarSizeList=function(o){var E=o.barSize,_=o.totalSize,w=o.stackGroups,j=w===void 0?{}:w;if(!j)return{};for(var S={},A=Object.keys(j),R=0,C=A.length;R<C;R++)for(var T=j[A[R]].stackGroups,N=Object.keys(T),O=0,$=N.length;O<$;O++){var D=T[N[O]],L=D.items,I=D.cateAxisId,z=L.filter(function(G){return getDisplayName(G.type).indexOf("Bar")>=0});if(z&&z.length){var F=z[0].type.defaultProps,W=F!==void 0?_objectSpread$q(_objectSpread$q({},F),z[0].props):z[0].props,H=W.barSize,B=W[I];S[B]||(S[B]=[]);var U=isNil$1(H)?E:H;S[B].push({item:z[0],stackList:z.slice(1),barSize:isNil$1(U)?void 0:getPercentValue(U,_,0)})}}return S},getBarPosition=function(o){var E=o.barGap,_=o.barCategoryGap,w=o.bandSize,j=o.sizeList,S=j===void 0?[]:j,A=o.maxBarSize,R=S.length;if(R<1)return null;var C=getPercentValue(E,w,0,!0),T,N=[];if(S[0].barSize===+S[0].barSize){var O=!1,$=w/R,D=S.reduce(function(H,B){return H+B.barSize||0},0);D+=(R-1)*C,D>=w&&(D-=(R-1)*C,C=0),D>=w&&$>0&&(O=!0,$*=.9,D=R*$);var L=(w-D)/2>>0,I={offset:L-C,size:0};T=S.reduce(function(H,B){var U={item:B.item,position:{offset:I.offset+I.size+C,size:O?$:B.barSize}},G=[].concat(_toConsumableArray$8(H),[U]);return I=G[G.length-1].position,B.stackList&&B.stackList.length&&B.stackList.forEach(function(V){G.push({item:V,position:I})}),G},N)}else{var z=getPercentValue(_,w,0,!0);w-2*z-(R-1)*C<=0&&(C=0);var F=(w-2*z-(R-1)*C)/R;F>1&&(F>>=0);var W=A===+A?Math.min(F,A):F;T=S.reduce(function(H,B,U){var G=[].concat(_toConsumableArray$8(H),[{item:B.item,position:{offset:z+(F+C)*U+(F-W)/2,size:W}}]);return B.stackList&&B.stackList.length&&B.stackList.forEach(function(V){G.push({item:V,position:G[G.length-1].position})}),G},N)}return T},appendOffsetOfLegend=function(o,E,_,w){var j=_.children,S=_.width,A=_.margin,R=S-(A.left||0)-(A.right||0),C=getLegendProps({children:j,legendWidth:R});if(C){var T=w||{},N=T.width,O=T.height,$=C.align,D=C.verticalAlign,L=C.layout;if((L==="vertical"||L==="horizontal"&&D==="middle")&&$!=="center"&&isNumber(o[$]))return _objectSpread$q(_objectSpread$q({},o),{},_defineProperty$t({},$,o[$]+(N||0)));if((L==="horizontal"||L==="vertical"&&$==="center")&&D!=="middle"&&isNumber(o[D]))return _objectSpread$q(_objectSpread$q({},o),{},_defineProperty$t({},D,o[D]+(O||0)))}return o},isErrorBarRelevantForAxis=function(o,E,_){return isNil$1(E)?!0:o==="horizontal"?E==="yAxis":o==="vertical"||_==="x"?E==="xAxis":_==="y"?E==="yAxis":!0},getDomainOfErrorBars=function(o,E,_,w,j){var S=E.props.children,A=findAllByType(S,ErrorBar).filter(function(C){return isErrorBarRelevantForAxis(w,j,C.props.direction)});if(A&&A.length){var R=A.map(function(C){return C.props.dataKey});return o.reduce(function(C,T){var N=getValueByDataKey(T,_);if(isNil$1(N))return C;var O=Array.isArray(N)?[min$3(N),max$3(N)]:[N,N],$=R.reduce(function(D,L){var I=getValueByDataKey(T,L,0),z=O[0]-Math.abs(Array.isArray(I)?I[0]:I),F=O[1]+Math.abs(Array.isArray(I)?I[1]:I);return[Math.min(z,D[0]),Math.max(F,D[1])]},[1/0,-1/0]);return[Math.min($[0],C[0]),Math.max($[1],C[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(o,E,_,w,j){var S=E.map(function(A){return getDomainOfErrorBars(o,A,_,j,w)}).filter(function(A){return!isNil$1(A)});return S&&S.length?S.reduce(function(A,R){return[Math.min(A[0],R[0]),Math.max(A[1],R[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(o,E,_,w,j){var S=E.map(function(R){var C=R.props.dataKey;return _==="number"&&C&&getDomainOfErrorBars(o,R,C,w)||getDomainOfDataByKey(o,C,_,j)});if(_==="number")return S.reduce(function(R,C){return[Math.min(R[0],C[0]),Math.max(R[1],C[1])]},[1/0,-1/0]);var A={};return S.reduce(function(R,C){for(var T=0,N=C.length;T<N;T++)A[C[T]]||(A[C[T]]=!0,R.push(C[T]));return R},[])},isCategoricalAxis=function(o,E){return o==="horizontal"&&E==="xAxis"||o==="vertical"&&E==="yAxis"||o==="centric"&&E==="angleAxis"||o==="radial"&&E==="radiusAxis"},getCoordinatesOfGrid=function(o,E,_,w){if(w)return o.map(function(R){return R.coordinate});var j,S,A=o.map(function(R){return R.coordinate===E&&(j=!0),R.coordinate===_&&(S=!0),R.coordinate});return j||A.push(E),S||A.push(_),A},getTicksOfAxis=function(o,E,_){if(!o)return null;var w=o.scale,j=o.duplicateDomain,S=o.type,A=o.range,R=o.realScaleType==="scaleBand"?w.bandwidth()/2:2,C=(E||_)&&S==="category"&&w.bandwidth?w.bandwidth()/R:0;if(C=o.axisType==="angleAxis"&&(A==null?void 0:A.length)>=2?mathSign(A[0]-A[1])*2*C:C,E&&(o.ticks||o.niceTicks)){var T=(o.ticks||o.niceTicks).map(function(N){var O=j?j.indexOf(N):N;return{coordinate:w(O)+C,value:N,offset:C}});return T.filter(function(N){return!isNan(N.coordinate)})}return o.isCategorical&&o.categoricalDomain?o.categoricalDomain.map(function(N,O){return{coordinate:w(N)+C,value:N,index:O,offset:C}}):w.ticks&&!_?w.ticks(o.tickCount).map(function(N){return{coordinate:w(N)+C,value:N,offset:C}}):w.domain().map(function(N,O){return{coordinate:w(N)+C,value:j?j[N]:N,index:O,offset:C}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(o,E){if(typeof E!="function")return o;handlerWeakMap.has(o)||handlerWeakMap.set(o,new WeakMap);var _=handlerWeakMap.get(o);if(_.has(E))return _.get(E);var w=function(){o.apply(void 0,arguments),E.apply(void 0,arguments)};return _.set(E,w),w},parseScale=function(o,E,_){var w=o.scale,j=o.type,S=o.layout,A=o.axisType;if(w==="auto")return S==="radial"&&A==="radiusAxis"?{scale:band(),realScaleType:"band"}:S==="radial"&&A==="angleAxis"?{scale:linear(),realScaleType:"linear"}:j==="category"&&E&&(E.indexOf("LineChart")>=0||E.indexOf("AreaChart")>=0||E.indexOf("ComposedChart")>=0&&!_)?{scale:point(),realScaleType:"point"}:j==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(w)){var R="scale".concat(upperFirst$1(w));return{scale:(d3Scales[R]||point)(),realScaleType:d3Scales[R]?R:"point"}}return isFunction$4(w)?{scale:w}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(o){var E=o.domain();if(!(!E||E.length<=2)){var _=E.length,w=o.range(),j=Math.min(w[0],w[1])-EPS,S=Math.max(w[0],w[1])+EPS,A=o(E[0]),R=o(E[_-1]);(A<j||A>S||R<j||R>S)&&o.domain([E[0],E[_-1]])}},findPositionOfBar=function(o,E){if(!o)return null;for(var _=0,w=o.length;_<w;_++)if(o[_].item===E)return o[_].position;return null},truncateByDomain=function(o,E){if(!E||E.length!==2||!isNumber(E[0])||!isNumber(E[1]))return o;var _=Math.min(E[0],E[1]),w=Math.max(E[0],E[1]),j=[o[0],o[1]];return(!isNumber(o[0])||o[0]<_)&&(j[0]=_),(!isNumber(o[1])||o[1]>w)&&(j[1]=w),j[0]>w&&(j[0]=w),j[1]<_&&(j[1]=_),j},offsetSign=function(o){var E=o.length;if(!(E<=0))for(var _=0,w=o[0].length;_<w;++_)for(var j=0,S=0,A=0;A<E;++A){var R=isNan(o[A][_][1])?o[A][_][0]:o[A][_][1];R>=0?(o[A][_][0]=j,o[A][_][1]=j+R,j=o[A][_][1]):(o[A][_][0]=S,o[A][_][1]=S+R,S=o[A][_][1])}},offsetPositive=function(o){var E=o.length;if(!(E<=0))for(var _=0,w=o[0].length;_<w;++_)for(var j=0,S=0;S<E;++S){var A=isNan(o[S][_][1])?o[S][_][0]:o[S][_][1];A>=0?(o[S][_][0]=j,o[S][_][1]=j+A,j=o[S][_][1]):(o[S][_][0]=0,o[S][_][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(o,E,_){var w=E.map(function(A){return A.props.dataKey}),j=STACK_OFFSET_MAP[_],S=shapeStack().keys(w).value(function(A,R){return+getValueByDataKey(A,R,0)}).order(stackOrderNone).offset(j);return S(o)},getStackGroupsByAxisId=function(o,E,_,w,j,S){if(!o)return null;var A=S?E.reverse():E,R={},C=A.reduce(function(N,O){var $,D=($=O.type)!==null&&$!==void 0&&$.defaultProps?_objectSpread$q(_objectSpread$q({},O.type.defaultProps),O.props):O.props,L=D.stackId,I=D.hide;if(I)return N;var z=D[_],F=N[z]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(L)){var W=F.stackGroups[L]||{numericAxisId:_,cateAxisId:w,items:[]};W.items.push(O),F.hasStack=!0,F.stackGroups[L]=W}else F.stackGroups[uniqueId("_stackId_")]={numericAxisId:_,cateAxisId:w,items:[O]};return _objectSpread$q(_objectSpread$q({},N),{},_defineProperty$t({},z,F))},R),T={};return Object.keys(C).reduce(function(N,O){var $=C[O];if($.hasStack){var D={};$.stackGroups=Object.keys($.stackGroups).reduce(function(L,I){var z=$.stackGroups[I];return _objectSpread$q(_objectSpread$q({},L),{},_defineProperty$t({},I,{numericAxisId:_,cateAxisId:w,items:z.items,stackedData:getStackedData(o,z.items,j)}))},D)}return _objectSpread$q(_objectSpread$q({},N),{},_defineProperty$t({},O,$))},T)},getTicksOfScale=function(o,E){var _=E.realScaleType,w=E.type,j=E.tickCount,S=E.originalDomain,A=E.allowDecimals,R=_||E.scale;if(R!=="auto"&&R!=="linear")return null;if(j&&w==="number"&&S&&(S[0]==="auto"||S[1]==="auto")){var C=o.domain();if(!C.length)return null;var T=getNiceTickValues(C,j,A);return o.domain([min$3(T),max$3(T)]),{niceTicks:T}}if(j&&w==="number"){var N=o.domain(),O=getTickValuesFixedDomain(N,j,A);return{niceTicks:O}}return null};function getCateCoordinateOfLine(i){var o=i.axis,E=i.ticks,_=i.bandSize,w=i.entry,j=i.index,S=i.dataKey;if(o.type==="category"){if(!o.allowDuplicatedCategory&&o.dataKey&&!isNil$1(w[o.dataKey])){var A=findEntryInArray(E,"value",w[o.dataKey]);if(A)return A.coordinate+_/2}return E[j]?E[j].coordinate+_/2:null}var R=getValueByDataKey(w,isNil$1(S)?o.dataKey:S);return isNil$1(R)?null:o.scale(R)}var getCateCoordinateOfBar=function(o){var E=o.axis,_=o.ticks,w=o.offset,j=o.bandSize,S=o.entry,A=o.index;if(E.type==="category")return _[A]?_[A].coordinate+w:null;var R=getValueByDataKey(S,E.dataKey,E.domain[A]);return isNil$1(R)?null:E.scale(R)-j/2+w},getBaseValueOfBar=function(o){var E=o.numericAxis,_=E.scale.domain();if(E.type==="number"){var w=Math.min(_[0],_[1]),j=Math.max(_[0],_[1]);return w<=0&&j>=0?0:j<0?j:w}return _[0]},getStackedDataOfItem=function(o,E){var _,w=(_=o.type)!==null&&_!==void 0&&_.defaultProps?_objectSpread$q(_objectSpread$q({},o.type.defaultProps),o.props):o.props,j=w.stackId;if(isNumOrStr(j)){var S=E[j];if(S){var A=S.items.indexOf(o);return A>=0?S.stackedData[A]:null}}return null},getDomainOfSingle=function(o){return o.reduce(function(E,_){return[min$3(_.concat([E[0]]).filter(isNumber)),max$3(_.concat([E[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function(o,E,_){return Object.keys(o).reduce(function(w,j){var S=o[j],A=S.stackedData,R=A.reduce(function(C,T){var N=getDomainOfSingle(T.slice(E,_+1));return[Math.min(C[0],N[0]),Math.max(C[1],N[1])]},[1/0,-1/0]);return[Math.min(R[0],w[0]),Math.max(R[1],w[1])]},[1/0,-1/0]).map(function(w){return w===1/0||w===-1/0?0:w})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(o,E,_){if(isFunction$4(o))return o(E,_);if(!Array.isArray(o))return E;var w=[];if(isNumber(o[0]))w[0]=_?o[0]:Math.min(o[0],E[0]);else if(MIN_VALUE_REG.test(o[0])){var j=+MIN_VALUE_REG.exec(o[0])[1];w[0]=E[0]-j}else isFunction$4(o[0])?w[0]=o[0](E[0]):w[0]=E[0];if(isNumber(o[1]))w[1]=_?o[1]:Math.max(o[1],E[1]);else if(MAX_VALUE_REG.test(o[1])){var S=+MAX_VALUE_REG.exec(o[1])[1];w[1]=E[1]+S}else isFunction$4(o[1])?w[1]=o[1](E[1]):w[1]=E[1];return w},getBandSizeOfAxis=function(o,E,_){if(o&&o.scale&&o.scale.bandwidth){var w=o.scale.bandwidth();if(!_||w>0)return w}if(o&&E&&E.length>=2){for(var j=sortBy$1(E,function(N){return N.coordinate}),S=1/0,A=1,R=j.length;A<R;A++){var C=j[A],T=j[A-1];S=Math.min((C.coordinate||0)-(T.coordinate||0),S)}return S===1/0?0:S}return _?void 0:0},parseDomainOfCategoryAxis=function(o,E,_){return!o||!o.length||isEqual$1(o,get$2(_,"type.defaultProps.domain"))?E:o},getTooltipItem=function(o,E){var _=o.type.defaultProps?_objectSpread$q(_objectSpread$q({},o.type.defaultProps),o.props):o.props,w=_.dataKey,j=_.name,S=_.unit,A=_.formatter,R=_.tooltipType,C=_.chartType,T=_.hide;return _objectSpread$q(_objectSpread$q({},filterProps(o,!1)),{},{dataKey:w,unit:S,formatter:A,name:j||w,color:getMainColorOfGraphicItem(o),value:getValueByDataKey(E,w),type:R,payload:E,chartType:C,hide:T})};function _typeof$t(i){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$t(i)}function ownKeys$p(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$p(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$p(Object(E),!0).forEach(function(_){_defineProperty$s(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$p(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$s(i,o,E){return o=_toPropertyKey$s(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$s(i){var o=_toPrimitive$s(i,"string");return _typeof$t(o)=="symbol"?o:o+""}function _toPrimitive$s(i,o){if(_typeof$t(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$t(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var RADIAN=Math.PI/180,radianToDegree=function(o){return o*180/Math.PI},polarToCartesian=function(o,E,_,w){return{x:o+Math.cos(-RADIAN*w)*_,y:E+Math.sin(-RADIAN*w)*_}},distanceBetweenPoints=function(o,E){var _=o.x,w=o.y,j=E.x,S=E.y;return Math.sqrt(Math.pow(_-j,2)+Math.pow(w-S,2))},getAngleOfPoint=function(o,E){var _=o.x,w=o.y,j=E.cx,S=E.cy,A=distanceBetweenPoints({x:_,y:w},{x:j,y:S});if(A<=0)return{radius:A};var R=(_-j)/A,C=Math.acos(R);return w>S&&(C=2*Math.PI-C),{radius:A,angle:radianToDegree(C),angleInRadian:C}},formatAngleOfSector=function(o){var E=o.startAngle,_=o.endAngle,w=Math.floor(E/360),j=Math.floor(_/360),S=Math.min(w,j);return{startAngle:E-S*360,endAngle:_-S*360}},reverseFormatAngleOfSetor=function(o,E){var _=E.startAngle,w=E.endAngle,j=Math.floor(_/360),S=Math.floor(w/360),A=Math.min(j,S);return o+A*360},inRangeOfSector=function(o,E){var _=o.x,w=o.y,j=getAngleOfPoint({x:_,y:w},E),S=j.radius,A=j.angle,R=E.innerRadius,C=E.outerRadius;if(S<R||S>C)return!1;if(S===0)return!0;var T=formatAngleOfSector(E),N=T.startAngle,O=T.endAngle,$=A,D;if(N<=O){for(;$>O;)$-=360;for(;$<N;)$+=360;D=$>=N&&$<=O}else{for(;$>N;)$-=360;for(;$<O;)$+=360;D=$>=O&&$<=N}return D?_objectSpread$p(_objectSpread$p({},E),{},{radius:S,angle:reverseFormatAngleOfSetor($,E)}):null};function _typeof$s(i){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$s(i)}var _excluded$a=["offset"];function _toConsumableArray$7(i){return _arrayWithoutHoles$7(i)||_iterableToArray$8(i)||_unsupportedIterableToArray$b(i)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$b(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$b(i,o)}}function _iterableToArray$8(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$7(i){if(Array.isArray(i))return _arrayLikeToArray$b(i)}function _arrayLikeToArray$b(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _objectWithoutProperties$a(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$a(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$a(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function ownKeys$o(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$o(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$o(Object(E),!0).forEach(function(_){_defineProperty$r(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$o(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$r(i,o,E){return o=_toPropertyKey$r(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$r(i){var o=_toPrimitive$r(i,"string");return _typeof$s(o)=="symbol"?o:o+""}function _toPrimitive$r(i,o){if(_typeof$s(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$s(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$j.apply(this,arguments)}var getLabel=function(o){var E=o.value,_=o.formatter,w=isNil$1(o.children)?E:o.children;return isFunction$4(_)?_(w):w},getDeltaAngle$1=function(o,E){var _=mathSign(E-o),w=Math.min(Math.abs(E-o),360);return _*w},renderRadialLabel=function(o,E,_){var w=o.position,j=o.viewBox,S=o.offset,A=o.className,R=j,C=R.cx,T=R.cy,N=R.innerRadius,O=R.outerRadius,$=R.startAngle,D=R.endAngle,L=R.clockWise,I=(N+O)/2,z=getDeltaAngle$1($,D),F=z>=0?1:-1,W,H;w==="insideStart"?(W=$+F*S,H=L):w==="insideEnd"?(W=D-F*S,H=!L):w==="end"&&(W=D+F*S,H=L),H=z<=0?H:!H;var B=polarToCartesian(C,T,I,W),U=polarToCartesian(C,T,I,W+(H?1:-1)*359),G="M".concat(B.x,",").concat(B.y,`
    A`).concat(I,",").concat(I,",0,1,").concat(H?0:1,`,
    `).concat(U.x,",").concat(U.y),V=isNil$1(o.id)?uniqueId("recharts-radial-line-"):o.id;return React.createElement("text",_extends$j({},_,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",A)}),React.createElement("defs",null,React.createElement("path",{id:V,d:G})),React.createElement("textPath",{xlinkHref:"#".concat(V)},E))},getAttrsOfPolarLabel=function(o){var E=o.viewBox,_=o.offset,w=o.position,j=E,S=j.cx,A=j.cy,R=j.innerRadius,C=j.outerRadius,T=j.startAngle,N=j.endAngle,O=(T+N)/2;if(w==="outside"){var $=polarToCartesian(S,A,C+_,O),D=$.x,L=$.y;return{x:D,y:L,textAnchor:D>=S?"start":"end",verticalAnchor:"middle"}}if(w==="center")return{x:S,y:A,textAnchor:"middle",verticalAnchor:"middle"};if(w==="centerTop")return{x:S,y:A,textAnchor:"middle",verticalAnchor:"start"};if(w==="centerBottom")return{x:S,y:A,textAnchor:"middle",verticalAnchor:"end"};var I=(R+C)/2,z=polarToCartesian(S,A,I,O),F=z.x,W=z.y;return{x:F,y:W,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(o){var E=o.viewBox,_=o.parentViewBox,w=o.offset,j=o.position,S=E,A=S.x,R=S.y,C=S.width,T=S.height,N=T>=0?1:-1,O=N*w,$=N>0?"end":"start",D=N>0?"start":"end",L=C>=0?1:-1,I=L*w,z=L>0?"end":"start",F=L>0?"start":"end";if(j==="top"){var W={x:A+C/2,y:R-N*w,textAnchor:"middle",verticalAnchor:$};return _objectSpread$o(_objectSpread$o({},W),_?{height:Math.max(R-_.y,0),width:C}:{})}if(j==="bottom"){var H={x:A+C/2,y:R+T+O,textAnchor:"middle",verticalAnchor:D};return _objectSpread$o(_objectSpread$o({},H),_?{height:Math.max(_.y+_.height-(R+T),0),width:C}:{})}if(j==="left"){var B={x:A-I,y:R+T/2,textAnchor:z,verticalAnchor:"middle"};return _objectSpread$o(_objectSpread$o({},B),_?{width:Math.max(B.x-_.x,0),height:T}:{})}if(j==="right"){var U={x:A+C+I,y:R+T/2,textAnchor:F,verticalAnchor:"middle"};return _objectSpread$o(_objectSpread$o({},U),_?{width:Math.max(_.x+_.width-U.x,0),height:T}:{})}var G=_?{width:C,height:T}:{};return j==="insideLeft"?_objectSpread$o({x:A+I,y:R+T/2,textAnchor:F,verticalAnchor:"middle"},G):j==="insideRight"?_objectSpread$o({x:A+C-I,y:R+T/2,textAnchor:z,verticalAnchor:"middle"},G):j==="insideTop"?_objectSpread$o({x:A+C/2,y:R+O,textAnchor:"middle",verticalAnchor:D},G):j==="insideBottom"?_objectSpread$o({x:A+C/2,y:R+T-O,textAnchor:"middle",verticalAnchor:$},G):j==="insideTopLeft"?_objectSpread$o({x:A+I,y:R+O,textAnchor:F,verticalAnchor:D},G):j==="insideTopRight"?_objectSpread$o({x:A+C-I,y:R+O,textAnchor:z,verticalAnchor:D},G):j==="insideBottomLeft"?_objectSpread$o({x:A+I,y:R+T-O,textAnchor:F,verticalAnchor:$},G):j==="insideBottomRight"?_objectSpread$o({x:A+C-I,y:R+T-O,textAnchor:z,verticalAnchor:$},G):isObject$8(j)&&(isNumber(j.x)||isPercent(j.x))&&(isNumber(j.y)||isPercent(j.y))?_objectSpread$o({x:A+getPercentValue(j.x,C),y:R+getPercentValue(j.y,T),textAnchor:"end",verticalAnchor:"end"},G):_objectSpread$o({x:A+C/2,y:R+T/2,textAnchor:"middle",verticalAnchor:"middle"},G)},isPolar=function(o){return"cx"in o&&isNumber(o.cx)};function Label$4(i){var o=i.offset,E=o===void 0?5:o,_=_objectWithoutProperties$a(i,_excluded$a),w=_objectSpread$o({offset:E},_),j=w.viewBox,S=w.position,A=w.value,R=w.children,C=w.content,T=w.className,N=T===void 0?"":T,O=w.textBreakAll;if(!j||isNil$1(A)&&isNil$1(R)&&!reactExports.isValidElement(C)&&!isFunction$4(C))return null;if(reactExports.isValidElement(C))return reactExports.cloneElement(C,w);var $;if(isFunction$4(C)){if($=reactExports.createElement(C,w),reactExports.isValidElement($))return $}else $=getLabel(w);var D=isPolar(j),L=filterProps(w,!0);if(D&&(S==="insideStart"||S==="insideEnd"||S==="end"))return renderRadialLabel(w,$,L);var I=D?getAttrsOfPolarLabel(w):getAttrsOfCartesianLabel(w);return React.createElement(Text,_extends$j({className:clsx("recharts-label",N)},L,I,{breakAll:O}),$)}Label$4.displayName="Label";var parseViewBox=function(o){var E=o.cx,_=o.cy,w=o.angle,j=o.startAngle,S=o.endAngle,A=o.r,R=o.radius,C=o.innerRadius,T=o.outerRadius,N=o.x,O=o.y,$=o.top,D=o.left,L=o.width,I=o.height,z=o.clockWise,F=o.labelViewBox;if(F)return F;if(isNumber(L)&&isNumber(I)){if(isNumber(N)&&isNumber(O))return{x:N,y:O,width:L,height:I};if(isNumber($)&&isNumber(D))return{x:$,y:D,width:L,height:I}}return isNumber(N)&&isNumber(O)?{x:N,y:O,width:0,height:0}:isNumber(E)&&isNumber(_)?{cx:E,cy:_,startAngle:j||w||0,endAngle:S||w||0,innerRadius:C||0,outerRadius:T||R||A||0,clockWise:z}:o.viewBox?o.viewBox:{}},parseLabel=function(o,E){return o?o===!0?React.createElement(Label$4,{key:"label-implicit",viewBox:E}):isNumOrStr(o)?React.createElement(Label$4,{key:"label-implicit",viewBox:E,value:o}):reactExports.isValidElement(o)?o.type===Label$4?reactExports.cloneElement(o,{key:"label-implicit",viewBox:E}):React.createElement(Label$4,{key:"label-implicit",content:o,viewBox:E}):isFunction$4(o)?React.createElement(Label$4,{key:"label-implicit",content:o,viewBox:E}):isObject$8(o)?React.createElement(Label$4,_extends$j({viewBox:E},o,{key:"label-implicit"})):null:null},renderCallByParent$1=function(o,E){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!o||!o.children&&_&&!o.label)return null;var w=o.children,j=parseViewBox(o),S=findAllByType(w,Label$4).map(function(R,C){return reactExports.cloneElement(R,{viewBox:E||j,key:"label-".concat(C)})});if(!_)return S;var A=parseLabel(o.label,E||j);return[A].concat(_toConsumableArray$7(S))};Label$4.parseViewBox=parseViewBox;Label$4.renderCallByParent=renderCallByParent$1;function last(i){var o=i==null?0:i.length;return o?i[o-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$r(i){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$r(i)}var _excluded$9=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(i){return _arrayWithoutHoles$6(i)||_iterableToArray$7(i)||_unsupportedIterableToArray$a(i)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$a(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$a(i,o)}}function _iterableToArray$7(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$6(i){if(Array.isArray(i))return _arrayLikeToArray$a(i)}function _arrayLikeToArray$a(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$i.apply(this,arguments)}function ownKeys$n(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$n(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$n(Object(E),!0).forEach(function(_){_defineProperty$q(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$n(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$q(i,o,E){return o=_toPropertyKey$q(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$q(i){var o=_toPrimitive$q(i,"string");return _typeof$r(o)=="symbol"?o:o+""}function _toPrimitive$q(i,o){if(_typeof$r(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$r(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$9(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$9(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$9(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}var defaultAccessor=function(o){return Array.isArray(o.value)?last$1(o.value):o.value};function LabelList(i){var o=i.valueAccessor,E=o===void 0?defaultAccessor:o,_=_objectWithoutProperties$9(i,_excluded$9),w=_.data,j=_.dataKey,S=_.clockWise,A=_.id,R=_.textBreakAll,C=_objectWithoutProperties$9(_,_excluded2$4);return!w||!w.length?null:React.createElement(Layer,{className:"recharts-label-list"},w.map(function(T,N){var O=isNil$1(j)?E(T,N):getValueByDataKey(T&&T.payload,j),$=isNil$1(A)?{}:{id:"".concat(A,"-").concat(N)};return React.createElement(Label$4,_extends$i({},filterProps(T,!0),C,$,{parentViewBox:T.parentViewBox,value:O,textBreakAll:R,viewBox:Label$4.parseViewBox(isNil$1(S)?T:_objectSpread$n(_objectSpread$n({},T),{},{clockWise:S})),key:"label-".concat(N),index:N}))}))}LabelList.displayName="LabelList";function parseLabelList(i,o){return i?i===!0?React.createElement(LabelList,{key:"labelList-implicit",data:o}):React.isValidElement(i)||isFunction$4(i)?React.createElement(LabelList,{key:"labelList-implicit",data:o,content:i}):isObject$8(i)?React.createElement(LabelList,_extends$i({data:o},i,{key:"labelList-implicit"})):null:null}function renderCallByParent(i,o){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!i||!i.children&&E&&!i.label)return null;var _=i.children,w=findAllByType(_,LabelList).map(function(S,A){return reactExports.cloneElement(S,{data:o,key:"labelList-".concat(A)})});if(!E)return w;var j=parseLabelList(i.label,o);return[j].concat(_toConsumableArray$6(w))}LabelList.renderCallByParent=renderCallByParent;function _typeof$q(i){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$q(i)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$h.apply(this,arguments)}function ownKeys$m(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$m(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$m(Object(E),!0).forEach(function(_){_defineProperty$p(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$m(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$p(i,o,E){return o=_toPropertyKey$p(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$p(i){var o=_toPrimitive$p(i,"string");return _typeof$q(o)=="symbol"?o:o+""}function _toPrimitive$p(i,o){if(_typeof$q(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$q(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getDeltaAngle=function(o,E){var _=mathSign(E-o),w=Math.min(Math.abs(E-o),359.999);return _*w},getTangentCircle=function(o){var E=o.cx,_=o.cy,w=o.radius,j=o.angle,S=o.sign,A=o.isExternal,R=o.cornerRadius,C=o.cornerIsExternal,T=R*(A?1:-1)+w,N=Math.asin(R/T)/RADIAN,O=C?j:j+S*N,$=polarToCartesian(E,_,T,O),D=polarToCartesian(E,_,w,O),L=C?j-S*N:j,I=polarToCartesian(E,_,T*Math.cos(N*RADIAN),L);return{center:$,circleTangency:D,lineTangency:I,theta:N}},getSectorPath=function(o){var E=o.cx,_=o.cy,w=o.innerRadius,j=o.outerRadius,S=o.startAngle,A=o.endAngle,R=getDeltaAngle(S,A),C=S+R,T=polarToCartesian(E,_,j,S),N=polarToCartesian(E,_,j,C),O="M ".concat(T.x,",").concat(T.y,`
    A `).concat(j,",").concat(j,`,0,
    `).concat(+(Math.abs(R)>180),",").concat(+(S>C),`,
    `).concat(N.x,",").concat(N.y,`
  `);if(w>0){var $=polarToCartesian(E,_,w,S),D=polarToCartesian(E,_,w,C);O+="L ".concat(D.x,",").concat(D.y,`
            A `).concat(w,",").concat(w,`,0,
            `).concat(+(Math.abs(R)>180),",").concat(+(S<=C),`,
            `).concat($.x,",").concat($.y," Z")}else O+="L ".concat(E,",").concat(_," Z");return O},getSectorWithCorner=function(o){var E=o.cx,_=o.cy,w=o.innerRadius,j=o.outerRadius,S=o.cornerRadius,A=o.forceCornerRadius,R=o.cornerIsExternal,C=o.startAngle,T=o.endAngle,N=mathSign(T-C),O=getTangentCircle({cx:E,cy:_,radius:j,angle:C,sign:N,cornerRadius:S,cornerIsExternal:R}),$=O.circleTangency,D=O.lineTangency,L=O.theta,I=getTangentCircle({cx:E,cy:_,radius:j,angle:T,sign:-N,cornerRadius:S,cornerIsExternal:R}),z=I.circleTangency,F=I.lineTangency,W=I.theta,H=R?Math.abs(C-T):Math.abs(C-T)-L-W;if(H<0)return A?"M ".concat(D.x,",").concat(D.y,`
        a`).concat(S,",").concat(S,",0,0,1,").concat(S*2,`,0
        a`).concat(S,",").concat(S,",0,0,1,").concat(-S*2,`,0
      `):getSectorPath({cx:E,cy:_,innerRadius:w,outerRadius:j,startAngle:C,endAngle:T});var B="M ".concat(D.x,",").concat(D.y,`
    A`).concat(S,",").concat(S,",0,0,").concat(+(N<0),",").concat($.x,",").concat($.y,`
    A`).concat(j,",").concat(j,",0,").concat(+(H>180),",").concat(+(N<0),",").concat(z.x,",").concat(z.y,`
    A`).concat(S,",").concat(S,",0,0,").concat(+(N<0),",").concat(F.x,",").concat(F.y,`
  `);if(w>0){var U=getTangentCircle({cx:E,cy:_,radius:w,angle:C,sign:N,isExternal:!0,cornerRadius:S,cornerIsExternal:R}),G=U.circleTangency,V=U.lineTangency,K=U.theta,je=getTangentCircle({cx:E,cy:_,radius:w,angle:T,sign:-N,isExternal:!0,cornerRadius:S,cornerIsExternal:R}),Z=je.circleTangency,fe=je.lineTangency,Ae=je.theta,Oe=R?Math.abs(C-T):Math.abs(C-T)-K-Ae;if(Oe<0&&S===0)return"".concat(B,"L").concat(E,",").concat(_,"Z");B+="L".concat(fe.x,",").concat(fe.y,`
      A`).concat(S,",").concat(S,",0,0,").concat(+(N<0),",").concat(Z.x,",").concat(Z.y,`
      A`).concat(w,",").concat(w,",0,").concat(+(Oe>180),",").concat(+(N>0),",").concat(G.x,",").concat(G.y,`
      A`).concat(S,",").concat(S,",0,0,").concat(+(N<0),",").concat(V.x,",").concat(V.y,"Z")}else B+="L".concat(E,",").concat(_,"Z");return B},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(o){var E=_objectSpread$m(_objectSpread$m({},defaultProps$3),o),_=E.cx,w=E.cy,j=E.innerRadius,S=E.outerRadius,A=E.cornerRadius,R=E.forceCornerRadius,C=E.cornerIsExternal,T=E.startAngle,N=E.endAngle,O=E.className;if(S<j||T===N)return null;var $=clsx("recharts-sector",O),D=S-j,L=getPercentValue(A,D,0,!0),I;return L>0&&Math.abs(T-N)<360?I=getSectorWithCorner({cx:_,cy:w,innerRadius:j,outerRadius:S,cornerRadius:Math.min(L,D/2),forceCornerRadius:R,cornerIsExternal:C,startAngle:T,endAngle:N}):I=getSectorPath({cx:_,cy:w,innerRadius:j,outerRadius:S,startAngle:T,endAngle:N}),React.createElement("path",_extends$h({},filterProps(E,!0),{className:$,d:I,role:"img"}))};function _typeof$p(i){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$p(i)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$g.apply(this,arguments)}function ownKeys$l(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$l(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$l(Object(E),!0).forEach(function(_){_defineProperty$o(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$l(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$o(i,o,E){return o=_toPropertyKey$o(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$o(i){var o=_toPrimitive$o(i,"string");return _typeof$p(o)=="symbol"?o:o+""}function _toPrimitive$o(i,o){if(_typeof$p(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$p(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function(o){return o.x===+o.x&&o.y===+o.y},getX=function(o){return o.x},getY=function(o){return o.y},getCurveFactory=function(o,E){if(isFunction$4(o))return o;var _="curve".concat(upperFirst$1(o));return(_==="curveMonotone"||_==="curveBump")&&E?CURVE_FACTORIES["".concat(_).concat(E==="vertical"?"Y":"X")]:CURVE_FACTORIES[_]||curveLinear},getPath$1=function(o){var E=o.type,_=E===void 0?"linear":E,w=o.points,j=w===void 0?[]:w,S=o.baseLine,A=o.layout,R=o.connectNulls,C=R===void 0?!1:R,T=getCurveFactory(_,A),N=C?j.filter(function(L){return defined(L)}):j,O;if(Array.isArray(S)){var $=C?S.filter(function(L){return defined(L)}):S,D=N.map(function(L,I){return _objectSpread$l(_objectSpread$l({},L),{},{base:$[I]})});return A==="vertical"?O=shapeArea().y(getY).x1(getX).x0(function(L){return L.base.x}):O=shapeArea().x(getX).y1(getY).y0(function(L){return L.base.y}),O.defined(defined).curve(T),O(D)}return A==="vertical"&&isNumber(S)?O=shapeArea().y(getY).x1(getX).x0(S):isNumber(S)?O=shapeArea().x(getX).y1(getY).y0(S):O=shapeLine().x(getX).y(getY),O.defined(defined).curve(T),O(N)},Curve=function(o){var E=o.className,_=o.points,w=o.path,j=o.pathRef;if((!_||!_.length)&&!w)return null;var S=_&&_.length?getPath$1(o):w;return reactExports.createElement("path",_extends$g({},filterProps(o,!1),adaptEventHandlers(o),{className:clsx("recharts-curve",E),d:S,ref:j}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(_,w,j,S,A,R){if(R!==ReactPropTypesSecret){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}i.isRequired=i;function o(){return i}var E={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return E.PropTypes=E,E};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(i,o){return function(_,w,j){return i(_,w,j)&&o(_,w,j)}}function createIsCircular(i){return function(E,_,w){if(!E||!_||typeof E!="object"||typeof _!="object")return i(E,_,w);var j=w.cache,S=j.get(E),A=j.get(_);if(S&&A)return S===_&&A===E;j.set(E,_),j.set(_,E);var R=i(E,_,w);return j.delete(E),j.delete(_),R}}function getStrictProperties(i){return getOwnPropertyNames(i).concat(getOwnPropertySymbols(i))}var hasOwn=Object.hasOwn||function(i,o){return hasOwnProperty$1.call(i,o)};function sameValueZeroEqual(i,o){return i===o||!i&&!o&&i!==i&&o!==o}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(i,o,E){var _=i.length;if(o.length!==_)return!1;for(;_-- >0;)if(!E.equals(i[_],o[_],_,_,i,o,E))return!1;return!0}function areDatesEqual(i,o){return sameValueZeroEqual(i.getTime(),o.getTime())}function areErrorsEqual(i,o){return i.name===o.name&&i.message===o.message&&i.cause===o.cause&&i.stack===o.stack}function areFunctionsEqual(i,o){return i===o}function areMapsEqual(i,o,E){var _=i.size;if(_!==o.size)return!1;if(!_)return!0;for(var w=new Array(_),j=i.entries(),S,A,R=0;(S=j.next())&&!S.done;){for(var C=o.entries(),T=!1,N=0;(A=C.next())&&!A.done;){if(w[N]){N++;continue}var O=S.value,$=A.value;if(E.equals(O[0],$[0],R,N,i,o,E)&&E.equals(O[1],$[1],O[0],$[0],i,o,E)){T=w[N]=!0;break}N++}if(!T)return!1;R++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(i,o,E){var _=keys$1(i),w=_.length;if(keys$1(o).length!==w)return!1;for(;w-- >0;)if(!isPropertyEqual(i,o,E,_[w]))return!1;return!0}function areObjectsEqualStrict(i,o,E){var _=getStrictProperties(i),w=_.length;if(getStrictProperties(o).length!==w)return!1;for(var j,S,A;w-- >0;)if(j=_[w],!isPropertyEqual(i,o,E,j)||(S=getOwnPropertyDescriptor$1(i,j),A=getOwnPropertyDescriptor$1(o,j),(S||A)&&(!S||!A||S.configurable!==A.configurable||S.enumerable!==A.enumerable||S.writable!==A.writable)))return!1;return!0}function arePrimitiveWrappersEqual(i,o){return sameValueZeroEqual(i.valueOf(),o.valueOf())}function areRegExpsEqual(i,o){return i.source===o.source&&i.flags===o.flags}function areSetsEqual(i,o,E){var _=i.size;if(_!==o.size)return!1;if(!_)return!0;for(var w=new Array(_),j=i.values(),S,A;(S=j.next())&&!S.done;){for(var R=o.values(),C=!1,T=0;(A=R.next())&&!A.done;){if(!w[T]&&E.equals(S.value,A.value,S.value,A.value,i,o,E)){C=w[T]=!0;break}T++}if(!C)return!1}return!0}function areTypedArraysEqual(i,o){var E=i.length;if(o.length!==E)return!1;for(;E-- >0;)if(i[E]!==o[E])return!1;return!0}function areUrlsEqual(i,o){return i.hostname===o.hostname&&i.pathname===o.pathname&&i.protocol===o.protocol&&i.port===o.port&&i.hash===o.hash&&i.username===o.username&&i.password===o.password}function isPropertyEqual(i,o,E,_){return(_===REACT_OWNER||_===PREACT_OWNER||_===PREACT_VNODE)&&(i.$$typeof||o.$$typeof)?!0:hasOwn(o,_)&&E.equals(i[_],o[_],_,_,i,o,E)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray$2=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(i){var o=i.areArraysEqual,E=i.areDatesEqual,_=i.areErrorsEqual,w=i.areFunctionsEqual,j=i.areMapsEqual,S=i.areNumbersEqual,A=i.areObjectsEqual,R=i.arePrimitiveWrappersEqual,C=i.areRegExpsEqual,T=i.areSetsEqual,N=i.areTypedArraysEqual,O=i.areUrlsEqual;return function(D,L,I){if(D===L)return!0;if(D==null||L==null)return!1;var z=typeof D;if(z!==typeof L)return!1;if(z!=="object")return z==="number"?S(D,L,I):z==="function"?w(D,L,I):!1;var F=D.constructor;if(F!==L.constructor)return!1;if(F===Object)return A(D,L,I);if(isArray$2(D))return o(D,L,I);if(isTypedArray!=null&&isTypedArray(D))return N(D,L,I);if(F===Date)return E(D,L,I);if(F===RegExp)return C(D,L,I);if(F===Map)return j(D,L,I);if(F===Set)return T(D,L,I);var W=getTag(D);return W===DATE_TAG?E(D,L,I):W===REG_EXP_TAG?C(D,L,I):W===MAP_TAG?j(D,L,I):W===SET_TAG?T(D,L,I):W===OBJECT_TAG?typeof D.then!="function"&&typeof L.then!="function"&&A(D,L,I):W===URL_TAG?O(D,L,I):W===ERROR_TAG?_(D,L,I):W===ARGUMENTS_TAG?A(D,L,I):W===BOOLEAN_TAG||W===NUMBER_TAG||W===STRING_TAG?R(D,L,I):!1}}function createEqualityComparatorConfig(i){var o=i.circular,E=i.createCustomConfig,_=i.strict,w={areArraysEqual:_?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:_?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:_?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:_?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:_?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(E&&(w=assign({},w,E(w))),o){var j=createIsCircular(w.areArraysEqual),S=createIsCircular(w.areMapsEqual),A=createIsCircular(w.areObjectsEqual),R=createIsCircular(w.areSetsEqual);w=assign({},w,{areArraysEqual:j,areMapsEqual:S,areObjectsEqual:A,areSetsEqual:R})}return w}function createInternalEqualityComparator(i){return function(o,E,_,w,j,S,A){return i(o,E,A)}}function createIsEqual(i){var o=i.circular,E=i.comparator,_=i.createState,w=i.equals,j=i.strict;if(_)return function(R,C){var T=_(),N=T.cache,O=N===void 0?o?new WeakMap:void 0:N,$=T.meta;return E(R,C,{cache:O,equals:w,meta:$,strict:j})};if(o)return function(R,C){return E(R,C,{cache:new WeakMap,equals:w,meta:void 0,strict:j})};var S={cache:void 0,equals:w,meta:void 0,strict:j};return function(R,C){return E(R,C,S)}}var deepEqual$1=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(i){i===void 0&&(i={});var o=i.circular,E=o===void 0?!1:o,_=i.createInternalComparator,w=i.createState,j=i.strict,S=j===void 0?!1:j,A=createEqualityComparatorConfig(i),R=createEqualityComparator(A),C=_?_(R):createInternalEqualityComparator(R);return createIsEqual({circular:E,comparator:R,createState:w,equals:C,strict:S})}function safeRequestAnimationFrame(i){typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}function setRafTimeout(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=-1,_=function w(j){E<0&&(E=j),j-E>o?(i(j),E=-1):safeRequestAnimationFrame(w)};requestAnimationFrame(_)}function _typeof$o(i){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$o(i)}function _toArray(i){return _arrayWithHoles$6(i)||_iterableToArray$6(i)||_unsupportedIterableToArray$9(i)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$9(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$9(i,o)}}function _arrayLikeToArray$9(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArray$6(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithHoles$6(i){if(Array.isArray(i))return i}function createAnimateManager(){var i={},o=function(){return null},E=!1,_=function w(j){if(!E){if(Array.isArray(j)){if(!j.length)return;var S=j,A=_toArray(S),R=A[0],C=A.slice(1);if(typeof R=="number"){setRafTimeout(w.bind(null,C),R);return}w(R),setRafTimeout(w.bind(null,C));return}_typeof$o(j)==="object"&&(i=j,o(i)),typeof j=="function"&&j()}};return{stop:function(){E=!0},start:function(j){E=!1,_(j)},subscribe:function(j){return o=j,function(){o=function(){return null}}}}}function _typeof$n(i){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$n(i)}function ownKeys$k(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$k(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$k(Object(E),!0).forEach(function(_){_defineProperty$n(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$k(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$n(i,o,E){return o=_toPropertyKey$n(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$n(i){var o=_toPrimitive$n(i,"string");return _typeof$n(o)==="symbol"?o:String(o)}function _toPrimitive$n(i,o){if(_typeof$n(i)!=="object"||i===null)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$n(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getIntersectionKeys=function(o,E){return[Object.keys(o),Object.keys(E)].reduce(function(_,w){return _.filter(function(j){return w.includes(j)})})},identity=function(o){return o},getDashCase=function(o){return o.replace(/([A-Z])/g,function(E){return"-".concat(E.toLowerCase())})},mapObject=function(o,E){return Object.keys(E).reduce(function(_,w){return _objectSpread$k(_objectSpread$k({},_),{},_defineProperty$n({},w,o(w,E[w])))},{})},getTransitionVal=function(o,E,_){return o.map(function(w){return"".concat(getDashCase(w)," ").concat(E,"ms ").concat(_)}).join(",")};function _slicedToArray$5(i,o){return _arrayWithHoles$5(i)||_iterableToArrayLimit$5(i,o)||_unsupportedIterableToArray$8(i,o)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$5(i){if(Array.isArray(i))return i}function _toConsumableArray$5(i){return _arrayWithoutHoles$5(i)||_iterableToArray$5(i)||_unsupportedIterableToArray$8(i)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$8(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$8(i,o)}}function _iterableToArray$5(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$5(i){if(Array.isArray(i))return _arrayLikeToArray$8(i)}function _arrayLikeToArray$8(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}var ACCURACY=1e-4,cubicBezierFactor=function(o,E){return[0,3*o,3*E-6*o,3*o-3*E+1]},multyTime=function(o,E){return o.map(function(_,w){return _*Math.pow(E,w)}).reduce(function(_,w){return _+w})},cubicBezier=function(o,E){return function(_){var w=cubicBezierFactor(o,E);return multyTime(w,_)}},derivativeCubicBezier=function(o,E){return function(_){var w=cubicBezierFactor(o,E),j=[].concat(_toConsumableArray$5(w.map(function(S,A){return S*A}).slice(1)),[0]);return multyTime(j,_)}},configBezier=function(){for(var o=arguments.length,E=new Array(o),_=0;_<o;_++)E[_]=arguments[_];var w=E[0],j=E[1],S=E[2],A=E[3];if(E.length===1)switch(E[0]){case"linear":w=0,j=0,S=1,A=1;break;case"ease":w=.25,j=.1,S=.25,A=1;break;case"ease-in":w=.42,j=0,S=1,A=1;break;case"ease-out":w=.42,j=0,S=.58,A=1;break;case"ease-in-out":w=0,j=0,S=.58,A=1;break;default:{var R=E[0].split("(");if(R[0]==="cubic-bezier"&&R[1].split(")")[0].split(",").length===4){var C=R[1].split(")")[0].split(",").map(function(I){return parseFloat(I)}),T=_slicedToArray$5(C,4);w=T[0],j=T[1],S=T[2],A=T[3]}}}var N=cubicBezier(w,S),O=cubicBezier(j,A),$=derivativeCubicBezier(w,S),D=function(z){return z>1?1:z<0?0:z},L=function(z){for(var F=z>1?1:z,W=F,H=0;H<8;++H){var B=N(W)-F,U=$(W);if(Math.abs(B-F)<ACCURACY||U<ACCURACY)return O(W);W=D(W-B/U)}return O(W)};return L.isStepper=!1,L},configSpring=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=o.stiff,_=E===void 0?100:E,w=o.damping,j=w===void 0?8:w,S=o.dt,A=S===void 0?17:S,R=function(T,N,O){var $=-(T-N)*_,D=O*j,L=O+($-D)*A/1e3,I=O*A/1e3+T;return Math.abs(I-N)<ACCURACY&&Math.abs(L)<ACCURACY?[N,0]:[I,L]};return R.isStepper=!0,R.dt=A,R},configEasing=function(){for(var o=arguments.length,E=new Array(o),_=0;_<o;_++)E[_]=arguments[_];var w=E[0];if(typeof w=="string")switch(w){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(w);case"spring":return configSpring();default:if(w.split("(")[0]==="cubic-bezier")return configBezier(w)}return typeof w=="function"?w:null};function _typeof$m(i){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$m(i)}function _toConsumableArray$4(i){return _arrayWithoutHoles$4(i)||_iterableToArray$4(i)||_unsupportedIterableToArray$7(i)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$4(i){if(Array.isArray(i))return _arrayLikeToArray$7(i)}function ownKeys$j(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$j(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$j(Object(E),!0).forEach(function(_){_defineProperty$m(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$j(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$m(i,o,E){return o=_toPropertyKey$m(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$m(i){var o=_toPrimitive$m(i,"string");return _typeof$m(o)==="symbol"?o:String(o)}function _toPrimitive$m(i,o){if(_typeof$m(i)!=="object"||i===null)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$m(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray$4(i,o){return _arrayWithHoles$4(i)||_iterableToArrayLimit$4(i,o)||_unsupportedIterableToArray$7(i,o)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$7(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$7(i,o)}}function _arrayLikeToArray$7(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$4(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$4(i){if(Array.isArray(i))return i}var alpha=function(o,E,_){return o+(E-o)*_},needContinue=function(o){var E=o.from,_=o.to;return E!==_},calStepperVals=function i(o,E,_){var w=mapObject(function(j,S){if(needContinue(S)){var A=o(S.from,S.to,S.velocity),R=_slicedToArray$4(A,2),C=R[0],T=R[1];return _objectSpread$j(_objectSpread$j({},S),{},{from:C,velocity:T})}return S},E);return _<1?mapObject(function(j,S){return needContinue(S)?_objectSpread$j(_objectSpread$j({},S),{},{velocity:alpha(S.velocity,w[j].velocity,_),from:alpha(S.from,w[j].from,_)}):S},E):i(o,w,_-1)};const configUpdate=function(i,o,E,_,w){var j=getIntersectionKeys(i,o),S=j.reduce(function(I,z){return _objectSpread$j(_objectSpread$j({},I),{},_defineProperty$m({},z,[i[z],o[z]]))},{}),A=j.reduce(function(I,z){return _objectSpread$j(_objectSpread$j({},I),{},_defineProperty$m({},z,{from:i[z],velocity:0,to:o[z]}))},{}),R=-1,C,T,N=function(){return null},O=function(){return mapObject(function(z,F){return F.from},A)},$=function(){return!Object.values(A).filter(needContinue).length},D=function(z){C||(C=z);var F=z-C,W=F/E.dt;A=calStepperVals(E,A,W),w(_objectSpread$j(_objectSpread$j(_objectSpread$j({},i),o),O())),C=z,$()||(R=requestAnimationFrame(N))},L=function(z){T||(T=z);var F=(z-T)/_,W=mapObject(function(B,U){return alpha.apply(void 0,_toConsumableArray$4(U).concat([E(F)]))},S);if(w(_objectSpread$j(_objectSpread$j(_objectSpread$j({},i),o),W)),F<1)R=requestAnimationFrame(N);else{var H=mapObject(function(B,U){return alpha.apply(void 0,_toConsumableArray$4(U).concat([E(1)]))},S);w(_objectSpread$j(_objectSpread$j(_objectSpread$j({},i),o),H))}};return N=E.isStepper?D:L,function(){return requestAnimationFrame(N),function(){cancelAnimationFrame(R)}}};function _typeof$l(i){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$l(i)}var _excluded$8=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$8(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$8(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$8(i,o){if(i==null)return{};var E={},_=Object.keys(i),w,j;for(j=0;j<_.length;j++)w=_[j],!(o.indexOf(w)>=0)&&(E[w]=i[w]);return E}function _toConsumableArray$3(i){return _arrayWithoutHoles$3(i)||_iterableToArray$3(i)||_unsupportedIterableToArray$6(i)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$6(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$6(i,o)}}function _iterableToArray$3(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$3(i){if(Array.isArray(i))return _arrayLikeToArray$6(i)}function _arrayLikeToArray$6(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function ownKeys$i(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$i(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$i(Object(E),!0).forEach(function(_){_defineProperty$l(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$i(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$l(i,o,E){return o=_toPropertyKey$l(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _classCallCheck$c(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$l(_.key),_)}}function _createClass$c(i,o,E){return o&&_defineProperties$c(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _toPropertyKey$l(i){var o=_toPrimitive$l(i,"string");return _typeof$l(o)==="symbol"?o:String(o)}function _toPrimitive$l(i,o){if(_typeof$l(i)!=="object"||i===null)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$l(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _inherits$a(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$a(i,o)}function _setPrototypeOf$a(i,o){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$a(i,o)}function _createSuper(i){var o=_isNativeReflectConstruct$a();return function(){var _=_getPrototypeOf$a(i),w;if(o){var j=_getPrototypeOf$a(this).constructor;w=Reflect.construct(_,arguments,j)}else w=_.apply(this,arguments);return _possibleConstructorReturn$a(this,w)}}function _possibleConstructorReturn$a(i,o){if(o&&(_typeof$l(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(i)}function _assertThisInitialized$a(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$a(i){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$a(i)}var Animate=function(i){_inherits$a(E,i);var o=_createSuper(E);function E(_,w){var j;_classCallCheck$c(this,E),j=o.call(this,_,w);var S=j.props,A=S.isActive,R=S.attributeName,C=S.from,T=S.to,N=S.steps,O=S.children,$=S.duration;if(j.handleStyleChange=j.handleStyleChange.bind(_assertThisInitialized$a(j)),j.changeStyle=j.changeStyle.bind(_assertThisInitialized$a(j)),!A||$<=0)return j.state={style:{}},typeof O=="function"&&(j.state={style:T}),_possibleConstructorReturn$a(j);if(N&&N.length)j.state={style:N[0].style};else if(C){if(typeof O=="function")return j.state={style:C},_possibleConstructorReturn$a(j);j.state={style:R?_defineProperty$l({},R,C):C}}else j.state={style:{}};return j}return _createClass$c(E,[{key:"componentDidMount",value:function(){var w=this.props,j=w.isActive,S=w.canBegin;this.mounted=!0,!(!j||!S)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(w){var j=this.props,S=j.isActive,A=j.canBegin,R=j.attributeName,C=j.shouldReAnimate,T=j.to,N=j.from,O=this.state.style;if(A){if(!S){var $={style:R?_defineProperty$l({},R,T):T};this.state&&O&&(R&&O[R]!==T||!R&&O!==T)&&this.setState($);return}if(!(deepEqual$1(w.to,T)&&w.canBegin&&w.isActive)){var D=!w.canBegin||!w.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var L=D||C?N:w.to;if(this.state&&O){var I={style:R?_defineProperty$l({},R,L):L};(R&&O[R]!==L||!R&&O!==L)&&this.setState(I)}this.runAnimation(_objectSpread$i(_objectSpread$i({},this.props),{},{from:L,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var w=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),w&&w()}},{key:"handleStyleChange",value:function(w){this.changeStyle(w)}},{key:"changeStyle",value:function(w){this.mounted&&this.setState({style:w})}},{key:"runJSAnimation",value:function(w){var j=this,S=w.from,A=w.to,R=w.duration,C=w.easing,T=w.begin,N=w.onAnimationEnd,O=w.onAnimationStart,$=configUpdate(S,A,configEasing(C),R,this.changeStyle),D=function(){j.stopJSAnimation=$()};this.manager.start([O,T,D,R,N])}},{key:"runStepAnimation",value:function(w){var j=this,S=w.steps,A=w.begin,R=w.onAnimationStart,C=S[0],T=C.style,N=C.duration,O=N===void 0?0:N,$=function(L,I,z){if(z===0)return L;var F=I.duration,W=I.easing,H=W===void 0?"ease":W,B=I.style,U=I.properties,G=I.onAnimationEnd,V=z>0?S[z-1]:I,K=U||Object.keys(B);if(typeof H=="function"||H==="spring")return[].concat(_toConsumableArray$3(L),[j.runJSAnimation.bind(j,{from:V.style,to:B,duration:F,easing:H}),F]);var je=getTransitionVal(K,F,H),Z=_objectSpread$i(_objectSpread$i(_objectSpread$i({},V.style),B),{},{transition:je});return[].concat(_toConsumableArray$3(L),[Z,F,G]).filter(identity)};return this.manager.start([R].concat(_toConsumableArray$3(S.reduce($,[T,Math.max(O,A)])),[w.onAnimationEnd]))}},{key:"runAnimation",value:function(w){this.manager||(this.manager=createAnimateManager());var j=w.begin,S=w.duration,A=w.attributeName,R=w.to,C=w.easing,T=w.onAnimationStart,N=w.onAnimationEnd,O=w.steps,$=w.children,D=this.manager;if(this.unSubscribe=D.subscribe(this.handleStyleChange),typeof C=="function"||typeof $=="function"||C==="spring"){this.runJSAnimation(w);return}if(O.length>1){this.runStepAnimation(w);return}var L=A?_defineProperty$l({},A,R):R,I=getTransitionVal(Object.keys(L),S,C);D.start([T,j,_objectSpread$i(_objectSpread$i({},L),{},{transition:I}),S,N])}},{key:"render",value:function(){var w=this.props,j=w.children;w.begin;var S=w.duration;w.attributeName,w.easing;var A=w.isActive;w.steps,w.from,w.to,w.canBegin,w.onAnimationEnd,w.shouldReAnimate,w.onAnimationReStart;var R=_objectWithoutProperties$8(w,_excluded$8),C=reactExports.Children.count(j),T=this.state.style;if(typeof j=="function")return j(T);if(!A||C===0||S<=0)return j;var N=function($){var D=$.props,L=D.style,I=L===void 0?{}:L,z=D.className,F=reactExports.cloneElement($,_objectSpread$i(_objectSpread$i({},R),{},{style:_objectSpread$i(_objectSpread$i({},I),T),className:z}));return F};return C===1?N(reactExports.Children.only(j)):React.createElement("div",null,reactExports.Children.map(j,function(O){return N(O)}))}}]),E}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$k(i){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$k(i)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$f.apply(this,arguments)}function _slicedToArray$3(i,o){return _arrayWithHoles$3(i)||_iterableToArrayLimit$3(i,o)||_unsupportedIterableToArray$5(i,o)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$5(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$5(i,o)}}function _arrayLikeToArray$5(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$3(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$3(i){if(Array.isArray(i))return i}function ownKeys$h(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$h(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$h(Object(E),!0).forEach(function(_){_defineProperty$k(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$h(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$k(i,o,E){return o=_toPropertyKey$k(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$k(i){var o=_toPrimitive$k(i,"string");return _typeof$k(o)=="symbol"?o:o+""}function _toPrimitive$k(i,o){if(_typeof$k(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$k(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getRectanglePath=function(o,E,_,w,j){var S=Math.min(Math.abs(_)/2,Math.abs(w)/2),A=w>=0?1:-1,R=_>=0?1:-1,C=w>=0&&_>=0||w<0&&_<0?1:0,T;if(S>0&&j instanceof Array){for(var N=[0,0,0,0],O=0,$=4;O<$;O++)N[O]=j[O]>S?S:j[O];T="M".concat(o,",").concat(E+A*N[0]),N[0]>0&&(T+="A ".concat(N[0],",").concat(N[0],",0,0,").concat(C,",").concat(o+R*N[0],",").concat(E)),T+="L ".concat(o+_-R*N[1],",").concat(E),N[1]>0&&(T+="A ".concat(N[1],",").concat(N[1],",0,0,").concat(C,`,
        `).concat(o+_,",").concat(E+A*N[1])),T+="L ".concat(o+_,",").concat(E+w-A*N[2]),N[2]>0&&(T+="A ".concat(N[2],",").concat(N[2],",0,0,").concat(C,`,
        `).concat(o+_-R*N[2],",").concat(E+w)),T+="L ".concat(o+R*N[3],",").concat(E+w),N[3]>0&&(T+="A ".concat(N[3],",").concat(N[3],",0,0,").concat(C,`,
        `).concat(o,",").concat(E+w-A*N[3])),T+="Z"}else if(S>0&&j===+j&&j>0){var D=Math.min(S,j);T="M ".concat(o,",").concat(E+A*D,`
            A `).concat(D,",").concat(D,",0,0,").concat(C,",").concat(o+R*D,",").concat(E,`
            L `).concat(o+_-R*D,",").concat(E,`
            A `).concat(D,",").concat(D,",0,0,").concat(C,",").concat(o+_,",").concat(E+A*D,`
            L `).concat(o+_,",").concat(E+w-A*D,`
            A `).concat(D,",").concat(D,",0,0,").concat(C,",").concat(o+_-R*D,",").concat(E+w,`
            L `).concat(o+R*D,",").concat(E+w,`
            A `).concat(D,",").concat(D,",0,0,").concat(C,",").concat(o,",").concat(E+w-A*D," Z")}else T="M ".concat(o,",").concat(E," h ").concat(_," v ").concat(w," h ").concat(-_," Z");return T},isInRectangle=function(o,E){if(!o||!E)return!1;var _=o.x,w=o.y,j=E.x,S=E.y,A=E.width,R=E.height;if(Math.abs(A)>0&&Math.abs(R)>0){var C=Math.min(j,j+A),T=Math.max(j,j+A),N=Math.min(S,S+R),O=Math.max(S,S+R);return _>=C&&_<=T&&w>=N&&w<=O}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(o){var E=_objectSpread$h(_objectSpread$h({},defaultProps$2),o),_=reactExports.useRef(),w=reactExports.useState(-1),j=_slicedToArray$3(w,2),S=j[0],A=j[1];reactExports.useEffect(function(){if(_.current&&_.current.getTotalLength)try{var H=_.current.getTotalLength();H&&A(H)}catch{}},[]);var R=E.x,C=E.y,T=E.width,N=E.height,O=E.radius,$=E.className,D=E.animationEasing,L=E.animationDuration,I=E.animationBegin,z=E.isAnimationActive,F=E.isUpdateAnimationActive;if(R!==+R||C!==+C||T!==+T||N!==+N||T===0||N===0)return null;var W=clsx("recharts-rectangle",$);return F?React.createElement(Animate,{canBegin:S>0,from:{width:T,height:N,x:R,y:C},to:{width:T,height:N,x:R,y:C},duration:L,animationEasing:D,isActive:F},function(H){var B=H.width,U=H.height,G=H.x,V=H.y;return React.createElement(Animate,{canBegin:S>0,from:"0px ".concat(S===-1?1:S,"px"),to:"".concat(S,"px 0px"),attributeName:"strokeDasharray",begin:I,duration:L,isActive:z,easing:D},React.createElement("path",_extends$f({},filterProps(E,!0),{className:W,d:getRectanglePath(G,V,B,U,O),ref:_})))}):React.createElement("path",_extends$f({},filterProps(E,!0),{className:W,d:getRectanglePath(R,C,T,N,O)}))};function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$e.apply(this,arguments)}var Dot=function(o){var E=o.cx,_=o.cy,w=o.r,j=o.className,S=clsx("recharts-dot",j);return E===+E&&_===+_&&w===+w?reactExports.createElement("circle",_extends$e({},filterProps(o,!1),adaptEventHandlers(o),{className:S,cx:E,cy:_,r:w})):null};function _typeof$j(i){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$j(i)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$d.apply(this,arguments)}function ownKeys$g(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$g(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$g(Object(E),!0).forEach(function(_){_defineProperty$j(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$g(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$j(i,o,E){return o=_toPropertyKey$j(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$j(i){var o=_toPrimitive$j(i,"string");return _typeof$j(o)=="symbol"?o:o+""}function _toPrimitive$j(i,o){if(_typeof$j(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$j(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$7(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$7(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$7(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}var getPath=function(o,E,_,w,j,S){return"M".concat(o,",").concat(j,"v").concat(w,"M").concat(S,",").concat(E,"h").concat(_)},Cross=function(o){var E=o.x,_=E===void 0?0:E,w=o.y,j=w===void 0?0:w,S=o.top,A=S===void 0?0:S,R=o.left,C=R===void 0?0:R,T=o.width,N=T===void 0?0:T,O=o.height,$=O===void 0?0:O,D=o.className,L=_objectWithoutProperties$7(o,_excluded$7),I=_objectSpread$g({x:_,y:j,top:A,left:C,width:N,height:$},L);return!isNumber(_)||!isNumber(j)||!isNumber(N)||!isNumber($)||!isNumber(A)||!isNumber(C)?null:React.createElement("path",_extends$d({},filterProps(I,!0),{className:clsx("recharts-cross",D),d:getPath(_,j,N,$,A,C)}))},overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(i){if(!isObjectLike$1(i)||baseGetTag$1(i)!=objectTag)return!1;var o=getPrototype(i);if(o===null)return!0;var E=hasOwnProperty.call(o,"constructor")&&o.constructor;return typeof E=="function"&&E instanceof E&&funcToString.call(E)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(i){return i===!0||i===!1||isObjectLike(i)&&baseGetTag(i)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$i(i){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$i(i)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$c.apply(this,arguments)}function _slicedToArray$2(i,o){return _arrayWithHoles$2(i)||_iterableToArrayLimit$2(i,o)||_unsupportedIterableToArray$4(i,o)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$4(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$4(i,o)}}function _arrayLikeToArray$4(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$2(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$2(i){if(Array.isArray(i))return i}function ownKeys$f(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$f(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$f(Object(E),!0).forEach(function(_){_defineProperty$i(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$f(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$i(i,o,E){return o=_toPropertyKey$i(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$i(i){var o=_toPrimitive$i(i,"string");return _typeof$i(o)=="symbol"?o:o+""}function _toPrimitive$i(i,o){if(_typeof$i(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$i(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getTrapezoidPath=function(o,E,_,w,j){var S=_-w,A;return A="M ".concat(o,",").concat(E),A+="L ".concat(o+_,",").concat(E),A+="L ".concat(o+_-S/2,",").concat(E+j),A+="L ".concat(o+_-S/2-w,",").concat(E+j),A+="L ".concat(o,",").concat(E," Z"),A},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(o){var E=_objectSpread$f(_objectSpread$f({},defaultProps$1),o),_=reactExports.useRef(),w=reactExports.useState(-1),j=_slicedToArray$2(w,2),S=j[0],A=j[1];reactExports.useEffect(function(){if(_.current&&_.current.getTotalLength)try{var W=_.current.getTotalLength();W&&A(W)}catch{}},[]);var R=E.x,C=E.y,T=E.upperWidth,N=E.lowerWidth,O=E.height,$=E.className,D=E.animationEasing,L=E.animationDuration,I=E.animationBegin,z=E.isUpdateAnimationActive;if(R!==+R||C!==+C||T!==+T||N!==+N||O!==+O||T===0&&N===0||O===0)return null;var F=clsx("recharts-trapezoid",$);return z?React.createElement(Animate,{canBegin:S>0,from:{upperWidth:0,lowerWidth:0,height:O,x:R,y:C},to:{upperWidth:T,lowerWidth:N,height:O,x:R,y:C},duration:L,animationEasing:D,isActive:z},function(W){var H=W.upperWidth,B=W.lowerWidth,U=W.height,G=W.x,V=W.y;return React.createElement(Animate,{canBegin:S>0,from:"0px ".concat(S===-1?1:S,"px"),to:"".concat(S,"px 0px"),attributeName:"strokeDasharray",begin:I,duration:L,easing:D},React.createElement("path",_extends$c({},filterProps(E,!0),{className:F,d:getTrapezoidPath(G,V,H,B,U),ref:_})))}):React.createElement("g",null,React.createElement("path",_extends$c({},filterProps(E,!0),{className:F,d:getTrapezoidPath(R,C,T,N,O)})))},_excluded$6=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$h(i){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$h(i)}function _objectWithoutProperties$6(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$6(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$6(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function ownKeys$e(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$e(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$e(Object(E),!0).forEach(function(_){_defineProperty$h(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$e(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$h(i,o,E){return o=_toPropertyKey$h(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$h(i){var o=_toPrimitive$h(i,"string");return _typeof$h(o)=="symbol"?o:o+""}function _toPrimitive$h(i,o){if(_typeof$h(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$h(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function defaultPropTransformer(i,o){return _objectSpread$e(_objectSpread$e({},o),i)}function isSymbolsProps(i,o){return i==="symbols"}function ShapeSelector(i){var o=i.shapeType,E=i.elementProps;switch(o){case"rectangle":return React.createElement(Rectangle,E);case"trapezoid":return React.createElement(Trapezoid,E);case"sector":return React.createElement(Sector,E);case"symbols":if(isSymbolsProps(o))return React.createElement(Symbols,E);break;default:return null}}function getPropsFromShapeOption(i){return reactExports.isValidElement(i)?i.props:i}function Shape(i){var o=i.option,E=i.shapeType,_=i.propTransformer,w=_===void 0?defaultPropTransformer:_,j=i.activeClassName,S=j===void 0?"recharts-active-shape":j,A=i.isActive,R=_objectWithoutProperties$6(i,_excluded$6),C;if(reactExports.isValidElement(o))C=reactExports.cloneElement(o,_objectSpread$e(_objectSpread$e({},R),getPropsFromShapeOption(o)));else if(isFunction$4(o))C=o(R);else if(isPlainObject$1(o)&&!isBoolean$1(o)){var T=w(o,R);C=React.createElement(ShapeSelector,{shapeType:E,elementProps:T})}else{var N=R;C=React.createElement(ShapeSelector,{shapeType:E,elementProps:N})}return A?React.createElement(Layer,{className:S},C):C}function isFunnel(i,o){return o!=null&&"trapezoids"in i.props}function isPie(i,o){return o!=null&&"sectors"in i.props}function isScatter(i,o){return o!=null&&"points"in i.props}function compareFunnel(i,o){var E,_,w=i.x===(o==null||(E=o.labelViewBox)===null||E===void 0?void 0:E.x)||i.x===o.x,j=i.y===(o==null||(_=o.labelViewBox)===null||_===void 0?void 0:_.y)||i.y===o.y;return w&&j}function comparePie(i,o){var E=i.endAngle===o.endAngle,_=i.startAngle===o.startAngle;return E&&_}function compareScatter(i,o){var E=i.x===o.x,_=i.y===o.y,w=i.z===o.z;return E&&_&&w}function getComparisonFn(i,o){var E;return isFunnel(i,o)?E=compareFunnel:isPie(i,o)?E=comparePie:isScatter(i,o)&&(E=compareScatter),E}function getShapeDataKey(i,o){var E;return isFunnel(i,o)?E="trapezoids":isPie(i,o)?E="sectors":isScatter(i,o)&&(E="points"),E}function getActiveShapeTooltipPayload(i,o){if(isFunnel(i,o)){var E;return(E=o.tooltipPayload)===null||E===void 0||(E=E[0])===null||E===void 0||(E=E.payload)===null||E===void 0?void 0:E.payload}if(isPie(i,o)){var _;return(_=o.tooltipPayload)===null||_===void 0||(_=_[0])===null||_===void 0||(_=_.payload)===null||_===void 0?void 0:_.payload}return isScatter(i,o)?o.payload:{}}function getActiveShapeIndexForTooltip(i){var o=i.activeTooltipItem,E=i.graphicalItem,_=i.itemData,w=getShapeDataKey(E,o),j=getActiveShapeTooltipPayload(E,o),S=_.filter(function(R,C){var T=isEqual$1(j,R),N=E.props[w].filter(function(D){var L=getComparisonFn(E,o);return L(D,o)}),O=E.props[w].indexOf(N[N.length-1]),$=C===O;return T&&$}),A=_.indexOf(S[S.length-1]);return A}var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(i,o,E,_){for(var w=-1,j=nativeMax$1(nativeCeil((o-i)/(E||1)),0),S=Array(j);j--;)S[_?j:++w]=i,i+=E;return S}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(i){if(!i)return i===0?i:0;if(i=toNumber(i),i===INFINITY||i===-INFINITY){var o=i<0?-1:1;return o*MAX_INTEGER}return i===i?i:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(i){return function(o,E,_){return _&&typeof _!="number"&&isIterateeCall$2(o,E,_)&&(E=_=void 0),o=toFinite$1(o),E===void 0?(E=o,o=0):E=toFinite$1(E),_=_===void 0?o<E?1:-1:toFinite$1(_),baseRange(o,E,_,i)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$g(i){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$g(i)}function ownKeys$d(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$d(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$d(Object(E),!0).forEach(function(_){_defineProperty$g(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$d(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$g(i,o,E){return o=_toPropertyKey$g(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$g(i){var o=_toPrimitive$g(i,"string");return _typeof$g(o)=="symbol"?o:o+""}function _toPrimitive$g(i,o){if(_typeof$g(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$g(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(o,E){var _=o.replace(/(\w)/,function(j){return j.toUpperCase()}),w=PREFIX_LIST.reduce(function(j,S){return _objectSpread$d(_objectSpread$d({},j),{},_defineProperty$g({},S+_,E))},{});return w[o]=E,w};function _typeof$f(i){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$f(i)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$b.apply(this,arguments)}function ownKeys$c(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$c(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$c(Object(E),!0).forEach(function(_){_defineProperty$f(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$c(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$b(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$f(_.key),_)}}function _createClass$b(i,o,E){return o&&_defineProperties$b(i.prototype,o),E&&_defineProperties$b(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$9(i,o,E){return o=_getPrototypeOf$9(o),_possibleConstructorReturn$9(i,_isNativeReflectConstruct$9()?Reflect.construct(o,E||[],_getPrototypeOf$9(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$9(i,o){if(o&&(_typeof$f(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(i)}function _assertThisInitialized$9(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$9(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!i})()}function _getPrototypeOf$9(i){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$9(i)}function _inherits$9(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$9(i,o)}function _setPrototypeOf$9(i,o){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$9(i,o)}function _defineProperty$f(i,o,E){return o=_toPropertyKey$f(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$f(i){var o=_toPrimitive$f(i,"string");return _typeof$f(o)=="symbol"?o:o+""}function _toPrimitive$f(i,o){if(_typeof$f(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$f(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var createScale=function(o){var E=o.data,_=o.startIndex,w=o.endIndex,j=o.x,S=o.width,A=o.travellerWidth;if(!E||!E.length)return{};var R=E.length,C=point().domain(range$1(0,R)).range([j,j+S-A]),T=C.domain().map(function(N){return C(N)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:C(_),endX:C(w),scale:C,scaleValues:T}},isTouch=function(o){return o.changedTouches&&!!o.changedTouches.length},Brush=function(i){function o(E){var _;return _classCallCheck$b(this,o),_=_callSuper$9(this,o,[E]),_defineProperty$f(_,"handleDrag",function(w){_.leaveTimer&&(clearTimeout(_.leaveTimer),_.leaveTimer=null),_.state.isTravellerMoving?_.handleTravellerMove(w):_.state.isSlideMoving&&_.handleSlideDrag(w)}),_defineProperty$f(_,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleDrag(w.changedTouches[0])}),_defineProperty$f(_,"handleDragEnd",function(){_.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var w=_.props,j=w.endIndex,S=w.onDragEnd,A=w.startIndex;S==null||S({endIndex:j,startIndex:A})}),_.detachDragEndListener()}),_defineProperty$f(_,"handleLeaveWrapper",function(){(_.state.isTravellerMoving||_.state.isSlideMoving)&&(_.leaveTimer=window.setTimeout(_.handleDragEnd,_.props.leaveTimeOut))}),_defineProperty$f(_,"handleEnterSlideOrTraveller",function(){_.setState({isTextActive:!0})}),_defineProperty$f(_,"handleLeaveSlideOrTraveller",function(){_.setState({isTextActive:!1})}),_defineProperty$f(_,"handleSlideDragStart",function(w){var j=isTouch(w)?w.changedTouches[0]:w;_.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:j.pageX}),_.attachDragEndListener()}),_.travellerDragStartHandlers={startX:_.handleTravellerDragStart.bind(_,"startX"),endX:_.handleTravellerDragStart.bind(_,"endX")},_.state={},_}return _inherits$9(o,i),_createClass$b(o,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(_){var w=_.startX,j=_.endX,S=this.state.scaleValues,A=this.props,R=A.gap,C=A.data,T=C.length-1,N=Math.min(w,j),O=Math.max(w,j),$=o.getIndexInRange(S,N),D=o.getIndexInRange(S,O);return{startIndex:$-$%R,endIndex:D===T?T:D-D%R}}},{key:"getTextOfTick",value:function(_){var w=this.props,j=w.data,S=w.tickFormatter,A=w.dataKey,R=getValueByDataKey(j[_],A,_);return isFunction$4(S)?S(R,_):R}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(_){var w=this.state,j=w.slideMoveStartX,S=w.startX,A=w.endX,R=this.props,C=R.x,T=R.width,N=R.travellerWidth,O=R.startIndex,$=R.endIndex,D=R.onChange,L=_.pageX-j;L>0?L=Math.min(L,C+T-N-A,C+T-N-S):L<0&&(L=Math.max(L,C-S,C-A));var I=this.getIndex({startX:S+L,endX:A+L});(I.startIndex!==O||I.endIndex!==$)&&D&&D(I),this.setState({startX:S+L,endX:A+L,slideMoveStartX:_.pageX})}},{key:"handleTravellerDragStart",value:function(_,w){var j=isTouch(w)?w.changedTouches[0]:w;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:_,brushMoveStartX:j.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(_){var w=this.state,j=w.brushMoveStartX,S=w.movingTravellerId,A=w.endX,R=w.startX,C=this.state[S],T=this.props,N=T.x,O=T.width,$=T.travellerWidth,D=T.onChange,L=T.gap,I=T.data,z={startX:this.state.startX,endX:this.state.endX},F=_.pageX-j;F>0?F=Math.min(F,N+O-$-C):F<0&&(F=Math.max(F,N-C)),z[S]=C+F;var W=this.getIndex(z),H=W.startIndex,B=W.endIndex,U=function(){var V=I.length-1;return S==="startX"&&(A>R?H%L===0:B%L===0)||A<R&&B===V||S==="endX"&&(A>R?B%L===0:H%L===0)||A>R&&B===V};this.setState(_defineProperty$f(_defineProperty$f({},S,C+F),"brushMoveStartX",_.pageX),function(){D&&U()&&D(W)})}},{key:"handleTravellerMoveKeyboard",value:function(_,w){var j=this,S=this.state,A=S.scaleValues,R=S.startX,C=S.endX,T=this.state[w],N=A.indexOf(T);if(N!==-1){var O=N+_;if(!(O===-1||O>=A.length)){var $=A[O];w==="startX"&&$>=C||w==="endX"&&$<=R||this.setState(_defineProperty$f({},w,$),function(){j.props.onChange(j.getIndex({startX:j.state.startX,endX:j.state.endX}))})}}}},{key:"renderBackground",value:function(){var _=this.props,w=_.x,j=_.y,S=_.width,A=_.height,R=_.fill,C=_.stroke;return React.createElement("rect",{stroke:C,fill:R,x:w,y:j,width:S,height:A})}},{key:"renderPanorama",value:function(){var _=this.props,w=_.x,j=_.y,S=_.width,A=_.height,R=_.data,C=_.children,T=_.padding,N=reactExports.Children.only(C);return N?React.cloneElement(N,{x:w,y:j,width:S,height:A,margin:T,compact:!0,data:R}):null}},{key:"renderTravellerLayer",value:function(_,w){var j,S,A=this,R=this.props,C=R.y,T=R.travellerWidth,N=R.height,O=R.traveller,$=R.ariaLabel,D=R.data,L=R.startIndex,I=R.endIndex,z=Math.max(_,this.props.x),F=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:z,y:C,width:T,height:N}),W=$||"Min value: ".concat((j=D[L])===null||j===void 0?void 0:j.name,", Max value: ").concat((S=D[I])===null||S===void 0?void 0:S.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":W,"aria-valuenow":_,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[w],onTouchStart:this.travellerDragStartHandlers[w],onKeyDown:function(B){["ArrowLeft","ArrowRight"].includes(B.key)&&(B.preventDefault(),B.stopPropagation(),A.handleTravellerMoveKeyboard(B.key==="ArrowRight"?1:-1,w))},onFocus:function(){A.setState({isTravellerFocused:!0})},onBlur:function(){A.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},o.renderTraveller(O,F))}},{key:"renderSlide",value:function(_,w){var j=this.props,S=j.y,A=j.height,R=j.stroke,C=j.travellerWidth,T=Math.min(_,w)+C,N=Math.max(Math.abs(w-_)-C,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:R,fillOpacity:.2,x:T,y:S,width:N,height:A})}},{key:"renderText",value:function(){var _=this.props,w=_.startIndex,j=_.endIndex,S=_.y,A=_.height,R=_.travellerWidth,C=_.stroke,T=this.state,N=T.startX,O=T.endX,$=5,D={pointerEvents:"none",fill:C};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(N,O)-$,y:S+A/2},D),this.getTextOfTick(w)),React.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(N,O)+R+$,y:S+A/2},D),this.getTextOfTick(j)))}},{key:"render",value:function(){var _=this.props,w=_.data,j=_.className,S=_.children,A=_.x,R=_.y,C=_.width,T=_.height,N=_.alwaysShowText,O=this.state,$=O.startX,D=O.endX,L=O.isTextActive,I=O.isSlideMoving,z=O.isTravellerMoving,F=O.isTravellerFocused;if(!w||!w.length||!isNumber(A)||!isNumber(R)||!isNumber(C)||!isNumber(T)||C<=0||T<=0)return null;var W=clsx("recharts-brush",j),H=React.Children.count(S)===1,B=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:W,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:B},this.renderBackground(),H&&this.renderPanorama(),this.renderSlide($,D),this.renderTravellerLayer($,"startX"),this.renderTravellerLayer(D,"endX"),(L||I||z||F||N)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(_){var w=_.x,j=_.y,S=_.width,A=_.height,R=_.stroke,C=Math.floor(j+A/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:w,y:j,width:S,height:A,fill:R,stroke:"none"}),React.createElement("line",{x1:w+1,y1:C,x2:w+S-1,y2:C,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:w+1,y1:C+2,x2:w+S-1,y2:C+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(_,w){var j;return React.isValidElement(_)?j=React.cloneElement(_,w):isFunction$4(_)?j=_(w):j=o.renderDefaultTraveller(w),j}},{key:"getDerivedStateFromProps",value:function(_,w){var j=_.data,S=_.width,A=_.x,R=_.travellerWidth,C=_.updateId,T=_.startIndex,N=_.endIndex;if(j!==w.prevData||C!==w.prevUpdateId)return _objectSpread$c({prevData:j,prevTravellerWidth:R,prevUpdateId:C,prevX:A,prevWidth:S},j&&j.length?createScale({data:j,width:S,x:A,travellerWidth:R,startIndex:T,endIndex:N}):{scale:null,scaleValues:null});if(w.scale&&(S!==w.prevWidth||A!==w.prevX||R!==w.prevTravellerWidth)){w.scale.range([A,A+S-R]);var O=w.scale.domain().map(function($){return w.scale($)});return{prevData:j,prevTravellerWidth:R,prevUpdateId:C,prevX:A,prevWidth:S,startX:w.scale(_.startIndex),endX:w.scale(_.endIndex),scaleValues:O}}return null}},{key:"getIndexInRange",value:function(_,w){for(var j=_.length,S=0,A=j-1;A-S>1;){var R=Math.floor((S+A)/2);_[R]>w?A=R:S=R}return w>=_[A]?A:S}}])}(reactExports.PureComponent);_defineProperty$f(Brush,"displayName","Brush");_defineProperty$f(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(i,o){var E;return baseEach$1(i,function(_,w,j){return E=o(_,w,j),!E}),!!E}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(i,o,E){var _=isArray$1(i)?arraySome:baseSome;return E&&isIterateeCall$1(i,o,E)&&(o=void 0),_(i,baseIteratee$4(o))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function(o,E){var _=o.alwaysShow,w=o.ifOverflow;return _&&(w="extendDomain"),w===E},defineProperty=_defineProperty$C;function baseAssignValue$1(i,o,E){o=="__proto__"&&defineProperty?defineProperty(i,o,{configurable:!0,enumerable:!0,value:E,writable:!0}):i[o]=E}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(i,o){var E={};return o=baseIteratee$3(o),baseForOwn(i,function(_,w,j){baseAssignValue(E,w,o(_,w,j))}),E}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(i,o){for(var E=-1,_=i==null?0:i.length;++E<_;)if(!o(i[E],E,i))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(i,o){var E=!0;return baseEach(i,function(_,w,j){return E=!!o(_,w,j),E}),E}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(i,o,E){var _=isArray(i)?arrayEvery:baseEvery;return E&&isIterateeCall(i,o,E)&&(o=void 0),_(i,baseIteratee$2(o))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$5=["x","y"];function _typeof$e(i){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$e(i)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$a.apply(this,arguments)}function ownKeys$b(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$b(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$b(Object(E),!0).forEach(function(_){_defineProperty$e(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$b(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$e(i,o,E){return o=_toPropertyKey$e(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$e(i){var o=_toPrimitive$e(i,"string");return _typeof$e(o)=="symbol"?o:o+""}function _toPrimitive$e(i,o){if(_typeof$e(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$e(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$5(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$5(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$5(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function typeguardBarRectangleProps(i,o){var E=i.x,_=i.y,w=_objectWithoutProperties$5(i,_excluded$5),j="".concat(E),S=parseInt(j,10),A="".concat(_),R=parseInt(A,10),C="".concat(o.height||w.height),T=parseInt(C,10),N="".concat(o.width||w.width),O=parseInt(N,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},o),w),S?{x:S}:{}),R?{y:R}:{}),{},{height:T,width:O,name:o.name,radius:o.radius})}function BarRectangle(i){return React.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},i))}var minPointSizeCallback=function(o){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(_,w){if(typeof o=="number")return o;var j=isNumber(_)||isNullish(_);return j?o(_,w):(j||invariant(),E)}},_excluded$4=["value","background"],_Bar;function _typeof$d(i){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$d(i)}function _objectWithoutProperties$4(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$4(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$4(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$9.apply(this,arguments)}function ownKeys$a(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$a(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$a(Object(E),!0).forEach(function(_){_defineProperty$d(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$a(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$a(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$d(_.key),_)}}function _createClass$a(i,o,E){return o&&_defineProperties$a(i.prototype,o),E&&_defineProperties$a(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$8(i,o,E){return o=_getPrototypeOf$8(o),_possibleConstructorReturn$8(i,_isNativeReflectConstruct$8()?Reflect.construct(o,E||[],_getPrototypeOf$8(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$8(i,o){if(o&&(_typeof$d(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(i)}function _assertThisInitialized$8(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$8(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!i})()}function _getPrototypeOf$8(i){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$8(i)}function _inherits$8(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$8(i,o)}function _setPrototypeOf$8(i,o){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$8(i,o)}function _defineProperty$d(i,o,E){return o=_toPropertyKey$d(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$d(i){var o=_toPrimitive$d(i,"string");return _typeof$d(o)=="symbol"?o:o+""}function _toPrimitive$d(i,o){if(_typeof$d(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$d(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Bar=function(i){function o(){var E;_classCallCheck$a(this,o);for(var _=arguments.length,w=new Array(_),j=0;j<_;j++)w[j]=arguments[j];return E=_callSuper$8(this,o,[].concat(w)),_defineProperty$d(E,"state",{isAnimationFinished:!1}),_defineProperty$d(E,"id",uniqueId("recharts-bar-")),_defineProperty$d(E,"handleAnimationEnd",function(){var S=E.props.onAnimationEnd;E.setState({isAnimationFinished:!0}),S&&S()}),_defineProperty$d(E,"handleAnimationStart",function(){var S=E.props.onAnimationStart;E.setState({isAnimationFinished:!1}),S&&S()}),E}return _inherits$8(o,i),_createClass$a(o,[{key:"renderRectanglesStatically",value:function(_){var w=this,j=this.props,S=j.shape,A=j.dataKey,R=j.activeIndex,C=j.activeBar,T=filterProps(this.props,!1);return _&&_.map(function(N,O){var $=O===R,D=$?C:S,L=_objectSpread$a(_objectSpread$a(_objectSpread$a({},T),N),{},{isActive:$,option:D,index:O,dataKey:A,onAnimationStart:w.handleAnimationStart,onAnimationEnd:w.handleAnimationEnd});return React.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(w.props,N,O),{key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(O)}),React.createElement(BarRectangle,L))})}},{key:"renderRectanglesWithAnimation",value:function(){var _=this,w=this.props,j=w.data,S=w.layout,A=w.isAnimationActive,R=w.animationBegin,C=w.animationDuration,T=w.animationEasing,N=w.animationId,O=this.state.prevData;return React.createElement(Animate,{begin:R,duration:C,isActive:A,easing:T,from:{t:0},to:{t:1},key:"bar-".concat(N),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var D=$.t,L=j.map(function(I,z){var F=O&&O[z];if(F){var W=interpolateNumber$2(F.x,I.x),H=interpolateNumber$2(F.y,I.y),B=interpolateNumber$2(F.width,I.width),U=interpolateNumber$2(F.height,I.height);return _objectSpread$a(_objectSpread$a({},I),{},{x:W(D),y:H(D),width:B(D),height:U(D)})}if(S==="horizontal"){var G=interpolateNumber$2(0,I.height),V=G(D);return _objectSpread$a(_objectSpread$a({},I),{},{y:I.y+I.height-V,height:V})}var K=interpolateNumber$2(0,I.width),je=K(D);return _objectSpread$a(_objectSpread$a({},I),{},{width:je})});return React.createElement(Layer,null,_.renderRectanglesStatically(L))})}},{key:"renderRectangles",value:function(){var _=this.props,w=_.data,j=_.isAnimationActive,S=this.state.prevData;return j&&w&&w.length&&(!S||!isEqual$1(S,w))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(w)}},{key:"renderBackground",value:function(){var _=this,w=this.props,j=w.data,S=w.dataKey,A=w.activeIndex,R=filterProps(this.props.background,!1);return j.map(function(C,T){C.value;var N=C.background,O=_objectWithoutProperties$4(C,_excluded$4);if(!N)return null;var $=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},O),{},{fill:"#eee"},N),R),adaptEventsOfChild(_.props,C,T)),{},{onAnimationStart:_.handleAnimationStart,onAnimationEnd:_.handleAnimationEnd,dataKey:S,index:T,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(T),option:_.props.background,isActive:T===A},$))})}},{key:"renderErrorBar",value:function(_,w){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var j=this.props,S=j.data,A=j.xAxis,R=j.yAxis,C=j.layout,T=j.children,N=findAllByType(T,ErrorBar);if(!N)return null;var O=C==="vertical"?S[0].height/2:S[0].width/2,$=function(I,z){var F=Array.isArray(I.value)?I.value[1]:I.value;return{x:I.x,y:I.y,value:F,errorVal:getValueByDataKey(I,z)}},D={clipPath:_?"url(#clipPath-".concat(w,")"):null};return React.createElement(Layer,D,N.map(function(L){return React.cloneElement(L,{key:"error-bar-".concat(w,"-").concat(L.props.dataKey),data:S,xAxis:A,yAxis:R,layout:C,offset:O,dataPointFormatter:$})}))}},{key:"render",value:function(){var _=this.props,w=_.hide,j=_.data,S=_.className,A=_.xAxis,R=_.yAxis,C=_.left,T=_.top,N=_.width,O=_.height,$=_.isAnimationActive,D=_.background,L=_.id;if(w||!j||!j.length)return null;var I=this.state.isAnimationFinished,z=clsx("recharts-bar",S),F=A&&A.allowDataOverflow,W=R&&R.allowDataOverflow,H=F||W,B=isNil$1(L)?this.id:L;return React.createElement(Layer,{className:z},F||W?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(B)},React.createElement("rect",{x:F?C:C-N/2,y:W?T:T-O/2,width:F?N:N*2,height:W?O:O*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:H?"url(#clipPath-".concat(B,")"):null},D?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(H,B),(!$||I)&&LabelList.renderCallByParent(this.props,j))}}],[{key:"getDerivedStateFromProps",value:function(_,w){return _.animationId!==w.prevAnimationId?{prevAnimationId:_.animationId,curData:_.data,prevData:w.curData}:_.data!==w.curData?{curData:_.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$d(Bar,"displayName","Bar");_defineProperty$d(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$d(Bar,"getComposedData",function(i){var o=i.props,E=i.item,_=i.barPosition,w=i.bandSize,j=i.xAxis,S=i.yAxis,A=i.xAxisTicks,R=i.yAxisTicks,C=i.stackedData,T=i.dataStartIndex,N=i.displayedData,O=i.offset,$=findPositionOfBar(_,E);if(!$)return null;var D=o.layout,L=E.type.defaultProps,I=L!==void 0?_objectSpread$a(_objectSpread$a({},L),E.props):E.props,z=I.dataKey,F=I.children,W=I.minPointSize,H=D==="horizontal"?S:j,B=C?H.scale.domain():null,U=getBaseValueOfBar({numericAxis:H}),G=findAllByType(F,Cell),V=N.map(function(K,je){var Z,fe,Ae,Oe,Pe,Ne;C?Z=truncateByDomain(C[T+je],B):(Z=getValueByDataKey(K,z),Array.isArray(Z)||(Z=[U,Z]));var Ce=minPointSizeCallback(W,_Bar.defaultProps.minPointSize)(Z[1],je);if(D==="horizontal"){var Me,Q=[S.scale(Z[0]),S.scale(Z[1])],Re=Q[0],ke=Q[1];fe=getCateCoordinateOfBar({axis:j,ticks:A,bandSize:w,offset:$.offset,entry:K,index:je}),Ae=(Me=ke??Re)!==null&&Me!==void 0?Me:void 0,Oe=$.size;var _e=Re-ke;if(Pe=Number.isNaN(_e)?0:_e,Ne={x:fe,y:S.y,width:Oe,height:S.height},Math.abs(Ce)>0&&Math.abs(Pe)<Math.abs(Ce)){var Y=mathSign(Pe||Ce)*(Math.abs(Ce)-Math.abs(Pe));Ae-=Y,Pe+=Y}}else{var J=[j.scale(Z[0]),j.scale(Z[1])],Se=J[0],Ie=J[1];if(fe=Se,Ae=getCateCoordinateOfBar({axis:S,ticks:R,bandSize:w,offset:$.offset,entry:K,index:je}),Oe=Ie-Se,Pe=$.size,Ne={x:j.x,y:Ae,width:j.width,height:Pe},Math.abs(Ce)>0&&Math.abs(Oe)<Math.abs(Ce)){var $e=mathSign(Oe||Ce)*(Math.abs(Ce)-Math.abs(Oe));Oe+=$e}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},K),{},{x:fe,y:Ae,width:Oe,height:Pe,value:C?Z:Z[1],payload:K,background:Ne},G&&G[je]&&G[je].props),{},{tooltipPayload:[getTooltipItem(E,K)],tooltipPosition:{x:fe+Oe/2,y:Ae+Pe/2}})});return _objectSpread$a({data:V,layout:D},O)});function _typeof$c(i){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$c(i)}function _classCallCheck$9(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$c(_.key),_)}}function _createClass$9(i,o,E){return o&&_defineProperties$9(i.prototype,o),E&&_defineProperties$9(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function ownKeys$9(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$9(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$9(Object(E),!0).forEach(function(_){_defineProperty$c(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$9(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$c(i,o,E){return o=_toPropertyKey$c(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$c(i){var o=_toPrimitive$c(i,"string");return _typeof$c(o)=="symbol"?o:o+""}function _toPrimitive$c(i,o){if(_typeof$c(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$c(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var formatAxisMap=function(o,E,_,w,j){var S=o.width,A=o.height,R=o.layout,C=o.children,T=Object.keys(E),N={left:_.left,leftMirror:_.left,right:S-_.right,rightMirror:S-_.right,top:_.top,topMirror:_.top,bottom:A-_.bottom,bottomMirror:A-_.bottom},O=!!findChildByType(C,Bar);return T.reduce(function($,D){var L=E[D],I=L.orientation,z=L.domain,F=L.padding,W=F===void 0?{}:F,H=L.mirror,B=L.reversed,U="".concat(I).concat(H?"Mirror":""),G,V,K,je,Z;if(L.type==="number"&&(L.padding==="gap"||L.padding==="no-gap")){var fe=z[1]-z[0],Ae=1/0,Oe=L.categoricalDomain.sort(compareValues);if(Oe.forEach(function(J,Se){Se>0&&(Ae=Math.min((J||0)-(Oe[Se-1]||0),Ae))}),Number.isFinite(Ae)){var Pe=Ae/fe,Ne=L.layout==="vertical"?_.height:_.width;if(L.padding==="gap"&&(G=Pe*Ne/2),L.padding==="no-gap"){var Ce=getPercentValue(o.barCategoryGap,Pe*Ne),Me=Pe*Ne/2;G=Me-Ce-(Me-Ce)/Ne*Ce}}}w==="xAxis"?V=[_.left+(W.left||0)+(G||0),_.left+_.width-(W.right||0)-(G||0)]:w==="yAxis"?V=R==="horizontal"?[_.top+_.height-(W.bottom||0),_.top+(W.top||0)]:[_.top+(W.top||0)+(G||0),_.top+_.height-(W.bottom||0)-(G||0)]:V=L.range,B&&(V=[V[1],V[0]]);var Q=parseScale(L,j,O),Re=Q.scale,ke=Q.realScaleType;Re.domain(z).range(V),checkDomainOfScale(Re);var _e=getTicksOfScale(Re,_objectSpread$9(_objectSpread$9({},L),{},{realScaleType:ke}));w==="xAxis"?(Z=I==="top"&&!H||I==="bottom"&&H,K=_.left,je=N[U]-Z*L.height):w==="yAxis"&&(Z=I==="left"&&!H||I==="right"&&H,K=N[U]-Z*L.width,je=_.top);var Y=_objectSpread$9(_objectSpread$9(_objectSpread$9({},L),_e),{},{realScaleType:ke,x:K,y:je,scale:Re,width:w==="xAxis"?_.width:L.width,height:w==="yAxis"?_.height:L.height});return Y.bandSize=getBandSizeOfAxis(Y,_e),!L.hide&&w==="xAxis"?N[U]+=(Z?-1:1)*Y.height:L.hide||(N[U]+=(Z?-1:1)*Y.width),_objectSpread$9(_objectSpread$9({},$),{},_defineProperty$c({},D,Y))},{})},rectWithPoints=function(o,E){var _=o.x,w=o.y,j=E.x,S=E.y;return{x:Math.min(_,j),y:Math.min(w,S),width:Math.abs(j-_),height:Math.abs(S-w)}},rectWithCoords=function(o){var E=o.x1,_=o.y1,w=o.x2,j=o.y2;return rectWithPoints({x:E,y:_},{x:w,y:j})},ScaleHelper=function(){function i(o){_classCallCheck$9(this,i),this.scale=o}return _createClass$9(i,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=_.bandAware,j=_.position;if(E!==void 0){if(j)switch(j){case"start":return this.scale(E);case"middle":{var S=this.bandwidth?this.bandwidth()/2:0;return this.scale(E)+S}case"end":{var A=this.bandwidth?this.bandwidth():0;return this.scale(E)+A}default:return this.scale(E)}if(w){var R=this.bandwidth?this.bandwidth()/2:0;return this.scale(E)+R}return this.scale(E)}}},{key:"isInRange",value:function(E){var _=this.range(),w=_[0],j=_[_.length-1];return w<=j?E>=w&&E<=j:E>=j&&E<=w}}],[{key:"create",value:function(E){return new i(E)}}])}();_defineProperty$c(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(o){var E=Object.keys(o).reduce(function(_,w){return _objectSpread$9(_objectSpread$9({},_),{},_defineProperty$c({},w,ScaleHelper.create(o[w])))},{});return _objectSpread$9(_objectSpread$9({},E),{},{apply:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=j.bandAware,A=j.position;return mapValues$1(w,function(R,C){return E[C].apply(R,{bandAware:S,position:A})})},isInRange:function(w){return every$1(w,function(j,S){return E[S].isInRange(j)})}})};function normalizeAngle(i){return(i%180+180)%180}var getAngledRectangleWidth=function(o){var E=o.width,_=o.height,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=normalizeAngle(w),S=j*Math.PI/180,A=Math.atan(_/E),R=S>A&&S<Math.PI-A?_/Math.sin(S):E/Math.cos(S);return Math.abs(R)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(i){return function(o,E,_){var w=Object(o);if(!isArrayLike(o)){var j=baseIteratee$1(E);o=keys(o),E=function(A){return j(w[A],A,w)}}var S=i(o,E,_);return S>-1?w[j?o[S]:S]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(i){var o=toFinite(i),E=o%1;return o===o?E?o-E:o:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$2(i,o,E){var _=i==null?0:i.length;if(!_)return-1;var w=E==null?0:toInteger(E);return w<0&&(w=nativeMax(_+w,0)),baseFindIndex(i,baseIteratee(o),w)}var findIndex_1=findIndex$2,createFind=_createFind,findIndex$1=findIndex_1,find=createFind(findIndex$1),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(i){return{x:i.left,y:i.top,width:i.width,height:i.height}},function(i){return["l",i.left,"t",i.top,"w",i.width,"h",i.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(o){var E=o.state,_=E.xAxisMap,w=E.yAxisMap,j=E.offset,S=o.clipPathId,A=o.children,R=o.width,C=o.height,T=calculateViewBox(j);return React.createElement(XAxisContext.Provider,{value:_},React.createElement(YAxisContext.Provider,{value:w},React.createElement(OffsetContext.Provider,{value:j},React.createElement(ViewBoxContext.Provider,{value:T},React.createElement(ClipPathIdContext.Provider,{value:S},React.createElement(ChartHeightContext.Provider,{value:C},React.createElement(ChartWidthContext.Provider,{value:R},A)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(o){var E=reactExports.useContext(XAxisContext);E==null&&invariant();var _=E[o];return _==null&&invariant(),_},useArbitraryXAxis=function(){var o=reactExports.useContext(XAxisContext);return getAnyElementOfObject(o)},useYAxisWithFiniteDomainOrRandom=function(){var o=reactExports.useContext(YAxisContext),E=find$1(o,function(_){return every$1(_.domain,Number.isFinite)});return E||getAnyElementOfObject(o)},useYAxisOrThrow=function(o){var E=reactExports.useContext(YAxisContext);E==null&&invariant();var _=E[o];return _==null&&invariant(),_},useViewBox=function(){var o=reactExports.useContext(ViewBoxContext);return o},useOffset=function(){return reactExports.useContext(OffsetContext)},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$b(i){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$b(i)}function _classCallCheck$8(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$b(_.key),_)}}function _createClass$8(i,o,E){return o&&_defineProperties$8(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$7(i,o,E){return o=_getPrototypeOf$7(o),_possibleConstructorReturn$7(i,_isNativeReflectConstruct$7()?Reflect.construct(o,E||[],_getPrototypeOf$7(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$7(i,o){if(o&&(_typeof$b(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(i)}function _assertThisInitialized$7(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$7(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!i})()}function _getPrototypeOf$7(i){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$7(i)}function _inherits$7(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$7(i,o)}function _setPrototypeOf$7(i,o){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$7(i,o)}function ownKeys$8(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$8(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$8(Object(E),!0).forEach(function(_){_defineProperty$b(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$8(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$b(i,o,E){return o=_toPropertyKey$b(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$b(i){var o=_toPrimitive$b(i,"string");return _typeof$b(o)=="symbol"?o:o+""}function _toPrimitive$b(i,o){if(_typeof$b(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$b(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _slicedToArray$1(i,o){return _arrayWithHoles$1(i)||_iterableToArrayLimit$1(i,o)||_unsupportedIterableToArray$3(i,o)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$3(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$3(i,o)}}function _arrayLikeToArray$3(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _iterableToArrayLimit$1(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles$1(i){if(Array.isArray(i))return i}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$8.apply(this,arguments)}var renderLine=function(o,E){var _;return React.isValidElement(o)?_=React.cloneElement(o,E):isFunction$4(o)?_=o(E):_=React.createElement("line",_extends$8({},E,{className:"recharts-reference-line-line"})),_},getEndPoints=function(o,E,_,w,j,S,A,R,C){var T=j.x,N=j.y,O=j.width,$=j.height;if(_){var D=C.y,L=o.y.apply(D,{position:S});if(ifOverflowMatches(C,"discard")&&!o.y.isInRange(L))return null;var I=[{x:T+O,y:L},{x:T,y:L}];return R==="left"?I.reverse():I}if(E){var z=C.x,F=o.x.apply(z,{position:S});if(ifOverflowMatches(C,"discard")&&!o.x.isInRange(F))return null;var W=[{x:F,y:N+$},{x:F,y:N}];return A==="top"?W.reverse():W}if(w){var H=C.segment,B=H.map(function(U){return o.apply(U,{position:S})});return ifOverflowMatches(C,"discard")&&some$1(B,function(U){return!o.isInRange(U)})?null:B}return null};function ReferenceLineImpl(i){var o=i.x,E=i.y,_=i.segment,w=i.xAxisId,j=i.yAxisId,S=i.shape,A=i.className,R=i.alwaysShow,C=useClipPathId(),T=useXAxisOrThrow(w),N=useYAxisOrThrow(j),O=useViewBox();if(!C||!O)return null;warn(R===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var $=createLabeledScales({x:T.scale,y:N.scale}),D=isNumOrStr(o),L=isNumOrStr(E),I=_&&_.length===2,z=getEndPoints($,D,L,I,O,i.position,T.orientation,N.orientation,i);if(!z)return null;var F=_slicedToArray$1(z,2),W=F[0],H=W.x,B=W.y,U=F[1],G=U.x,V=U.y,K=ifOverflowMatches(i,"hidden")?"url(#".concat(C,")"):void 0,je=_objectSpread$8(_objectSpread$8({clipPath:K},filterProps(i,!0)),{},{x1:H,y1:B,x2:G,y2:V});return React.createElement(Layer,{className:clsx("recharts-reference-line",A)},renderLine(S,je),Label$4.renderCallByParent(i,rectWithCoords({x1:H,y1:B,x2:G,y2:V})))}var ReferenceLine=function(i){function o(){return _classCallCheck$8(this,o),_callSuper$7(this,o,arguments)}return _inherits$7(o,i),_createClass$8(o,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$b(ReferenceLine,"displayName","ReferenceLine");_defineProperty$b(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$7.apply(this,arguments)}function _typeof$a(i){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$a(i)}function ownKeys$7(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$7(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$7(Object(E),!0).forEach(function(_){_defineProperty$a(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$7(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$7(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$a(_.key),_)}}function _createClass$7(i,o,E){return o&&_defineProperties$7(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$6(i,o,E){return o=_getPrototypeOf$6(o),_possibleConstructorReturn$6(i,_isNativeReflectConstruct$6()?Reflect.construct(o,E||[],_getPrototypeOf$6(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$6(i,o){if(o&&(_typeof$a(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(i)}function _assertThisInitialized$6(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$6(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!i})()}function _getPrototypeOf$6(i){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$6(i)}function _inherits$6(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$6(i,o)}function _setPrototypeOf$6(i,o){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$6(i,o)}function _defineProperty$a(i,o,E){return o=_toPropertyKey$a(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$a(i){var o=_toPrimitive$a(i,"string");return _typeof$a(o)=="symbol"?o:o+""}function _toPrimitive$a(i,o){if(_typeof$a(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$a(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var getCoordinate=function(o){var E=o.x,_=o.y,w=o.xAxis,j=o.yAxis,S=createLabeledScales({x:w.scale,y:j.scale}),A=S.apply({x:E,y:_},{bandAware:!0});return ifOverflowMatches(o,"discard")&&!S.isInRange(A)?null:A},ReferenceDot=function(i){function o(){return _classCallCheck$7(this,o),_callSuper$6(this,o,arguments)}return _inherits$6(o,i),_createClass$7(o,[{key:"render",value:function(){var _=this.props,w=_.x,j=_.y,S=_.r,A=_.alwaysShow,R=_.clipPathId,C=isNumOrStr(w),T=isNumOrStr(j);if(warn(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!C||!T)return null;var N=getCoordinate(this.props);if(!N)return null;var O=N.x,$=N.y,D=this.props,L=D.shape,I=D.className,z=ifOverflowMatches(this.props,"hidden")?"url(#".concat(R,")"):void 0,F=_objectSpread$7(_objectSpread$7({clipPath:z},filterProps(this.props,!0)),{},{cx:O,cy:$});return React.createElement(Layer,{className:clsx("recharts-reference-dot",I)},o.renderDot(L,F),Label$4.renderCallByParent(this.props,{x:O-S,y:$-S,width:2*S,height:2*S}))}}])}(React.Component);_defineProperty$a(ReferenceDot,"displayName","ReferenceDot");_defineProperty$a(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$a(ReferenceDot,"renderDot",function(i,o){var E;return React.isValidElement(i)?E=React.cloneElement(i,o):isFunction$4(i)?E=i(o):E=React.createElement(Dot,_extends$7({},o,{cx:o.cx,cy:o.cy,className:"recharts-reference-dot-dot"})),E});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$6.apply(this,arguments)}function _typeof$9(i){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$9(i)}function ownKeys$6(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$6(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$6(Object(E),!0).forEach(function(_){_defineProperty$9(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$6(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _classCallCheck$6(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$9(_.key),_)}}function _createClass$6(i,o,E){return o&&_defineProperties$6(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$5(i,o,E){return o=_getPrototypeOf$5(o),_possibleConstructorReturn$5(i,_isNativeReflectConstruct$5()?Reflect.construct(o,E||[],_getPrototypeOf$5(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$5(i,o){if(o&&(_typeof$9(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(i)}function _assertThisInitialized$5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$5(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!i})()}function _getPrototypeOf$5(i){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$5(i)}function _inherits$5(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$5(i,o)}function _setPrototypeOf$5(i,o){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$5(i,o)}function _defineProperty$9(i,o,E){return o=_toPropertyKey$9(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$9(i){var o=_toPrimitive$9(i,"string");return _typeof$9(o)=="symbol"?o:o+""}function _toPrimitive$9(i,o){if(_typeof$9(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$9(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var getRect=function(o,E,_,w,j){var S=j.x1,A=j.x2,R=j.y1,C=j.y2,T=j.xAxis,N=j.yAxis;if(!T||!N)return null;var O=createLabeledScales({x:T.scale,y:N.scale}),$={x:o?O.x.apply(S,{position:"start"}):O.x.rangeMin,y:_?O.y.apply(R,{position:"start"}):O.y.rangeMin},D={x:E?O.x.apply(A,{position:"end"}):O.x.rangeMax,y:w?O.y.apply(C,{position:"end"}):O.y.rangeMax};return ifOverflowMatches(j,"discard")&&(!O.isInRange($)||!O.isInRange(D))?null:rectWithPoints($,D)},ReferenceArea=function(i){function o(){return _classCallCheck$6(this,o),_callSuper$5(this,o,arguments)}return _inherits$5(o,i),_createClass$6(o,[{key:"render",value:function(){var _=this.props,w=_.x1,j=_.x2,S=_.y1,A=_.y2,R=_.className,C=_.alwaysShow,T=_.clipPathId;warn(C===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var N=isNumOrStr(w),O=isNumOrStr(j),$=isNumOrStr(S),D=isNumOrStr(A),L=this.props.shape;if(!N&&!O&&!$&&!D&&!L)return null;var I=getRect(N,O,$,D,this.props);if(!I&&!L)return null;var z=ifOverflowMatches(this.props,"hidden")?"url(#".concat(T,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",R)},o.renderRect(L,_objectSpread$6(_objectSpread$6({clipPath:z},filterProps(this.props,!0)),I)),Label$4.renderCallByParent(this.props,I))}}])}(React.Component);_defineProperty$9(ReferenceArea,"displayName","ReferenceArea");_defineProperty$9(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$9(ReferenceArea,"renderRect",function(i,o){var E;return React.isValidElement(i)?E=React.cloneElement(i,o):isFunction$4(i)?E=i(o):E=React.createElement(Rectangle,_extends$6({},o,{className:"recharts-reference-area-rect"})),E});function getEveryNthWithCondition(i,o,E){if(o<1)return[];if(o===1&&E===void 0)return i;for(var _=[],w=0;w<i.length;w+=o)_.push(i[w]);return _}function getAngledTickWidth(i,o,E){var _={width:i.width+o.width,height:i.height+o.height};return getAngledRectangleWidth(_,E)}function getTickBoundaries(i,o,E){var _=E==="width",w=i.x,j=i.y,S=i.width,A=i.height;return o===1?{start:_?w:j,end:_?w+S:j+A}:{start:_?w+S:j+A,end:_?w:j}}function isVisible(i,o,E,_,w){if(i*o<i*_||i*o>i*w)return!1;var j=E();return i*(o-i*j/2-_)>=0&&i*(o+i*j/2-w)<=0}function getNumberIntervalTicks(i,o){return getEveryNthWithCondition(i,o+1)}function getEquidistantTicks(i,o,E,_,w){for(var j=(_||[]).slice(),S=o.start,A=o.end,R=0,C=1,T=S,N=function(){var D=_==null?void 0:_[R];if(D===void 0)return{v:getEveryNthWithCondition(_,C)};var L=R,I,z=function(){return I===void 0&&(I=E(D,L)),I},F=D.coordinate,W=R===0||isVisible(i,F,z,T,A);W||(R=0,T=S,C+=1),W&&(T=F+i*(z()/2+w),R+=C)},O;C<=j.length;)if(O=N(),O)return O.v;return[]}function _typeof$8(i){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$8(i)}function ownKeys$5(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$5(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$5(Object(E),!0).forEach(function(_){_defineProperty$8(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$5(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$8(i,o,E){return o=_toPropertyKey$8(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$8(i){var o=_toPrimitive$8(i,"string");return _typeof$8(o)=="symbol"?o:o+""}function _toPrimitive$8(i,o){if(_typeof$8(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$8(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function getTicksEnd(i,o,E,_,w){for(var j=(_||[]).slice(),S=j.length,A=o.start,R=o.end,C=function(O){var $=j[O],D,L=function(){return D===void 0&&(D=E($,O)),D};if(O===S-1){var I=i*($.coordinate+i*L()/2-R);j[O]=$=_objectSpread$5(_objectSpread$5({},$),{},{tickCoord:I>0?$.coordinate-I*i:$.coordinate})}else j[O]=$=_objectSpread$5(_objectSpread$5({},$),{},{tickCoord:$.coordinate});var z=isVisible(i,$.tickCoord,L,A,R);z&&(R=$.tickCoord-i*(L()/2+w),j[O]=_objectSpread$5(_objectSpread$5({},$),{},{isShow:!0}))},T=S-1;T>=0;T--)C(T);return j}function getTicksStart(i,o,E,_,w,j){var S=(_||[]).slice(),A=S.length,R=o.start,C=o.end;if(j){var T=_[A-1],N=E(T,A-1),O=i*(T.coordinate+i*N/2-C);S[A-1]=T=_objectSpread$5(_objectSpread$5({},T),{},{tickCoord:O>0?T.coordinate-O*i:T.coordinate});var $=isVisible(i,T.tickCoord,function(){return N},R,C);$&&(C=T.tickCoord-i*(N/2+w),S[A-1]=_objectSpread$5(_objectSpread$5({},T),{},{isShow:!0}))}for(var D=j?A-1:A,L=function(F){var W=S[F],H,B=function(){return H===void 0&&(H=E(W,F)),H};if(F===0){var U=i*(W.coordinate-i*B()/2-R);S[F]=W=_objectSpread$5(_objectSpread$5({},W),{},{tickCoord:U<0?W.coordinate-U*i:W.coordinate})}else S[F]=W=_objectSpread$5(_objectSpread$5({},W),{},{tickCoord:W.coordinate});var G=isVisible(i,W.tickCoord,B,R,C);G&&(R=W.tickCoord+i*(B()/2+w),S[F]=_objectSpread$5(_objectSpread$5({},W),{},{isShow:!0}))},I=0;I<D;I++)L(I);return S}function getTicks(i,o,E){var _=i.tick,w=i.ticks,j=i.viewBox,S=i.minTickGap,A=i.orientation,R=i.interval,C=i.tickFormatter,T=i.unit,N=i.angle;if(!w||!w.length||!_)return[];if(isNumber(R)||Global.isSsr)return getNumberIntervalTicks(w,typeof R=="number"&&isNumber(R)?R:0);var O=[],$=A==="top"||A==="bottom"?"width":"height",D=T&&$==="width"?getStringSize(T,{fontSize:o,letterSpacing:E}):{width:0,height:0},L=function(W,H){var B=isFunction$4(C)?C(W.value,H):W.value;return $==="width"?getAngledTickWidth(getStringSize(B,{fontSize:o,letterSpacing:E}),D,N):getStringSize(B,{fontSize:o,letterSpacing:E})[$]},I=w.length>=2?mathSign(w[1].coordinate-w[0].coordinate):1,z=getTickBoundaries(j,I,$);return R==="equidistantPreserveStart"?getEquidistantTicks(I,z,L,w,S):(R==="preserveStart"||R==="preserveStartEnd"?O=getTicksStart(I,z,L,w,S,R==="preserveStartEnd"):O=getTicksEnd(I,z,L,w,S),O.filter(function(F){return F.isShow}))}var _excluded$3=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$7(i){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$7(i)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$5.apply(this,arguments)}function ownKeys$4(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$4(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$4(Object(E),!0).forEach(function(_){_defineProperty$7(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$4(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _objectWithoutProperties$3(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$3(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$3(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _classCallCheck$5(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$7(_.key),_)}}function _createClass$5(i,o,E){return o&&_defineProperties$5(i.prototype,o),E&&_defineProperties$5(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$4(i,o,E){return o=_getPrototypeOf$4(o),_possibleConstructorReturn$4(i,_isNativeReflectConstruct$4()?Reflect.construct(o,E||[],_getPrototypeOf$4(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$4(i,o){if(o&&(_typeof$7(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(i)}function _assertThisInitialized$4(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$4(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!i})()}function _getPrototypeOf$4(i){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$4(i)}function _inherits$4(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$4(i,o)}function _setPrototypeOf$4(i,o){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$4(i,o)}function _defineProperty$7(i,o,E){return o=_toPropertyKey$7(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$7(i){var o=_toPrimitive$7(i,"string");return _typeof$7(o)=="symbol"?o:o+""}function _toPrimitive$7(i,o){if(_typeof$7(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$7(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var CartesianAxis=function(i){function o(E){var _;return _classCallCheck$5(this,o),_=_callSuper$4(this,o,[E]),_.state={fontSize:"",letterSpacing:""},_}return _inherits$4(o,i),_createClass$5(o,[{key:"shouldComponentUpdate",value:function(_,w){var j=_.viewBox,S=_objectWithoutProperties$3(_,_excluded$3),A=this.props,R=A.viewBox,C=_objectWithoutProperties$3(A,_excluded2$3);return!shallowEqual(j,R)||!shallowEqual(S,C)||!shallowEqual(w,this.state)}},{key:"componentDidMount",value:function(){var _=this.layerReference;if(_){var w=_.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];w&&this.setState({fontSize:window.getComputedStyle(w).fontSize,letterSpacing:window.getComputedStyle(w).letterSpacing})}}},{key:"getTickLineCoord",value:function(_){var w=this.props,j=w.x,S=w.y,A=w.width,R=w.height,C=w.orientation,T=w.tickSize,N=w.mirror,O=w.tickMargin,$,D,L,I,z,F,W=N?-1:1,H=_.tickSize||T,B=isNumber(_.tickCoord)?_.tickCoord:_.coordinate;switch(C){case"top":$=D=_.coordinate,I=S+ +!N*R,L=I-W*H,F=L-W*O,z=B;break;case"left":L=I=_.coordinate,D=j+ +!N*A,$=D-W*H,z=$-W*O,F=B;break;case"right":L=I=_.coordinate,D=j+ +N*A,$=D+W*H,z=$+W*O,F=B;break;default:$=D=_.coordinate,I=S+ +N*R,L=I+W*H,F=L+W*O,z=B;break}return{line:{x1:$,y1:L,x2:D,y2:I},tick:{x:z,y:F}}}},{key:"getTickTextAnchor",value:function(){var _=this.props,w=_.orientation,j=_.mirror,S;switch(w){case"left":S=j?"start":"end";break;case"right":S=j?"end":"start";break;default:S="middle";break}return S}},{key:"getTickVerticalAnchor",value:function(){var _=this.props,w=_.orientation,j=_.mirror,S="end";switch(w){case"left":case"right":S="middle";break;case"top":S=j?"start":"end";break;default:S=j?"end":"start";break}return S}},{key:"renderAxisLine",value:function(){var _=this.props,w=_.x,j=_.y,S=_.width,A=_.height,R=_.orientation,C=_.mirror,T=_.axisLine,N=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(T,!1)),{},{fill:"none"});if(R==="top"||R==="bottom"){var O=+(R==="top"&&!C||R==="bottom"&&C);N=_objectSpread$4(_objectSpread$4({},N),{},{x1:w,y1:j+O*A,x2:w+S,y2:j+O*A})}else{var $=+(R==="left"&&!C||R==="right"&&C);N=_objectSpread$4(_objectSpread$4({},N),{},{x1:w+$*S,y1:j,x2:w+$*S,y2:j+A})}return React.createElement("line",_extends$5({},N,{className:clsx("recharts-cartesian-axis-line",get$2(T,"className"))}))}},{key:"renderTicks",value:function(_,w,j){var S=this,A=this.props,R=A.tickLine,C=A.stroke,T=A.tick,N=A.tickFormatter,O=A.unit,$=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:_}),w,j),D=this.getTickTextAnchor(),L=this.getTickVerticalAnchor(),I=filterProps(this.props,!1),z=filterProps(T,!1),F=_objectSpread$4(_objectSpread$4({},I),{},{fill:"none"},filterProps(R,!1)),W=$.map(function(H,B){var U=S.getTickLineCoord(H),G=U.line,V=U.tick,K=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:D,verticalAnchor:L},I),{},{stroke:"none",fill:C},z),V),{},{index:B,payload:H,visibleTicksCount:$.length,tickFormatter:N});return React.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},adaptEventsOfChild(S.props,H,B)),R&&React.createElement("line",_extends$5({},F,G,{className:clsx("recharts-cartesian-axis-tick-line",get$2(R,"className"))})),T&&o.renderTickItem(T,K,"".concat(isFunction$4(N)?N(H.value,B):H.value).concat(O||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},W)}},{key:"render",value:function(){var _=this,w=this.props,j=w.axisLine,S=w.width,A=w.height,R=w.ticksGenerator,C=w.className,T=w.hide;if(T)return null;var N=this.props,O=N.ticks,$=_objectWithoutProperties$3(N,_excluded3),D=O;return isFunction$4(R)&&(D=O&&O.length>0?R(this.props):R($)),S<=0||A<=0||!D||!D.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",C),ref:function(I){_.layerReference=I}},j&&this.renderAxisLine(),this.renderTicks(D,this.state.fontSize,this.state.letterSpacing),Label$4.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(_,w,j){var S,A=clsx(w.className,"recharts-cartesian-axis-tick-value");return React.isValidElement(_)?S=React.cloneElement(_,_objectSpread$4(_objectSpread$4({},w),{},{className:A})):isFunction$4(_)?S=_(_objectSpread$4(_objectSpread$4({},w),{},{className:A})):S=React.createElement(Text,_extends$5({},w,{className:"recharts-cartesian-axis-tick-value"}),j),S}}])}(reactExports.Component);_defineProperty$7(CartesianAxis,"displayName","CartesianAxis");_defineProperty$7(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$2=["x1","y1","x2","y2","key"],_excluded2$2=["offset"];function _typeof$6(i){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$6(i)}function ownKeys$3(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$3(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$3(Object(E),!0).forEach(function(_){_defineProperty$6(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$3(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$6(i,o,E){return o=_toPropertyKey$6(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$6(i){var o=_toPrimitive$6(i,"string");return _typeof$6(o)=="symbol"?o:o+""}function _toPrimitive$6(i,o){if(_typeof$6(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$6(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$4.apply(this,arguments)}function _objectWithoutProperties$2(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$2(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$2(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}var Background=function(o){var E=o.fill;if(!E||E==="none")return null;var _=o.fillOpacity,w=o.x,j=o.y,S=o.width,A=o.height,R=o.ry;return React.createElement("rect",{x:w,y:j,ry:R,width:S,height:A,stroke:"none",fill:E,fillOpacity:_,className:"recharts-cartesian-grid-bg"})};function renderLineItem(i,o){var E;if(React.isValidElement(i))E=React.cloneElement(i,o);else if(isFunction$4(i))E=i(o);else{var _=o.x1,w=o.y1,j=o.x2,S=o.y2,A=o.key,R=_objectWithoutProperties$2(o,_excluded$2),C=filterProps(R,!1);C.offset;var T=_objectWithoutProperties$2(C,_excluded2$2);E=React.createElement("line",_extends$4({},T,{x1:_,y1:w,x2:j,y2:S,fill:"none",key:A}))}return E}function HorizontalGridLines(i){var o=i.x,E=i.width,_=i.horizontal,w=_===void 0?!0:_,j=i.horizontalPoints;if(!w||!j||!j.length)return null;var S=j.map(function(A,R){var C=_objectSpread$3(_objectSpread$3({},i),{},{x1:o,y1:A,x2:o+E,y2:A,key:"line-".concat(R),index:R});return renderLineItem(w,C)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},S)}function VerticalGridLines(i){var o=i.y,E=i.height,_=i.vertical,w=_===void 0?!0:_,j=i.verticalPoints;if(!w||!j||!j.length)return null;var S=j.map(function(A,R){var C=_objectSpread$3(_objectSpread$3({},i),{},{x1:A,y1:o,x2:A,y2:o+E,key:"line-".concat(R),index:R});return renderLineItem(w,C)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},S)}function HorizontalStripes(i){var o=i.horizontalFill,E=i.fillOpacity,_=i.x,w=i.y,j=i.width,S=i.height,A=i.horizontalPoints,R=i.horizontal,C=R===void 0?!0:R;if(!C||!o||!o.length)return null;var T=A.map(function(O){return Math.round(O+w-w)}).sort(function(O,$){return O-$});w!==T[0]&&T.unshift(0);var N=T.map(function(O,$){var D=!T[$+1],L=D?w+S-O:T[$+1]-O;if(L<=0)return null;var I=$%o.length;return React.createElement("rect",{key:"react-".concat($),y:O,x:_,height:L,width:j,stroke:"none",fill:o[I],fillOpacity:E,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},N)}function VerticalStripes(i){var o=i.vertical,E=o===void 0?!0:o,_=i.verticalFill,w=i.fillOpacity,j=i.x,S=i.y,A=i.width,R=i.height,C=i.verticalPoints;if(!E||!_||!_.length)return null;var T=C.map(function(O){return Math.round(O+j-j)}).sort(function(O,$){return O-$});j!==T[0]&&T.unshift(0);var N=T.map(function(O,$){var D=!T[$+1],L=D?j+A-O:T[$+1]-O;if(L<=0)return null;var I=$%_.length;return React.createElement("rect",{key:"react-".concat($),x:O,y:S,width:L,height:R,stroke:"none",fill:_[I],fillOpacity:w,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},N)}var defaultVerticalCoordinatesGenerator=function(o,E){var _=o.xAxis,w=o.width,j=o.height,S=o.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),_),{},{ticks:getTicksOfAxis(_,!0),viewBox:{x:0,y:0,width:w,height:j}})),S.left,S.left+S.width,E)},defaultHorizontalCoordinatesGenerator=function(o,E){var _=o.yAxis,w=o.width,j=o.height,S=o.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),_),{},{ticks:getTicksOfAxis(_,!0),viewBox:{x:0,y:0,width:w,height:j}})),S.top,S.top+S.height,E)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(i){var o,E,_,w,j,S,A=useChartWidth(),R=useChartHeight(),C=useOffset(),T=_objectSpread$3(_objectSpread$3({},i),{},{stroke:(o=i.stroke)!==null&&o!==void 0?o:defaultProps.stroke,fill:(E=i.fill)!==null&&E!==void 0?E:defaultProps.fill,horizontal:(_=i.horizontal)!==null&&_!==void 0?_:defaultProps.horizontal,horizontalFill:(w=i.horizontalFill)!==null&&w!==void 0?w:defaultProps.horizontalFill,vertical:(j=i.vertical)!==null&&j!==void 0?j:defaultProps.vertical,verticalFill:(S=i.verticalFill)!==null&&S!==void 0?S:defaultProps.verticalFill,x:isNumber(i.x)?i.x:C.left,y:isNumber(i.y)?i.y:C.top,width:isNumber(i.width)?i.width:C.width,height:isNumber(i.height)?i.height:C.height}),N=T.x,O=T.y,$=T.width,D=T.height,L=T.syncWithTicks,I=T.horizontalValues,z=T.verticalValues,F=useArbitraryXAxis(),W=useYAxisWithFiniteDomainOrRandom();if(!isNumber($)||$<=0||!isNumber(D)||D<=0||!isNumber(N)||N!==+N||!isNumber(O)||O!==+O)return null;var H=T.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,B=T.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,U=T.horizontalPoints,G=T.verticalPoints;if((!U||!U.length)&&isFunction$4(B)){var V=I&&I.length,K=B({yAxis:W?_objectSpread$3(_objectSpread$3({},W),{},{ticks:V?I:W.ticks}):void 0,width:A,height:R,offset:C},V?!0:L);warn(Array.isArray(K),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(K),"]")),Array.isArray(K)&&(U=K)}if((!G||!G.length)&&isFunction$4(H)){var je=z&&z.length,Z=H({xAxis:F?_objectSpread$3(_objectSpread$3({},F),{},{ticks:je?z:F.ticks}):void 0,width:A,height:R,offset:C},je?!0:L);warn(Array.isArray(Z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(Z),"]")),Array.isArray(Z)&&(G=Z)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:T.fill,fillOpacity:T.fillOpacity,x:T.x,y:T.y,width:T.width,height:T.height,ry:T.ry}),React.createElement(HorizontalGridLines,_extends$4({},T,{offset:C,horizontalPoints:U,xAxis:F,yAxis:W})),React.createElement(VerticalGridLines,_extends$4({},T,{offset:C,verticalPoints:G,xAxis:F,yAxis:W})),React.createElement(HorizontalStripes,_extends$4({},T,{horizontalPoints:U})),React.createElement(VerticalStripes,_extends$4({},T,{verticalPoints:G})))}CartesianGrid.displayName="CartesianGrid";var _excluded$1=["type","layout","connectNulls","ref"],_excluded2$1=["key"];function _typeof$5(i){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$5(i)}function _objectWithoutProperties$1(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose$1(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose$1(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$3.apply(this,arguments)}function ownKeys$2(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$2(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$2(Object(E),!0).forEach(function(_){_defineProperty$5(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$2(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _toConsumableArray$2(i){return _arrayWithoutHoles$2(i)||_iterableToArray$2(i)||_unsupportedIterableToArray$2(i)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$2(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$2(i,o)}}function _iterableToArray$2(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$2(i){if(Array.isArray(i))return _arrayLikeToArray$2(i)}function _arrayLikeToArray$2(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function _classCallCheck$4(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$5(_.key),_)}}function _createClass$4(i,o,E){return o&&_defineProperties$4(i.prototype,o),E&&_defineProperties$4(i,E),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$3(i,o,E){return o=_getPrototypeOf$3(o),_possibleConstructorReturn$3(i,_isNativeReflectConstruct$3()?Reflect.construct(o,E||[],_getPrototypeOf$3(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$3(i,o){if(o&&(_typeof$5(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(i)}function _assertThisInitialized$3(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$3(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!i})()}function _getPrototypeOf$3(i){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$3(i)}function _inherits$3(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$3(i,o)}function _setPrototypeOf$3(i,o){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$3(i,o)}function _defineProperty$5(i,o,E){return o=_toPropertyKey$5(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$5(i){var o=_toPrimitive$5(i,"string");return _typeof$5(o)=="symbol"?o:o+""}function _toPrimitive$5(i,o){if(_typeof$5(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$5(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Line=function(i){function o(){var E;_classCallCheck$4(this,o);for(var _=arguments.length,w=new Array(_),j=0;j<_;j++)w[j]=arguments[j];return E=_callSuper$3(this,o,[].concat(w)),_defineProperty$5(E,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$5(E,"generateSimpleStrokeDasharray",function(S,A){return"".concat(A,"px ").concat(S-A,"px")}),_defineProperty$5(E,"getStrokeDasharray",function(S,A,R){var C=R.reduce(function(z,F){return z+F});if(!C)return E.generateSimpleStrokeDasharray(A,S);for(var T=Math.floor(S/C),N=S%C,O=A-S,$=[],D=0,L=0;D<R.length;L+=R[D],++D)if(L+R[D]>N){$=[].concat(_toConsumableArray$2(R.slice(0,D)),[N-L]);break}var I=$.length%2===0?[0,O]:[O];return[].concat(_toConsumableArray$2(o.repeat(R,T)),_toConsumableArray$2($),I).map(function(z){return"".concat(z,"px")}).join(", ")}),_defineProperty$5(E,"id",uniqueId("recharts-line-")),_defineProperty$5(E,"pathRef",function(S){E.mainCurve=S}),_defineProperty$5(E,"handleAnimationEnd",function(){E.setState({isAnimationFinished:!0}),E.props.onAnimationEnd&&E.props.onAnimationEnd()}),_defineProperty$5(E,"handleAnimationStart",function(){E.setState({isAnimationFinished:!1}),E.props.onAnimationStart&&E.props.onAnimationStart()}),E}return _inherits$3(o,i),_createClass$4(o,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var _=this.getTotalLength();this.setState({totalLength:_})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var _=this.getTotalLength();_!==this.state.totalLength&&this.setState({totalLength:_})}}},{key:"getTotalLength",value:function(){var _=this.mainCurve;try{return _&&_.getTotalLength&&_.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(_,w){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var j=this.props,S=j.points,A=j.xAxis,R=j.yAxis,C=j.layout,T=j.children,N=findAllByType(T,ErrorBar);if(!N)return null;var O=function(L,I){return{x:L.x,y:L.y,value:L.value,errorVal:getValueByDataKey(L.payload,I)}},$={clipPath:_?"url(#clipPath-".concat(w,")"):null};return React.createElement(Layer,$,N.map(function(D){return React.cloneElement(D,{key:"bar-".concat(D.props.dataKey),data:S,xAxis:A,yAxis:R,layout:C,dataPointFormatter:O})}))}},{key:"renderDots",value:function(_,w,j){var S=this.props.isAnimationActive;if(S&&!this.state.isAnimationFinished)return null;var A=this.props,R=A.dot,C=A.points,T=A.dataKey,N=filterProps(this.props,!1),O=filterProps(R,!0),$=C.map(function(L,I){var z=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(I),r:3},N),O),{},{index:I,cx:L.x,cy:L.y,value:L.value,dataKey:T,payload:L.payload,points:C});return o.renderDotItem(R,z)}),D={clipPath:_?"url(#clipPath-".concat(w?"":"dots-").concat(j,")"):null};return React.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},D),$)}},{key:"renderCurveStatically",value:function(_,w,j,S){var A=this.props,R=A.type,C=A.layout,T=A.connectNulls;A.ref;var N=_objectWithoutProperties$1(A,_excluded$1),O=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(N,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:w?"url(#clipPath-".concat(j,")"):null,points:_},S),{},{type:R,layout:C,connectNulls:T});return React.createElement(Curve,_extends$3({},O,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(_,w){var j=this,S=this.props,A=S.points,R=S.strokeDasharray,C=S.isAnimationActive,T=S.animationBegin,N=S.animationDuration,O=S.animationEasing,$=S.animationId,D=S.animateNewValues,L=S.width,I=S.height,z=this.state,F=z.prevPoints,W=z.totalLength;return React.createElement(Animate,{begin:T,duration:N,isActive:C,easing:O,from:{t:0},to:{t:1},key:"line-".concat($),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(H){var B=H.t;if(F){var U=F.length/A.length,G=A.map(function(fe,Ae){var Oe=Math.floor(Ae*U);if(F[Oe]){var Pe=F[Oe],Ne=interpolateNumber$2(Pe.x,fe.x),Ce=interpolateNumber$2(Pe.y,fe.y);return _objectSpread$2(_objectSpread$2({},fe),{},{x:Ne(B),y:Ce(B)})}if(D){var Me=interpolateNumber$2(L*2,fe.x),Q=interpolateNumber$2(I/2,fe.y);return _objectSpread$2(_objectSpread$2({},fe),{},{x:Me(B),y:Q(B)})}return _objectSpread$2(_objectSpread$2({},fe),{},{x:fe.x,y:fe.y})});return j.renderCurveStatically(G,_,w)}var V=interpolateNumber$2(0,W),K=V(B),je;if(R){var Z="".concat(R).split(/[,\s]+/gim).map(function(fe){return parseFloat(fe)});je=j.getStrokeDasharray(K,W,Z)}else je=j.generateSimpleStrokeDasharray(W,K);return j.renderCurveStatically(A,_,w,{strokeDasharray:je})})}},{key:"renderCurve",value:function(_,w){var j=this.props,S=j.points,A=j.isAnimationActive,R=this.state,C=R.prevPoints,T=R.totalLength;return A&&S&&S.length&&(!C&&T>0||!isEqual$1(C,S))?this.renderCurveWithAnimation(_,w):this.renderCurveStatically(S,_,w)}},{key:"render",value:function(){var _,w=this.props,j=w.hide,S=w.dot,A=w.points,R=w.className,C=w.xAxis,T=w.yAxis,N=w.top,O=w.left,$=w.width,D=w.height,L=w.isAnimationActive,I=w.id;if(j||!A||!A.length)return null;var z=this.state.isAnimationFinished,F=A.length===1,W=clsx("recharts-line",R),H=C&&C.allowDataOverflow,B=T&&T.allowDataOverflow,U=H||B,G=isNil$1(I)?this.id:I,V=(_=filterProps(S,!1))!==null&&_!==void 0?_:{r:3,strokeWidth:2},K=V.r,je=K===void 0?3:K,Z=V.strokeWidth,fe=Z===void 0?2:Z,Ae=hasClipDot(S)?S:{},Oe=Ae.clipDot,Pe=Oe===void 0?!0:Oe,Ne=je*2+fe;return React.createElement(Layer,{className:W},H||B?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(G)},React.createElement("rect",{x:H?O:O-$/2,y:B?N:N-D/2,width:H?$:$*2,height:B?D:D*2})),!Pe&&React.createElement("clipPath",{id:"clipPath-dots-".concat(G)},React.createElement("rect",{x:O-Ne/2,y:N-Ne/2,width:$+Ne,height:D+Ne}))):null,!F&&this.renderCurve(U,G),this.renderErrorBar(U,G),(F||S)&&this.renderDots(U,Pe,G),(!L||z)&&LabelList.renderCallByParent(this.props,A))}}],[{key:"getDerivedStateFromProps",value:function(_,w){return _.animationId!==w.prevAnimationId?{prevAnimationId:_.animationId,curPoints:_.points,prevPoints:w.curPoints}:_.points!==w.curPoints?{curPoints:_.points}:null}},{key:"repeat",value:function(_,w){for(var j=_.length%2!==0?[].concat(_toConsumableArray$2(_),[0]):_,S=[],A=0;A<w;++A)S=[].concat(_toConsumableArray$2(S),_toConsumableArray$2(j));return S}},{key:"renderDotItem",value:function(_,w){var j;if(React.isValidElement(_))j=React.cloneElement(_,w);else if(isFunction$4(_))j=_(w);else{var S=w.key,A=_objectWithoutProperties$1(w,_excluded2$1),R=clsx("recharts-line-dot",typeof _!="boolean"?_.className:"");j=React.createElement(Dot,_extends$3({key:S},A,{className:R}))}return j}}])}(reactExports.PureComponent);_defineProperty$5(Line,"displayName","Line");_defineProperty$5(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$5(Line,"getComposedData",function(i){var o=i.props,E=i.xAxis,_=i.yAxis,w=i.xAxisTicks,j=i.yAxisTicks,S=i.dataKey,A=i.bandSize,R=i.displayedData,C=i.offset,T=o.layout,N=R.map(function(O,$){var D=getValueByDataKey(O,S);return T==="horizontal"?{x:getCateCoordinateOfLine({axis:E,ticks:w,bandSize:A,entry:O,index:$}),y:isNil$1(D)?null:_.scale(D),value:D,payload:O}:{x:isNil$1(D)?null:E.scale(D),y:getCateCoordinateOfLine({axis:_,ticks:j,bandSize:A,entry:O,index:$}),value:D,payload:O}});return _objectSpread$2({points:N,layout:T},C)});function _typeof$4(i){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(i)}function _classCallCheck$3(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$4(_.key),_)}}function _createClass$3(i,o,E){return o&&_defineProperties$3(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$2(i,o,E){return o=_getPrototypeOf$2(o),_possibleConstructorReturn$2(i,_isNativeReflectConstruct$2()?Reflect.construct(o,E||[],_getPrototypeOf$2(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$2(i,o){if(o&&(_typeof$4(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(i)}function _assertThisInitialized$2(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!i})()}function _getPrototypeOf$2(i){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$2(i)}function _inherits$2(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$2(i,o)}function _setPrototypeOf$2(i,o){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$2(i,o)}function _defineProperty$4(i,o,E){return o=_toPropertyKey$4(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$4(i){var o=_toPrimitive$4(i,"string");return _typeof$4(o)=="symbol"?o:o+""}function _toPrimitive$4(i,o){if(_typeof$4(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$4(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$2.apply(this,arguments)}function XAxisImpl(i){var o=i.xAxisId,E=useChartWidth(),_=useChartHeight(),w=useXAxisOrThrow(o);return w==null?null:reactExports.createElement(CartesianAxis,_extends$2({},w,{className:clsx("recharts-".concat(w.axisType," ").concat(w.axisType),w.className),viewBox:{x:0,y:0,width:E,height:_},ticksGenerator:function(S){return getTicksOfAxis(S,!0)}}))}var XAxis=function(i){function o(){return _classCallCheck$3(this,o),_callSuper$2(this,o,arguments)}return _inherits$2(o,i),_createClass$3(o,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(i){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(i)}function _classCallCheck$2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$3(_.key),_)}}function _createClass$2(i,o,E){return o&&_defineProperties$2(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$1(i,o,E){return o=_getPrototypeOf$1(o),_possibleConstructorReturn$1(i,_isNativeReflectConstruct$1()?Reflect.construct(o,E||[],_getPrototypeOf$1(i).constructor):o.apply(i,E))}function _possibleConstructorReturn$1(i,o){if(o&&(_typeof$3(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(i)}function _assertThisInitialized$1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!i})()}function _getPrototypeOf$1(i){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf$1(i)}function _inherits$1(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$1(i,o)}function _setPrototypeOf$1(i,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf$1(i,o)}function _defineProperty$3(i,o,E){return o=_toPropertyKey$3(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$3(i){var o=_toPrimitive$3(i,"string");return _typeof$3(o)=="symbol"?o:o+""}function _toPrimitive$3(i,o){if(_typeof$3(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$3(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends$1.apply(this,arguments)}var YAxisImpl=function(o){var E=o.yAxisId,_=useChartWidth(),w=useChartHeight(),j=useYAxisOrThrow(E);return j==null?null:reactExports.createElement(CartesianAxis,_extends$1({},j,{className:clsx("recharts-".concat(j.axisType," ").concat(j.axisType),j.className),viewBox:{x:0,y:0,width:_,height:w},ticksGenerator:function(A){return getTicksOfAxis(A,!0)}}))},YAxis=function(i){function o(){return _classCallCheck$2(this,o),_callSuper$1(this,o,arguments)}return _inherits$1(o,i),_createClass$2(o,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(i){return _arrayWithoutHoles$1(i)||_iterableToArray$1(i)||_unsupportedIterableToArray$1(i)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$1(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray$1(i,o)}}function _iterableToArray$1(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$1(i){if(Array.isArray(i))return _arrayLikeToArray$1(i)}function _arrayLikeToArray$1(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}var detectReferenceElementsDomain=function(o,E,_,w,j){var S=findAllByType(o,ReferenceLine),A=findAllByType(o,ReferenceDot),R=[].concat(_toConsumableArray$1(S),_toConsumableArray$1(A)),C=findAllByType(o,ReferenceArea),T="".concat(w,"Id"),N=w[0],O=E;if(R.length&&(O=R.reduce(function(L,I){if(I.props[T]===_&&ifOverflowMatches(I.props,"extendDomain")&&isNumber(I.props[N])){var z=I.props[N];return[Math.min(L[0],z),Math.max(L[1],z)]}return L},O)),C.length){var $="".concat(N,"1"),D="".concat(N,"2");O=C.reduce(function(L,I){if(I.props[T]===_&&ifOverflowMatches(I.props,"extendDomain")&&isNumber(I.props[$])&&isNumber(I.props[D])){var z=I.props[$],F=I.props[D];return[Math.min(L[0],z,F),Math.max(L[1],z,F)]}return L},O)}return j&&j.length&&(O=j.reduce(function(L,I){return isNumber(I)?[Math.min(L[0],I),Math.max(L[1],I)]:L},O)),O},eventemitter3={exports:{}};(function(i){var o=Object.prototype.hasOwnProperty,E="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(E=!1));function w(R,C,T){this.fn=R,this.context=C,this.once=T||!1}function j(R,C,T,N,O){if(typeof T!="function")throw new TypeError("The listener must be a function");var $=new w(T,N||R,O),D=E?E+C:C;return R._events[D]?R._events[D].fn?R._events[D]=[R._events[D],$]:R._events[D].push($):(R._events[D]=$,R._eventsCount++),R}function S(R,C){--R._eventsCount===0?R._events=new _:delete R._events[C]}function A(){this._events=new _,this._eventsCount=0}A.prototype.eventNames=function(){var C=[],T,N;if(this._eventsCount===0)return C;for(N in T=this._events)o.call(T,N)&&C.push(E?N.slice(1):N);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(T)):C},A.prototype.listeners=function(C){var T=E?E+C:C,N=this._events[T];if(!N)return[];if(N.fn)return[N.fn];for(var O=0,$=N.length,D=new Array($);O<$;O++)D[O]=N[O].fn;return D},A.prototype.listenerCount=function(C){var T=E?E+C:C,N=this._events[T];return N?N.fn?1:N.length:0},A.prototype.emit=function(C,T,N,O,$,D){var L=E?E+C:C;if(!this._events[L])return!1;var I=this._events[L],z=arguments.length,F,W;if(I.fn){switch(I.once&&this.removeListener(C,I.fn,void 0,!0),z){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,T),!0;case 3:return I.fn.call(I.context,T,N),!0;case 4:return I.fn.call(I.context,T,N,O),!0;case 5:return I.fn.call(I.context,T,N,O,$),!0;case 6:return I.fn.call(I.context,T,N,O,$,D),!0}for(W=1,F=new Array(z-1);W<z;W++)F[W-1]=arguments[W];I.fn.apply(I.context,F)}else{var H=I.length,B;for(W=0;W<H;W++)switch(I[W].once&&this.removeListener(C,I[W].fn,void 0,!0),z){case 1:I[W].fn.call(I[W].context);break;case 2:I[W].fn.call(I[W].context,T);break;case 3:I[W].fn.call(I[W].context,T,N);break;case 4:I[W].fn.call(I[W].context,T,N,O);break;default:if(!F)for(B=1,F=new Array(z-1);B<z;B++)F[B-1]=arguments[B];I[W].fn.apply(I[W].context,F)}}return!0},A.prototype.on=function(C,T,N){return j(this,C,T,N,!1)},A.prototype.once=function(C,T,N){return j(this,C,T,N,!0)},A.prototype.removeListener=function(C,T,N,O){var $=E?E+C:C;if(!this._events[$])return this;if(!T)return S(this,$),this;var D=this._events[$];if(D.fn)D.fn===T&&(!O||D.once)&&(!N||D.context===N)&&S(this,$);else{for(var L=0,I=[],z=D.length;L<z;L++)(D[L].fn!==T||O&&!D[L].once||N&&D[L].context!==N)&&I.push(D[L]);I.length?this._events[$]=I.length===1?I[0]:I:S(this,$)}return this},A.prototype.removeAllListeners=function(C){var T;return C?(T=E?E+C:C,this._events[T]&&S(this,T)):(this._events=new _,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=E,A.EventEmitter=A,i.exports=A})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(i){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(i)}function _classCallCheck$1(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey$2(_.key),_)}}function _createClass$1(i,o,E){return o&&_defineProperties$1(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _defineProperty$2(i,o,E){return o=_toPropertyKey$2(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$2(i){var o=_toPrimitive$2(i,"string");return _typeof$2(o)=="symbol"?o:o+""}function _toPrimitive$2(i,o){if(_typeof$2(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$2(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var AccessibilityManager=function(){function i(){_classCallCheck$1(this,i),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(i,[{key:"setDetails",value:function(E){var _,w=E.coordinateList,j=w===void 0?null:w,S=E.container,A=S===void 0?null:S,R=E.layout,C=R===void 0?null:R,T=E.offset,N=T===void 0?null:T,O=E.mouseHandlerCallback,$=O===void 0?null:O;this.coordinateList=(_=j??this.coordinateList)!==null&&_!==void 0?_:[],this.container=A??this.container,this.layout=C??this.layout,this.offset=N??this.offset,this.mouseHandlerCallback=$??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(E){if(this.coordinateList.length!==0)switch(E.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(E){this.activeIndex=E}},{key:"spoofMouse",value:function(){var E,_;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var w=this.container.getBoundingClientRect(),j=w.x,S=w.y,A=w.height,R=this.coordinateList[this.activeIndex].coordinate,C=((E=window)===null||E===void 0?void 0:E.scrollX)||0,T=((_=window)===null||_===void 0?void 0:_.scrollY)||0,N=j+R+C,O=S+this.offset.top+A/2+T;this.mouseHandlerCallback({pageX:N,pageY:O})}}}])}();function isDomainSpecifiedByUser(i,o,E){if(E==="number"&&o===!0&&Array.isArray(i)){var _=i==null?void 0:i[0],w=i==null?void 0:i[1];if(_&&w&&isNumber(_)&&isNumber(w))return!0}return!1}function getCursorRectangle(i,o,E,_){var w=_/2;return{stroke:"none",fill:"#ccc",x:i==="horizontal"?o.x-w:E.left+.5,y:i==="horizontal"?E.top+.5:o.y-w,width:i==="horizontal"?_:E.width-1,height:i==="horizontal"?E.height-1:_}}function getRadialCursorPoints(i){var o=i.cx,E=i.cy,_=i.radius,w=i.startAngle,j=i.endAngle,S=polarToCartesian(o,E,_,w),A=polarToCartesian(o,E,_,j);return{points:[S,A],cx:o,cy:E,radius:_,startAngle:w,endAngle:j}}function getCursorPoints(i,o,E){var _,w,j,S;if(i==="horizontal")_=o.x,j=_,w=E.top,S=E.top+E.height;else if(i==="vertical")w=o.y,S=w,_=E.left,j=E.left+E.width;else if(o.cx!=null&&o.cy!=null)if(i==="centric"){var A=o.cx,R=o.cy,C=o.innerRadius,T=o.outerRadius,N=o.angle,O=polarToCartesian(A,R,C,N),$=polarToCartesian(A,R,T,N);_=O.x,w=O.y,j=$.x,S=$.y}else return getRadialCursorPoints(o);return[{x:_,y:w},{x:j,y:S}]}function _typeof$1(i){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(i)}function ownKeys$1(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread$1(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(Object(E),!0).forEach(function(_){_defineProperty$1(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys$1(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty$1(i,o,E){return o=_toPropertyKey$1(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey$1(i){var o=_toPrimitive$1(i,"string");return _typeof$1(o)=="symbol"?o:o+""}function _toPrimitive$1(i,o){if(_typeof$1(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof$1(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function Cursor(i){var o,E,_=i.element,w=i.tooltipEventType,j=i.isActive,S=i.activeCoordinate,A=i.activePayload,R=i.offset,C=i.activeTooltipIndex,T=i.tooltipAxisBandSize,N=i.layout,O=i.chartName,$=(o=_.props.cursor)!==null&&o!==void 0?o:(E=_.type.defaultProps)===null||E===void 0?void 0:E.cursor;if(!_||!$||!j||!S||O!=="ScatterChart"&&w!=="axis")return null;var D,L=Curve;if(O==="ScatterChart")D=S,L=Cross;else if(O==="BarChart")D=getCursorRectangle(N,S,R,T),L=Rectangle;else if(N==="radial"){var I=getRadialCursorPoints(S),z=I.cx,F=I.cy,W=I.radius,H=I.startAngle,B=I.endAngle;D={cx:z,cy:F,startAngle:H,endAngle:B,innerRadius:W,outerRadius:W},L=Sector}else D={points:getCursorPoints(N,S,R)},L=Curve;var U=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},R),D),filterProps($,!1)),{},{payload:A,payloadIndex:C,className:clsx("recharts-tooltip-cursor",$.className)});return reactExports.isValidElement($)?reactExports.cloneElement($,U):reactExports.createElement(L,U)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var E=arguments[o];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(i[_]=E[_])}return i},_extends.apply(this,arguments)}function _slicedToArray(i,o){return _arrayWithHoles(i)||_iterableToArrayLimit(i,o)||_unsupportedIterableToArray(i,o)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(i,o){var E=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(E!=null){var _,w,j,S,A=[],R=!0,C=!1;try{if(j=(E=E.call(i)).next,o!==0)for(;!(R=(_=j.call(E)).done)&&(A.push(_.value),A.length!==o);R=!0);}catch(T){C=!0,w=T}finally{try{if(!R&&E.return!=null&&(S=E.return(),Object(S)!==S))return}finally{if(C)throw w}}return A}}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _objectWithoutProperties(i,o){if(i==null)return{};var E=_objectWithoutPropertiesLoose(i,o),_,w;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);for(w=0;w<j.length;w++)_=j[w],!(o.indexOf(_)>=0)&&Object.prototype.propertyIsEnumerable.call(i,_)&&(E[_]=i[_])}return E}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var E={};for(var _ in i)if(Object.prototype.hasOwnProperty.call(i,_)){if(o.indexOf(_)>=0)continue;E[_]=i[_]}return E}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var E=0;E<o.length;E++){var _=o[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(i,_toPropertyKey(_.key),_)}}function _createClass(i,o,E){return o&&_defineProperties(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper(i,o,E){return o=_getPrototypeOf(o),_possibleConstructorReturn(i,_isNativeReflectConstruct()?Reflect.construct(o,E||[],_getPrototypeOf(i).constructor):o.apply(i,E))}function _possibleConstructorReturn(i,o){if(o&&(_typeof(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!i})()}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},_getPrototypeOf(i)}function _inherits(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf(i,o)}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,w){return _.__proto__=w,_},_setPrototypeOf(i,o)}function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray(i,o);var E=Object.prototype.toString.call(i).slice(8,-1);if(E==="Object"&&i.constructor&&(E=i.constructor.name),E==="Map"||E==="Set")return Array.from(i);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _arrayLikeToArray(i,o)}}function _iterableToArray(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray(i)}function _arrayLikeToArray(i,o){(o==null||o>i.length)&&(o=i.length);for(var E=0,_=new Array(o);E<o;E++)_[E]=i[E];return _}function ownKeys(i,o){var E=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),E.push.apply(E,_)}return E}function _objectSpread(i){for(var o=1;o<arguments.length;o++){var E=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(E),!0).forEach(function(_){_defineProperty(i,_,E[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(E)):ownKeys(Object(E)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(E,_))})}return i}function _defineProperty(i,o,E){return o=_toPropertyKey(o),o in i?Object.defineProperty(i,o,{value:E,enumerable:!0,configurable:!0,writable:!0}):i[o]=E,i}function _toPropertyKey(i){var o=_toPrimitive(i,"string");return _typeof(o)=="symbol"?o:o+""}function _toPrimitive(i,o){if(_typeof(i)!="object"||!i)return i;var E=i[Symbol.toPrimitive];if(E!==void 0){var _=E.call(i,o);if(_typeof(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(i){return i}var calculateTooltipPos=function(o,E){return E==="horizontal"?o.x:E==="vertical"?o.y:E==="centric"?o.angle:o.radius},getActiveCoordinate=function(o,E,_,w){var j=E.find(function(T){return T&&T.index===_});if(j){if(o==="horizontal")return{x:j.coordinate,y:w.y};if(o==="vertical")return{x:w.x,y:j.coordinate};if(o==="centric"){var S=j.coordinate,A=w.radius;return _objectSpread(_objectSpread(_objectSpread({},w),polarToCartesian(w.cx,w.cy,A,S)),{},{angle:S,radius:A})}var R=j.coordinate,C=w.angle;return _objectSpread(_objectSpread(_objectSpread({},w),polarToCartesian(w.cx,w.cy,R,C)),{},{angle:C,radius:R})}return originCoordinate},getDisplayedData=function(o,E){var _=E.graphicalItems,w=E.dataStartIndex,j=E.dataEndIndex,S=(_??[]).reduce(function(A,R){var C=R.props.data;return C&&C.length?[].concat(_toConsumableArray(A),_toConsumableArray(C)):A},[]);return S.length>0?S:o&&o.length&&isNumber(w)&&isNumber(j)?o.slice(w,j+1):[]};function getDefaultDomainByAxisType(i){return i==="number"?[0,"auto"]:void 0}var getTooltipContent=function(o,E,_,w){var j=o.graphicalItems,S=o.tooltipAxis,A=getDisplayedData(E,o);return _<0||!j||!j.length||_>=A.length?null:j.reduce(function(R,C){var T,N=(T=C.props.data)!==null&&T!==void 0?T:E;N&&o.dataStartIndex+o.dataEndIndex!==0&&o.dataEndIndex-o.dataStartIndex>=_&&(N=N.slice(o.dataStartIndex,o.dataEndIndex+1));var O;if(S.dataKey&&!S.allowDuplicatedCategory){var $=N===void 0?A:N;O=findEntryInArray($,S.dataKey,w)}else O=N&&N[_]||A[_];return O?[].concat(_toConsumableArray(R),[getTooltipItem(C,O)]):R},[])},getTooltipData=function(o,E,_,w){var j=w||{x:o.chartX,y:o.chartY},S=calculateTooltipPos(j,_),A=o.orderedTooltipTicks,R=o.tooltipAxis,C=o.tooltipTicks,T=calculateActiveTickIndex(S,A,C,R);if(T>=0&&C){var N=C[T]&&C[T].value,O=getTooltipContent(o,E,T,N),$=getActiveCoordinate(_,A,T,j);return{activeTooltipIndex:T,activeLabel:N,activePayload:O,activeCoordinate:$}}return null},getAxisMapByAxes=function(o,E){var _=E.axes,w=E.graphicalItems,j=E.axisType,S=E.axisIdKey,A=E.stackGroups,R=E.dataStartIndex,C=E.dataEndIndex,T=o.layout,N=o.children,O=o.stackOffset,$=isCategoricalAxis(T,j);return _.reduce(function(D,L){var I,z=L.type.defaultProps!==void 0?_objectSpread(_objectSpread({},L.type.defaultProps),L.props):L.props,F=z.type,W=z.dataKey,H=z.allowDataOverflow,B=z.allowDuplicatedCategory,U=z.scale,G=z.ticks,V=z.includeHidden,K=z[S];if(D[K])return D;var je=getDisplayedData(o.data,{graphicalItems:w.filter(function(_e){var Y,J=S in _e.props?_e.props[S]:(Y=_e.type.defaultProps)===null||Y===void 0?void 0:Y[S];return J===K}),dataStartIndex:R,dataEndIndex:C}),Z=je.length,fe,Ae,Oe;isDomainSpecifiedByUser(z.domain,H,F)&&(fe=parseSpecifiedDomain(z.domain,null,H),$&&(F==="number"||U!=="auto")&&(Oe=getDomainOfDataByKey(je,W,"category")));var Pe=getDefaultDomainByAxisType(F);if(!fe||fe.length===0){var Ne,Ce=(Ne=z.domain)!==null&&Ne!==void 0?Ne:Pe;if(W){if(fe=getDomainOfDataByKey(je,W,F),F==="category"&&$){var Me=hasDuplicate(fe);B&&Me?(Ae=fe,fe=range$1(0,Z)):B||(fe=parseDomainOfCategoryAxis(Ce,fe,L).reduce(function(_e,Y){return _e.indexOf(Y)>=0?_e:[].concat(_toConsumableArray(_e),[Y])},[]))}else if(F==="category")B?fe=fe.filter(function(_e){return _e!==""&&!isNil$1(_e)}):fe=parseDomainOfCategoryAxis(Ce,fe,L).reduce(function(_e,Y){return _e.indexOf(Y)>=0||Y===""||isNil$1(Y)?_e:[].concat(_toConsumableArray(_e),[Y])},[]);else if(F==="number"){var Q=parseErrorBarsOfAxis(je,w.filter(function(_e){var Y,J,Se=S in _e.props?_e.props[S]:(Y=_e.type.defaultProps)===null||Y===void 0?void 0:Y[S],Ie="hide"in _e.props?_e.props.hide:(J=_e.type.defaultProps)===null||J===void 0?void 0:J.hide;return Se===K&&(V||!Ie)}),W,j,T);Q&&(fe=Q)}$&&(F==="number"||U!=="auto")&&(Oe=getDomainOfDataByKey(je,W,"category"))}else $?fe=range$1(0,Z):A&&A[K]&&A[K].hasStack&&F==="number"?fe=O==="expand"?[0,1]:getDomainOfStackGroups(A[K].stackGroups,R,C):fe=getDomainOfItemsWithSameAxis(je,w.filter(function(_e){var Y=S in _e.props?_e.props[S]:_e.type.defaultProps[S],J="hide"in _e.props?_e.props.hide:_e.type.defaultProps.hide;return Y===K&&(V||!J)}),F,T,!0);if(F==="number")fe=detectReferenceElementsDomain(N,fe,K,j,G),Ce&&(fe=parseSpecifiedDomain(Ce,fe,H));else if(F==="category"&&Ce){var Re=Ce,ke=fe.every(function(_e){return Re.indexOf(_e)>=0});ke&&(fe=Re)}}return _objectSpread(_objectSpread({},D),{},_defineProperty({},K,_objectSpread(_objectSpread({},z),{},{axisType:j,domain:fe,categoricalDomain:Oe,duplicateDomain:Ae,originalDomain:(I=z.domain)!==null&&I!==void 0?I:Pe,isCategorical:$,layout:T})))},{})},getAxisMapByItems=function(o,E){var _=E.graphicalItems,w=E.Axis,j=E.axisType,S=E.axisIdKey,A=E.stackGroups,R=E.dataStartIndex,C=E.dataEndIndex,T=o.layout,N=o.children,O=getDisplayedData(o.data,{graphicalItems:_,dataStartIndex:R,dataEndIndex:C}),$=O.length,D=isCategoricalAxis(T,j),L=-1;return _.reduce(function(I,z){var F=z.type.defaultProps!==void 0?_objectSpread(_objectSpread({},z.type.defaultProps),z.props):z.props,W=F[S],H=getDefaultDomainByAxisType("number");if(!I[W]){L++;var B;return D?B=range$1(0,$):A&&A[W]&&A[W].hasStack?(B=getDomainOfStackGroups(A[W].stackGroups,R,C),B=detectReferenceElementsDomain(N,B,W,j)):(B=parseSpecifiedDomain(H,getDomainOfItemsWithSameAxis(O,_.filter(function(U){var G,V,K=S in U.props?U.props[S]:(G=U.type.defaultProps)===null||G===void 0?void 0:G[S],je="hide"in U.props?U.props.hide:(V=U.type.defaultProps)===null||V===void 0?void 0:V.hide;return K===W&&!je}),"number",T),w.defaultProps.allowDataOverflow),B=detectReferenceElementsDomain(N,B,W,j)),_objectSpread(_objectSpread({},I),{},_defineProperty({},W,_objectSpread(_objectSpread({axisType:j},w.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(j,".").concat(L%2),null),domain:B,originalDomain:H,isCategorical:D,layout:T})))}return I},{})},getAxisMap=function(o,E){var _=E.axisType,w=_===void 0?"xAxis":_,j=E.AxisComp,S=E.graphicalItems,A=E.stackGroups,R=E.dataStartIndex,C=E.dataEndIndex,T=o.children,N="".concat(w,"Id"),O=findAllByType(T,j),$={};return O&&O.length?$=getAxisMapByAxes(o,{axes:O,graphicalItems:S,axisType:w,axisIdKey:N,stackGroups:A,dataStartIndex:R,dataEndIndex:C}):S&&S.length&&($=getAxisMapByItems(o,{Axis:j,graphicalItems:S,axisType:w,axisIdKey:N,stackGroups:A,dataStartIndex:R,dataEndIndex:C})),$},tooltipTicksGenerator=function(o){var E=getAnyElementOfObject(o),_=getTicksOfAxis(E,!1,!0);return{tooltipTicks:_,orderedTooltipTicks:sortBy$1(_,function(w){return w.coordinate}),tooltipAxis:E,tooltipAxisBandSize:getBandSizeOfAxis(E,_)}},createDefaultState=function(o){var E=o.children,_=o.defaultShowTooltip,w=findChildByType(E,Brush),j=0,S=0;return o.data&&o.data.length!==0&&(S=o.data.length-1),w&&w.props&&(w.props.startIndex>=0&&(j=w.props.startIndex),w.props.endIndex>=0&&(S=w.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:j,dataEndIndex:S,activeTooltipIndex:-1,isTooltipActive:!!_}},hasGraphicalBarItem=function(o){return!o||!o.length?!1:o.some(function(E){var _=getDisplayName(E&&E.type);return _&&_.indexOf("Bar")>=0})},getAxisNameByLayout=function(o){return o==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:o==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:o==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(o,E){var _=o.props,w=o.graphicalItems,j=o.xAxisMap,S=j===void 0?{}:j,A=o.yAxisMap,R=A===void 0?{}:A,C=_.width,T=_.height,N=_.children,O=_.margin||{},$=findChildByType(N,Brush),D=findChildByType(N,Legend),L=Object.keys(R).reduce(function(B,U){var G=R[U],V=G.orientation;return!G.mirror&&!G.hide?_objectSpread(_objectSpread({},B),{},_defineProperty({},V,B[V]+G.width)):B},{left:O.left||0,right:O.right||0}),I=Object.keys(S).reduce(function(B,U){var G=S[U],V=G.orientation;return!G.mirror&&!G.hide?_objectSpread(_objectSpread({},B),{},_defineProperty({},V,get$2(B,"".concat(V))+G.height)):B},{top:O.top||0,bottom:O.bottom||0}),z=_objectSpread(_objectSpread({},I),L),F=z.bottom;$&&(z.bottom+=$.props.height||Brush.defaultProps.height),D&&E&&(z=appendOffsetOfLegend(z,w,_,E));var W=C-z.left-z.right,H=T-z.top-z.bottom;return _objectSpread(_objectSpread({brushBottom:F},z),{},{width:Math.max(W,0),height:Math.max(H,0)})},getCartesianAxisSize=function(o,E){if(E==="xAxis")return o[E].width;if(E==="yAxis")return o[E].height},generateCategoricalChart=function(o){var E=o.chartName,_=o.GraphicalChild,w=o.defaultTooltipEventType,j=w===void 0?"axis":w,S=o.validateTooltipEventTypes,A=S===void 0?["axis"]:S,R=o.axisComponents,C=o.legendContent,T=o.formatAxisMap,N=o.defaultProps,O=function(z,F){var W=F.graphicalItems,H=F.stackGroups,B=F.offset,U=F.updateId,G=F.dataStartIndex,V=F.dataEndIndex,K=z.barSize,je=z.layout,Z=z.barGap,fe=z.barCategoryGap,Ae=z.maxBarSize,Oe=getAxisNameByLayout(je),Pe=Oe.numericAxisName,Ne=Oe.cateAxisName,Ce=hasGraphicalBarItem(W),Me=[];return W.forEach(function(Q,Re){var ke=getDisplayedData(z.data,{graphicalItems:[Q],dataStartIndex:G,dataEndIndex:V}),_e=Q.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Q.type.defaultProps),Q.props):Q.props,Y=_e.dataKey,J=_e.maxBarSize,Se=_e["".concat(Pe,"Id")],Ie=_e["".concat(Ne,"Id")],$e={},De=R.reduce(function(Qe,ut){var mt=F["".concat(ut.axisType,"Map")],gt=_e["".concat(ut.axisType,"Id")];mt&&mt[gt]||ut.axisType==="zAxis"||invariant();var Ze=mt[gt];return _objectSpread(_objectSpread({},Qe),{},_defineProperty(_defineProperty({},ut.axisType,Ze),"".concat(ut.axisType,"Ticks"),getTicksOfAxis(Ze)))},$e),Be=De[Ne],Le=De["".concat(Ne,"Ticks")],He=H&&H[Se]&&H[Se].hasStack&&getStackedDataOfItem(Q,H[Se].stackGroups),We=getDisplayName(Q.type).indexOf("Bar")>=0,rt=getBandSizeOfAxis(Be,Le),it=[],dt=Ce&&getBarSizeList({barSize:K,stackGroups:H,totalSize:getCartesianAxisSize(De,Ne)});if(We){var Ke,Xe,Fe=isNil$1(J)?Ae:J,Ge=(Ke=(Xe=getBandSizeOfAxis(Be,Le,!0))!==null&&Xe!==void 0?Xe:Fe)!==null&&Ke!==void 0?Ke:0;it=getBarPosition({barGap:Z,barCategoryGap:fe,bandSize:Ge!==rt?Ge:rt,sizeList:dt[Ie],maxBarSize:Fe}),Ge!==rt&&(it=it.map(function(Qe){return _objectSpread(_objectSpread({},Qe),{},{position:_objectSpread(_objectSpread({},Qe.position),{},{offset:Qe.position.offset-Ge/2})})}))}var Ye=Q&&Q.type&&Q.type.getComposedData;Ye&&Me.push({props:_objectSpread(_objectSpread({},Ye(_objectSpread(_objectSpread({},De),{},{displayedData:ke,props:z,dataKey:Y,item:Q,bandSize:rt,barPosition:it,offset:B,stackedData:He,layout:je,dataStartIndex:G,dataEndIndex:V}))),{},_defineProperty(_defineProperty(_defineProperty({key:Q.key||"item-".concat(Re)},Pe,De[Pe]),Ne,De[Ne]),"animationId",U)),childIndex:parseChildIndex(Q,z.children),item:Q})}),Me},$=function(z,F){var W=z.props,H=z.dataStartIndex,B=z.dataEndIndex,U=z.updateId;if(!validateWidthHeight({props:W}))return null;var G=W.children,V=W.layout,K=W.stackOffset,je=W.data,Z=W.reverseStackOrder,fe=getAxisNameByLayout(V),Ae=fe.numericAxisName,Oe=fe.cateAxisName,Pe=findAllByType(G,_),Ne=getStackGroupsByAxisId(je,Pe,"".concat(Ae,"Id"),"".concat(Oe,"Id"),K,Z),Ce=R.reduce(function(_e,Y){var J="".concat(Y.axisType,"Map");return _objectSpread(_objectSpread({},_e),{},_defineProperty({},J,getAxisMap(W,_objectSpread(_objectSpread({},Y),{},{graphicalItems:Pe,stackGroups:Y.axisType===Ae&&Ne,dataStartIndex:H,dataEndIndex:B}))))},{}),Me=calculateOffset(_objectSpread(_objectSpread({},Ce),{},{props:W,graphicalItems:Pe}),F==null?void 0:F.legendBBox);Object.keys(Ce).forEach(function(_e){Ce[_e]=T(W,Ce[_e],Me,_e.replace("Map",""),E)});var Q=Ce["".concat(Oe,"Map")],Re=tooltipTicksGenerator(Q),ke=O(W,_objectSpread(_objectSpread({},Ce),{},{dataStartIndex:H,dataEndIndex:B,updateId:U,graphicalItems:Pe,stackGroups:Ne,offset:Me}));return _objectSpread(_objectSpread({formattedGraphicalItems:ke,graphicalItems:Pe,offset:Me,stackGroups:Ne},Re),Ce)},D=function(I){function z(F){var W,H,B;return _classCallCheck(this,z),B=_callSuper(this,z,[F]),_defineProperty(B,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(B,"accessibilityManager",new AccessibilityManager),_defineProperty(B,"handleLegendBBoxUpdate",function(U){if(U){var G=B.state,V=G.dataStartIndex,K=G.dataEndIndex,je=G.updateId;B.setState(_objectSpread({legendBBox:U},$({props:B.props,dataStartIndex:V,dataEndIndex:K,updateId:je},_objectSpread(_objectSpread({},B.state),{},{legendBBox:U}))))}}),_defineProperty(B,"handleReceiveSyncEvent",function(U,G,V){if(B.props.syncId===U){if(V===B.eventEmitterSymbol&&typeof B.props.syncMethod!="function")return;B.applySyncEvent(G)}}),_defineProperty(B,"handleBrushChange",function(U){var G=U.startIndex,V=U.endIndex;if(G!==B.state.dataStartIndex||V!==B.state.dataEndIndex){var K=B.state.updateId;B.setState(function(){return _objectSpread({dataStartIndex:G,dataEndIndex:V},$({props:B.props,dataStartIndex:G,dataEndIndex:V,updateId:K},B.state))}),B.triggerSyncEvent({dataStartIndex:G,dataEndIndex:V})}}),_defineProperty(B,"handleMouseEnter",function(U){var G=B.getMouseInfo(U);if(G){var V=_objectSpread(_objectSpread({},G),{},{isTooltipActive:!0});B.setState(V),B.triggerSyncEvent(V);var K=B.props.onMouseEnter;isFunction$4(K)&&K(V,U)}}),_defineProperty(B,"triggeredAfterMouseMove",function(U){var G=B.getMouseInfo(U),V=G?_objectSpread(_objectSpread({},G),{},{isTooltipActive:!0}):{isTooltipActive:!1};B.setState(V),B.triggerSyncEvent(V);var K=B.props.onMouseMove;isFunction$4(K)&&K(V,U)}),_defineProperty(B,"handleItemMouseEnter",function(U){B.setState(function(){return{isTooltipActive:!0,activeItem:U,activePayload:U.tooltipPayload,activeCoordinate:U.tooltipPosition||{x:U.cx,y:U.cy}}})}),_defineProperty(B,"handleItemMouseLeave",function(){B.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(B,"handleMouseMove",function(U){U.persist(),B.throttleTriggeredAfterMouseMove(U)}),_defineProperty(B,"handleMouseLeave",function(U){B.throttleTriggeredAfterMouseMove.cancel();var G={isTooltipActive:!1};B.setState(G),B.triggerSyncEvent(G);var V=B.props.onMouseLeave;isFunction$4(V)&&V(G,U)}),_defineProperty(B,"handleOuterEvent",function(U){var G=getReactEventByType(U),V=get$2(B.props,"".concat(G));if(G&&isFunction$4(V)){var K,je;/.*touch.*/i.test(G)?je=B.getMouseInfo(U.changedTouches[0]):je=B.getMouseInfo(U),V((K=je)!==null&&K!==void 0?K:{},U)}}),_defineProperty(B,"handleClick",function(U){var G=B.getMouseInfo(U);if(G){var V=_objectSpread(_objectSpread({},G),{},{isTooltipActive:!0});B.setState(V),B.triggerSyncEvent(V);var K=B.props.onClick;isFunction$4(K)&&K(V,U)}}),_defineProperty(B,"handleMouseDown",function(U){var G=B.props.onMouseDown;if(isFunction$4(G)){var V=B.getMouseInfo(U);G(V,U)}}),_defineProperty(B,"handleMouseUp",function(U){var G=B.props.onMouseUp;if(isFunction$4(G)){var V=B.getMouseInfo(U);G(V,U)}}),_defineProperty(B,"handleTouchMove",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.throttleTriggeredAfterMouseMove(U.changedTouches[0])}),_defineProperty(B,"handleTouchStart",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.handleMouseDown(U.changedTouches[0])}),_defineProperty(B,"handleTouchEnd",function(U){U.changedTouches!=null&&U.changedTouches.length>0&&B.handleMouseUp(U.changedTouches[0])}),_defineProperty(B,"handleDoubleClick",function(U){var G=B.props.onDoubleClick;if(isFunction$4(G)){var V=B.getMouseInfo(U);G(V,U)}}),_defineProperty(B,"handleContextMenu",function(U){var G=B.props.onContextMenu;if(isFunction$4(G)){var V=B.getMouseInfo(U);G(V,U)}}),_defineProperty(B,"triggerSyncEvent",function(U){B.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,B.props.syncId,U,B.eventEmitterSymbol)}),_defineProperty(B,"applySyncEvent",function(U){var G=B.props,V=G.layout,K=G.syncMethod,je=B.state.updateId,Z=U.dataStartIndex,fe=U.dataEndIndex;if(U.dataStartIndex!==void 0||U.dataEndIndex!==void 0)B.setState(_objectSpread({dataStartIndex:Z,dataEndIndex:fe},$({props:B.props,dataStartIndex:Z,dataEndIndex:fe,updateId:je},B.state)));else if(U.activeTooltipIndex!==void 0){var Ae=U.chartX,Oe=U.chartY,Pe=U.activeTooltipIndex,Ne=B.state,Ce=Ne.offset,Me=Ne.tooltipTicks;if(!Ce)return;if(typeof K=="function")Pe=K(Me,U);else if(K==="value"){Pe=-1;for(var Q=0;Q<Me.length;Q++)if(Me[Q].value===U.activeLabel){Pe=Q;break}}var Re=_objectSpread(_objectSpread({},Ce),{},{x:Ce.left,y:Ce.top}),ke=Math.min(Ae,Re.x+Re.width),_e=Math.min(Oe,Re.y+Re.height),Y=Me[Pe]&&Me[Pe].value,J=getTooltipContent(B.state,B.props.data,Pe),Se=Me[Pe]?{x:V==="horizontal"?Me[Pe].coordinate:ke,y:V==="horizontal"?_e:Me[Pe].coordinate}:originCoordinate;B.setState(_objectSpread(_objectSpread({},U),{},{activeLabel:Y,activeCoordinate:Se,activePayload:J,activeTooltipIndex:Pe}))}else B.setState(U)}),_defineProperty(B,"renderCursor",function(U){var G,V=B.state,K=V.isTooltipActive,je=V.activeCoordinate,Z=V.activePayload,fe=V.offset,Ae=V.activeTooltipIndex,Oe=V.tooltipAxisBandSize,Pe=B.getTooltipEventType(),Ne=(G=U.props.active)!==null&&G!==void 0?G:K,Ce=B.props.layout,Me=U.key||"_recharts-cursor";return React.createElement(Cursor,{key:Me,activeCoordinate:je,activePayload:Z,activeTooltipIndex:Ae,chartName:E,element:U,isActive:Ne,layout:Ce,offset:fe,tooltipAxisBandSize:Oe,tooltipEventType:Pe})}),_defineProperty(B,"renderPolarAxis",function(U,G,V){var K=get$2(U,"type.axisType"),je=get$2(B.state,"".concat(K,"Map")),Z=U.type.defaultProps,fe=Z!==void 0?_objectSpread(_objectSpread({},Z),U.props):U.props,Ae=je&&je[fe["".concat(K,"Id")]];return reactExports.cloneElement(U,_objectSpread(_objectSpread({},Ae),{},{className:clsx(K,Ae.className),key:U.key||"".concat(G,"-").concat(V),ticks:getTicksOfAxis(Ae,!0)}))}),_defineProperty(B,"renderPolarGrid",function(U){var G=U.props,V=G.radialLines,K=G.polarAngles,je=G.polarRadius,Z=B.state,fe=Z.radiusAxisMap,Ae=Z.angleAxisMap,Oe=getAnyElementOfObject(fe),Pe=getAnyElementOfObject(Ae),Ne=Pe.cx,Ce=Pe.cy,Me=Pe.innerRadius,Q=Pe.outerRadius;return reactExports.cloneElement(U,{polarAngles:Array.isArray(K)?K:getTicksOfAxis(Pe,!0).map(function(Re){return Re.coordinate}),polarRadius:Array.isArray(je)?je:getTicksOfAxis(Oe,!0).map(function(Re){return Re.coordinate}),cx:Ne,cy:Ce,innerRadius:Me,outerRadius:Q,key:U.key||"polar-grid",radialLines:V})}),_defineProperty(B,"renderLegend",function(){var U=B.state.formattedGraphicalItems,G=B.props,V=G.children,K=G.width,je=G.height,Z=B.props.margin||{},fe=K-(Z.left||0)-(Z.right||0),Ae=getLegendProps({children:V,formattedGraphicalItems:U,legendWidth:fe,legendContent:C});if(!Ae)return null;var Oe=Ae.item,Pe=_objectWithoutProperties(Ae,_excluded);return reactExports.cloneElement(Oe,_objectSpread(_objectSpread({},Pe),{},{chartWidth:K,chartHeight:je,margin:Z,onBBoxUpdate:B.handleLegendBBoxUpdate}))}),_defineProperty(B,"renderTooltip",function(){var U,G=B.props,V=G.children,K=G.accessibilityLayer,je=findChildByType(V,Tooltip);if(!je)return null;var Z=B.state,fe=Z.isTooltipActive,Ae=Z.activeCoordinate,Oe=Z.activePayload,Pe=Z.activeLabel,Ne=Z.offset,Ce=(U=je.props.active)!==null&&U!==void 0?U:fe;return reactExports.cloneElement(je,{viewBox:_objectSpread(_objectSpread({},Ne),{},{x:Ne.left,y:Ne.top}),active:Ce,label:Pe,payload:Ce?Oe:[],coordinate:Ae,accessibilityLayer:K})}),_defineProperty(B,"renderBrush",function(U){var G=B.props,V=G.margin,K=G.data,je=B.state,Z=je.offset,fe=je.dataStartIndex,Ae=je.dataEndIndex,Oe=je.updateId;return reactExports.cloneElement(U,{key:U.key||"_recharts-brush",onChange:combineEventHandlers(B.handleBrushChange,U.props.onChange),data:K,x:isNumber(U.props.x)?U.props.x:Z.left,y:isNumber(U.props.y)?U.props.y:Z.top+Z.height+Z.brushBottom-(V.bottom||0),width:isNumber(U.props.width)?U.props.width:Z.width,startIndex:fe,endIndex:Ae,updateId:"brush-".concat(Oe)})}),_defineProperty(B,"renderReferenceElement",function(U,G,V){if(!U)return null;var K=B,je=K.clipPathId,Z=B.state,fe=Z.xAxisMap,Ae=Z.yAxisMap,Oe=Z.offset,Pe=U.type.defaultProps||{},Ne=U.props,Ce=Ne.xAxisId,Me=Ce===void 0?Pe.xAxisId:Ce,Q=Ne.yAxisId,Re=Q===void 0?Pe.yAxisId:Q;return reactExports.cloneElement(U,{key:U.key||"".concat(G,"-").concat(V),xAxis:fe[Me],yAxis:Ae[Re],viewBox:{x:Oe.left,y:Oe.top,width:Oe.width,height:Oe.height},clipPathId:je})}),_defineProperty(B,"renderActivePoints",function(U){var G=U.item,V=U.activePoint,K=U.basePoint,je=U.childIndex,Z=U.isRange,fe=[],Ae=G.props.key,Oe=G.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},G.item.type.defaultProps),G.item.props):G.item.props,Pe=Oe.activeDot,Ne=Oe.dataKey,Ce=_objectSpread(_objectSpread({index:je,dataKey:Ne,cx:V.x,cy:V.y,r:4,fill:getMainColorOfGraphicItem(G.item),strokeWidth:2,stroke:"#fff",payload:V.payload,value:V.value},filterProps(Pe,!1)),adaptEventHandlers(Pe));return fe.push(z.renderActiveDot(Pe,Ce,"".concat(Ae,"-activePoint-").concat(je))),K?fe.push(z.renderActiveDot(Pe,_objectSpread(_objectSpread({},Ce),{},{cx:K.x,cy:K.y}),"".concat(Ae,"-basePoint-").concat(je))):Z&&fe.push(null),fe}),_defineProperty(B,"renderGraphicChild",function(U,G,V){var K=B.filterFormatItem(U,G,V);if(!K)return null;var je=B.getTooltipEventType(),Z=B.state,fe=Z.isTooltipActive,Ae=Z.tooltipAxis,Oe=Z.activeTooltipIndex,Pe=Z.activeLabel,Ne=B.props.children,Ce=findChildByType(Ne,Tooltip),Me=K.props,Q=Me.points,Re=Me.isRange,ke=Me.baseLine,_e=K.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},K.item.type.defaultProps),K.item.props):K.item.props,Y=_e.activeDot,J=_e.hide,Se=_e.activeBar,Ie=_e.activeShape,$e=!!(!J&&fe&&Ce&&(Y||Se||Ie)),De={};je!=="axis"&&Ce&&Ce.props.trigger==="click"?De={onClick:combineEventHandlers(B.handleItemMouseEnter,U.props.onClick)}:je!=="axis"&&(De={onMouseLeave:combineEventHandlers(B.handleItemMouseLeave,U.props.onMouseLeave),onMouseEnter:combineEventHandlers(B.handleItemMouseEnter,U.props.onMouseEnter)});var Be=reactExports.cloneElement(U,_objectSpread(_objectSpread({},K.props),De));function Le(ut){return typeof Ae.dataKey=="function"?Ae.dataKey(ut.payload):null}if($e)if(Oe>=0){var He,We;if(Ae.dataKey&&!Ae.allowDuplicatedCategory){var rt=typeof Ae.dataKey=="function"?Le:"payload.".concat(Ae.dataKey.toString());He=findEntryInArray(Q,rt,Pe),We=Re&&ke&&findEntryInArray(ke,rt,Pe)}else He=Q==null?void 0:Q[Oe],We=Re&&ke&&ke[Oe];if(Ie||Se){var it=U.props.activeIndex!==void 0?U.props.activeIndex:Oe;return[reactExports.cloneElement(U,_objectSpread(_objectSpread(_objectSpread({},K.props),De),{},{activeIndex:it})),null,null]}if(!isNil$1(He))return[Be].concat(_toConsumableArray(B.renderActivePoints({item:K,activePoint:He,basePoint:We,childIndex:Oe,isRange:Re})))}else{var dt,Ke=(dt=B.getItemByXY(B.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:Be},Xe=Ke.graphicalItem,Fe=Xe.item,Ge=Fe===void 0?U:Fe,Ye=Xe.childIndex,Qe=_objectSpread(_objectSpread(_objectSpread({},K.props),De),{},{activeIndex:Ye});return[reactExports.cloneElement(Ge,Qe),null,null]}return Re?[Be,null,null]:[Be,null]}),_defineProperty(B,"renderCustomized",function(U,G,V){return reactExports.cloneElement(U,_objectSpread(_objectSpread({key:"recharts-customized-".concat(V)},B.props),B.state))}),_defineProperty(B,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:B.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:B.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:B.renderBrush,once:!0},Bar:{handler:B.renderGraphicChild},Line:{handler:B.renderGraphicChild},Area:{handler:B.renderGraphicChild},Radar:{handler:B.renderGraphicChild},RadialBar:{handler:B.renderGraphicChild},Scatter:{handler:B.renderGraphicChild},Pie:{handler:B.renderGraphicChild},Funnel:{handler:B.renderGraphicChild},Tooltip:{handler:B.renderCursor,once:!0},PolarGrid:{handler:B.renderPolarGrid,once:!0},PolarAngleAxis:{handler:B.renderPolarAxis},PolarRadiusAxis:{handler:B.renderPolarAxis},Customized:{handler:B.renderCustomized}}),B.clipPathId="".concat((W=F.id)!==null&&W!==void 0?W:uniqueId("recharts"),"-clip"),B.throttleTriggeredAfterMouseMove=throttle$1(B.triggeredAfterMouseMove,(H=F.throttleDelay)!==null&&H!==void 0?H:1e3/60),B.state={},B}return _inherits(z,I),_createClass(z,[{key:"componentDidMount",value:function(){var W,H;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(W=this.props.margin.left)!==null&&W!==void 0?W:0,top:(H=this.props.margin.top)!==null&&H!==void 0?H:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var W=this.props,H=W.children,B=W.data,U=W.height,G=W.layout,V=findChildByType(H,Tooltip);if(V){var K=V.props.defaultIndex;if(!(typeof K!="number"||K<0||K>this.state.tooltipTicks.length-1)){var je=this.state.tooltipTicks[K]&&this.state.tooltipTicks[K].value,Z=getTooltipContent(this.state,B,K,je),fe=this.state.tooltipTicks[K].coordinate,Ae=(this.state.offset.top+U)/2,Oe=G==="horizontal",Pe=Oe?{x:fe,y:Ae}:{y:fe,x:Ae},Ne=this.state.formattedGraphicalItems.find(function(Me){var Q=Me.item;return Q.type.name==="Scatter"});Ne&&(Pe=_objectSpread(_objectSpread({},Pe),Ne.props.points[K].tooltipPosition),Z=Ne.props.points[K].tooltipPayload);var Ce={activeTooltipIndex:K,isTooltipActive:!0,activeLabel:je,activePayload:Z,activeCoordinate:Pe};this.setState(Ce),this.renderCursor(V),this.accessibilityManager.setIndex(K)}}}},{key:"getSnapshotBeforeUpdate",value:function(W,H){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==H.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==W.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==W.margin){var B,U;this.accessibilityManager.setDetails({offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(U=this.props.margin.top)!==null&&U!==void 0?U:0}})}return null}},{key:"componentDidUpdate",value:function(W){isChildrenEqual([findChildByType(W.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var W=findChildByType(this.props.children,Tooltip);if(W&&typeof W.props.shared=="boolean"){var H=W.props.shared?"axis":"item";return A.indexOf(H)>=0?H:j}return j}},{key:"getMouseInfo",value:function(W){if(!this.container)return null;var H=this.container,B=H.getBoundingClientRect(),U=getOffset$1(B),G={chartX:Math.round(W.pageX-U.left),chartY:Math.round(W.pageY-U.top)},V=B.width/H.offsetWidth||1,K=this.inRange(G.chartX,G.chartY,V);if(!K)return null;var je=this.state,Z=je.xAxisMap,fe=je.yAxisMap,Ae=this.getTooltipEventType(),Oe=getTooltipData(this.state,this.props.data,this.props.layout,K);if(Ae!=="axis"&&Z&&fe){var Pe=getAnyElementOfObject(Z).scale,Ne=getAnyElementOfObject(fe).scale,Ce=Pe&&Pe.invert?Pe.invert(G.chartX):null,Me=Ne&&Ne.invert?Ne.invert(G.chartY):null;return _objectSpread(_objectSpread({},G),{},{xValue:Ce,yValue:Me},Oe)}return Oe?_objectSpread(_objectSpread({},G),Oe):null}},{key:"inRange",value:function(W,H){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,U=this.props.layout,G=W/B,V=H/B;if(U==="horizontal"||U==="vertical"){var K=this.state.offset,je=G>=K.left&&G<=K.left+K.width&&V>=K.top&&V<=K.top+K.height;return je?{x:G,y:V}:null}var Z=this.state,fe=Z.angleAxisMap,Ae=Z.radiusAxisMap;if(fe&&Ae){var Oe=getAnyElementOfObject(fe);return inRangeOfSector({x:G,y:V},Oe)}return null}},{key:"parseEventsOfWrapper",value:function(){var W=this.props.children,H=this.getTooltipEventType(),B=findChildByType(W,Tooltip),U={};B&&H==="axis"&&(B.props.trigger==="click"?U={onClick:this.handleClick}:U={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var G=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},G),U)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(W,H,B){for(var U=this.state.formattedGraphicalItems,G=0,V=U.length;G<V;G++){var K=U[G];if(K.item===W||K.props.key===W.key||H===getDisplayName(K.item.type)&&B===K.childIndex)return K}return null}},{key:"renderClipPath",value:function(){var W=this.clipPathId,H=this.state.offset,B=H.left,U=H.top,G=H.height,V=H.width;return React.createElement("defs",null,React.createElement("clipPath",{id:W},React.createElement("rect",{x:B,y:U,height:G,width:V})))}},{key:"getXScales",value:function(){var W=this.state.xAxisMap;return W?Object.entries(W).reduce(function(H,B){var U=_slicedToArray(B,2),G=U[0],V=U[1];return _objectSpread(_objectSpread({},H),{},_defineProperty({},G,V.scale))},{}):null}},{key:"getYScales",value:function(){var W=this.state.yAxisMap;return W?Object.entries(W).reduce(function(H,B){var U=_slicedToArray(B,2),G=U[0],V=U[1];return _objectSpread(_objectSpread({},H),{},_defineProperty({},G,V.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(W){var H;return(H=this.state.xAxisMap)===null||H===void 0||(H=H[W])===null||H===void 0?void 0:H.scale}},{key:"getYScaleByAxisId",value:function(W){var H;return(H=this.state.yAxisMap)===null||H===void 0||(H=H[W])===null||H===void 0?void 0:H.scale}},{key:"getItemByXY",value:function(W){var H=this.state,B=H.formattedGraphicalItems,U=H.activeItem;if(B&&B.length)for(var G=0,V=B.length;G<V;G++){var K=B[G],je=K.props,Z=K.item,fe=Z.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Z.type.defaultProps),Z.props):Z.props,Ae=getDisplayName(Z.type);if(Ae==="Bar"){var Oe=(je.data||[]).find(function(Me){return isInRectangle(W,Me)});if(Oe)return{graphicalItem:K,payload:Oe}}else if(Ae==="RadialBar"){var Pe=(je.data||[]).find(function(Me){return inRangeOfSector(W,Me)});if(Pe)return{graphicalItem:K,payload:Pe}}else if(isFunnel(K,U)||isPie(K,U)||isScatter(K,U)){var Ne=getActiveShapeIndexForTooltip({graphicalItem:K,activeTooltipItem:U,itemData:fe.data}),Ce=fe.activeIndex===void 0?Ne:fe.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},K),{},{childIndex:Ce}),payload:isScatter(K,U)?fe.data[Ne]:K.props.data[Ne]}}}return null}},{key:"render",value:function(){var W=this;if(!validateWidthHeight(this))return null;var H=this.props,B=H.children,U=H.className,G=H.width,V=H.height,K=H.style,je=H.compact,Z=H.title,fe=H.desc,Ae=_objectWithoutProperties(H,_excluded2),Oe=filterProps(Ae,!1);if(je)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},Oe,{width:G,height:V,title:Z,desc:fe}),this.renderClipPath(),renderByOrder(B,this.renderMap)));if(this.props.accessibilityLayer){var Pe,Ne;Oe.tabIndex=(Pe=this.props.tabIndex)!==null&&Pe!==void 0?Pe:0,Oe.role=(Ne=this.props.role)!==null&&Ne!==void 0?Ne:"application",Oe.onKeyDown=function(Me){W.accessibilityManager.keyboardEvent(Me)},Oe.onFocus=function(){W.accessibilityManager.focus()}}var Ce=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",U),style:_objectSpread({position:"relative",cursor:"default",width:G,height:V},K)},Ce,{ref:function(Q){W.container=Q}}),React.createElement(Surface,_extends({},Oe,{width:G,height:V,title:Z,desc:fe,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(B,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(D,"displayName",E),_defineProperty(D,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},N)),_defineProperty(D,"getDerivedStateFromProps",function(I,z){var F=I.dataKey,W=I.data,H=I.children,B=I.width,U=I.height,G=I.layout,V=I.stackOffset,K=I.margin,je=z.dataStartIndex,Z=z.dataEndIndex;if(z.updateId===void 0){var fe=createDefaultState(I);return _objectSpread(_objectSpread(_objectSpread({},fe),{},{updateId:0},$(_objectSpread(_objectSpread({props:I},fe),{},{updateId:0}),z)),{},{prevDataKey:F,prevData:W,prevWidth:B,prevHeight:U,prevLayout:G,prevStackOffset:V,prevMargin:K,prevChildren:H})}if(F!==z.prevDataKey||W!==z.prevData||B!==z.prevWidth||U!==z.prevHeight||G!==z.prevLayout||V!==z.prevStackOffset||!shallowEqual(K,z.prevMargin)){var Ae=createDefaultState(I),Oe={chartX:z.chartX,chartY:z.chartY,isTooltipActive:z.isTooltipActive},Pe=_objectSpread(_objectSpread({},getTooltipData(z,W,G)),{},{updateId:z.updateId+1}),Ne=_objectSpread(_objectSpread(_objectSpread({},Ae),Oe),Pe);return _objectSpread(_objectSpread(_objectSpread({},Ne),$(_objectSpread({props:I},Ne),z)),{},{prevDataKey:F,prevData:W,prevWidth:B,prevHeight:U,prevLayout:G,prevStackOffset:V,prevMargin:K,prevChildren:H})}if(!isChildrenEqual(H,z.prevChildren)){var Ce,Me,Q,Re,ke=findChildByType(H,Brush),_e=ke&&(Ce=(Me=ke.props)===null||Me===void 0?void 0:Me.startIndex)!==null&&Ce!==void 0?Ce:je,Y=ke&&(Q=(Re=ke.props)===null||Re===void 0?void 0:Re.endIndex)!==null&&Q!==void 0?Q:Z,J=_e!==je||Y!==Z,Se=!isNil$1(W),Ie=Se&&!J?z.updateId:z.updateId+1;return _objectSpread(_objectSpread({updateId:Ie},$(_objectSpread(_objectSpread({props:I},z),{},{updateId:Ie,dataStartIndex:_e,dataEndIndex:Y}),z)),{},{prevChildren:H,dataStartIndex:_e,dataEndIndex:Y})}return null}),_defineProperty(D,"renderActiveDot",function(I,z,F){var W;return reactExports.isValidElement(I)?W=reactExports.cloneElement(I,z):isFunction$4(I)?W=I(z):W=React.createElement(Dot,z),React.createElement(Layer,{className:"recharts-active-dot",key:F},W)});var L=reactExports.forwardRef(function(z,F){return React.createElement(D,_extends({},z,{ref:F}))});return L.displayName=D.displayName,L},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});const WeeklyProgress=()=>{const[i,o]=reactExports.useState([]),[E,_]=reactExports.useState(0),[w,j]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{try{const{data:{user:A}}=await supabase.auth.getUser();if(!A)return;const R=new Date,C=new Date(R),T=R.getDay(),N=R.getDate()-T+(T===0?-6:1);C.setDate(N),C.setHours(0,0,0,0);const $=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(I=>({name:I,workouts:0})),D=new Date(C);D.setDate(C.getDate()+6);const{data:L}=await supabase.from("custom_workouts").select("scheduled_date").eq("user_id",A.id).eq("completed",!0).gte("scheduled_date",C.toISOString().split("T")[0]).lte("scheduled_date",D.toISOString().split("T")[0]);L==null||L.forEach(I=>{const F=(new Date(I.scheduled_date).getDay()+6)%7;F>=0&&F<7&&$[F].workouts++}),o($),_((L==null?void 0:L.length)||0)}catch(A){console.error("Error loading weekly data:",A)}finally{j(!1)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-black rounded-2xl p-6 shadow-lg border-2 border-pp-gold",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-pp-gold",children:"Progressi Settimanali"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-white",children:"Questa settimana"})]}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:i,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.2)"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",tick:{fill:"#EEBA2B",fontSize:12},axisLine:{stroke:"rgba(255,255,255,0.2)"}}),jsxRuntimeExports.jsx(YAxis,{tick:{fill:"#EEBA2B",fontSize:12},axisLine:{stroke:"rgba(255,255,255,0.2)"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"workouts",fill:"#EEBA2B",radius:[4,4,0,0],className:"hover:opacity-80 transition-opacity"})]})})}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-pp-gold/80",children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold text-pp-gold",children:[w?"...":E," allenamenti"]})," completati questa settimana"]})})]})},fetchUserProfile=async()=>{var i;try{const{data:{user:o}}=await supabase.auth.getUser();if(!o)return null;const{data:E,error:_}=await supabase.from("profiles").select("*").eq("id",o.id).maybeSingle();if(_)return null;if(!E){const w={id:o.id,name:((i=o.email)==null?void 0:i.split("@")[0])||"Utente",surname:"",birth_place:"",phone:"",bio:"Appassionato di fitness e benessere",avatarUrl:"👨‍💼",email:o.email||"",birth_date:null},{error:j}=await supabase.from("profiles").insert({id:o.id,first_name:w.name,last_name:w.surname,birth_place:w.birth_place,phone:w.phone,avatar_url:w.avatarUrl,email:w.email});return j?null:w}return{id:E.id,name:E.first_name||"",surname:E.last_name||"",birth_place:E.birth_place||"",phone:E.phone||"",bio:"Appassionato di fitness e benessere",avatarUrl:E.avatar_url||"👨‍💼",email:E.email||o.email||"",birth_date:E.birth_date?new Date(E.birth_date):null}}catch{return null}},updateUserProfile=async i=>{try{const{data:{user:o}}=await supabase.auth.getUser();if(!o)throw new Error("User not authenticated");const E={first_name:i.name,last_name:i.surname,birth_place:i.birthPlace,updated_at:new Date().toISOString()};i.phone&&(E.phone=i.phone),i.birthDate&&(E.birth_date=i.birthDate),i.avatarUrl&&(E.avatar_url=i.avatarUrl);const{error:_}=await supabase.from("profiles").update(E).eq("id",o.id);if(_)throw _}catch(o){throw o}},uploadAvatar=async i=>{try{const{data:{user:o}}=await supabase.auth.getUser();if(!o)throw new Error("User not authenticated");const E=i.name.split(".").pop(),_=`${o.id}/avatar.${E}`,{error:w}=await supabase.storage.from("avatars").upload(_,i,{upsert:!0});if(w)throw w;const{data:j}=supabase.storage.from("avatars").getPublicUrl(_);return j.publicUrl}catch(o){throw o}},safeGetElement=i=>typeof document>"u"?null:document.getElementById(i),safeLocalStorage={getItem:i=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.getItem(i)}catch(o){console.warn("localStorage not available:",o)}return null},setItem:(i,o)=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.setItem(i,o),!0}catch(E){console.warn("localStorage not available:",E)}return!1},removeItem:i=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.removeItem(i),!0}catch(o){console.warn("localStorage not available:",o)}return!1},clear:()=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.clear(),!0}catch(i){console.warn("localStorage not available:",i)}return!1}},introCardStyle={display:"flex",flexDirection:"column",alignItems:"flex-start",backgroundColor:"#d9d9d9",borderRadius:"16px",padding:"16px",gap:"12px",width:"100%",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",border:"1px solid #DAA520"},iconStyle={fontSize:"28px",width:"40px",height:"40px",backgroundColor:"#DAA520",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000"},textStyle={fontSize:"16px",color:"#000"},buttonsStyle={display:"flex",gap:"6px",flexWrap:"wrap",marginTop:"8px"},buttonStyle={border:"none",borderRadius:"8px",padding:"5px 10px",cursor:"pointer",backgroundColor:"#d4a017",color:"white",fontWeight:500,transition:"0.2s",fontSize:"13px"},buttonHover={backgroundColor:"#b88710"},OnboardingBot=({userName:i="Utente",onSendMessage:o,onFocusChat:E})=>{const[_,w]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{try{safeLocalStorage.getItem("pp_onboarding_seen")||w(!0)}catch(S){console.warn("Errore controllo onboarding:",S),w(!0)}})()},[]),_?jsxRuntimeExports.jsx("div",{className:"w-full mb-6",children:jsxRuntimeExports.jsx("div",{style:introCardStyle,children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",flex:1},children:[jsxRuntimeExports.jsx("div",{style:iconStyle,children:"🤖"}),jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsxs("div",{style:{...textStyle,whiteSpace:"pre-wrap"},children:[jsxRuntimeExports.jsxs("strong",{children:["Ciao ",jsxRuntimeExports.jsx("span",{style:{color:"#DAA520"},children:i}),"! 👋"]}),`

`,"Benvenuto in Performance Prime! Sono il tuo PrimeBot personale e ti guiderò attraverso l'app.",`

`,"🎯 COSA PUOI FARE:",`
`,"• 📊 Dashboard - Monitora i tuoi progressi",`
`,"• 💪 Allenamenti - Crea e gestisci workout",`
`,"• 📅 Appuntamenti - Prenota sessioni",`
`,"• 🤖 PrimeBot - Chiedi consigli personalizzati",`
`,"• 👤 Profilo - Gestisci il tuo account",`

`,"Vuoi che ti spieghi una sezione specifica o hai domande?"]}),jsxRuntimeExports.jsxs("div",{style:buttonsStyle,children:[jsxRuntimeExports.jsx("button",{style:buttonStyle,onMouseOver:j=>j.currentTarget.style.backgroundColor=buttonHover.backgroundColor,onMouseOut:j=>j.currentTarget.style.backgroundColor=buttonStyle.backgroundColor,onClick:()=>{alert(`Benvenuto in Performance Prime! 🚀
Questa è la tua app per organizzare e monitorare i tuoi allenamenti, tenere traccia dei progressi e ricevere consigli personalizzati da PrimeBot.

Con Performance Prime puoi:
• Creare allenamenti personalizzati 📅
• Monitorare peso, forza e cardio 📊
• Ricevere piani e consigli su misura 🤖

Vuoi un tour veloce?
- Allenamenti: pianifica e salva le tue sessioni
- PrimeBot: chiedi consigli, motivazione o supporto tecnico
- Calendario: gestisci le giornate di allenamento

Inizia subito e raggiungi i tuoi obiettivi! 💪`),o==null||o("Guida rapida")},children:"📖 Guida rapida"}),jsxRuntimeExports.jsx("button",{style:buttonStyle,onMouseOver:j=>j.currentTarget.style.backgroundColor=buttonHover.backgroundColor,onMouseOut:j=>j.currentTarget.style.backgroundColor=buttonStyle.backgroundColor,onClick:()=>{alert(`Iniziare è semplice! 🏋️‍♂️
1️⃣ Vai nella sezione Allenamenti.
2️⃣ Clicca su "Crea allenamento di oggi".
3️⃣ Scegli il giorno sul calendario.
4️⃣ Aggiungi esercizi, ripetizioni e tempi di recupero.

Suggerimento: pianifica in anticipo le tue sessioni per restare costante e motivato.`),o==null||o("Come iniziare gli allenamenti")},children:"🏋️‍♂️ Come iniziare gli allenamenti"}),jsxRuntimeExports.jsx("button",{style:buttonStyle,onMouseOver:j=>j.currentTarget.style.backgroundColor=buttonHover.backgroundColor,onMouseOut:j=>j.currentTarget.style.backgroundColor=buttonStyle.backgroundColor,onClick:()=>{E==null||E(),w(!1),safeLocalStorage.setItem("pp_onboarding_seen","true")},children:"💬 Parla con PrimeBot"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{w(!1),safeLocalStorage.setItem("pp_onboarding_seen","true")},style:{border:"none",background:"none",cursor:"pointer",color:"#fff",fontSize:"16px",padding:"4px",marginLeft:"12px"},children:"✕"})]})})}):null};function composeEventHandlers(i,o,{checkForDefaultPrevented:E=!0}={}){return function(w){if(i==null||i(w),E===!1||!w.defaultPrevented)return o==null?void 0:o(w)}}function createContext2(i,o){const E=reactExports.createContext(o),_=j=>{const{children:S,...A}=j,R=reactExports.useMemo(()=>A,Object.values(A));return jsxRuntimeExports.jsx(E.Provider,{value:R,children:S})};_.displayName=i+"Provider";function w(j){const S=reactExports.useContext(E);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${j}\` must be used within \`${i}\``)}return[_,w]}function createContextScope(i,o=[]){let E=[];function _(j,S){const A=reactExports.createContext(S),R=E.length;E=[...E,S];const C=N=>{var z;const{scope:O,children:$,...D}=N,L=((z=O==null?void 0:O[i])==null?void 0:z[R])||A,I=reactExports.useMemo(()=>D,Object.values(D));return jsxRuntimeExports.jsx(L.Provider,{value:I,children:$})};C.displayName=j+"Provider";function T(N,O){var L;const $=((L=O==null?void 0:O[i])==null?void 0:L[R])||A,D=reactExports.useContext($);if(D)return D;if(S!==void 0)return S;throw new Error(`\`${N}\` must be used within \`${j}\``)}return[C,T]}const w=()=>{const j=E.map(S=>reactExports.createContext(S));return function(A){const R=(A==null?void 0:A[i])||j;return reactExports.useMemo(()=>({[`__scope${i}`]:{...A,[i]:R}}),[A,R])}};return w.scopeName=i,[_,composeContextScopes(w,...o)]}function composeContextScopes(...i){const o=i[0];if(i.length===1)return o;const E=()=>{const _=i.map(w=>({useScope:w(),scopeName:w.scopeName}));return function(j){const S=_.reduce((A,{useScope:R,scopeName:C})=>{const N=R(j)[`__scope${C}`];return{...A,...N}},{});return reactExports.useMemo(()=>({[`__scope${o.scopeName}`]:S}),[S])}};return E.scopeName=o.scopeName,E}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:i,defaultProp:o,onChange:E=()=>{},caller:_}){const[w,j,S]=useUncontrolledState({defaultProp:o,onChange:E}),A=i!==void 0,R=A?i:w;{const T=reactExports.useRef(i!==void 0);reactExports.useEffect(()=>{const N=T.current;N!==A&&console.warn(`${_} is changing from ${N?"controlled":"uncontrolled"} to ${A?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),T.current=A},[A,_])}const C=reactExports.useCallback(T=>{var N;if(A){const O=isFunction(T)?T(i):T;O!==i&&((N=S.current)==null||N.call(S,O))}else j(T)},[A,i,j,S]);return[R,C]}function useUncontrolledState({defaultProp:i,onChange:o}){const[E,_]=reactExports.useState(i),w=reactExports.useRef(E),j=reactExports.useRef(o);return useInsertionEffect(()=>{j.current=o},[o]),reactExports.useEffect(()=>{var S;w.current!==E&&((S=j.current)==null||S.call(j,E),w.current=E)},[E,w]),[E,_,j]}function isFunction(i){return typeof i=="function"}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((i,o)=>{const E=createSlot(`Primitive.${o}`),_=reactExports.forwardRef((w,j)=>{const{asChild:S,...A}=w,R=S?E:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(R,{...A,ref:j})});return _.displayName=`Primitive.${o}`,{...i,[o]:_}},{});function dispatchDiscreteCustomEvent(i,o){i&&reactDomExports.flushSync(()=>i.dispatchEvent(o))}function createCollection(i){const o=i+"CollectionProvider",[E,_]=createContextScope(o),[w,j]=E(o,{collectionRef:{current:null},itemMap:new Map}),S=L=>{const{scope:I,children:z}=L,F=React.useRef(null),W=React.useRef(new Map).current;return jsxRuntimeExports.jsx(w,{scope:I,itemMap:W,collectionRef:F,children:z})};S.displayName=o;const A=i+"CollectionSlot",R=createSlot(A),C=React.forwardRef((L,I)=>{const{scope:z,children:F}=L,W=j(A,z),H=useComposedRefs(I,W.collectionRef);return jsxRuntimeExports.jsx(R,{ref:H,children:F})});C.displayName=A;const T=i+"CollectionItemSlot",N="data-radix-collection-item",O=createSlot(T),$=React.forwardRef((L,I)=>{const{scope:z,children:F,...W}=L,H=React.useRef(null),B=useComposedRefs(I,H),U=j(T,z);return React.useEffect(()=>(U.itemMap.set(H,{ref:H,...W}),()=>void U.itemMap.delete(H))),jsxRuntimeExports.jsx(O,{[N]:"",ref:B,children:F})});$.displayName=T;function D(L){const I=j(i+"CollectionConsumer",L);return React.useCallback(()=>{const F=I.collectionRef.current;if(!F)return[];const W=Array.from(F.querySelectorAll(`[${N}]`));return Array.from(I.itemMap.values()).sort((U,G)=>W.indexOf(U.ref.current)-W.indexOf(G.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:S,Slot:C,ItemSlot:$},D,_]}var DirectionContext=reactExports.createContext(void 0);function useDirection(i){const o=reactExports.useContext(DirectionContext);return i||o||"ltr"}function useCallbackRef$1(i){const o=reactExports.useRef(i);return reactExports.useEffect(()=>{o.current=i}),reactExports.useMemo(()=>(...E)=>{var _;return(_=o.current)==null?void 0:_.call(o,...E)},[])}function useEscapeKeydown(i,o=globalThis==null?void 0:globalThis.document){const E=useCallbackRef$1(i);reactExports.useEffect(()=>{const _=w=>{w.key==="Escape"&&E(w)};return o.addEventListener("keydown",_,{capture:!0}),()=>o.removeEventListener("keydown",_,{capture:!0})},[E,o])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((i,o)=>{const{disableOutsidePointerEvents:E=!1,onEscapeKeyDown:_,onPointerDownOutside:w,onFocusOutside:j,onInteractOutside:S,onDismiss:A,...R}=i,C=reactExports.useContext(DismissableLayerContext),[T,N]=reactExports.useState(null),O=(T==null?void 0:T.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,$]=reactExports.useState({}),D=useComposedRefs(o,G=>N(G)),L=Array.from(C.layers),[I]=[...C.layersWithOutsidePointerEventsDisabled].slice(-1),z=L.indexOf(I),F=T?L.indexOf(T):-1,W=C.layersWithOutsidePointerEventsDisabled.size>0,H=F>=z,B=usePointerDownOutside(G=>{const V=G.target,K=[...C.branches].some(je=>je.contains(V));!H||K||(w==null||w(G),S==null||S(G),G.defaultPrevented||A==null||A())},O),U=useFocusOutside(G=>{const V=G.target;[...C.branches].some(je=>je.contains(V))||(j==null||j(G),S==null||S(G),G.defaultPrevented||A==null||A())},O);return useEscapeKeydown(G=>{F===C.layers.size-1&&(_==null||_(G),!G.defaultPrevented&&A&&(G.preventDefault(),A()))},O),reactExports.useEffect(()=>{if(T)return E&&(C.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=O.body.style.pointerEvents,O.body.style.pointerEvents="none"),C.layersWithOutsidePointerEventsDisabled.add(T)),C.layers.add(T),dispatchUpdate(),()=>{E&&C.layersWithOutsidePointerEventsDisabled.size===1&&(O.body.style.pointerEvents=originalBodyPointerEvents)}},[T,O,E,C]),reactExports.useEffect(()=>()=>{T&&(C.layers.delete(T),C.layersWithOutsidePointerEventsDisabled.delete(T),dispatchUpdate())},[T,C]),reactExports.useEffect(()=>{const G=()=>$({});return document.addEventListener(CONTEXT_UPDATE,G),()=>document.removeEventListener(CONTEXT_UPDATE,G)},[]),jsxRuntimeExports.jsx(Primitive.div,{...R,ref:D,style:{pointerEvents:W?H?"auto":"none":void 0,...i.style},onFocusCapture:composeEventHandlers(i.onFocusCapture,U.onFocusCapture),onBlurCapture:composeEventHandlers(i.onBlurCapture,U.onBlurCapture),onPointerDownCapture:composeEventHandlers(i.onPointerDownCapture,B.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((i,o)=>{const E=reactExports.useContext(DismissableLayerContext),_=reactExports.useRef(null),w=useComposedRefs(o,_);return reactExports.useEffect(()=>{const j=_.current;if(j)return E.branches.add(j),()=>{E.branches.delete(j)}},[E.branches]),jsxRuntimeExports.jsx(Primitive.div,{...i,ref:w})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(i,o=globalThis==null?void 0:globalThis.document){const E=useCallbackRef$1(i),_=reactExports.useRef(!1),w=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const j=A=>{if(A.target&&!_.current){let R=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,E,C,{discrete:!0})};const C={originalEvent:A};A.pointerType==="touch"?(o.removeEventListener("click",w.current),w.current=R,o.addEventListener("click",w.current,{once:!0})):R()}else o.removeEventListener("click",w.current);_.current=!1},S=window.setTimeout(()=>{o.addEventListener("pointerdown",j)},0);return()=>{window.clearTimeout(S),o.removeEventListener("pointerdown",j),o.removeEventListener("click",w.current)}},[o,E]),{onPointerDownCapture:()=>_.current=!0}}function useFocusOutside(i,o=globalThis==null?void 0:globalThis.document){const E=useCallbackRef$1(i),_=reactExports.useRef(!1);return reactExports.useEffect(()=>{const w=j=>{j.target&&!_.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,E,{originalEvent:j},{discrete:!1})};return o.addEventListener("focusin",w),()=>o.removeEventListener("focusin",w)},[o,E]),{onFocusCapture:()=>_.current=!0,onBlurCapture:()=>_.current=!1}}function dispatchUpdate(){const i=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(i)}function handleAndDispatchCustomEvent$1(i,o,E,{discrete:_}){const w=E.originalEvent.target,j=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:E});o&&w.addEventListener(i,o,{once:!0}),_?dispatchDiscreteCustomEvent(w,j):w.dispatchEvent(j)}var Root$5=DismissableLayer,Branch=DismissableLayerBranch,count$2=0;function useFocusGuards(){reactExports.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",i[1]??createFocusGuard()),count$2++,()=>{count$2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),count$2--}},[])}function createFocusGuard(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((i,o)=>{const{loop:E=!1,trapped:_=!1,onMountAutoFocus:w,onUnmountAutoFocus:j,...S}=i,[A,R]=reactExports.useState(null),C=useCallbackRef$1(w),T=useCallbackRef$1(j),N=reactExports.useRef(null),O=useComposedRefs(o,L=>R(L)),$=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(_){let L=function(W){if($.paused||!A)return;const H=W.target;A.contains(H)?N.current=H:focus(N.current,{select:!0})},I=function(W){if($.paused||!A)return;const H=W.relatedTarget;H!==null&&(A.contains(H)||focus(N.current,{select:!0}))},z=function(W){if(document.activeElement===document.body)for(const B of W)B.removedNodes.length>0&&focus(A)};document.addEventListener("focusin",L),document.addEventListener("focusout",I);const F=new MutationObserver(z);return A&&F.observe(A,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",L),document.removeEventListener("focusout",I),F.disconnect()}}},[_,A,$.paused]),reactExports.useEffect(()=>{if(A){focusScopesStack.add($);const L=document.activeElement;if(!A.contains(L)){const z=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);A.addEventListener(AUTOFOCUS_ON_MOUNT,C),A.dispatchEvent(z),z.defaultPrevented||(focusFirst$3(removeLinks(getTabbableCandidates$1(A)),{select:!0}),document.activeElement===L&&focus(A))}return()=>{A.removeEventListener(AUTOFOCUS_ON_MOUNT,C),setTimeout(()=>{const z=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);A.addEventListener(AUTOFOCUS_ON_UNMOUNT,T),A.dispatchEvent(z),z.defaultPrevented||focus(L??document.body,{select:!0}),A.removeEventListener(AUTOFOCUS_ON_UNMOUNT,T),focusScopesStack.remove($)},0)}}},[A,C,T,$]);const D=reactExports.useCallback(L=>{if(!E&&!_||$.paused)return;const I=L.key==="Tab"&&!L.altKey&&!L.ctrlKey&&!L.metaKey,z=document.activeElement;if(I&&z){const F=L.currentTarget,[W,H]=getTabbableEdges(F);W&&H?!L.shiftKey&&z===H?(L.preventDefault(),E&&focus(W,{select:!0})):L.shiftKey&&z===W&&(L.preventDefault(),E&&focus(H,{select:!0})):z===F&&L.preventDefault()}},[E,_,$.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...S,ref:O,onKeyDown:D})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$3(i,{select:o=!1}={}){const E=document.activeElement;for(const _ of i)if(focus(_,{select:o}),document.activeElement!==E)return}function getTabbableEdges(i){const o=getTabbableCandidates$1(i),E=findVisible(o,i),_=findVisible(o.reverse(),i);return[E,_]}function getTabbableCandidates$1(i){const o=[],E=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:_=>{const w=_.tagName==="INPUT"&&_.type==="hidden";return _.disabled||_.hidden||w?NodeFilter.FILTER_SKIP:_.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;E.nextNode();)o.push(E.currentNode);return o}function findVisible(i,o){for(const E of i)if(!isHidden(E,{upTo:o}))return E}function isHidden(i,{upTo:o}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(o!==void 0&&i===o)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function isSelectableInput(i){return i instanceof HTMLInputElement&&"select"in i}function focus(i,{select:o=!1}={}){if(i&&i.focus){const E=document.activeElement;i.focus({preventScroll:!0}),i!==E&&isSelectableInput(i)&&o&&i.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let i=[];return{add(o){const E=i[0];o!==E&&(E==null||E.pause()),i=arrayRemove(i,o),i.unshift(o)},remove(o){var E;i=arrayRemove(i,o),(E=i[0])==null||E.resume()}}}function arrayRemove(i,o){const E=[...i],_=E.indexOf(o);return _!==-1&&E.splice(_,1),E}function removeLinks(i){return i.filter(o=>o.tagName!=="A")}var useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId$1(i){const[o,E]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{E(_=>_??String(count$1++))},[i]),o?`radix-${o}`:""}const sides=["top","right","bottom","left"],min$1=Math.min,max$1=Math.max,round=Math.round,floor=Math.floor,createCoords=i=>({x:i,y:i}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(i,o,E){return max$1(i,min$1(o,E))}function evaluate(i,o){return typeof i=="function"?i(o):i}function getSide(i){return i.split("-")[0]}function getAlignment(i){return i.split("-")[1]}function getOppositeAxis(i){return i==="x"?"y":"x"}function getAxisLength(i){return i==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(i){return yAxisSides.has(getSide(i))?"y":"x"}function getAlignmentAxis(i){return getOppositeAxis(getSideAxis(i))}function getAlignmentSides(i,o,E){E===void 0&&(E=!1);const _=getAlignment(i),w=getAlignmentAxis(i),j=getAxisLength(w);let S=w==="x"?_===(E?"end":"start")?"right":"left":_==="start"?"bottom":"top";return o.reference[j]>o.floating[j]&&(S=getOppositePlacement(S)),[S,getOppositePlacement(S)]}function getExpandedPlacements(i){const o=getOppositePlacement(i);return[getOppositeAlignmentPlacement(i),o,getOppositeAlignmentPlacement(o)]}function getOppositeAlignmentPlacement(i){return i.replace(/start|end/g,o=>oppositeAlignmentMap[o])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(i,o,E){switch(i){case"top":case"bottom":return E?o?rlPlacement:lrPlacement:o?lrPlacement:rlPlacement;case"left":case"right":return o?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(i,o,E,_){const w=getAlignment(i);let j=getSideList(getSide(i),E==="start",_);return w&&(j=j.map(S=>S+"-"+w),o&&(j=j.concat(j.map(getOppositeAlignmentPlacement)))),j}function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,o=>oppositeSideMap[o])}function expandPaddingObject(i){return{top:0,right:0,bottom:0,left:0,...i}}function getPaddingObject(i){return typeof i!="number"?expandPaddingObject(i):{top:i,right:i,bottom:i,left:i}}function rectToClientRect(i){const{x:o,y:E,width:_,height:w}=i;return{width:_,height:w,top:E,left:o,right:o+_,bottom:E+w,x:o,y:E}}function computeCoordsFromPlacement(i,o,E){let{reference:_,floating:w}=i;const j=getSideAxis(o),S=getAlignmentAxis(o),A=getAxisLength(S),R=getSide(o),C=j==="y",T=_.x+_.width/2-w.width/2,N=_.y+_.height/2-w.height/2,O=_[A]/2-w[A]/2;let $;switch(R){case"top":$={x:T,y:_.y-w.height};break;case"bottom":$={x:T,y:_.y+_.height};break;case"right":$={x:_.x+_.width,y:N};break;case"left":$={x:_.x-w.width,y:N};break;default:$={x:_.x,y:_.y}}switch(getAlignment(o)){case"start":$[S]-=O*(E&&C?-1:1);break;case"end":$[S]+=O*(E&&C?-1:1);break}return $}const computePosition$1=async(i,o,E)=>{const{placement:_="bottom",strategy:w="absolute",middleware:j=[],platform:S}=E,A=j.filter(Boolean),R=await(S.isRTL==null?void 0:S.isRTL(o));let C=await S.getElementRects({reference:i,floating:o,strategy:w}),{x:T,y:N}=computeCoordsFromPlacement(C,_,R),O=_,$={},D=0;for(let L=0;L<A.length;L++){const{name:I,fn:z}=A[L],{x:F,y:W,data:H,reset:B}=await z({x:T,y:N,initialPlacement:_,placement:O,strategy:w,middlewareData:$,rects:C,platform:S,elements:{reference:i,floating:o}});T=F??T,N=W??N,$={...$,[I]:{...$[I],...H}},B&&D<=50&&(D++,typeof B=="object"&&(B.placement&&(O=B.placement),B.rects&&(C=B.rects===!0?await S.getElementRects({reference:i,floating:o,strategy:w}):B.rects),{x:T,y:N}=computeCoordsFromPlacement(C,O,R)),L=-1)}return{x:T,y:N,placement:O,strategy:w,middlewareData:$}};async function detectOverflow(i,o){var E;o===void 0&&(o={});const{x:_,y:w,platform:j,rects:S,elements:A,strategy:R}=i,{boundary:C="clippingAncestors",rootBoundary:T="viewport",elementContext:N="floating",altBoundary:O=!1,padding:$=0}=evaluate(o,i),D=getPaddingObject($),I=A[O?N==="floating"?"reference":"floating":N],z=rectToClientRect(await j.getClippingRect({element:(E=await(j.isElement==null?void 0:j.isElement(I)))==null||E?I:I.contextElement||await(j.getDocumentElement==null?void 0:j.getDocumentElement(A.floating)),boundary:C,rootBoundary:T,strategy:R})),F=N==="floating"?{x:_,y:w,width:S.floating.width,height:S.floating.height}:S.reference,W=await(j.getOffsetParent==null?void 0:j.getOffsetParent(A.floating)),H=await(j.isElement==null?void 0:j.isElement(W))?await(j.getScale==null?void 0:j.getScale(W))||{x:1,y:1}:{x:1,y:1},B=rectToClientRect(j.convertOffsetParentRelativeRectToViewportRelativeRect?await j.convertOffsetParentRelativeRectToViewportRelativeRect({elements:A,rect:F,offsetParent:W,strategy:R}):F);return{top:(z.top-B.top+D.top)/H.y,bottom:(B.bottom-z.bottom+D.bottom)/H.y,left:(z.left-B.left+D.left)/H.x,right:(B.right-z.right+D.right)/H.x}}const arrow$3=i=>({name:"arrow",options:i,async fn(o){const{x:E,y:_,placement:w,rects:j,platform:S,elements:A,middlewareData:R}=o,{element:C,padding:T=0}=evaluate(i,o)||{};if(C==null)return{};const N=getPaddingObject(T),O={x:E,y:_},$=getAlignmentAxis(w),D=getAxisLength($),L=await S.getDimensions(C),I=$==="y",z=I?"top":"left",F=I?"bottom":"right",W=I?"clientHeight":"clientWidth",H=j.reference[D]+j.reference[$]-O[$]-j.floating[D],B=O[$]-j.reference[$],U=await(S.getOffsetParent==null?void 0:S.getOffsetParent(C));let G=U?U[W]:0;(!G||!await(S.isElement==null?void 0:S.isElement(U)))&&(G=A.floating[W]||j.floating[D]);const V=H/2-B/2,K=G/2-L[D]/2-1,je=min$1(N[z],K),Z=min$1(N[F],K),fe=je,Ae=G-L[D]-Z,Oe=G/2-L[D]/2+V,Pe=clamp$1(fe,Oe,Ae),Ne=!R.arrow&&getAlignment(w)!=null&&Oe!==Pe&&j.reference[D]/2-(Oe<fe?je:Z)-L[D]/2<0,Ce=Ne?Oe<fe?Oe-fe:Oe-Ae:0;return{[$]:O[$]+Ce,data:{[$]:Pe,centerOffset:Oe-Pe-Ce,...Ne&&{alignmentOffset:Ce}},reset:Ne}}}),flip$2=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(o){var E,_;const{placement:w,middlewareData:j,rects:S,initialPlacement:A,platform:R,elements:C}=o,{mainAxis:T=!0,crossAxis:N=!0,fallbackPlacements:O,fallbackStrategy:$="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:L=!0,...I}=evaluate(i,o);if((E=j.arrow)!=null&&E.alignmentOffset)return{};const z=getSide(w),F=getSideAxis(A),W=getSide(A)===A,H=await(R.isRTL==null?void 0:R.isRTL(C.floating)),B=O||(W||!L?[getOppositePlacement(A)]:getExpandedPlacements(A)),U=D!=="none";!O&&U&&B.push(...getOppositeAxisPlacements(A,L,D,H));const G=[A,...B],V=await detectOverflow(o,I),K=[];let je=((_=j.flip)==null?void 0:_.overflows)||[];if(T&&K.push(V[z]),N){const Oe=getAlignmentSides(w,S,H);K.push(V[Oe[0]],V[Oe[1]])}if(je=[...je,{placement:w,overflows:K}],!K.every(Oe=>Oe<=0)){var Z,fe;const Oe=(((Z=j.flip)==null?void 0:Z.index)||0)+1,Pe=G[Oe];if(Pe&&(!(N==="alignment"?F!==getSideAxis(Pe):!1)||je.every(Me=>getSideAxis(Me.placement)===F?Me.overflows[0]>0:!0)))return{data:{index:Oe,overflows:je},reset:{placement:Pe}};let Ne=(fe=je.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,Me)=>Ce.overflows[1]-Me.overflows[1])[0])==null?void 0:fe.placement;if(!Ne)switch($){case"bestFit":{var Ae;const Ce=(Ae=je.filter(Me=>{if(U){const Q=getSideAxis(Me.placement);return Q===F||Q==="y"}return!0}).map(Me=>[Me.placement,Me.overflows.filter(Q=>Q>0).reduce((Q,Re)=>Q+Re,0)]).sort((Me,Q)=>Me[1]-Q[1])[0])==null?void 0:Ae[0];Ce&&(Ne=Ce);break}case"initialPlacement":Ne=A;break}if(w!==Ne)return{reset:{placement:Ne}}}return{}}}};function getSideOffsets(i,o){return{top:i.top-o.height,right:i.right-o.width,bottom:i.bottom-o.height,left:i.left-o.width}}function isAnySideFullyClipped(i){return sides.some(o=>i[o]>=0)}const hide$2=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(o){const{rects:E}=o,{strategy:_="referenceHidden",...w}=evaluate(i,o);switch(_){case"referenceHidden":{const j=await detectOverflow(o,{...w,elementContext:"reference"}),S=getSideOffsets(j,E.reference);return{data:{referenceHiddenOffsets:S,referenceHidden:isAnySideFullyClipped(S)}}}case"escaped":{const j=await detectOverflow(o,{...w,altBoundary:!0}),S=getSideOffsets(j,E.floating);return{data:{escapedOffsets:S,escaped:isAnySideFullyClipped(S)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(i,o){const{placement:E,platform:_,elements:w}=i,j=await(_.isRTL==null?void 0:_.isRTL(w.floating)),S=getSide(E),A=getAlignment(E),R=getSideAxis(E)==="y",C=originSides.has(S)?-1:1,T=j&&R?-1:1,N=evaluate(o,i);let{mainAxis:O,crossAxis:$,alignmentAxis:D}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return A&&typeof D=="number"&&($=A==="end"?D*-1:D),R?{x:$*T,y:O*C}:{x:O*C,y:$*T}}const offset$2=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(o){var E,_;const{x:w,y:j,placement:S,middlewareData:A}=o,R=await convertValueToCoords(o,i);return S===((E=A.offset)==null?void 0:E.placement)&&(_=A.arrow)!=null&&_.alignmentOffset?{}:{x:w+R.x,y:j+R.y,data:{...R,placement:S}}}}},shift$2=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(o){const{x:E,y:_,placement:w}=o,{mainAxis:j=!0,crossAxis:S=!1,limiter:A={fn:I=>{let{x:z,y:F}=I;return{x:z,y:F}}},...R}=evaluate(i,o),C={x:E,y:_},T=await detectOverflow(o,R),N=getSideAxis(getSide(w)),O=getOppositeAxis(N);let $=C[O],D=C[N];if(j){const I=O==="y"?"top":"left",z=O==="y"?"bottom":"right",F=$+T[I],W=$-T[z];$=clamp$1(F,$,W)}if(S){const I=N==="y"?"top":"left",z=N==="y"?"bottom":"right",F=D+T[I],W=D-T[z];D=clamp$1(F,D,W)}const L=A.fn({...o,[O]:$,[N]:D});return{...L,data:{x:L.x-E,y:L.y-_,enabled:{[O]:j,[N]:S}}}}}},limitShift$2=function(i){return i===void 0&&(i={}),{options:i,fn(o){const{x:E,y:_,placement:w,rects:j,middlewareData:S}=o,{offset:A=0,mainAxis:R=!0,crossAxis:C=!0}=evaluate(i,o),T={x:E,y:_},N=getSideAxis(w),O=getOppositeAxis(N);let $=T[O],D=T[N];const L=evaluate(A,o),I=typeof L=="number"?{mainAxis:L,crossAxis:0}:{mainAxis:0,crossAxis:0,...L};if(R){const W=O==="y"?"height":"width",H=j.reference[O]-j.floating[W]+I.mainAxis,B=j.reference[O]+j.reference[W]-I.mainAxis;$<H?$=H:$>B&&($=B)}if(C){var z,F;const W=O==="y"?"width":"height",H=originSides.has(getSide(w)),B=j.reference[N]-j.floating[W]+(H&&((z=S.offset)==null?void 0:z[N])||0)+(H?0:I.crossAxis),U=j.reference[N]+j.reference[W]+(H?0:((F=S.offset)==null?void 0:F[N])||0)-(H?I.crossAxis:0);D<B?D=B:D>U&&(D=U)}return{[O]:$,[N]:D}}}},size$2=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(o){var E,_;const{placement:w,rects:j,platform:S,elements:A}=o,{apply:R=()=>{},...C}=evaluate(i,o),T=await detectOverflow(o,C),N=getSide(w),O=getAlignment(w),$=getSideAxis(w)==="y",{width:D,height:L}=j.floating;let I,z;N==="top"||N==="bottom"?(I=N,z=O===(await(S.isRTL==null?void 0:S.isRTL(A.floating))?"start":"end")?"left":"right"):(z=N,I=O==="end"?"top":"bottom");const F=L-T.top-T.bottom,W=D-T.left-T.right,H=min$1(L-T[I],F),B=min$1(D-T[z],W),U=!o.middlewareData.shift;let G=H,V=B;if((E=o.middlewareData.shift)!=null&&E.enabled.x&&(V=W),(_=o.middlewareData.shift)!=null&&_.enabled.y&&(G=F),U&&!O){const je=max$1(T.left,0),Z=max$1(T.right,0),fe=max$1(T.top,0),Ae=max$1(T.bottom,0);$?V=D-2*(je!==0||Z!==0?je+Z:max$1(T.left,T.right)):G=L-2*(fe!==0||Ae!==0?fe+Ae:max$1(T.top,T.bottom))}await R({...o,availableWidth:V,availableHeight:G});const K=await S.getDimensions(A.floating);return D!==K.width||L!==K.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(i){return isNode(i)?(i.nodeName||"").toLowerCase():"#document"}function getWindow(i){var o;return(i==null||(o=i.ownerDocument)==null?void 0:o.defaultView)||window}function getDocumentElement(i){var o;return(o=(isNode(i)?i.ownerDocument:i.document)||window.document)==null?void 0:o.documentElement}function isNode(i){return hasWindow()?i instanceof Node||i instanceof getWindow(i).Node:!1}function isElement(i){return hasWindow()?i instanceof Element||i instanceof getWindow(i).Element:!1}function isHTMLElement$1(i){return hasWindow()?i instanceof HTMLElement||i instanceof getWindow(i).HTMLElement:!1}function isShadowRoot(i){return!hasWindow()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof getWindow(i).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(i){const{overflow:o,overflowX:E,overflowY:_,display:w}=getComputedStyle$1(i);return/auto|scroll|overlay|hidden|clip/.test(o+_+E)&&!invalidOverflowDisplayValues.has(w)}const tableElements=new Set(["table","td","th"]);function isTableElement(i){return tableElements.has(getNodeName(i))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(i){return topLayerSelectors.some(o=>{try{return i.matches(o)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(i){const o=isWebKit(),E=isElement(i)?getComputedStyle$1(i):i;return transformProperties.some(_=>E[_]?E[_]!=="none":!1)||(E.containerType?E.containerType!=="normal":!1)||!o&&(E.backdropFilter?E.backdropFilter!=="none":!1)||!o&&(E.filter?E.filter!=="none":!1)||willChangeValues.some(_=>(E.willChange||"").includes(_))||containValues.some(_=>(E.contain||"").includes(_))}function getContainingBlock(i){let o=getParentNode(i);for(;isHTMLElement$1(o)&&!isLastTraversableNode(o);){if(isContainingBlock(o))return o;if(isTopLayer(o))return null;o=getParentNode(o)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(i){return lastTraversableNodeNames.has(getNodeName(i))}function getComputedStyle$1(i){return getWindow(i).getComputedStyle(i)}function getNodeScroll(i){return isElement(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function getParentNode(i){if(getNodeName(i)==="html")return i;const o=i.assignedSlot||i.parentNode||isShadowRoot(i)&&i.host||getDocumentElement(i);return isShadowRoot(o)?o.host:o}function getNearestOverflowAncestor(i){const o=getParentNode(i);return isLastTraversableNode(o)?i.ownerDocument?i.ownerDocument.body:i.body:isHTMLElement$1(o)&&isOverflowElement(o)?o:getNearestOverflowAncestor(o)}function getOverflowAncestors(i,o,E){var _;o===void 0&&(o=[]),E===void 0&&(E=!0);const w=getNearestOverflowAncestor(i),j=w===((_=i.ownerDocument)==null?void 0:_.body),S=getWindow(w);if(j){const A=getFrameElement(S);return o.concat(S,S.visualViewport||[],isOverflowElement(w)?w:[],A&&E?getOverflowAncestors(A):[])}return o.concat(w,getOverflowAncestors(w,[],E))}function getFrameElement(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function getCssDimensions(i){const o=getComputedStyle$1(i);let E=parseFloat(o.width)||0,_=parseFloat(o.height)||0;const w=isHTMLElement$1(i),j=w?i.offsetWidth:E,S=w?i.offsetHeight:_,A=round(E)!==j||round(_)!==S;return A&&(E=j,_=S),{width:E,height:_,$:A}}function unwrapElement(i){return isElement(i)?i:i.contextElement}function getScale(i){const o=unwrapElement(i);if(!isHTMLElement$1(o))return createCoords(1);const E=o.getBoundingClientRect(),{width:_,height:w,$:j}=getCssDimensions(o);let S=(j?round(E.width):E.width)/_,A=(j?round(E.height):E.height)/w;return(!S||!Number.isFinite(S))&&(S=1),(!A||!Number.isFinite(A))&&(A=1),{x:S,y:A}}const noOffsets=createCoords(0);function getVisualOffsets(i){const o=getWindow(i);return!isWebKit()||!o.visualViewport?noOffsets:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function shouldAddVisualOffsets(i,o,E){return o===void 0&&(o=!1),!E||o&&E!==getWindow(i)?!1:o}function getBoundingClientRect(i,o,E,_){o===void 0&&(o=!1),E===void 0&&(E=!1);const w=i.getBoundingClientRect(),j=unwrapElement(i);let S=createCoords(1);o&&(_?isElement(_)&&(S=getScale(_)):S=getScale(i));const A=shouldAddVisualOffsets(j,E,_)?getVisualOffsets(j):createCoords(0);let R=(w.left+A.x)/S.x,C=(w.top+A.y)/S.y,T=w.width/S.x,N=w.height/S.y;if(j){const O=getWindow(j),$=_&&isElement(_)?getWindow(_):_;let D=O,L=getFrameElement(D);for(;L&&_&&$!==D;){const I=getScale(L),z=L.getBoundingClientRect(),F=getComputedStyle$1(L),W=z.left+(L.clientLeft+parseFloat(F.paddingLeft))*I.x,H=z.top+(L.clientTop+parseFloat(F.paddingTop))*I.y;R*=I.x,C*=I.y,T*=I.x,N*=I.y,R+=W,C+=H,D=getWindow(L),L=getFrameElement(D)}}return rectToClientRect({width:T,height:N,x:R,y:C})}function getWindowScrollBarX(i,o){const E=getNodeScroll(i).scrollLeft;return o?o.left+E:getBoundingClientRect(getDocumentElement(i)).left+E}function getHTMLOffset(i,o){const E=i.getBoundingClientRect(),_=E.left+o.scrollLeft-getWindowScrollBarX(i,E),w=E.top+o.scrollTop;return{x:_,y:w}}function convertOffsetParentRelativeRectToViewportRelativeRect(i){let{elements:o,rect:E,offsetParent:_,strategy:w}=i;const j=w==="fixed",S=getDocumentElement(_),A=o?isTopLayer(o.floating):!1;if(_===S||A&&j)return E;let R={scrollLeft:0,scrollTop:0},C=createCoords(1);const T=createCoords(0),N=isHTMLElement$1(_);if((N||!N&&!j)&&((getNodeName(_)!=="body"||isOverflowElement(S))&&(R=getNodeScroll(_)),isHTMLElement$1(_))){const $=getBoundingClientRect(_);C=getScale(_),T.x=$.x+_.clientLeft,T.y=$.y+_.clientTop}const O=S&&!N&&!j?getHTMLOffset(S,R):createCoords(0);return{width:E.width*C.x,height:E.height*C.y,x:E.x*C.x-R.scrollLeft*C.x+T.x+O.x,y:E.y*C.y-R.scrollTop*C.y+T.y+O.y}}function getClientRects(i){return Array.from(i.getClientRects())}function getDocumentRect(i){const o=getDocumentElement(i),E=getNodeScroll(i),_=i.ownerDocument.body,w=max$1(o.scrollWidth,o.clientWidth,_.scrollWidth,_.clientWidth),j=max$1(o.scrollHeight,o.clientHeight,_.scrollHeight,_.clientHeight);let S=-E.scrollLeft+getWindowScrollBarX(i);const A=-E.scrollTop;return getComputedStyle$1(_).direction==="rtl"&&(S+=max$1(o.clientWidth,_.clientWidth)-w),{width:w,height:j,x:S,y:A}}const SCROLLBAR_MAX=25;function getViewportRect(i,o){const E=getWindow(i),_=getDocumentElement(i),w=E.visualViewport;let j=_.clientWidth,S=_.clientHeight,A=0,R=0;if(w){j=w.width,S=w.height;const T=isWebKit();(!T||T&&o==="fixed")&&(A=w.offsetLeft,R=w.offsetTop)}const C=getWindowScrollBarX(_);if(C<=0){const T=_.ownerDocument,N=T.body,O=getComputedStyle(N),$=T.compatMode==="CSS1Compat"&&parseFloat(O.marginLeft)+parseFloat(O.marginRight)||0,D=Math.abs(_.clientWidth-N.clientWidth-$);D<=SCROLLBAR_MAX&&(j-=D)}else C<=SCROLLBAR_MAX&&(j+=C);return{width:j,height:S,x:A,y:R}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(i,o){const E=getBoundingClientRect(i,!0,o==="fixed"),_=E.top+i.clientTop,w=E.left+i.clientLeft,j=isHTMLElement$1(i)?getScale(i):createCoords(1),S=i.clientWidth*j.x,A=i.clientHeight*j.y,R=w*j.x,C=_*j.y;return{width:S,height:A,x:R,y:C}}function getClientRectFromClippingAncestor(i,o,E){let _;if(o==="viewport")_=getViewportRect(i,E);else if(o==="document")_=getDocumentRect(getDocumentElement(i));else if(isElement(o))_=getInnerBoundingClientRect(o,E);else{const w=getVisualOffsets(i);_={x:o.x-w.x,y:o.y-w.y,width:o.width,height:o.height}}return rectToClientRect(_)}function hasFixedPositionAncestor(i,o){const E=getParentNode(i);return E===o||!isElement(E)||isLastTraversableNode(E)?!1:getComputedStyle$1(E).position==="fixed"||hasFixedPositionAncestor(E,o)}function getClippingElementAncestors(i,o){const E=o.get(i);if(E)return E;let _=getOverflowAncestors(i,[],!1).filter(A=>isElement(A)&&getNodeName(A)!=="body"),w=null;const j=getComputedStyle$1(i).position==="fixed";let S=j?getParentNode(i):i;for(;isElement(S)&&!isLastTraversableNode(S);){const A=getComputedStyle$1(S),R=isContainingBlock(S);!R&&A.position==="fixed"&&(w=null),(j?!R&&!w:!R&&A.position==="static"&&!!w&&absoluteOrFixed.has(w.position)||isOverflowElement(S)&&!R&&hasFixedPositionAncestor(i,S))?_=_.filter(T=>T!==S):w=A,S=getParentNode(S)}return o.set(i,_),_}function getClippingRect(i){let{element:o,boundary:E,rootBoundary:_,strategy:w}=i;const S=[...E==="clippingAncestors"?isTopLayer(o)?[]:getClippingElementAncestors(o,this._c):[].concat(E),_],A=S[0],R=S.reduce((C,T)=>{const N=getClientRectFromClippingAncestor(o,T,w);return C.top=max$1(N.top,C.top),C.right=min$1(N.right,C.right),C.bottom=min$1(N.bottom,C.bottom),C.left=max$1(N.left,C.left),C},getClientRectFromClippingAncestor(o,A,w));return{width:R.right-R.left,height:R.bottom-R.top,x:R.left,y:R.top}}function getDimensions(i){const{width:o,height:E}=getCssDimensions(i);return{width:o,height:E}}function getRectRelativeToOffsetParent(i,o,E){const _=isHTMLElement$1(o),w=getDocumentElement(o),j=E==="fixed",S=getBoundingClientRect(i,!0,j,o);let A={scrollLeft:0,scrollTop:0};const R=createCoords(0);function C(){R.x=getWindowScrollBarX(w)}if(_||!_&&!j)if((getNodeName(o)!=="body"||isOverflowElement(w))&&(A=getNodeScroll(o)),_){const $=getBoundingClientRect(o,!0,j,o);R.x=$.x+o.clientLeft,R.y=$.y+o.clientTop}else w&&C();j&&!_&&w&&C();const T=w&&!_&&!j?getHTMLOffset(w,A):createCoords(0),N=S.left+A.scrollLeft-R.x-T.x,O=S.top+A.scrollTop-R.y-T.y;return{x:N,y:O,width:S.width,height:S.height}}function isStaticPositioned(i){return getComputedStyle$1(i).position==="static"}function getTrueOffsetParent(i,o){if(!isHTMLElement$1(i)||getComputedStyle$1(i).position==="fixed")return null;if(o)return o(i);let E=i.offsetParent;return getDocumentElement(i)===E&&(E=E.ownerDocument.body),E}function getOffsetParent(i,o){const E=getWindow(i);if(isTopLayer(i))return E;if(!isHTMLElement$1(i)){let w=getParentNode(i);for(;w&&!isLastTraversableNode(w);){if(isElement(w)&&!isStaticPositioned(w))return w;w=getParentNode(w)}return E}let _=getTrueOffsetParent(i,o);for(;_&&isTableElement(_)&&isStaticPositioned(_);)_=getTrueOffsetParent(_,o);return _&&isLastTraversableNode(_)&&isStaticPositioned(_)&&!isContainingBlock(_)?E:_||getContainingBlock(i)||E}const getElementRects=async function(i){const o=this.getOffsetParent||getOffsetParent,E=this.getDimensions,_=await E(i.floating);return{reference:getRectRelativeToOffsetParent(i.reference,await o(i.floating),i.strategy),floating:{x:0,y:0,width:_.width,height:_.height}}};function isRTL(i){return getComputedStyle$1(i).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(i,o){return i.x===o.x&&i.y===o.y&&i.width===o.width&&i.height===o.height}function observeMove(i,o){let E=null,_;const w=getDocumentElement(i);function j(){var A;clearTimeout(_),(A=E)==null||A.disconnect(),E=null}function S(A,R){A===void 0&&(A=!1),R===void 0&&(R=1),j();const C=i.getBoundingClientRect(),{left:T,top:N,width:O,height:$}=C;if(A||o(),!O||!$)return;const D=floor(N),L=floor(w.clientWidth-(T+O)),I=floor(w.clientHeight-(N+$)),z=floor(T),W={rootMargin:-D+"px "+-L+"px "+-I+"px "+-z+"px",threshold:max$1(0,min$1(1,R))||1};let H=!0;function B(U){const G=U[0].intersectionRatio;if(G!==R){if(!H)return S();G?S(!1,G):_=setTimeout(()=>{S(!1,1e-7)},1e3)}G===1&&!rectsAreEqual(C,i.getBoundingClientRect())&&S(),H=!1}try{E=new IntersectionObserver(B,{...W,root:w.ownerDocument})}catch{E=new IntersectionObserver(B,W)}E.observe(i)}return S(!0),j}function autoUpdate(i,o,E,_){_===void 0&&(_={});const{ancestorScroll:w=!0,ancestorResize:j=!0,elementResize:S=typeof ResizeObserver=="function",layoutShift:A=typeof IntersectionObserver=="function",animationFrame:R=!1}=_,C=unwrapElement(i),T=w||j?[...C?getOverflowAncestors(C):[],...getOverflowAncestors(o)]:[];T.forEach(z=>{w&&z.addEventListener("scroll",E,{passive:!0}),j&&z.addEventListener("resize",E)});const N=C&&A?observeMove(C,E):null;let O=-1,$=null;S&&($=new ResizeObserver(z=>{let[F]=z;F&&F.target===C&&$&&($.unobserve(o),cancelAnimationFrame(O),O=requestAnimationFrame(()=>{var W;(W=$)==null||W.observe(o)})),E()}),C&&!R&&$.observe(C),$.observe(o));let D,L=R?getBoundingClientRect(i):null;R&&I();function I(){const z=getBoundingClientRect(i);L&&!rectsAreEqual(L,z)&&E(),L=z,D=requestAnimationFrame(I)}return E(),()=>{var z;T.forEach(F=>{w&&F.removeEventListener("scroll",E),j&&F.removeEventListener("resize",E)}),N==null||N(),(z=$)==null||z.disconnect(),$=null,R&&cancelAnimationFrame(D)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(i,o,E)=>{const _=new Map,w={platform,...E},j={...w.platform,_c:_};return computePosition$1(i,o,{...w,platform:j})};var isClient=typeof document<"u",noop=function(){},index=isClient?reactExports.useLayoutEffect:noop;function deepEqual(i,o){if(i===o)return!0;if(typeof i!=typeof o)return!1;if(typeof i=="function"&&i.toString()===o.toString())return!0;let E,_,w;if(i&&o&&typeof i=="object"){if(Array.isArray(i)){if(E=i.length,E!==o.length)return!1;for(_=E;_--!==0;)if(!deepEqual(i[_],o[_]))return!1;return!0}if(w=Object.keys(i),E=w.length,E!==Object.keys(o).length)return!1;for(_=E;_--!==0;)if(!{}.hasOwnProperty.call(o,w[_]))return!1;for(_=E;_--!==0;){const j=w[_];if(!(j==="_owner"&&i.$$typeof)&&!deepEqual(i[j],o[j]))return!1}return!0}return i!==i&&o!==o}function getDPR(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(i,o){const E=getDPR(i);return Math.round(o*E)/E}function useLatestRef(i){const o=reactExports.useRef(i);return index(()=>{o.current=i}),o}function useFloating(i){i===void 0&&(i={});const{placement:o="bottom",strategy:E="absolute",middleware:_=[],platform:w,elements:{reference:j,floating:S}={},transform:A=!0,whileElementsMounted:R,open:C}=i,[T,N]=reactExports.useState({x:0,y:0,strategy:E,placement:o,middlewareData:{},isPositioned:!1}),[O,$]=reactExports.useState(_);deepEqual(O,_)||$(_);const[D,L]=reactExports.useState(null),[I,z]=reactExports.useState(null),F=reactExports.useCallback(Me=>{Me!==U.current&&(U.current=Me,L(Me))},[]),W=reactExports.useCallback(Me=>{Me!==G.current&&(G.current=Me,z(Me))},[]),H=j||D,B=S||I,U=reactExports.useRef(null),G=reactExports.useRef(null),V=reactExports.useRef(T),K=R!=null,je=useLatestRef(R),Z=useLatestRef(w),fe=useLatestRef(C),Ae=reactExports.useCallback(()=>{if(!U.current||!G.current)return;const Me={placement:o,strategy:E,middleware:O};Z.current&&(Me.platform=Z.current),computePosition(U.current,G.current,Me).then(Q=>{const Re={...Q,isPositioned:fe.current!==!1};Oe.current&&!deepEqual(V.current,Re)&&(V.current=Re,reactDomExports.flushSync(()=>{N(Re)}))})},[O,o,E,Z,fe]);index(()=>{C===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,N(Me=>({...Me,isPositioned:!1})))},[C]);const Oe=reactExports.useRef(!1);index(()=>(Oe.current=!0,()=>{Oe.current=!1}),[]),index(()=>{if(H&&(U.current=H),B&&(G.current=B),H&&B){if(je.current)return je.current(H,B,Ae);Ae()}},[H,B,Ae,je,K]);const Pe=reactExports.useMemo(()=>({reference:U,floating:G,setReference:F,setFloating:W}),[F,W]),Ne=reactExports.useMemo(()=>({reference:H,floating:B}),[H,B]),Ce=reactExports.useMemo(()=>{const Me={position:E,left:0,top:0};if(!Ne.floating)return Me;const Q=roundByDPR(Ne.floating,T.x),Re=roundByDPR(Ne.floating,T.y);return A?{...Me,transform:"translate("+Q+"px, "+Re+"px)",...getDPR(Ne.floating)>=1.5&&{willChange:"transform"}}:{position:E,left:Q,top:Re}},[E,A,Ne.floating,T.x,T.y]);return reactExports.useMemo(()=>({...T,update:Ae,refs:Pe,elements:Ne,floatingStyles:Ce}),[T,Ae,Pe,Ne,Ce])}const arrow$1=i=>{function o(E){return{}.hasOwnProperty.call(E,"current")}return{name:"arrow",options:i,fn(E){const{element:_,padding:w}=typeof i=="function"?i(E):i;return _&&o(_)?_.current!=null?arrow$2({element:_.current,padding:w}).fn(E):{}:_?arrow$2({element:_,padding:w}).fn(E):{}}}},offset=(i,o)=>({...offset$1(i),options:[i,o]}),shift=(i,o)=>({...shift$1(i),options:[i,o]}),limitShift=(i,o)=>({...limitShift$1(i),options:[i,o]}),flip=(i,o)=>({...flip$1(i),options:[i,o]}),size=(i,o)=>({...size$1(i),options:[i,o]}),hide=(i,o)=>({...hide$1(i),options:[i,o]}),arrow=(i,o)=>({...arrow$1(i),options:[i,o]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((i,o)=>{const{children:E,width:_=10,height:w=5,...j}=i;return jsxRuntimeExports.jsx(Primitive.svg,{...j,ref:o,width:_,height:w,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?E:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$4=Arrow$1;function useSize(i){const[o,E]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(i){E({width:i.offsetWidth,height:i.offsetHeight});const _=new ResizeObserver(w=>{if(!Array.isArray(w)||!w.length)return;const j=w[0];let S,A;if("borderBoxSize"in j){const R=j.borderBoxSize,C=Array.isArray(R)?R[0]:R;S=C.inlineSize,A=C.blockSize}else S=i.offsetWidth,A=i.offsetHeight;E({width:S,height:A})});return _.observe(i,{box:"border-box"}),()=>_.unobserve(i)}else E(void 0)},[i]),o}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=i=>{const{__scopePopper:o,children:E}=i,[_,w]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:o,anchor:_,onAnchorChange:w,children:E})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor=reactExports.forwardRef((i,o)=>{const{__scopePopper:E,virtualRef:_,...w}=i,j=usePopperContext(ANCHOR_NAME$2,E),S=reactExports.useRef(null),A=useComposedRefs(o,S),R=reactExports.useRef(null);return reactExports.useEffect(()=>{const C=R.current;R.current=(_==null?void 0:_.current)||S.current,C!==R.current&&j.onAnchorChange(R.current)}),_?null:jsxRuntimeExports.jsx(Primitive.div,{...w,ref:A})});PopperAnchor.displayName=ANCHOR_NAME$2;var CONTENT_NAME$7="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$7),PopperContent=reactExports.forwardRef((i,o)=>{var $e,De,Be,Le,He,We;const{__scopePopper:E,side:_="bottom",sideOffset:w=0,align:j="center",alignOffset:S=0,arrowPadding:A=0,avoidCollisions:R=!0,collisionBoundary:C=[],collisionPadding:T=0,sticky:N="partial",hideWhenDetached:O=!1,updatePositionStrategy:$="optimized",onPlaced:D,...L}=i,I=usePopperContext(CONTENT_NAME$7,E),[z,F]=reactExports.useState(null),W=useComposedRefs(o,rt=>F(rt)),[H,B]=reactExports.useState(null),U=useSize(H),G=(U==null?void 0:U.width)??0,V=(U==null?void 0:U.height)??0,K=_+(j!=="center"?"-"+j:""),je=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},Z=Array.isArray(C)?C:[C],fe=Z.length>0,Ae={padding:je,boundary:Z.filter(isNotNull),altBoundary:fe},{refs:Oe,floatingStyles:Pe,placement:Ne,isPositioned:Ce,middlewareData:Me}=useFloating({strategy:"fixed",placement:K,whileElementsMounted:(...rt)=>autoUpdate(...rt,{animationFrame:$==="always"}),elements:{reference:I.anchor},middleware:[offset({mainAxis:w+V,alignmentAxis:S}),R&&shift({mainAxis:!0,crossAxis:!1,limiter:N==="partial"?limitShift():void 0,...Ae}),R&&flip({...Ae}),size({...Ae,apply:({elements:rt,rects:it,availableWidth:dt,availableHeight:Ke})=>{const{width:Xe,height:Fe}=it.reference,Ge=rt.floating.style;Ge.setProperty("--radix-popper-available-width",`${dt}px`),Ge.setProperty("--radix-popper-available-height",`${Ke}px`),Ge.setProperty("--radix-popper-anchor-width",`${Xe}px`),Ge.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),H&&arrow({element:H,padding:A}),transformOrigin({arrowWidth:G,arrowHeight:V}),O&&hide({strategy:"referenceHidden",...Ae})]}),[Q,Re]=getSideAndAlignFromPlacement(Ne),ke=useCallbackRef$1(D);useLayoutEffect2(()=>{Ce&&(ke==null||ke())},[Ce,ke]);const _e=($e=Me.arrow)==null?void 0:$e.x,Y=(De=Me.arrow)==null?void 0:De.y,J=((Be=Me.arrow)==null?void 0:Be.centerOffset)!==0,[Se,Ie]=reactExports.useState();return useLayoutEffect2(()=>{z&&Ie(window.getComputedStyle(z).zIndex)},[z]),jsxRuntimeExports.jsx("div",{ref:Oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Pe,transform:Ce?Pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Le=Me.transformOrigin)==null?void 0:Le.x,(He=Me.transformOrigin)==null?void 0:He.y].join(" "),...((We=Me.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:E,placedSide:Q,onArrowChange:B,arrowX:_e,arrowY:Y,shouldHideArrow:J,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Q,"data-align":Re,...L,ref:W,style:{...L.style,animation:Ce?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$7;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(o,E){const{__scopePopper:_,...w}=o,j=useContentContext(ARROW_NAME$4,_),S=OPPOSITE_SIDE[j.placedSide];return jsxRuntimeExports.jsx("span",{ref:j.onArrowChange,style:{position:"absolute",left:j.arrowX,top:j.arrowY,[S]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[j.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[j.placedSide],visibility:j.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$4,{...w,ref:E,style:{...w.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull(i){return i!==null}var transformOrigin=i=>({name:"transformOrigin",options:i,fn(o){var I,z,F;const{placement:E,rects:_,middlewareData:w}=o,S=((I=w.arrow)==null?void 0:I.centerOffset)!==0,A=S?0:i.arrowWidth,R=S?0:i.arrowHeight,[C,T]=getSideAndAlignFromPlacement(E),N={start:"0%",center:"50%",end:"100%"}[T],O=(((z=w.arrow)==null?void 0:z.x)??0)+A/2,$=(((F=w.arrow)==null?void 0:F.y)??0)+R/2;let D="",L="";return C==="bottom"?(D=S?N:`${O}px`,L=`${-R}px`):C==="top"?(D=S?N:`${O}px`,L=`${_.floating.height+R}px`):C==="right"?(D=`${-R}px`,L=S?N:`${$}px`):C==="left"&&(D=`${_.floating.width+R}px`,L=S?N:`${$}px`),{data:{x:D,y:L}}}});function getSideAndAlignFromPlacement(i){const[o,E="center"]=i.split("-");return[o,E]}var Root2$6=Popper,Anchor=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,PORTAL_NAME$6="Portal",Portal$4=reactExports.forwardRef((i,o)=>{var A;const{container:E,..._}=i,[w,j]=reactExports.useState(!1);useLayoutEffect2(()=>j(!0),[]);const S=E||w&&((A=globalThis==null?void 0:globalThis.document)==null?void 0:A.body);return S?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{..._,ref:o}),S):null});Portal$4.displayName=PORTAL_NAME$6;function useStateMachine(i,o){return reactExports.useReducer((E,_)=>o[E][_]??E,i)}var Presence=i=>{const{present:o,children:E}=i,_=usePresence(o),w=typeof E=="function"?E({present:_.isPresent}):reactExports.Children.only(E),j=useComposedRefs(_.ref,getElementRef(w));return typeof E=="function"||_.isPresent?reactExports.cloneElement(w,{ref:j}):null};Presence.displayName="Presence";function usePresence(i){const[o,E]=reactExports.useState(),_=reactExports.useRef(null),w=reactExports.useRef(i),j=reactExports.useRef("none"),S=i?"mounted":"unmounted",[A,R]=useStateMachine(S,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const C=getAnimationName(_.current);j.current=A==="mounted"?C:"none"},[A]),useLayoutEffect2(()=>{const C=_.current,T=w.current;if(T!==i){const O=j.current,$=getAnimationName(C);i?R("MOUNT"):$==="none"||(C==null?void 0:C.display)==="none"?R("UNMOUNT"):R(T&&O!==$?"ANIMATION_OUT":"UNMOUNT"),w.current=i}},[i,R]),useLayoutEffect2(()=>{if(o){let C;const T=o.ownerDocument.defaultView??window,N=$=>{const L=getAnimationName(_.current).includes(CSS.escape($.animationName));if($.target===o&&L&&(R("ANIMATION_END"),!w.current)){const I=o.style.animationFillMode;o.style.animationFillMode="forwards",C=T.setTimeout(()=>{o.style.animationFillMode==="forwards"&&(o.style.animationFillMode=I)})}},O=$=>{$.target===o&&(j.current=getAnimationName(_.current))};return o.addEventListener("animationstart",O),o.addEventListener("animationcancel",N),o.addEventListener("animationend",N),()=>{T.clearTimeout(C),o.removeEventListener("animationstart",O),o.removeEventListener("animationcancel",N),o.removeEventListener("animationend",N)}}else R("ANIMATION_END")},[o,R]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:reactExports.useCallback(C=>{_.current=C?getComputedStyle(C):null,E(C)},[])}}function getAnimationName(i){return(i==null?void 0:i.animationName)||"none"}function getElementRef(i){var _,w;let o=(_=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:_.get,E=o&&"isReactWarning"in o&&o.isReactWarning;return E?i.ref:(o=(w=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:w.get,E=o&&"isReactWarning"in o&&o.isReactWarning,E?i.props.ref:i.props.ref||i.ref)}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$3="RovingFocusGroup",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(GROUP_NAME$3),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$3,[createCollectionScope$3]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$3),RovingFocusGroup=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(Collection$3.Provider,{scope:i.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:i.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...i,ref:o})})}));RovingFocusGroup.displayName=GROUP_NAME$3;var RovingFocusGroupImpl=reactExports.forwardRef((i,o)=>{const{__scopeRovingFocusGroup:E,orientation:_,loop:w=!1,dir:j,currentTabStopId:S,defaultCurrentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:C,preventScrollOnEntryFocus:T=!1,...N}=i,O=reactExports.useRef(null),$=useComposedRefs(o,O),D=useDirection(j),[L,I]=useControllableState({prop:S,defaultProp:A??null,onChange:R,caller:GROUP_NAME$3}),[z,F]=reactExports.useState(!1),W=useCallbackRef$1(C),H=useCollection$3(E),B=reactExports.useRef(!1),[U,G]=reactExports.useState(0);return reactExports.useEffect(()=>{const V=O.current;if(V)return V.addEventListener(ENTRY_FOCUS,W),()=>V.removeEventListener(ENTRY_FOCUS,W)},[W]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:E,orientation:_,dir:D,loop:w,currentTabStopId:L,onItemFocus:reactExports.useCallback(V=>I(V),[I]),onItemShiftTab:reactExports.useCallback(()=>F(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>G(V=>V+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>G(V=>V-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:z||U===0?-1:0,"data-orientation":_,...N,ref:$,style:{outline:"none",...i.style},onMouseDown:composeEventHandlers(i.onMouseDown,()=>{B.current=!0}),onFocus:composeEventHandlers(i.onFocus,V=>{const K=!B.current;if(V.target===V.currentTarget&&K&&!z){const je=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(V.currentTarget.dispatchEvent(je),!je.defaultPrevented){const Z=H().filter(Ne=>Ne.focusable),fe=Z.find(Ne=>Ne.active),Ae=Z.find(Ne=>Ne.id===L),Pe=[fe,Ae,...Z].filter(Boolean).map(Ne=>Ne.ref.current);focusFirst$2(Pe,T)}}B.current=!1}),onBlur:composeEventHandlers(i.onBlur,()=>F(!1))})})}),ITEM_NAME$3="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((i,o)=>{const{__scopeRovingFocusGroup:E,focusable:_=!0,active:w=!1,tabStopId:j,children:S,...A}=i,R=useId$1(),C=j||R,T=useRovingFocusContext(ITEM_NAME$3,E),N=T.currentTabStopId===C,O=useCollection$3(E),{onFocusableItemAdd:$,onFocusableItemRemove:D,currentTabStopId:L}=T;return reactExports.useEffect(()=>{if(_)return $(),()=>D()},[_,$,D]),jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:E,id:C,focusable:_,active:w,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:N?0:-1,"data-orientation":T.orientation,...A,ref:o,onMouseDown:composeEventHandlers(i.onMouseDown,I=>{_?T.onItemFocus(C):I.preventDefault()}),onFocus:composeEventHandlers(i.onFocus,()=>T.onItemFocus(C)),onKeyDown:composeEventHandlers(i.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){T.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const z=getFocusIntent(I,T.orientation,T.dir);if(z!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let W=O().filter(H=>H.focusable).map(H=>H.ref.current);if(z==="last")W.reverse();else if(z==="prev"||z==="next"){z==="prev"&&W.reverse();const H=W.indexOf(I.currentTarget);W=T.loop?wrapArray$2(W,H+1):W.slice(H+1)}setTimeout(()=>focusFirst$2(W))}}),children:typeof S=="function"?S({isCurrentTabStop:N,hasTabStop:L!=null}):S})})});RovingFocusGroupItem.displayName=ITEM_NAME$3;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(i,o){return o!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function getFocusIntent(i,o,E){const _=getDirectionAwareKey(i.key,E);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(_))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(_)))return MAP_KEY_TO_FOCUS_INTENT[_]}function focusFirst$2(i,o=!1){const E=document.activeElement;for(const _ of i)if(_===E||(_.focus({preventScroll:o}),document.activeElement!==E))return}function wrapArray$2(i,o){return i.map((E,_)=>i[(o+_)%i.length])}var Root$3=RovingFocusGroup,Item$1=RovingFocusGroupItem,getDefaultParent=function(i){if(typeof document>"u")return null;var o=Array.isArray(i)?i[0]:i;return o.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,o){return o.map(function(E){if(i.contains(E))return E;var _=unwrapHost(E);return _&&i.contains(_)?_:(console.error("aria-hidden",E,"in not contained inside",i,". Doing nothing"),null)}).filter(function(E){return!!E})},applyAttributeToOthers=function(i,o,E,_){var w=correctTargets(o,Array.isArray(i)?i:[i]);markerMap[E]||(markerMap[E]=new WeakMap);var j=markerMap[E],S=[],A=new Set,R=new Set(w),C=function(N){!N||A.has(N)||(A.add(N),C(N.parentNode))};w.forEach(C);var T=function(N){!N||R.has(N)||Array.prototype.forEach.call(N.children,function(O){if(A.has(O))T(O);else try{var $=O.getAttribute(_),D=$!==null&&$!=="false",L=(counterMap.get(O)||0)+1,I=(j.get(O)||0)+1;counterMap.set(O,L),j.set(O,I),S.push(O),L===1&&D&&uncontrolledNodes.set(O,!0),I===1&&O.setAttribute(E,"true"),D||O.setAttribute(_,"true")}catch(z){console.error("aria-hidden: cannot operate on ",O,z)}})};return T(o),A.clear(),lockCount++,function(){S.forEach(function(N){var O=counterMap.get(N)-1,$=j.get(N)-1;counterMap.set(N,O),j.set(N,$),O||(uncontrolledNodes.has(N)||N.removeAttribute(_),uncontrolledNodes.delete(N)),$||N.removeAttribute(E)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,o,E){E===void 0&&(E="data-aria-hidden");var _=Array.from(Array.isArray(i)?i:[i]),w=getDefaultParent(i);return w?(_.push.apply(_,Array.from(w.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(_,w,E,"aria-hidden")):function(){return null}},__assign$1=function(){return __assign$1=Object.assign||function(o){for(var E,_=1,w=arguments.length;_<w;_++){E=arguments[_];for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&(o[j]=E[j])}return o},__assign$1.apply(this,arguments)};function __rest$1(i,o){var E={};for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&o.indexOf(_)<0&&(E[_]=i[_]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,_=Object.getOwnPropertySymbols(i);w<_.length;w++)o.indexOf(_[w])<0&&Object.prototype.propertyIsEnumerable.call(i,_[w])&&(E[_[w]]=i[_[w]]);return E}function __spreadArray$1(i,o,E){if(E||arguments.length===2)for(var _=0,w=o.length,j;_<w;_++)(j||!(_ in o))&&(j||(j=Array.prototype.slice.call(o,0,_)),j[_]=o[_]);return i.concat(j||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(i,o){return typeof i=="function"?i(o):i&&(i.current=o),i}function useCallbackRef(i,o){var E=reactExports.useState(function(){return{value:i,callback:o,facade:{get current(){return E.value},set current(_){var w=E.value;w!==_&&(E.value=_,E.callback(_,w))}}}})[0];return E.callback=o,E.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(i,o){var E=useCallbackRef(null,function(_){return i.forEach(function(w){return assignRef(w,_)})});return useIsomorphicLayoutEffect$1(function(){var _=currentValues.get(E);if(_){var w=new Set(_),j=new Set(i),S=E.current;w.forEach(function(A){j.has(A)||assignRef(A,null)}),j.forEach(function(A){w.has(A)||assignRef(A,S)})}currentValues.set(E,i)},[i]),E}function ItoI(i){return i}function innerCreateMedium(i,o){o===void 0&&(o=ItoI);var E=[],_=!1,w={read:function(){if(_)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return E.length?E[E.length-1]:i},useMedium:function(j){var S=o(j,_);return E.push(S),function(){E=E.filter(function(A){return A!==S})}},assignSyncMedium:function(j){for(_=!0;E.length;){var S=E;E=[],S.forEach(j)}E={push:function(A){return j(A)},filter:function(){return E}}},assignMedium:function(j){_=!0;var S=[];if(E.length){var A=E;E=[],A.forEach(j),S=E}var R=function(){var T=S;S=[],T.forEach(j)},C=function(){return Promise.resolve().then(R)};C(),E={push:function(T){S.push(T),C()},filter:function(T){return S=S.filter(T),E}}}};return w}function createSidecarMedium(i){i===void 0&&(i={});var o=innerCreateMedium(null);return o.options=__assign$1({async:!0,ssr:!1},i),o}var SideCar$1=function(i){var o=i.sideCar,E=__rest$1(i,["sideCar"]);if(!o)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var _=o.read();if(!_)throw new Error("Sidecar medium not found");return reactExports.createElement(_,__assign$1({},E))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,o){return i.useMedium(o),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(i,o){var E=reactExports.useRef(null),_=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),w=_[0],j=_[1],S=i.forwardProps,A=i.children,R=i.className,C=i.removeScrollBar,T=i.enabled,N=i.shards,O=i.sideCar,$=i.noRelative,D=i.noIsolation,L=i.inert,I=i.allowPinchZoom,z=i.as,F=z===void 0?"div":z,W=i.gapMode,H=__rest$1(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=O,U=useMergeRefs([E,o]),G=__assign$1(__assign$1({},H),w);return reactExports.createElement(reactExports.Fragment,null,T&&reactExports.createElement(B,{sideCar:effectCar,removeScrollBar:C,shards:N,noRelative:$,noIsolation:D,inert:L,setCallbacks:j,allowPinchZoom:!!I,lockRef:E,gapMode:W}),S?reactExports.cloneElement(reactExports.Children.only(A),__assign$1(__assign$1({},G),{ref:U})):reactExports.createElement(F,__assign$1({},G,{className:R,ref:U}),A))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var o=getNonce();return o&&i.setAttribute("nonce",o),i}function injectStyles(i,o){i.styleSheet?i.styleSheet.cssText=o:i.appendChild(document.createTextNode(o))}function insertStyleTag(i){var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(i)}var stylesheetSingleton=function(){var i=0,o=null;return{add:function(E){i==0&&(o=makeStyleTag())&&(injectStyles(o,E),insertStyleTag(o)),i++},remove:function(){i--,!i&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(o,E){reactExports.useEffect(function(){return i.add(o),function(){i.remove()}},[o&&E])}},styleSingleton=function(){var i=styleHookSingleton(),o=function(E){var _=E.styles,w=E.dynamic;return i(_,w),null};return o},zeroGap={left:0,top:0,right:0,gap:0},parse=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var o=window.getComputedStyle(document.body),E=o[i==="padding"?"paddingLeft":"marginLeft"],_=o[i==="padding"?"paddingTop":"marginTop"],w=o[i==="padding"?"paddingRight":"marginRight"];return[parse(E),parse(_),parse(w)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var o=getOffset(i),E=document.documentElement.clientWidth,_=window.innerWidth;return{left:o[0],top:o[1],right:o[2],gap:Math.max(0,_-E+o[2]-o[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(i,o,E,_){var w=i.left,j=i.top,S=i.right,A=i.gap;return E===void 0&&(E="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(_,`;
   padding-right: `).concat(A,"px ").concat(_,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(_,`;
    overscroll-behavior: contain;
    `).concat([o&&"position: relative ".concat(_,";"),E==="margin"&&`
    padding-left: `.concat(w,`px;
    padding-top: `).concat(j,`px;
    padding-right: `).concat(S,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(A,"px ").concat(_,`;
    `),E==="padding"&&"padding-right: ".concat(A,"px ").concat(_,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(A,"px ").concat(_,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(A,"px ").concat(_,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(_,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(_,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(A,`px;
  }
`)},getCurrentUseCounter=function(){var i=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(i)?i:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var i=getCurrentUseCounter()-1;i<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,i.toString())}},[])},RemoveScrollBar=function(i){var o=i.noRelative,E=i.noImportant,_=i.gapMode,w=_===void 0?"margin":_;useLockAttribute();var j=reactExports.useMemo(function(){return getGapWidth(w)},[w]);return reactExports.createElement(Style,{styles:getStyles(j,!o,w,E?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,o){if(!(i instanceof Element))return!1;var E=window.getComputedStyle(i);return E[o]!=="hidden"&&!(E.overflowY===E.overflowX&&!alwaysContainsScroll(i)&&E[o]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,o){var E=o.ownerDocument,_=o;do{typeof ShadowRoot<"u"&&_ instanceof ShadowRoot&&(_=_.host);var w=elementCouldBeScrolled(i,_);if(w){var j=getScrollVariables(i,_),S=j[1],A=j[2];if(S>A)return!0}_=_.parentNode}while(_&&_!==E.body);return!1},getVScrollVariables=function(i){var o=i.scrollTop,E=i.scrollHeight,_=i.clientHeight;return[o,E,_]},getHScrollVariables=function(i){var o=i.scrollLeft,E=i.scrollWidth,_=i.clientWidth;return[o,E,_]},elementCouldBeScrolled=function(i,o){return i==="v"?elementCouldBeVScrolled(o):elementCouldBeHScrolled(o)},getScrollVariables=function(i,o){return i==="v"?getVScrollVariables(o):getHScrollVariables(o)},getDirectionFactor=function(i,o){return i==="h"&&o==="rtl"?-1:1},handleScroll=function(i,o,E,_,w){var j=getDirectionFactor(i,window.getComputedStyle(o).direction),S=j*_,A=E.target,R=o.contains(A),C=!1,T=S>0,N=0,O=0;do{if(!A)break;var $=getScrollVariables(i,A),D=$[0],L=$[1],I=$[2],z=L-I-j*D;(D||z)&&elementCouldBeScrolled(i,A)&&(N+=z,O+=D);var F=A.parentNode;A=F&&F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?F.host:F}while(!R&&A!==document.body||R&&(o.contains(A)||o===A));return(T&&Math.abs(N)<1||!T&&Math.abs(O)<1)&&(C=!0),C},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,o){return i[0]===o[0]&&i[1]===o[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var o=reactExports.useRef([]),E=reactExports.useRef([0,0]),_=reactExports.useRef(),w=reactExports.useState(idCounter++)[0],j=reactExports.useState(styleSingleton)[0],S=reactExports.useRef(i);reactExports.useEffect(function(){S.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(w));var L=__spreadArray$1([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return L.forEach(function(I){return I.classList.add("allow-interactivity-".concat(w))}),function(){document.body.classList.remove("block-interactivity-".concat(w)),L.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(w))})}}},[i.inert,i.lockRef.current,i.shards]);var A=reactExports.useCallback(function(L,I){if("touches"in L&&L.touches.length===2||L.type==="wheel"&&L.ctrlKey)return!S.current.allowPinchZoom;var z=getTouchXY(L),F=E.current,W="deltaX"in L?L.deltaX:F[0]-z[0],H="deltaY"in L?L.deltaY:F[1]-z[1],B,U=L.target,G=Math.abs(W)>Math.abs(H)?"h":"v";if("touches"in L&&G==="h"&&U.type==="range")return!1;var V=locationCouldBeScrolled(G,U);if(!V)return!0;if(V?B=G:(B=G==="v"?"h":"v",V=locationCouldBeScrolled(G,U)),!V)return!1;if(!_.current&&"changedTouches"in L&&(W||H)&&(_.current=B),!B)return!0;var K=_.current||B;return handleScroll(K,I,L,K==="h"?W:H)},[]),R=reactExports.useCallback(function(L){var I=L;if(!(!lockStack.length||lockStack[lockStack.length-1]!==j)){var z="deltaY"in I?getDeltaXY(I):getTouchXY(I),F=o.current.filter(function(B){return B.name===I.type&&(B.target===I.target||I.target===B.shadowParent)&&deltaCompare(B.delta,z)})[0];if(F&&F.should){I.cancelable&&I.preventDefault();return}if(!F){var W=(S.current.shards||[]).map(extractRef).filter(Boolean).filter(function(B){return B.contains(I.target)}),H=W.length>0?A(I,W[0]):!S.current.noIsolation;H&&I.cancelable&&I.preventDefault()}}},[]),C=reactExports.useCallback(function(L,I,z,F){var W={name:L,delta:I,target:z,should:F,shadowParent:getOutermostShadowParent(z)};o.current.push(W),setTimeout(function(){o.current=o.current.filter(function(H){return H!==W})},1)},[]),T=reactExports.useCallback(function(L){E.current=getTouchXY(L),_.current=void 0},[]),N=reactExports.useCallback(function(L){C(L.type,getDeltaXY(L),L.target,A(L,i.lockRef.current))},[]),O=reactExports.useCallback(function(L){C(L.type,getTouchXY(L),L.target,A(L,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(j),i.setCallbacks({onScrollCapture:N,onWheelCapture:N,onTouchMoveCapture:O}),document.addEventListener("wheel",R,nonPassive),document.addEventListener("touchmove",R,nonPassive),document.addEventListener("touchstart",T,nonPassive),function(){lockStack=lockStack.filter(function(L){return L!==j}),document.removeEventListener("wheel",R,nonPassive),document.removeEventListener("touchmove",R,nonPassive),document.removeEventListener("touchstart",T,nonPassive)}},[]);var $=i.removeScrollBar,D=i.inert;return reactExports.createElement(reactExports.Fragment,null,D?reactExports.createElement(j,{styles:generateStyle(w)}):null,$?reactExports.createElement(RemoveScrollBar,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var o=null;i!==null;)i instanceof ShadowRoot&&(o=i.host,i=i.host),i=i.parentNode;return o}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,o){return reactExports.createElement(RemoveScroll,__assign$1({},i,{ref:o,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var SELECTION_KEYS$1=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS$1,"ArrowRight"],rtl:[...SELECTION_KEYS$1,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope$2,createPopperScope,createRovingFocusGroupScope]),usePopperScope$2=createPopperScope(),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=i=>{const{__scopeMenu:o,open:E=!1,children:_,dir:w,onOpenChange:j,modal:S=!0}=i,A=usePopperScope$2(o),[R,C]=reactExports.useState(null),T=reactExports.useRef(!1),N=useCallbackRef$1(j),O=useDirection(w);return reactExports.useEffect(()=>{const $=()=>{T.current=!0,document.addEventListener("pointerdown",D,{capture:!0,once:!0}),document.addEventListener("pointermove",D,{capture:!0,once:!0})},D=()=>T.current=!1;return document.addEventListener("keydown",$,{capture:!0}),()=>{document.removeEventListener("keydown",$,{capture:!0}),document.removeEventListener("pointerdown",D,{capture:!0}),document.removeEventListener("pointermove",D,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$6,{...A,children:jsxRuntimeExports.jsx(MenuProvider,{scope:o,open:E,onOpenChange:N,content:R,onContentChange:C,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:o,onClose:reactExports.useCallback(()=>N(!1),[N]),isUsingKeyboardRef:T,dir:O,modal:S,children:_})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME$1="MenuAnchor",MenuAnchor=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,..._}=i,w=usePopperScope$2(E);return jsxRuntimeExports.jsx(Anchor,{...w,..._,ref:o})});MenuAnchor.displayName=ANCHOR_NAME$1;var PORTAL_NAME$5="MenuPortal",[PortalProvider$2,usePortalContext$2]=createMenuContext(PORTAL_NAME$5,{forceMount:void 0}),MenuPortal=i=>{const{__scopeMenu:o,forceMount:E,children:_,container:w}=i,j=useMenuContext(PORTAL_NAME$5,o);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:o,forceMount:E,children:jsxRuntimeExports.jsx(Presence,{present:E||j.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:w,children:_})})})};MenuPortal.displayName=PORTAL_NAME$5;var CONTENT_NAME$6="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$6),MenuContent=reactExports.forwardRef((i,o)=>{const E=usePortalContext$2(CONTENT_NAME$6,i.__scopeMenu),{forceMount:_=E.forceMount,...w}=i,j=useMenuContext(CONTENT_NAME$6,i.__scopeMenu),S=useMenuRootContext(CONTENT_NAME$6,i.__scopeMenu);return jsxRuntimeExports.jsx(Collection$2.Provider,{scope:i.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:_||j.open,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:i.__scopeMenu,children:S.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...w,ref:o}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...w,ref:o})})})})}),MenuRootContentModal=reactExports.forwardRef((i,o)=>{const E=useMenuContext(CONTENT_NAME$6,i.__scopeMenu),_=reactExports.useRef(null),w=useComposedRefs(o,_);return reactExports.useEffect(()=>{const j=_.current;if(j)return hideOthers(j)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...i,ref:w,trapFocus:E.open,disableOutsidePointerEvents:E.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(i.onFocusOutside,j=>j.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>E.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((i,o)=>{const E=useMenuContext(CONTENT_NAME$6,i.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...i,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>E.onOpenChange(!1)})}),Slot$3=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,loop:_=!1,trapFocus:w,onOpenAutoFocus:j,onCloseAutoFocus:S,disableOutsidePointerEvents:A,onEntryFocus:R,onEscapeKeyDown:C,onPointerDownOutside:T,onFocusOutside:N,onInteractOutside:O,onDismiss:$,disableOutsideScroll:D,...L}=i,I=useMenuContext(CONTENT_NAME$6,E),z=useMenuRootContext(CONTENT_NAME$6,E),F=usePopperScope$2(E),W=useRovingFocusGroupScope$1(E),H=useCollection$2(E),[B,U]=reactExports.useState(null),G=reactExports.useRef(null),V=useComposedRefs(o,G,I.onContentChange),K=reactExports.useRef(0),je=reactExports.useRef(""),Z=reactExports.useRef(0),fe=reactExports.useRef(null),Ae=reactExports.useRef("right"),Oe=reactExports.useRef(0),Pe=D?ReactRemoveScroll:reactExports.Fragment,Ne=D?{as:Slot$3,allowPinchZoom:!0}:void 0,Ce=Q=>{var $e,De;const Re=je.current+Q,ke=H().filter(Be=>!Be.disabled),_e=document.activeElement,Y=($e=ke.find(Be=>Be.ref.current===_e))==null?void 0:$e.textValue,J=ke.map(Be=>Be.textValue),Se=getNextMatch(J,Re,Y),Ie=(De=ke.find(Be=>Be.textValue===Se))==null?void 0:De.ref.current;(function Be(Le){je.current=Le,window.clearTimeout(K.current),Le!==""&&(K.current=window.setTimeout(()=>Be(""),1e3))})(Re),Ie&&setTimeout(()=>Ie.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(K.current),[]),useFocusGuards();const Me=reactExports.useCallback(Q=>{var ke,_e;return Ae.current===((ke=fe.current)==null?void 0:ke.side)&&isPointerInGraceArea(Q,(_e=fe.current)==null?void 0:_e.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:E,searchRef:je,onItemEnter:reactExports.useCallback(Q=>{Me(Q)&&Q.preventDefault()},[Me]),onItemLeave:reactExports.useCallback(Q=>{var Re;Me(Q)||((Re=G.current)==null||Re.focus(),U(null))},[Me]),onTriggerLeave:reactExports.useCallback(Q=>{Me(Q)&&Q.preventDefault()},[Me]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:reactExports.useCallback(Q=>{fe.current=Q},[]),children:jsxRuntimeExports.jsx(Pe,{...Ne,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:w,onMountAutoFocus:composeEventHandlers(j,Q=>{var Re;Q.preventDefault(),(Re=G.current)==null||Re.focus({preventScroll:!0})}),onUnmountAutoFocus:S,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:A,onEscapeKeyDown:C,onPointerDownOutside:T,onFocusOutside:N,onInteractOutside:O,onDismiss:$,children:jsxRuntimeExports.jsx(Root$3,{asChild:!0,...W,dir:z.dir,orientation:"vertical",loop:_,currentTabStopId:B,onCurrentTabStopIdChange:U,onEntryFocus:composeEventHandlers(R,Q=>{z.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$2,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(I.open),"data-radix-menu-content":"",dir:z.dir,...F,...L,ref:V,style:{outline:"none",...L.style},onKeyDown:composeEventHandlers(L.onKeyDown,Q=>{const ke=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,_e=Q.ctrlKey||Q.altKey||Q.metaKey,Y=Q.key.length===1;ke&&(Q.key==="Tab"&&Q.preventDefault(),!_e&&Y&&Ce(Q.key));const J=G.current;if(Q.target!==J||!FIRST_LAST_KEYS.includes(Q.key))return;Q.preventDefault();const Ie=H().filter($e=>!$e.disabled).map($e=>$e.ref.current);LAST_KEYS.includes(Q.key)&&Ie.reverse(),focusFirst$1(Ie)}),onBlur:composeEventHandlers(i.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(K.current),je.current="")}),onPointerMove:composeEventHandlers(i.onPointerMove,whenMouse(Q=>{const Re=Q.target,ke=Oe.current!==Q.clientX;if(Q.currentTarget.contains(Re)&&ke){const _e=Q.clientX>Oe.current?"right":"left";Ae.current=_e,Oe.current=Q.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$6;var GROUP_NAME$2="MenuGroup",MenuGroup=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,..._}=i;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",..._,ref:o})});MenuGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="MenuLabel",MenuLabel=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,..._}=i;return jsxRuntimeExports.jsx(Primitive.div,{..._,ref:o})});MenuLabel.displayName=LABEL_NAME$2;var ITEM_NAME$2="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((i,o)=>{const{disabled:E=!1,onSelect:_,...w}=i,j=reactExports.useRef(null),S=useMenuRootContext(ITEM_NAME$2,i.__scopeMenu),A=useMenuContentContext(ITEM_NAME$2,i.__scopeMenu),R=useComposedRefs(o,j),C=reactExports.useRef(!1),T=()=>{const N=j.current;if(!E&&N){const O=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});N.addEventListener(ITEM_SELECT,$=>_==null?void 0:_($),{once:!0}),dispatchDiscreteCustomEvent(N,O),O.defaultPrevented?C.current=!1:S.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...w,ref:R,disabled:E,onClick:composeEventHandlers(i.onClick,T),onPointerDown:N=>{var O;(O=i.onPointerDown)==null||O.call(i,N),C.current=!0},onPointerUp:composeEventHandlers(i.onPointerUp,N=>{var O;C.current||(O=N.currentTarget)==null||O.click()}),onKeyDown:composeEventHandlers(i.onKeyDown,N=>{const O=A.searchRef.current!=="";E||O&&N.key===" "||SELECTION_KEYS$1.includes(N.key)&&(N.currentTarget.click(),N.preventDefault())})})});MenuItem.displayName=ITEM_NAME$2;var MenuItemImpl=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,disabled:_=!1,textValue:w,...j}=i,S=useMenuContentContext(ITEM_NAME$2,E),A=useRovingFocusGroupScope$1(E),R=reactExports.useRef(null),C=useComposedRefs(o,R),[T,N]=reactExports.useState(!1),[O,$]=reactExports.useState("");return reactExports.useEffect(()=>{const D=R.current;D&&$((D.textContent??"").trim())},[j.children]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:E,disabled:_,textValue:w??O,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...A,focusable:!_,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":T?"":void 0,"aria-disabled":_||void 0,"data-disabled":_?"":void 0,...j,ref:C,onPointerMove:composeEventHandlers(i.onPointerMove,whenMouse(D=>{_?S.onItemLeave(D):(S.onItemEnter(D),D.defaultPrevented||D.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(i.onPointerLeave,whenMouse(D=>S.onItemLeave(D))),onFocus:composeEventHandlers(i.onFocus,()=>N(!0)),onBlur:composeEventHandlers(i.onBlur,()=>N(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((i,o)=>{const{checked:E=!1,onCheckedChange:_,...w}=i;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:i.__scopeMenu,checked:E,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(E)?"mixed":E,...w,ref:o,"data-state":getCheckedState(E),onSelect:composeEventHandlers(w.onSelect,()=>_==null?void 0:_(isIndeterminate(E)?!0:!E),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((i,o)=>{const{value:E,onValueChange:_,...w}=i,j=useCallbackRef$1(_);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:i.__scopeMenu,value:E,onValueChange:j,children:jsxRuntimeExports.jsx(MenuGroup,{...w,ref:o})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((i,o)=>{const{value:E,..._}=i,w=useRadioGroupContext(RADIO_ITEM_NAME$1,i.__scopeMenu),j=E===w.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:i.__scopeMenu,checked:j,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":j,..._,ref:o,"data-state":getCheckedState(j),onSelect:composeEventHandlers(_.onSelect,()=>{var S;return(S=w.onValueChange)==null?void 0:S.call(w,E)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME$1="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME$1,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,forceMount:_,...w}=i,j=useItemIndicatorContext(ITEM_INDICATOR_NAME$1,E);return jsxRuntimeExports.jsx(Presence,{present:_||isIndeterminate(j.checked)||j.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...w,ref:o,"data-state":getCheckedState(j.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SEPARATOR_NAME$2="MenuSeparator",MenuSeparator=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,..._}=i;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",..._,ref:o})});MenuSeparator.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="MenuArrow",MenuArrow=reactExports.forwardRef((i,o)=>{const{__scopeMenu:E,..._}=i,w=usePopperScope$2(E);return jsxRuntimeExports.jsx(Arrow,{...w,..._,ref:o})});MenuArrow.displayName=ARROW_NAME$3;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((i,o)=>{const E=useMenuContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),_=useMenuRootContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),w=useMenuSubContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),j=useMenuContentContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),S=reactExports.useRef(null),{pointerGraceTimerRef:A,onPointerGraceIntentChange:R}=j,C={__scopeMenu:i.__scopeMenu},T=reactExports.useCallback(()=>{S.current&&window.clearTimeout(S.current),S.current=null},[]);return reactExports.useEffect(()=>T,[T]),reactExports.useEffect(()=>{const N=A.current;return()=>{window.clearTimeout(N),R(null)}},[A,R]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...C,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:w.triggerId,"aria-haspopup":"menu","aria-expanded":E.open,"aria-controls":w.contentId,"data-state":getOpenState(E.open),...i,ref:composeRefs(o,w.onTriggerChange),onClick:N=>{var O;(O=i.onClick)==null||O.call(i,N),!(i.disabled||N.defaultPrevented)&&(N.currentTarget.focus(),E.open||E.onOpenChange(!0))},onPointerMove:composeEventHandlers(i.onPointerMove,whenMouse(N=>{j.onItemEnter(N),!N.defaultPrevented&&!i.disabled&&!E.open&&!S.current&&(j.onPointerGraceIntentChange(null),S.current=window.setTimeout(()=>{E.onOpenChange(!0),T()},100))})),onPointerLeave:composeEventHandlers(i.onPointerLeave,whenMouse(N=>{var $,D;T();const O=($=E.content)==null?void 0:$.getBoundingClientRect();if(O){const L=(D=E.content)==null?void 0:D.dataset.side,I=L==="right",z=I?-5:5,F=O[I?"left":"right"],W=O[I?"right":"left"];j.onPointerGraceIntentChange({area:[{x:N.clientX+z,y:N.clientY},{x:F,y:O.top},{x:W,y:O.top},{x:W,y:O.bottom},{x:F,y:O.bottom}],side:L}),window.clearTimeout(A.current),A.current=window.setTimeout(()=>j.onPointerGraceIntentChange(null),300)}else{if(j.onTriggerLeave(N),N.defaultPrevented)return;j.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(i.onKeyDown,N=>{var $;const O=j.searchRef.current!=="";i.disabled||O&&N.key===" "||SUB_OPEN_KEYS[_.dir].includes(N.key)&&(E.onOpenChange(!0),($=E.content)==null||$.focus(),N.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((i,o)=>{const E=usePortalContext$2(CONTENT_NAME$6,i.__scopeMenu),{forceMount:_=E.forceMount,...w}=i,j=useMenuContext(CONTENT_NAME$6,i.__scopeMenu),S=useMenuRootContext(CONTENT_NAME$6,i.__scopeMenu),A=useMenuSubContext(SUB_CONTENT_NAME$1,i.__scopeMenu),R=reactExports.useRef(null),C=useComposedRefs(o,R);return jsxRuntimeExports.jsx(Collection$2.Provider,{scope:i.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:_||j.open,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:i.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:A.contentId,"aria-labelledby":A.triggerId,...w,ref:C,align:"start",side:S.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:T=>{var N;S.isUsingKeyboardRef.current&&((N=R.current)==null||N.focus()),T.preventDefault()},onCloseAutoFocus:T=>T.preventDefault(),onFocusOutside:composeEventHandlers(i.onFocusOutside,T=>{T.target!==A.trigger&&j.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(i.onEscapeKeyDown,T=>{S.onClose(),T.preventDefault()}),onKeyDown:composeEventHandlers(i.onKeyDown,T=>{var $;const N=T.currentTarget.contains(T.target),O=SUB_CLOSE_KEYS[S.dir].includes(T.key);N&&O&&(j.onOpenChange(!1),($=A.trigger)==null||$.focus(),T.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(i){return i?"open":"closed"}function isIndeterminate(i){return i==="indeterminate"}function getCheckedState(i){return isIndeterminate(i)?"indeterminate":i?"checked":"unchecked"}function focusFirst$1(i){const o=document.activeElement;for(const E of i)if(E===o||(E.focus(),document.activeElement!==o))return}function wrapArray$1(i,o){return i.map((E,_)=>i[(o+_)%i.length])}function getNextMatch(i,o,E){const w=o.length>1&&Array.from(o).every(C=>C===o[0])?o[0]:o,j=E?i.indexOf(E):-1;let S=wrapArray$1(i,Math.max(j,0));w.length===1&&(S=S.filter(C=>C!==E));const R=S.find(C=>C.toLowerCase().startsWith(w.toLowerCase()));return R!==E?R:void 0}function isPointInPolygon(i,o){const{x:E,y:_}=i;let w=!1;for(let j=0,S=o.length-1;j<o.length;S=j++){const A=o[j],R=o[S],C=A.x,T=A.y,N=R.x,O=R.y;T>_!=O>_&&E<(N-C)*(_-T)/(O-T)+C&&(w=!w)}return w}function isPointerInGraceArea(i,o){if(!o)return!1;const E={x:i.clientX,y:i.clientY};return isPointInPolygon(E,o)}function whenMouse(i){return o=>o.pointerType==="mouse"?i(o):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal$3=MenuPortal,Content2$4=MenuContent,Group=MenuGroup,Label$3=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator$1=MenuItemIndicator,Separator$1=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=i=>{const{__scopeDropdownMenu:o,children:E,dir:_,open:w,defaultOpen:j,onOpenChange:S,modal:A=!0}=i,R=useMenuScope(o),C=reactExports.useRef(null),[T,N]=useControllableState({prop:w,defaultProp:j??!1,onChange:S,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:o,triggerId:useId$1(),triggerRef:C,contentId:useId$1(),open:T,onOpenChange:N,onOpenToggle:reactExports.useCallback(()=>N(O=>!O),[N]),modal:A,children:jsxRuntimeExports.jsx(Root3,{...R,open:T,onOpenChange:N,dir:_,modal:A,children:E})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$5="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,disabled:_=!1,...w}=i,j=useDropdownMenuContext(TRIGGER_NAME$5,E),S=useMenuScope(E);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...S,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:j.triggerId,"aria-haspopup":"menu","aria-expanded":j.open,"aria-controls":j.open?j.contentId:void 0,"data-state":j.open?"open":"closed","data-disabled":_?"":void 0,disabled:_,...w,ref:composeRefs(o,j.triggerRef),onPointerDown:composeEventHandlers(i.onPointerDown,A=>{!_&&A.button===0&&A.ctrlKey===!1&&(j.onOpenToggle(),j.open||A.preventDefault())}),onKeyDown:composeEventHandlers(i.onKeyDown,A=>{_||(["Enter"," "].includes(A.key)&&j.onOpenToggle(),A.key==="ArrowDown"&&j.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(A.key)&&A.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$5;var PORTAL_NAME$4="DropdownMenuPortal",DropdownMenuPortal=i=>{const{__scopeDropdownMenu:o,...E}=i,_=useMenuScope(o);return jsxRuntimeExports.jsx(Portal$3,{..._,...E})};DropdownMenuPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$5="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useDropdownMenuContext(CONTENT_NAME$5,E),j=useMenuScope(E),S=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$4,{id:w.contentId,"aria-labelledby":w.triggerId,...j,..._,ref:o,onCloseAutoFocus:composeEventHandlers(i.onCloseAutoFocus,A=>{var R;S.current||(R=w.triggerRef.current)==null||R.focus(),S.current=!1,A.preventDefault()}),onInteractOutside:composeEventHandlers(i.onInteractOutside,A=>{const R=A.detail.originalEvent,C=R.button===0&&R.ctrlKey===!0,T=R.button===2||C;(!w.modal||T)&&(S.current=!0)}),style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME$5;var GROUP_NAME$1="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(Group,{...w,..._,ref:o})});DropdownMenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(Label$3,{...w,..._,ref:o})});DropdownMenuLabel$1.displayName=LABEL_NAME$1;var ITEM_NAME$1="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(Item2$1,{...w,..._,ref:o})});DropdownMenuItem$1.displayName=ITEM_NAME$1;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(CheckboxItem,{...w,..._,ref:o})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(RadioGroup,{...w,..._,ref:o})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(RadioItem,{...w,..._,ref:o})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(ItemIndicator$1,{...w,..._,ref:o})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME$1="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(Separator$1,{...w,..._,ref:o})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(Arrow2,{...w,..._,ref:o})});DropdownMenuArrow.displayName=ARROW_NAME$2;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(SubTrigger,{...w,..._,ref:o})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((i,o)=>{const{__scopeDropdownMenu:E,..._}=i,w=useMenuScope(E);return jsxRuntimeExports.jsx(SubContent,{...w,..._,ref:o,style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2$5=DropdownMenu$1,Trigger$4=DropdownMenuTrigger$1,Portal2$1=DropdownMenuPortal,Content2$3=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2$5,DropdownMenuTrigger=Trigger$4,DropdownMenuSubTrigger=reactExports.forwardRef(({className:i,inset:o,children:E,..._},w)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:w,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",o&&"pl-8",i),..._,children:[E,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(SubContent2,{ref:E,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...o}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:i,sideOffset:o=4,...E},_)=>jsxRuntimeExports.jsx(Portal2$1,{children:jsxRuntimeExports.jsx(Content2$3,{ref:_,sideOffset:o,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...E})}));DropdownMenuContent.displayName=Content2$3.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:i,inset:o,...E},_)=>jsxRuntimeExports.jsx(Item2,{ref:_,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o&&"pl-8",i),...E}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:i,children:o,checked:E,..._},w)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:w,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),checked:E,..._,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),o]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:i,children:o,...E},_)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:_,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...E,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),o]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:i,inset:o,...E},_)=>jsxRuntimeExports.jsx(Label2,{ref:_,className:cn("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",i),...E}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Separator2,{ref:E,className:cn("-mx-1 my-1 h-px bg-muted",i),...o}));DropdownMenuSeparator.displayName=Separator2.displayName;var POPOVER_NAME="Popover",[createPopoverContext]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope$1=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=i=>{const{__scopePopover:o,children:E,open:_,defaultOpen:w,onOpenChange:j,modal:S=!1}=i,A=usePopperScope$1(o),R=reactExports.useRef(null),[C,T]=reactExports.useState(!1),[N,O]=useControllableState({prop:_,defaultProp:w??!1,onChange:j,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$6,{...A,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:o,contentId:useId$1(),triggerRef:R,open:N,onOpenChange:O,onOpenToggle:reactExports.useCallback(()=>O($=>!$),[O]),hasCustomAnchor:C,onCustomAnchorAdd:reactExports.useCallback(()=>T(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>T(!1),[]),modal:S,children:E})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((i,o)=>{const{__scopePopover:E,..._}=i,w=usePopoverContext(ANCHOR_NAME,E),j=usePopperScope$1(E),{onCustomAnchorAdd:S,onCustomAnchorRemove:A}=w;return reactExports.useEffect(()=>(S(),()=>A()),[S,A]),jsxRuntimeExports.jsx(Anchor,{...j,..._,ref:o})});PopoverAnchor.displayName=ANCHOR_NAME;var TRIGGER_NAME$4="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((i,o)=>{const{__scopePopover:E,..._}=i,w=usePopoverContext(TRIGGER_NAME$4,E),j=usePopperScope$1(E),S=useComposedRefs(o,w.triggerRef),A=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":w.open,"aria-controls":w.contentId,"data-state":getState$1(w.open),..._,ref:S,onClick:composeEventHandlers(i.onClick,w.onOpenToggle)});return w.hasCustomAnchor?A:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...j,children:A})});PopoverTrigger$1.displayName=TRIGGER_NAME$4;var PORTAL_NAME$3="PopoverPortal",[PortalProvider$1,usePortalContext$1]=createPopoverContext(PORTAL_NAME$3,{forceMount:void 0}),PopoverPortal=i=>{const{__scopePopover:o,forceMount:E,children:_,container:w}=i,j=usePopoverContext(PORTAL_NAME$3,o);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:o,forceMount:E,children:jsxRuntimeExports.jsx(Presence,{present:E||j.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:w,children:_})})})};PopoverPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$4="PopoverContent",PopoverContent$1=reactExports.forwardRef((i,o)=>{const E=usePortalContext$1(CONTENT_NAME$4,i.__scopePopover),{forceMount:_=E.forceMount,...w}=i,j=usePopoverContext(CONTENT_NAME$4,i.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:_||j.open,children:j.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...w,ref:o}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...w,ref:o})})});PopoverContent$1.displayName=CONTENT_NAME$4;var Slot$2=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((i,o)=>{const E=usePopoverContext(CONTENT_NAME$4,i.__scopePopover),_=reactExports.useRef(null),w=useComposedRefs(o,_),j=reactExports.useRef(!1);return reactExports.useEffect(()=>{const S=_.current;if(S)return hideOthers(S)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$2,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...i,ref:w,trapFocus:E.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(i.onCloseAutoFocus,S=>{var A;S.preventDefault(),j.current||(A=E.triggerRef.current)==null||A.focus()}),onPointerDownOutside:composeEventHandlers(i.onPointerDownOutside,S=>{const A=S.detail.originalEvent,R=A.button===0&&A.ctrlKey===!0,C=A.button===2||R;j.current=C},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(i.onFocusOutside,S=>S.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((i,o)=>{const E=usePopoverContext(CONTENT_NAME$4,i.__scopePopover),_=reactExports.useRef(!1),w=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...i,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:j=>{var S,A;(S=i.onCloseAutoFocus)==null||S.call(i,j),j.defaultPrevented||(_.current||(A=E.triggerRef.current)==null||A.focus(),j.preventDefault()),_.current=!1,w.current=!1},onInteractOutside:j=>{var R,C;(R=i.onInteractOutside)==null||R.call(i,j),j.defaultPrevented||(_.current=!0,j.detail.originalEvent.type==="pointerdown"&&(w.current=!0));const S=j.target;((C=E.triggerRef.current)==null?void 0:C.contains(S))&&j.preventDefault(),j.detail.originalEvent.type==="focusin"&&w.current&&j.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((i,o)=>{const{__scopePopover:E,trapFocus:_,onOpenAutoFocus:w,onCloseAutoFocus:j,disableOutsidePointerEvents:S,onEscapeKeyDown:A,onPointerDownOutside:R,onFocusOutside:C,onInteractOutside:T,...N}=i,O=usePopoverContext(CONTENT_NAME$4,E),$=usePopperScope$1(E);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:_,onMountAutoFocus:w,onUnmountAutoFocus:j,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:S,onInteractOutside:T,onEscapeKeyDown:A,onPointerDownOutside:R,onFocusOutside:C,onDismiss:()=>O.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$2,{"data-state":getState$1(O.open),role:"dialog",id:O.contentId,...$,...N,ref:o,style:{...N.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME$2="PopoverClose",PopoverClose=reactExports.forwardRef((i,o)=>{const{__scopePopover:E,..._}=i,w=usePopoverContext(CLOSE_NAME$2,E);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._,ref:o,onClick:composeEventHandlers(i.onClick,()=>w.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME$2;var ARROW_NAME$1="PopoverArrow",PopoverArrow=reactExports.forwardRef((i,o)=>{const{__scopePopover:E,..._}=i,w=usePopperScope$1(E);return jsxRuntimeExports.jsx(Arrow,{...w,..._,ref:o})});PopoverArrow.displayName=ARROW_NAME$1;function getState$1(i){return i?"open":"closed"}var Root2$4=Popover$1,Trigger$3=PopoverTrigger$1,Portal$2=PopoverPortal,Content2$2=PopoverContent$1;const Popover=Root2$4,PopoverTrigger=Trigger$3,PopoverContent=reactExports.forwardRef(({className:i,align:o="center",sideOffset:E=4,..._},w)=>jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsx(Content2$2,{ref:w,align:o,sideOffset:E,className:cn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),..._})}));PopoverContent.displayName=Content2$2.displayName;var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=i=>{const{__scopeDialog:o,children:E,open:_,defaultOpen:w,onOpenChange:j,modal:S=!0}=i,A=reactExports.useRef(null),R=reactExports.useRef(null),[C,T]=useControllableState({prop:_,defaultProp:w??!1,onChange:j,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:o,triggerRef:A,contentRef:R,contentId:useId$1(),titleId:useId$1(),descriptionId:useId$1(),open:C,onOpenChange:T,onOpenToggle:reactExports.useCallback(()=>T(N=>!N),[T]),modal:S,children:E})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$3="DialogTrigger",DialogTrigger=reactExports.forwardRef((i,o)=>{const{__scopeDialog:E,..._}=i,w=useDialogContext(TRIGGER_NAME$3,E),j=useComposedRefs(o,w.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":w.open,"aria-controls":w.contentId,"data-state":getState(w.open),..._,ref:j,onClick:composeEventHandlers(i.onClick,w.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME$2="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME$2,{forceMount:void 0}),DialogPortal$1=i=>{const{__scopeDialog:o,forceMount:E,children:_,container:w}=i,j=useDialogContext(PORTAL_NAME$2,o);return jsxRuntimeExports.jsx(PortalProvider,{scope:o,forceMount:E,children:reactExports.Children.map(_,S=>jsxRuntimeExports.jsx(Presence,{present:E||j.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:w,children:S})}))})};DialogPortal$1.displayName=PORTAL_NAME$2;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((i,o)=>{const E=usePortalContext(OVERLAY_NAME$1,i.__scopeDialog),{forceMount:_=E.forceMount,...w}=i,j=useDialogContext(OVERLAY_NAME$1,i.__scopeDialog);return j.modal?jsxRuntimeExports.jsx(Presence,{present:_||j.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...w,ref:o})}):null});DialogOverlay$1.displayName=OVERLAY_NAME$1;var Slot$1=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((i,o)=>{const{__scopeDialog:E,..._}=i,w=useDialogContext(OVERLAY_NAME$1,E);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,shards:[w.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(w.open),..._,ref:o,style:{pointerEvents:"auto",..._.style}})})}),CONTENT_NAME$3="DialogContent",DialogContent$1=reactExports.forwardRef((i,o)=>{const E=usePortalContext(CONTENT_NAME$3,i.__scopeDialog),{forceMount:_=E.forceMount,...w}=i,j=useDialogContext(CONTENT_NAME$3,i.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:_||j.open,children:j.modal?jsxRuntimeExports.jsx(DialogContentModal,{...w,ref:o}):jsxRuntimeExports.jsx(DialogContentNonModal,{...w,ref:o})})});DialogContent$1.displayName=CONTENT_NAME$3;var DialogContentModal=reactExports.forwardRef((i,o)=>{const E=useDialogContext(CONTENT_NAME$3,i.__scopeDialog),_=reactExports.useRef(null),w=useComposedRefs(o,E.contentRef,_);return reactExports.useEffect(()=>{const j=_.current;if(j)return hideOthers(j)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...i,ref:w,trapFocus:E.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(i.onCloseAutoFocus,j=>{var S;j.preventDefault(),(S=E.triggerRef.current)==null||S.focus()}),onPointerDownOutside:composeEventHandlers(i.onPointerDownOutside,j=>{const S=j.detail.originalEvent,A=S.button===0&&S.ctrlKey===!0;(S.button===2||A)&&j.preventDefault()}),onFocusOutside:composeEventHandlers(i.onFocusOutside,j=>j.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((i,o)=>{const E=useDialogContext(CONTENT_NAME$3,i.__scopeDialog),_=reactExports.useRef(!1),w=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...i,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:j=>{var S,A;(S=i.onCloseAutoFocus)==null||S.call(i,j),j.defaultPrevented||(_.current||(A=E.triggerRef.current)==null||A.focus(),j.preventDefault()),_.current=!1,w.current=!1},onInteractOutside:j=>{var R,C;(R=i.onInteractOutside)==null||R.call(i,j),j.defaultPrevented||(_.current=!0,j.detail.originalEvent.type==="pointerdown"&&(w.current=!0));const S=j.target;((C=E.triggerRef.current)==null?void 0:C.contains(S))&&j.preventDefault(),j.detail.originalEvent.type==="focusin"&&w.current&&j.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((i,o)=>{const{__scopeDialog:E,trapFocus:_,onOpenAutoFocus:w,onCloseAutoFocus:j,...S}=i,A=useDialogContext(CONTENT_NAME$3,E),R=reactExports.useRef(null),C=useComposedRefs(o,R);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:_,onMountAutoFocus:w,onUnmountAutoFocus:j,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:A.contentId,"aria-describedby":A.descriptionId,"aria-labelledby":A.titleId,"data-state":getState(A.open),...S,ref:C,onDismiss:()=>A.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:A.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:R,descriptionId:A.descriptionId})]})]})}),TITLE_NAME$2="DialogTitle",DialogTitle$1=reactExports.forwardRef((i,o)=>{const{__scopeDialog:E,..._}=i,w=useDialogContext(TITLE_NAME$2,E);return jsxRuntimeExports.jsx(Primitive.h2,{id:w.titleId,..._,ref:o})});DialogTitle$1.displayName=TITLE_NAME$2;var DESCRIPTION_NAME$2="DialogDescription",DialogDescription$1=reactExports.forwardRef((i,o)=>{const{__scopeDialog:E,..._}=i,w=useDialogContext(DESCRIPTION_NAME$2,E);return jsxRuntimeExports.jsx(Primitive.p,{id:w.descriptionId,..._,ref:o})});DialogDescription$1.displayName=DESCRIPTION_NAME$2;var CLOSE_NAME$1="DialogClose",DialogClose=reactExports.forwardRef((i,o)=>{const{__scopeDialog:E,..._}=i,w=useDialogContext(CLOSE_NAME$1,E);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._,ref:o,onClick:composeEventHandlers(i.onClick,()=>w.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME$1;function getState(i){return i?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$3,titleName:TITLE_NAME$2,docsSlug:"dialog"}),TitleWarning=({titleId:i})=>{const o=useWarningContext(TITLE_WARNING_NAME),E=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return reactExports.useEffect(()=>{i&&(document.getElementById(i)||console.error(E))},[E,i]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:i,descriptionId:o})=>{const _=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var j;const w=(j=i.current)==null?void 0:j.getAttribute("aria-describedby");o&&w&&(document.getElementById(o)||console.warn(_))},[_,i,o]),null},Root$2=Dialog$1,Trigger$2=DialogTrigger,Portal$1=DialogPortal$1,Overlay=DialogOverlay$1,Content$1=DialogContent$1,Title$1=DialogTitle$1,Description$1=DialogDescription$1,Close$1=DialogClose,ROOT_NAME="AlertDialog",[createAlertDialogContext]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=i=>{const{__scopeAlertDialog:o,...E}=i,_=useDialogScope(o);return jsxRuntimeExports.jsx(Root$2,{..._,...E,modal:!0})};AlertDialog$1.displayName=ROOT_NAME;var TRIGGER_NAME$2="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,..._}=i,w=useDialogScope(E);return jsxRuntimeExports.jsx(Trigger$2,{...w,..._,ref:o})});AlertDialogTrigger.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="AlertDialogPortal",AlertDialogPortal$1=i=>{const{__scopeAlertDialog:o,...E}=i,_=useDialogScope(o);return jsxRuntimeExports.jsx(Portal$1,{..._,...E})};AlertDialogPortal$1.displayName=PORTAL_NAME$1;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay$1=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,..._}=i,w=useDialogScope(E);return jsxRuntimeExports.jsx(Overlay,{...w,..._,ref:o})});AlertDialogOverlay$1.displayName=OVERLAY_NAME;var CONTENT_NAME$2="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME$2),Slottable=createSlottable("AlertDialogContent"),AlertDialogContent$1=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,children:_,...w}=i,j=useDialogScope(E),S=reactExports.useRef(null),A=useComposedRefs(o,S),R=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME$2,titleName:TITLE_NAME$1,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:E,cancelRef:R,children:jsxRuntimeExports.jsxs(Content$1,{role:"alertdialog",...j,...w,ref:A,onOpenAutoFocus:composeEventHandlers(w.onOpenAutoFocus,C=>{var T;C.preventDefault(),(T=R.current)==null||T.focus({preventScroll:!0})}),onPointerDownOutside:C=>C.preventDefault(),onInteractOutside:C=>C.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:_}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:S})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME$2;var TITLE_NAME$1="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,..._}=i,w=useDialogScope(E);return jsxRuntimeExports.jsx(Title$1,{...w,..._,ref:o})});AlertDialogTitle$1.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="AlertDialogDescription",AlertDialogDescription$1=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,..._}=i,w=useDialogScope(E);return jsxRuntimeExports.jsx(Description$1,{...w,..._,ref:o})});AlertDialogDescription$1.displayName=DESCRIPTION_NAME$1;var ACTION_NAME$1="AlertDialogAction",AlertDialogAction$1=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,..._}=i,w=useDialogScope(E);return jsxRuntimeExports.jsx(Close$1,{...w,..._,ref:o})});AlertDialogAction$1.displayName=ACTION_NAME$1;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel$1=reactExports.forwardRef((i,o)=>{const{__scopeAlertDialog:E,..._}=i,{cancelRef:w}=useAlertDialogContentContext(CANCEL_NAME,E),j=useDialogScope(E),S=useComposedRefs(o,w);return jsxRuntimeExports.jsx(Close$1,{...j,..._,ref:S})});AlertDialogCancel$1.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:i})=>{const o=`\`${CONTENT_NAME$2}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME$2}\` by passing a \`${DESCRIPTION_NAME$1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME$2}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var _;document.getElementById((_=i.current)==null?void 0:_.getAttribute("aria-describedby"))||console.warn(o)},[o,i]),null},Root2$3=AlertDialog$1,Portal2=AlertDialogPortal$1,Overlay2=AlertDialogOverlay$1,Content2$1=AlertDialogContent$1,Action$1=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=Root2$3,AlertDialogPortal=Portal2,AlertDialogOverlay=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-[45] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...o,ref:E}));AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2$1,{ref:E,className:cn("fixed left-[50%] top-[50%] z-[45] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...o})]}));AlertDialogContent.displayName=Content2$1.displayName;const AlertDialogHeader=({className:i,...o})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",i),...o});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className:i,...o})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",i),...o});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Title2,{ref:E,className:cn("text-lg font-semibold",i),...o}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Description2,{ref:E,className:cn("text-sm text-muted-foreground",i),...o}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Action$1,{ref:E,className:cn(buttonVariants(),i),...o}));AlertDialogAction.displayName=Action$1.displayName;const AlertDialogCancel=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Cancel,{ref:E,className:cn(buttonVariants({variant:"outline"}),"mt-2 sm:mt-0",i),...o}));AlertDialogCancel.displayName=Cancel.displayName;const useTranslation=()=>{const[i,o]=reactExports.useState("it"),[E,_]=reactExports.useState({});return reactExports.useEffect(()=>{const S=localStorage.getItem("app-language");S&&o(S)},[]),reactExports.useEffect(()=>{(async()=>{try{const A=i==="en"?await __vitePreload(()=>import("./en-B71P9Uhj.js"),[]):await __vitePreload(()=>import("./it-DcVF34It.js"),[]);_(A.default)}catch(A){console.error("Error loading translations:",A)}})()},[i]),reactExports.useEffect(()=>{const S=()=>{const A=localStorage.getItem("app-language");A&&A!==i&&o(A)};return window.addEventListener("languageChanged",S),()=>window.removeEventListener("languageChanged",S)},[i]),{t:S=>{const A=S.split(".");let R=E;for(const C of A)if(R&&typeof R=="object")R=R[C];else return S;return typeof R=="string"?R:S},language:i,changeLanguage:S=>{o(S),localStorage.setItem("app-language",S),window.dispatchEvent(new Event("languageChanged"))}}},Header=()=>{const[i,o]=reactExports.useState(!1),[E,_]=reactExports.useState(""),[w,j]=reactExports.useState([]),[S,A]=reactExports.useState(null),[R,C]=reactExports.useState(!1),{user:T}=useAuth(),{notifications:N,unreadCount:O,markAsRead:$,markAllAsRead:D,removeNotification:L}=useNotifications(),I=useNavigate();useLocation();const z=reactExports.useRef(null),{t:F}=useTranslation(),W=[{id:"dashboard",label:F("navigation.dashboard"),icon:House,path:"/"},{id:"workouts",label:F("navigation.workouts"),icon:Dumbbell,path:"/workouts"},{id:"schedule",label:F("navigation.schedule"),icon:Calendar$1,path:"/schedule"},{id:"ai-coach",label:F("navigation.aiCoach"),icon:Bot,path:"/ai-coach"},{id:"profile",label:F("navigation.profile"),icon:User,path:"/profile"}],H=[{label:F("navigation.dashboard"),path:"/"},{label:F("navigation.workouts"),path:"/workouts"},{label:F("navigation.schedule"),path:"/schedule"},{label:F("navigation.aiCoach"),path:"/ai-coach"},{label:F("navigation.profile"),path:"/profile"},{label:F("settings.personalInfo"),path:"/profile"}];reactExports.useEffect(()=>{if(E){const V=H.filter(K=>K.label.toLowerCase().includes(E.toLowerCase()));j(V)}else j(H)},[E]),reactExports.useEffect(()=>{(async()=>{if(T){const K=await fetchUserProfile();A(K)}})()},[T]),reactExports.useEffect(()=>{const V=je=>{z.current&&!z.current.contains(je.target)&&(o(!1),_(""))},K=je=>{je.key==="Escape"&&(o(!1),_(""))};return i&&(document.addEventListener("mousedown",V),document.addEventListener("keydown",K)),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",K)}},[i]);const B=async()=>{try{const{error:V}=await supabase.auth.signOut();if(V)throw V;ue.success("Logout effettuato con successo"),I("/auth")}catch{ue.error("Errore durante il logout")}finally{C(!1)}},U=()=>{o(!i),i||requestAnimationFrame(()=>{const V=document.getElementById("search-input");V&&V.focus()})},G=V=>{I(V),o(!1),_("")};return jsxRuntimeExports.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-black/20 backdrop-blur-xl shadow-lg border-b border-white/20 z-50",children:[jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:"/images/logo-pp-transparent.png",alt:"Performance Prime Logo",className:"w-full h-full object-contain"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h1",{className:"text-sm lg:text-xl font-bold text-pp-gold leading-tight",children:"Performance Prime"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-300 leading-tight",children:"Oltre ogni limite"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[T&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300 hidden sm:block",children:(S==null?void 0:S.name)||T.email}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"text-white hover:bg-gray-800 hover:text-pp-gold transition-colors",onClick:U,children:jsxRuntimeExports.jsx(Search,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",className:"relative text-white hover:bg-gray-800 hover:text-pp-gold transition-colors",children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),O>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:O})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-80 bg-gray-800 border border-gray-600 shadow-lg z-[99999]",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b border-gray-600 pb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-pp-gold",children:"Notifiche"}),O>0&&jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:D,className:"text-xs text-blue-400 hover:bg-blue-400/10",children:"Segna tutte come lette"})]}),N.length>0?jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:N.map(V=>jsxRuntimeExports.jsxs("div",{className:`relative p-3 rounded-lg border border-gray-600 group transition-all duration-200 ${V.read?"bg-gray-700/50 opacity-75":"bg-gray-700"}`,onClick:()=>$(V.id),children:[jsxRuntimeExports.jsx("button",{onClick:K=>{K.stopPropagation(),L(V.id)},className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 p-1 hover:bg-red-500/20 rounded-full",children:jsxRuntimeExports.jsx(X,{className:"h-3 w-3 text-red-400 hover:text-red-300"})}),jsxRuntimeExports.jsx("p",{className:`text-sm pr-6 ${V.read?"text-gray-400":"text-white"}`,children:V.message}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs mt-1",children:V.time}),!V.read&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-orange-500 rounded-full"})]},V.id))}):jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm py-4 text-center",children:"Non ci sono notifiche al momento"})]})})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"text-white hover:bg-gray-800 hover:text-pp-gold transition-colors",children:jsxRuntimeExports.jsx(Menu$1,{className:"h-5 w-5"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{className:"w-56 bg-gray-800 border border-gray-600 shadow-lg z-[99999]",children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-b border-gray-600",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:(S==null?void 0:S.name)||(T==null?void 0:T.email)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Utente Premium"})]}),W.map(V=>{const K=V.icon;return jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>I(V.path),className:"flex items-center space-x-3 px-4 py-3 cursor-pointer transition-colors text-white hover:bg-gray-700 hover:text-white",children:[jsxRuntimeExports.jsx(K,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:V.label})]},V.id)}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-600 my-2"}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>I("/terms-and-conditions"),className:"flex items-center space-x-3 px-4 py-3 cursor-pointer transition-colors text-white hover:bg-gray-700 hover:text-white",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Termini e Condizioni"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>I("/privacy-policy"),className:"flex items-center space-x-3 px-4 py-3 cursor-pointer transition-colors text-white hover:bg-gray-700 hover:text-white",children:[jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Privacy Policy"})]})]})]})]})]})}),i&&jsxRuntimeExports.jsx("div",{className:"absolute top-16 left-0 right-0 bg-black/20 backdrop-blur-xl border-b border-white/20 shadow-lg z-50",ref:z,children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative max-w-md mx-auto",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{id:"search-input",type:"text",value:E,onChange:V=>_(V.target.value),placeholder:"Cerca allenamenti, esercizi…",className:"w-full pl-10 pr-10 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pp-gold transition-colors"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>o(!1),variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:bg-gray-700 hover:text-white transition-colors",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),E&&jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto mt-2 bg-gray-800 border border-gray-600 rounded-lg shadow-lg",children:w.length>0?w.map((V,K)=>jsxRuntimeExports.jsx("button",{onClick:()=>G(V.path),className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 hover:text-white transition-colors border-b border-gray-600 last:border-b-0",children:V.label},K)):jsxRuntimeExports.jsx("div",{className:"px-4 py-2 text-gray-400",children:"Nessun risultato trovato"})})]})}),jsxRuntimeExports.jsx(AlertDialog,{open:R,onOpenChange:C,children:jsxRuntimeExports.jsxs(AlertDialogContent,{className:"bg-gray-800 border-2 border-pp-gold max-w-md",children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{className:"text-pp-gold text-xl font-bold",children:"Conferma Logout"}),jsxRuntimeExports.jsx(AlertDialogDescription,{className:"text-gray-300",children:"Sei sicuro di voler effettuare il logout? Verrai reindirizzato alla pagina di accesso."})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{className:"gap-2",children:[jsxRuntimeExports.jsx(AlertDialogCancel,{className:"bg-transparent border border-gray-600 text-white hover:bg-gray-700 hover:text-white transition-colors",children:"Annulla"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:B,className:"bg-pp-gold text-black hover:bg-yellow-400 transition-colors",children:"Conferma Logout"})]})]})})]})},BottomNavigation=()=>{const i=useNavigate(),o=useLocation(),E=[{id:"dashboard",label:"Dashboard",icon:House,path:"/dashboard"},{id:"workouts",label:"Allenamento",icon:Dumbbell,path:"/workouts"},{id:"schedule",label:"Appuntamenti",icon:Calendar$1,path:"/schedule"},{id:"subscriptions",label:"Abbonamenti",icon:Crown,path:"/subscriptions"},{id:"profile",label:"Profilo",icon:User,path:"/profile"}],_=w=>o.pathname===w;return jsxRuntimeExports.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-lg bg-black/30 border-t border-white/10 z-50",children:jsxRuntimeExports.jsx("div",{className:"pb-safe h-20",children:jsxRuntimeExports.jsx("div",{className:"flex justify-around items-center py-1 px-2 sm:py-2 sm:px-4",children:E.map(w=>{const j=w.icon,S=_(w.path);return jsxRuntimeExports.jsxs("button",{onClick:()=>i(w.path),className:`flex flex-col items-center justify-center py-1 px-1 sm:py-2 sm:px-3 rounded-lg transition-colors min-w-0 flex-1 ${S?"text-pp-gold":"text-gray-400 hover:text-pp-gold/80"}`,children:[jsxRuntimeExports.jsx(j,{size:20,className:`mb-0.5 sm:mb-1 ${S?"text-pp-gold":"text-gray-400"}`}),jsxRuntimeExports.jsx("span",{className:`text-[10px] sm:text-xs font-medium leading-tight text-center ${S?"text-pp-gold":"text-gray-400"}`,children:w.label})]},w.id)})})})})};function useFeedback15Days(i){reactExports.useEffect(()=>{if(!i)return;const o=async()=>{try{const{data:_}=await supabase.from("profiles").select("created_at, feedback_15d_sent").eq("id",i).maybeSingle();if(!_||_.feedback_15d_sent)return;const w=new Date(_.created_at),S=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60*24));S>=15&&(await fetch("https://gurfadigitalsolution.app.n8n.cloud/webhook/pp/feedback-15d",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:i,form_url:"https://tally.so/r/nW4OxJ",days_since_signup:S})}),await supabase.from("profiles").update({feedback_15d_sent:!0}).eq("id",i))}catch{}};o();const E=setInterval(o,36e5);return()=>clearInterval(E)},[i])}const Dashboard=()=>{const[i,o]=reactExports.useState(null),E=useNavigate(),{user:_}=useAuth();useFeedback15Days(_==null?void 0:_.id),reactExports.useEffect(()=>{(async()=>{const C=await fetchUserProfile();o(C)})()},[]);const w=(i==null?void 0:i.name)||"Utente",j=R=>{},S=()=>{},A=async()=>{await supabase.auth.signOut(),E("/")};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen pb-20 pt-24 dashboard-container",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-3 sm:py-6 space-y-4 sm:space-y-6 pt-4 sm:pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg sm:text-2xl font-bold text-pp-gold",children:["Ciao, ",w,"!"]}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-pp-gold/80",children:"Pronto per superare i tuoi limiti oggi?"})]}),jsxRuntimeExports.jsx("button",{onClick:A,className:"bg-red-600 hover:bg-red-700 text-white px-2 sm:px-4 py-1 sm:py-2 rounded-lg text-xs sm:text-sm",children:"Logout"})]}),jsxRuntimeExports.jsx(OnboardingBot,{userName:w,onSendMessage:j,onFocusChat:S}),jsxRuntimeExports.jsx(StatsOverview,{}),jsxRuntimeExports.jsx("div",{className:"w-full mb-4",children:jsxRuntimeExports.jsxs("button",{onClick:()=>E("/workout/quick"),className:"w-full bg-gradient-to-r from-pp-gold to-yellow-500 hover:from-pp-gold/90 hover:to-yellow-500/90 text-black font-bold py-4 px-6 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Avvia allenamento rapido (10')"})]})}),jsxRuntimeExports.jsx(QuickActions,{}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[jsxRuntimeExports.jsx(WeeklyProgress,{}),jsxRuntimeExports.jsx(RecentActivity,{})]})]}),jsxRuntimeExports.jsx(BottomNavigation,{})]})},TermsAndConditions=()=>{const i=useNavigate();React.useEffect(()=>{window.scrollTo(0,0)},[]);const o=()=>{i(-1)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-6 -mt-2 -ml-2",children:jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center text-[#EEBA2B] hover:bg-[#EEBA2B]/10 px-3 py-2 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Indietro"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-[#EEBA2B] mb-6",children:"Termini e Condizioni"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6 text-white",children:[jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"1. Accettazione dei Termini"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Utilizzando l'applicazione Performance Prime Pulse, accetti di essere vincolato da questi Termini e Condizioni. Se non accetti questi termini, non utilizzare l'applicazione."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"2. Descrizione del Servizio"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Performance Prime Pulse è un'applicazione per il fitness e il benessere che offre:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 mt-2 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Tracking degli allenamenti e progressi"}),jsxRuntimeExports.jsx("li",{children:"Pianificazione di workout personalizzati"}),jsxRuntimeExports.jsx("li",{children:"Assistenza AI per il coaching"}),jsxRuntimeExports.jsx("li",{children:"Gestione di appuntamenti con professionisti"}),jsxRuntimeExports.jsx("li",{children:"Note personali e obiettivi"})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"3. Account Utente"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Per utilizzare l'applicazione, devi creare un account. Sei responsabile di:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 mt-2 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Mantenere la sicurezza delle tue credenziali"}),jsxRuntimeExports.jsx("li",{children:"Non condividere il tuo account con altri"}),jsxRuntimeExports.jsx("li",{children:"Fornire informazioni accurate e aggiornate"}),jsxRuntimeExports.jsx("li",{children:"Notificare immediatamente eventuali usi non autorizzati"})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"4. Uso Accettabile"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Ti impegni a utilizzare l'applicazione solo per scopi legittimi e in conformità con questi termini. È vietato:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 mt-2 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Utilizzare l'app per attività illegali"}),jsxRuntimeExports.jsx("li",{children:"Violare diritti di proprietà intellettuale"}),jsxRuntimeExports.jsx("li",{children:"Interferire con il funzionamento dell'app"}),jsxRuntimeExports.jsx("li",{children:"Raccogliere dati di altri utenti senza autorizzazione"})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"5. Privacy e Dati"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["La raccolta e l'utilizzo dei tuoi dati personali sono regolati dalla nostra",jsxRuntimeExports.jsxs("span",{className:"text-[#EEBA2B] cursor-pointer hover:underline",onClick:()=>i("/privacy-policy"),children:[" ","Informativa sulla Privacy"]}),"."]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"6. Limitazioni di Responsabilità"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Performance Prime Pulse non si assume responsabilità per:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 mt-2 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Lesioni personali durante l'utilizzo dei consigli dell'app"}),jsxRuntimeExports.jsx("li",{children:"Perdita di dati o interruzioni del servizio"}),jsxRuntimeExports.jsx("li",{children:"Danni indiretti o consequenziali"}),jsxRuntimeExports.jsx("li",{children:"Azioni di terze parti o professionisti esterni"})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"7. Modifiche ai Termini"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Ci riserviamo il diritto di modificare questi termini in qualsiasi momento. Le modifiche saranno comunicate tramite l'applicazione o email. L'uso continuato dell'app dopo le modifiche costituisce accettazione dei nuovi termini."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"8. Contatti"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Per domande sui Termini e Condizioni, contattaci all'indirizzo:",jsxRuntimeExports.jsx("span",{className:"text-[#EEBA2B]",children:" primeassistenza@gmail.com"})]})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-600 pt-6 mt-8",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[jsxRuntimeExports.jsx("strong",{children:"Data ultimo aggiornamento:"})," 2 Agosto 2025"]})})]})]})]})})},PrivacyPolicy=()=>{const i=useNavigate();React.useEffect(()=>{window.scrollTo(0,0)},[]);const o=()=>{i(-1)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-6 -mt-2 -ml-2",children:jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center text-[#EEBA2B] hover:bg-[#EEBA2B]/10 px-3 py-2 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Indietro"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-[#EEBA2B] mb-6",children:"Informativa sulla Privacy per Performance Prime"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6 text-white",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-300",children:[jsxRuntimeExports.jsx("strong",{children:"Ultimo aggiornamento:"})," 30 Luglio 2025"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Questa Informativa sulla Privacy descrive le nostre politiche e procedure sulla raccolta, l'uso e la divulgazione delle tue informazioni quando utilizzi il Servizio e ti informa sui tuoi diritti alla privacy e su come la legge ti protegge."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Utilizziamo i tuoi Dati Personali per fornire e migliorare il Servizio. Utilizzando il Servizio, accetti la raccolta e l'uso delle informazioni in conformità con questa Informativa sulla Privacy."}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"Interpretazione e Definizioni"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Interpretazione"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Le parole di cui la lettera iniziale è maiuscola hanno significati definiti nelle seguenti condizioni. Le seguenti definizioni avranno lo stesso significato indipendentemente dal fatto che appaiano al singolare o al plurale."}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Definizioni"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"Ai fini di questa Informativa sulla Privacy:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Account"})," significa un account univoco creato per te per accedere al nostro Servizio o parti del nostro Servizio."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Affiliata"}),` significa un'entità che controlla, è controllata da o è sotto controllo comune con una parte, dove "controllo" significa proprietà del 50% o più delle azioni, interessi di capitale o altri titoli aventi diritto di voto per l'elezione di direttori o altra autorità di gestione.`]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Applicazione"})," si riferisce a Performance Prime, il programma software fornito dalla Società."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Società"}),' (denominata come "la Società", "Noi", "Ci" o "Nostro" in questo Accordo) si riferisce a MASRL, via fiume giallo 405.']}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Paese"})," si riferisce a: Italia"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Dispositivo"})," significa qualsiasi dispositivo che può accedere al Servizio come un computer, un telefono cellulare o un tablet digitale."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Dati Personali"})," sono qualsiasi informazione che si riferisce a un individuo identificato o identificabile."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Servizio"})," si riferisce all'Applicazione."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Fornitore di Servizi"})," significa qualsiasi persona fisica o giuridica che elabora i dati per conto della Società. Si riferisce a società o individui di terze parti impiegati dalla Società per facilitare il Servizio, per fornire il Servizio per conto della Società, per eseguire servizi relativi al Servizio o per assistere la Società nell'analizzare come viene utilizzato il Servizio."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Dati di Utilizzo"})," si riferisce ai dati raccolti automaticamente, generati dall'uso del Servizio o dall'infrastruttura del Servizio stesso (ad esempio, la durata di una visita alla pagina)."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Tu"})," significa l'individuo che accede o utilizza il Servizio, o la società, o altra entità giuridica per conto della quale tale individuo accede o utilizza il Servizio, a seconda dei casi."]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"Raccolta e Utilizzo dei tuoi Dati Personali"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Tipi di Dati Raccolti"}),jsxRuntimeExports.jsx("h4",{className:"text-md font-medium text-[#EEBA2B] mb-2",children:"Dati Personali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"Durante l'utilizzo del nostro Servizio, potremmo chiederti di fornirci determinate informazioni personali identificabili che possono essere utilizzate per contattarti o identificarti. Le informazioni personali identificabili possono includere, ma non sono limitate a:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1 mb-4",children:[jsxRuntimeExports.jsx("li",{children:"Indirizzo email"}),jsxRuntimeExports.jsx("li",{children:"Nome e cognome"}),jsxRuntimeExports.jsx("li",{children:"Dati di Utilizzo"})]}),jsxRuntimeExports.jsx("h4",{className:"text-md font-medium text-[#EEBA2B] mb-2",children:"Dati di Utilizzo"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"I Dati di Utilizzo vengono raccolti automaticamente durante l'utilizzo del Servizio."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"I Dati di Utilizzo possono includere informazioni come l'indirizzo del protocollo Internet del tuo Dispositivo (ad es. indirizzo IP), tipo di browser, versione del browser, le pagine del nostro Servizio che visiti, l'ora e la data della tua visita, il tempo trascorso su quelle pagine, identificatori univoci del dispositivo e altri dati diagnostici."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Quando accedi al Servizio tramite o attraverso un dispositivo mobile, potremmo raccogliere determinate informazioni automaticamente, incluse, ma non limitate a, il tipo di dispositivo mobile che utilizzi, l'ID univoco del tuo dispositivo mobile, l'indirizzo IP del tuo dispositivo mobile, il tuo sistema operativo mobile, il tipo di browser Internet mobile che utilizzi, identificatori univoci del dispositivo e altri dati diagnostici."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Potremmo anche raccogliere informazioni che il tuo browser invia ogni volta che visiti il nostro Servizio o quando accedi al Servizio tramite o attraverso un dispositivo mobile."}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Utilizzo dei tuoi Dati Personali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"La Società può utilizzare i Dati Personali per i seguenti scopi:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per fornire e mantenere il nostro Servizio"}),", incluso per monitorare l'utilizzo del nostro Servizio."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per gestire il tuo Account:"})," per gestire la tua registrazione come utente del Servizio. I Dati Personali che fornisci possono darti accesso a diverse funzionalità del Servizio che sono disponibili per te come utente registrato."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per l'esecuzione di un contratto:"})," lo sviluppo, la conformità e l'impegno del contratto di acquisto per i prodotti, articoli o servizi che hai acquistato o di qualsiasi altro contratto con noi attraverso il Servizio."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per contattarti:"})," Per contattarti via email, telefonate, SMS o altre forme equivalenti di comunicazione elettronica, come le notifiche push di un'applicazione mobile riguardo aggiornamenti o comunicazioni informative relative alle funzionalità, prodotti o servizi contrattuali, inclusi gli aggiornamenti di sicurezza, quando necessario o ragionevole per la loro implementazione."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per fornirti"})," notizie, offerte speciali e informazioni generali su altri beni, servizi ed eventi che offriamo che sono simili a quelli che hai già acquistato o sui quali hai fatto richiesta a meno che tu non abbia scelto di non ricevere tali informazioni."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per gestire le tue richieste:"})," Per partecipare e gestire le tue richieste a noi."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per trasferimenti aziendali:"})," Potremmo utilizzare le tue informazioni per valutare o condurre una fusione, disinvestimento, ristrutturazione, riorganizzazione, dissoluzione o altra vendita o trasferimento di alcuni o tutti i nostri asset, sia come attività in corso che come parte di fallimento, liquidazione o procedimento simile, in cui i Dati Personali detenuti da noi sui nostri utenti del Servizio sono tra gli asset trasferiti."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per altri scopi"}),": Potremmo utilizzare le tue informazioni per altri scopi, come l'analisi dei dati, l'identificazione delle tendenze di utilizzo, la determinazione dell'efficacia delle nostre campagne promozionali e per valutare e migliorare il nostro Servizio, prodotti, servizi, marketing e la tua esperienza."]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"Potremmo condividere le tue informazioni personali nelle seguenti situazioni:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 mb-4",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Con i Fornitori di Servizi:"})," Potremmo condividere le tue informazioni personali con i Fornitori di Servizi per monitorare e analizzare l'uso del nostro Servizio, per contattarti."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Per trasferimenti aziendali:"})," Potremmo condividere o trasferire le tue informazioni personali in connessione con, o durante le trattative di, qualsiasi fusione, vendita di asset della Società, finanziamento o acquisizione di tutto o di una parte del nostro business a un'altra società."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Con le Affiliate:"})," Potremmo condividere le tue informazioni con le nostre affiliate, nel qual caso richiederemo a quelle affiliate di onorare questa Informativa sulla Privacy. Le affiliate includono la nostra società madre e qualsiasi altra controllata, partner di joint venture o altre società che controlliamo o che sono sotto controllo comune con noi."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Con partner commerciali:"})," Potremmo condividere le tue informazioni con i nostri partner commerciali per offrirti determinati prodotti, servizi o promozioni."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Con altri utenti:"})," quando condividi informazioni personali o altrimenti interagisci nelle aree pubbliche con altri utenti, tali informazioni potrebbero essere visualizzate da tutti gli utenti e potrebbero essere distribuite pubblicamente all'esterno."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Con il tuo consenso"}),": Potremmo divulgare le tue informazioni personali per qualsiasi altro scopo con il tuo consenso."]})]}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Conservazione dei tuoi Dati Personali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"La Società conserverà i tuoi Dati Personali solo per il tempo necessario agli scopi stabiliti in questa Informativa sulla Privacy. Conserveremo e utilizzeremo i tuoi Dati Personali nella misura necessaria per rispettare i nostri obblighi legali (ad esempio, se siamo tenuti a conservare i tuoi dati per rispettare le leggi applicabili), risolvere controversie e far rispettare i nostri accordi legali e le nostre politiche."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"La Società conserverà anche i Dati di Utilizzo per scopi di analisi interna. I Dati di Utilizzo sono generalmente conservati per un periodo di tempo più breve, tranne quando questi dati vengono utilizzati per rafforzare la sicurezza o per migliorare la funzionalità del nostro Servizio, o siamo legalmente obbligati a conservare questi dati per periodi di tempo più lunghi."}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Trasferimento dei tuoi Dati Personali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Le tue informazioni, inclusi i Dati Personali, vengono elaborate negli uffici operativi della Società e in qualsiasi altro luogo dove si trovano le parti coinvolte nell'elaborazione. Significa che queste informazioni potrebbero essere trasferite a — e mantenute su — computer situati al di fuori del tuo stato, provincia, paese o altra giurisdizione governativa dove le leggi sulla protezione dei dati potrebbero differire da quelle della tua giurisdizione."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Il tuo consenso a questa Informativa sulla Privacy seguito dalla tua presentazione di tali informazioni rappresenta il tuo accordo a tale trasferimento."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"La Società adotterà tutti i passi ragionevolmente necessari per garantire che i tuoi dati siano trattati in modo sicuro e in conformità con questa Informativa sulla Privacy e nessun trasferimento dei tuoi Dati Personali avrà luogo a un'organizzazione o a un paese a meno che non ci siano controlli adeguati in atto inclusa la sicurezza dei tuoi dati e altre informazioni personali."}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Eliminare i tuoi Dati Personali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Hai il diritto di eliminare o richiedere che ti assistiamo nell'eliminare i Dati Personali che abbiamo raccolto su di te."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Il nostro Servizio potrebbe darti la capacità di eliminare determinate informazioni su di te dall'interno del Servizio."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Potresti aggiornare, modificare o eliminare le tue informazioni in qualsiasi momento accedendo al tuo Account, se ne hai uno, e visitando la sezione delle impostazioni dell'account che ti permette di gestire le tue informazioni personali. Potresti anche contattarci per richiedere l'accesso a, correggere o eliminare qualsiasi informazione personale che ci hai fornito."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Tieni presente, tuttavia, che potremmo dover conservare determinate informazioni quando abbiamo un obbligo legale o una base legale per farlo."}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Divulgazione dei tuoi Dati Personali"}),jsxRuntimeExports.jsx("h4",{className:"text-md font-medium text-[#EEBA2B] mb-2",children:"Transazioni aziendali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Se la Società è coinvolta in una fusione, acquisizione o vendita di asset, i tuoi Dati Personali potrebbero essere trasferiti. Forniremo un preavviso prima che i tuoi Dati Personali vengano trasferiti e diventino soggetti a una diversa Informativa sulla Privacy."}),jsxRuntimeExports.jsx("h4",{className:"text-md font-medium text-[#EEBA2B] mb-2",children:"Forze dell'ordine"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"In determinate circostanze, la Società potrebbe essere tenuta a divulgare i tuoi Dati Personali se richiesto dalla legge o in risposta a richieste valide da parte di autorità pubbliche (ad es. un tribunale o un'agenzia governativa)."}),jsxRuntimeExports.jsx("h4",{className:"text-md font-medium text-[#EEBA2B] mb-2",children:"Altri requisiti legali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"La Società potrebbe divulgare i tuoi Dati Personali nella buona fede che tale azione sia necessaria per:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-1 mb-4",children:[jsxRuntimeExports.jsx("li",{children:"Rispettare un obbligo legale"}),jsxRuntimeExports.jsx("li",{children:"Proteggere e difendere i diritti o la proprietà della Società"}),jsxRuntimeExports.jsx("li",{children:"Prevenire o investigare possibili illeciti in connessione con il Servizio"}),jsxRuntimeExports.jsx("li",{children:"Proteggere la sicurezza personale degli Utenti del Servizio o del pubblico"}),jsxRuntimeExports.jsx("li",{children:"Proteggere dalla responsabilità legale"})]}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-[#EEBA2B] mb-2",children:"Sicurezza dei tuoi Dati Personali"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"La sicurezza dei tuoi Dati Personali è importante per noi, ma ricorda che nessun metodo di trasmissione su Internet, o metodo di archiviazione elettronica è sicuro al 100%. Mentre ci sforziamo di utilizzare mezzi commercialmente accettabili per proteggere i tuoi Dati Personali, non possiamo garantire la loro sicurezza assoluta."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"Privacy dei Minori"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Il nostro Servizio non si rivolge a nessuno di età inferiore ai 13 anni. Non raccogliamo consapevolmente informazioni personali identificabili da nessuno di età inferiore ai 13 anni. Se sei un genitore o un tutore e sei consapevole che tuo figlio ci ha fornito Dati Personali, contattaci. Se diventiamo consapevoli di aver raccolto Dati Personali da chiunque di età inferiore ai 13 anni senza verifica del consenso dei genitori, adottiamo misure per rimuovere tali informazioni dai nostri server."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Se dobbiamo fare affidamento sul consenso come base legale per l'elaborazione delle tue informazioni e il tuo paese richiede il consenso da un genitore, potremmo richiedere il consenso del tuo genitore prima di raccogliere e utilizzare tali informazioni."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"Link ad Altri Siti Web"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Il nostro Servizio potrebbe contenere link ad altri siti web che non sono gestiti da noi. Se clicchi su un link di terze parti, sarai diretto al sito di quella terza parte. Ti consigliamo vivamente di rivedere l'Informativa sulla Privacy di ogni sito che visiti."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Non abbiamo alcun controllo e non ci assumiamo alcuna responsabilità per il contenuto, le politiche sulla privacy o le pratiche di qualsiasi sito o servizio di terze parti."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"Modifiche a questa Informativa sulla Privacy"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Potremmo aggiornare la nostra Informativa sulla Privacy di tanto in tanto. Ti informeremo di eventuali modifiche pubblicando la nuova Informativa sulla Privacy su questa pagina."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:'Ti faremo sapere via email e/o un avviso prominente sul nostro Servizio, prima che la modifica diventi effettiva e aggiorneremo la data "Ultimo aggiornamento" in cima a questa Informativa sulla Privacy.'}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Ti consigliamo di rivedere questa Informativa sulla Privacy periodicamente per eventuali modifiche. Le modifiche a questa Informativa sulla Privacy sono efficaci quando vengono pubblicate su questa pagina."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-3",children:"Contattaci"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"Se hai domande su questa Informativa sulla Privacy, puoi contattarci:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1 mb-4",children:jsxRuntimeExports.jsx("li",{children:"Via email: primeassistenza@gmail.com"})})]})]})]})]})})},Input=reactExports.forwardRef(({className:i,type:o,...E},_)=>jsxRuntimeExports.jsx("input",{type:o,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm text-white",i),ref:_,...E}));Input.displayName="Input";var NAME$1="Label",Label$2=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(Primitive.label,{...i,ref:o,onMouseDown:E=>{var w;E.target.closest("button, input, select, textarea")||((w=i.onMouseDown)==null||w.call(i,E),!E.defaultPrevented&&E.detail>1&&E.preventDefault())}}));Label$2.displayName=NAME$1;var Root$1=Label$2;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Root$1,{ref:E,className:cn(labelVariants(),i),...o}));Label$1.displayName=Root$1.displayName;const Card=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("div",{ref:E,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",i),...o}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("div",{ref:E,className:cn("flex flex-col space-y-1.5 p-6",i),...o}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("h3",{ref:E,className:cn("text-2xl font-semibold leading-none tracking-tight",i),...o}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("p",{ref:E,className:cn("text-sm text-muted-foreground",i),...o}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("div",{ref:E,className:cn("p-6 pt-0",i),...o}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("div",{ref:E,className:cn("flex items-center p-6 pt-0",i),...o}));CardFooter.displayName="CardFooter";var TABS_NAME="Tabs",[createTabsContext]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((i,o)=>{const{__scopeTabs:E,value:_,onValueChange:w,defaultValue:j,orientation:S="horizontal",dir:A,activationMode:R="automatic",...C}=i,T=useDirection(A),[N,O]=useControllableState({prop:_,onChange:w,defaultProp:j??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:E,baseId:useId$1(),value:N,onValueChange:O,orientation:S,dir:T,activationMode:R,children:jsxRuntimeExports.jsx(Primitive.div,{dir:T,"data-orientation":S,...C,ref:o})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((i,o)=>{const{__scopeTabs:E,loop:_=!0,...w}=i,j=useTabsContext(TAB_LIST_NAME,E),S=useRovingFocusGroupScope(E);return jsxRuntimeExports.jsx(Root$3,{asChild:!0,...S,orientation:j.orientation,dir:j.dir,loop:_,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":j.orientation,...w,ref:o})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$1="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((i,o)=>{const{__scopeTabs:E,value:_,disabled:w=!1,...j}=i,S=useTabsContext(TRIGGER_NAME$1,E),A=useRovingFocusGroupScope(E),R=makeTriggerId(S.baseId,_),C=makeContentId(S.baseId,_),T=_===S.value;return jsxRuntimeExports.jsx(Item$1,{asChild:!0,...A,focusable:!w,active:T,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":T,"aria-controls":C,"data-state":T?"active":"inactive","data-disabled":w?"":void 0,disabled:w,id:R,...j,ref:o,onMouseDown:composeEventHandlers(i.onMouseDown,N=>{!w&&N.button===0&&N.ctrlKey===!1?S.onValueChange(_):N.preventDefault()}),onKeyDown:composeEventHandlers(i.onKeyDown,N=>{[" ","Enter"].includes(N.key)&&S.onValueChange(_)}),onFocus:composeEventHandlers(i.onFocus,()=>{const N=S.activationMode!=="manual";!T&&!w&&N&&S.onValueChange(_)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="TabsContent",TabsContent$1=reactExports.forwardRef((i,o)=>{const{__scopeTabs:E,value:_,forceMount:w,children:j,...S}=i,A=useTabsContext(CONTENT_NAME$1,E),R=makeTriggerId(A.baseId,_),C=makeContentId(A.baseId,_),T=_===A.value,N=reactExports.useRef(T);return reactExports.useEffect(()=>{const O=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(O)},[]),jsxRuntimeExports.jsx(Presence,{present:w||T,children:({present:O})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":T?"active":"inactive","data-orientation":A.orientation,role:"tabpanel","aria-labelledby":R,hidden:!O,id:C,tabIndex:0,...S,ref:o,style:{...i.style,animationDuration:N.current?"0s":void 0},children:O&&j})})});TabsContent$1.displayName=CONTENT_NAME$1;function makeTriggerId(i,o){return`${i}-trigger-${o}`}function makeContentId(i,o){return`${i}-content-${o}`}var Root2$2=Tabs$1,List=TabsList$1,Trigger$1=TabsTrigger$1,Content=TabsContent$1;const Tabs=Root2$2,TabsList=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(List,{ref:E,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",i),...o}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Trigger$1,{ref:E,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",i),...o}));TabsTrigger.displayName=Trigger$1.displayName;const TabsContent=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Content,{ref:E,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",i),...o}));TabsContent.displayName=Content.displayName;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId$1(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=i=>{if(toastTimeouts.has(i))return;const o=setTimeout(()=>{toastTimeouts.delete(i),dispatch({type:"REMOVE_TOAST",toastId:i})},TOAST_REMOVE_DELAY);toastTimeouts.set(i,o)},reducer=(i,o)=>{switch(o.type){case"ADD_TOAST":return{...i,toasts:[o.toast,...i.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(E=>E.id===o.toast.id?{...E,...o.toast}:E)};case"DISMISS_TOAST":{const{toastId:E}=o;return E?addToRemoveQueue(E):i.toasts.forEach(_=>{addToRemoveQueue(_.id)}),{...i,toasts:i.toasts.map(_=>_.id===E||E===void 0?{..._,open:!1}:_)}}case"REMOVE_TOAST":return o.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(E=>E.id!==o.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(i){memoryState=reducer(memoryState,i),listeners.forEach(o=>{o(memoryState)})}function toast({...i}){const o=genId$1(),E=w=>dispatch({type:"UPDATE_TOAST",toast:{...w,id:o}}),_=()=>dispatch({type:"DISMISS_TOAST",toastId:o});return dispatch({type:"ADD_TOAST",toast:{...i,id:o,open:!0,onOpenChange:w=>{w||_()}}}),{id:o,dismiss:_,update:E}}function useToast(){const[i,o]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(o),()=>{const E=listeners.indexOf(o);E>-1&&listeners.splice(E,1)}),[i]),{...i,toast,dismiss:E=>dispatch({type:"DISMISS_TOAST",toastId:E})}}const environments={development:{SUPABASE_URL:"https://kfxoyucatvvcgmqalxsg.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDc2NTksImV4cCI6MjA2NTgyMzY1OX0.hQhfOogGGc9kvOGvxjOv6QTKxSysbTa6En-0wG9_DCY",APP_URL:"http://localhost:8081",REDIRECT_URLS:["http://localhost:8081/auth","http://localhost:8081/reset-password","http://localhost:8081/dashboard","http://localhost:8081/auth","http://localhost:8081/reset-password","http://localhost:8081/dashboard","http://localhost:8082/auth","http://localhost:8082/reset-password","http://localhost:8082/dashboard"]},production:{SUPABASE_URL:"https://kfxoyucatvvcgmqalxsg.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDc2NTksImV4cCI6MjA2NTgyMzY1OX0.hQhfOogGGc9kvOGvxjOv6QTKxSysbTa6En-0wG9_DCY",APP_URL:"https://performanceprime.it",REDIRECT_URLS:["https://performanceprime.it/auth","https://performanceprime.it/reset-password","https://performanceprime.it/dashboard","https://www.performanceprime.it/auth","https://www.performanceprime.it/reset-password","https://www.performanceprime.it/dashboard"]}},getCurrentEnvironment=()=>{if(typeof window<"u"){const i=window.location.hostname;if(i==="localhost"||i==="127.0.0.1")return"development";if(i==="performanceprime.it"||i==="www.performanceprime.it")return"production"}return"development"},config=environments[getCurrentEnvironment()],getRedirectUrl=(i="")=>`${config.APP_URL}${i}`,getResetPasswordUrl=()=>getRedirectUrl("/reset-password");class Analytics{constructor(){tr(this,"isEnabled",!0);tr(this,"domain","performanceprime.it");tr(this,"scriptLoaded",!1);this.isEnabled=!safeLocalStorage.getItem("analytics_disabled"),this.init()}init(){if(this.isEnabled&&!this.scriptLoaded){const o=document.createElement("script");o.defer=!0,o.setAttribute("data-domain",this.domain),o.src="https://plausible.io/js/script.outbound-links.js",o.onerror=()=>{this.scriptLoaded=!1},o.onload=()=>{this.scriptLoaded=!0},document.head.appendChild(o);const E=document.createElement("script");E.textContent=`
        window.plausible = window.plausible || function() { 
          (window.plausible.q = window.plausible.q || []).push(arguments) 
        }
      `,document.head.appendChild(E),this.scriptLoaded=!0}}track(o,E){if(this.isEnabled)try{window.plausible&&window.plausible(o,{props:E})}catch(_){console.warn("Analytics tracking error:",_)}}trackPageView(o,E){this.track("page_view",{page:o,...E})}trackUserAction(o,E){this.track("user_action",{action:o,...E})}trackFeatureUsage(o,E){this.track("feature_usage",{feature:o,...E})}trackError(o,E){this.track("error",{error:o,...E})}trackConversion(o,E,_){this.track("conversion",{funnel:o,step:E,..._})}trackPerformance(o,E,_){this.track("performance",{metric:o,value:E,..._})}setEnabled(o){this.isEnabled=o,o?(safeLocalStorage.removeItem("analytics_disabled"),this.init()):safeLocalStorage.setItem("analytics_disabled","true")}isAnalyticsEnabled(){return this.isEnabled}identify(o,E){this.isEnabled&&this.track("user_identified",{user_id:o,...E})}trackAuth(o){this.trackUserAction(`auth_${o}`)}trackWorkout(o,E){this.trackUserAction(`workout_${o}`,{workout_type:E})}trackAICoach(o,E){this.trackUserAction(`ai_coach_${o}`,{plan_type:E})}trackSettings(o,E){this.trackUserAction(`settings_${o}`,{setting:E})}trackSubscription(o,E){this.trackUserAction(`subscription_${o}`,{plan:E})}}const analytics=new Analytics,alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:i,variant:o,...E},_)=>jsxRuntimeExports.jsx("div",{ref:_,role:"alert",className:cn(alertVariants({variant:o}),i),...E}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("h5",{ref:E,className:cn("mb-1 font-medium leading-none tracking-tight",i),...o}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("div",{ref:E,className:cn("text-sm [&_p]:leading-relaxed",i),...o}));AlertDescription.displayName="AlertDescription";class EmailValidationService{constructor(){this.disposableDomains=new Set(["10minutemail.com","10minutemail.net","10minutemail.org","guerrillamail.com","guerrillamail.net","guerrillamail.org","guerrillamailblock.com","guerrillamail.biz","guerrillamail.de","mailinator.com","mailinator.net","mailinator.org","mailinator2.com","tempmail.com","temp-mail.org","temp-mail.io","temp-mail.de","throwaway.email","throwawaymail.com","throwawaydomain.com","yopmail.com","yopmail.fr","yopmail.net","trashmail.com","trashmail.net","trashmail.org","trashmail.de","sharklasers.com","spam4.me","spambox.us","spamcowboy.com","mytrashmail.com","mt2009.com","mt2014.com","mt2015.com","emailondeck.com","getnada.com","inboxkitten.com","dispostable.com","disposemail.com","disposableemailaddresses.com","fakeinbox.com","fakemailgenerator.com","emailfake.com","maildrop.cc","mailnesia.com","mailslurp.com","mohmal.com","mohmal.im","mohmal.tech","crazymailing.com","emailsensei.com","imgof.com","letthemeatspam.com","mailexpire.com","mailforspam.com","mailscrap.com","mailseal.de","mailtemp.info","migmail.pl","mint.lgbt","mytemp.email","nada.email","nincsmail.hu","noclickemail.com","nwldx.com","opayq.com","poofy.org","quickinbox.com","rcpt.at","ruu.kr","spamdecoy.net","spamex.com","spamfree24.org","spamgourmet.com","spamherelots.com","spamhereplease.com","spamhole.com","spamify.com","spaminator.de","spamkill.info","spaml.com","spammotel.com","spamnot.org","spamoff.de","spamslicer.com","spamspot.com","spamthis.co.uk","spamthisplease.com","spamtrail.com","speed.1s.fr","spoofmail.de","tafmail.com","teleworm.us","tempemail.co.za","tempemail.net","tempinbox.co.uk","tempinbox.com","tempmail.it","tempmail2.com","tempmailer.com","tempomail.fr","temporarily.de","temporarioemail.com.br","temporaryemail.net","temporaryemail.us","temporaryinbox.com","thanksnospam.info","thankyou2010.com","thecloudindex.com","thelimestones.com","thisisnotmyrealemail.com","throam.com","mailnesia.com","maildrop.cc","mohmal.com","crazymailing.com","emailsensei.com","imgof.com","letthemeatspam.com","mailexpire.com","mailforspam.com","mailscrap.com","mailseal.de","mailtemp.info","migmail.pl","mint.lgbt","mytemp.email","nada.email","nincsmail.hu","noclickemail.com","nwldx.com","opayq.com","poofy.org","quickinbox.com","rcpt.at","ruu.kr","spamdecoy.net","spamex.com","spamfree24.org","spamgourmet.com","spamherelots.com","spamhereplease.com","spamhole.com","spamify.com","spaminator.de","spamkill.info","spaml.com","spammotel.com","spamnot.org","spamoff.de","spamslicer.com","spamspot.com","spamthis.co.uk","spamthisplease.com","spamtrail.com","speed.1s.fr","spoofmail.de","tafmail.com","teleworm.us","tempemail.co.za","tempemail.net","tempinbox.co.uk","tempinbox.com","tempmail.it","tempmail2.com","tempmailer.com","tempomail.fr","temporarily.de","temporarioemail.com.br","temporaryemail.net","temporaryemail.us","temporaryinbox.com","thanksnospam.info","thankyou2010.com","thecloudindex.com","thelimestones.com","thisisnotmyrealemail.com","throam.com"]),this.suspiciousPatterns=[/^test\d*@/i,/^temp\d*@/i,/^fake\d*@/i,/^disposable\d*@/i,/^throwaway\d*@/i,/^spam\d*@/i,/^trash\d*@/i,/\+temp\d*@/i,/\+test\d*@/i,/^demo\d*@/i,/^example\d*@/i,/^sample\d*@/i,/^user\d*@/i,/^admin\d*@/i,/^info\d*@/i,/^contact\d*@/i,/^support\d*@/i,/^help\d*@/i,/^service\d*@/i,/^sales\d*@/i],this.validationCache=new Map,this.cacheTimeout=24*60*60*1e3,this.updateDisposableList()}async validateEmail(o){const E=o.toLowerCase().trim(),_=this.getCachedResult(E);if(_!==null)return _;const w={valid:!1,email:E,checks:{format:!1,disposable:!1,dns:!1,smtp:!1,reputation:!1},errors:[],warnings:[],details:[],score:0,timestamp:Date.now()};try{if(w.checks.format=this.validateFormat(E),!w.checks.format)return w.errors.push("Formato email non valido"),w.score=0,this.cacheAndReturn(E,w);if(w.score+=20,w.checks.disposable=!this.isDisposableEmail(E),!w.checks.disposable)return w.errors.push("Email temporanea o disposable non permessa"),w.score=Math.max(0,w.score-50),this.cacheAndReturn(E,w);w.score+=20;const j=E.split("@")[1];if(["gmail.com","yahoo.com","hotmail.com","outlook.com","live.com","icloud.com","me.com","mac.com","aol.com","protonmail.com","tutanota.com","fastmail.com","zoho.com","mail.com","gmx.com","googlemail.com","yahoo.co.uk","hotmail.co.uk","outlook.co.uk"].includes(j.toLowerCase()))w.checks.dns=!0,w.score+=20,w.details.push("DNS: Skipped for common domain");else try{w.checks.dns=await this.validateDNS(E),w.checks.dns?w.score+=20:(w.warnings.push("Impossibile verificare il dominio email"),w.score+=15)}catch(A){console.warn("Errore validazione DNS per",E,A),w.warnings.push("Impossibile verificare il dominio email"),w.score+=15}w.checks.smtp=!0,w.score+=20,w.details.push("API Validation: Disabled (using local validation only)"),w.valid=w.score>=20}catch(j){console.error("Errore validazione email:",j),w.errors.push("Errore durante la validazione"),w.valid=!1}return this.cacheAndReturn(E,w)}validateFormat(o){if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(o)||o.length>254)return!1;const[_,w]=o.split("@");return!(_.length>64||/^\d+\.\d+$/.test(w))}isDisposableEmail(o){const E=o.split("@")[1];if(this.disposableDomains.has(E))return!0;for(const w of this.suspiciousPatterns)if(w.test(o))return!0;const _=["mailinator","guerrilla","temp","trash","disposable","throwaway","fake","spam","burner","dispos","temporary","temporary"];for(const w of _)if(E.includes(w))return!0;return!1}async validateDNS(o){const E=o.split("@")[1];if(["gmail.com","yahoo.com","hotmail.com","outlook.com","live.com","icloud.com","me.com","mac.com","aol.com","protonmail.com","tutanota.com","fastmail.com","zoho.com","mail.com","gmx.com"].includes(E.toLowerCase()))return!0;try{const w=await fetch(`https://dns.google/resolve?name=${E}&type=MX`,{method:"GET",mode:"cors",headers:{Accept:"application/json"}});if(!w.ok)return console.warn("DNS Google non disponibile, usando fallback"),this.validateDNSFallback(E);const j=await w.json();return j.Status===0&&j.Answer&&j.Answer.length>0?j.Answer.filter(A=>A.type===15).length>0:!1}catch(w){return console.warn("Errore DNS lookup per",E,w.message),this.validateDNSFallback(E)}}async validateDNSFallback(o){if(["gmail.com","yahoo.com","hotmail.com","outlook.com","live.com","icloud.com","me.com","mac.com","aol.com","protonmail.com","tutanota.com","fastmail.com","zoho.com","mail.com","gmx.com","googlemail.com","yahoo.co.uk","hotmail.co.uk","outlook.co.uk"].includes(o.toLowerCase()))return!0;try{const w=await(await fetch(`https://api.hackertarget.com/dnslookup/?q=${o}`)).text();return w.includes("MX")&&!w.includes("error")}catch{return console.warn("Tutti i servizi DNS falliti per",o,"- accettando dominio"),!0}}getCachedResult(o){const E=this.validationCache.get(o);return E&&Date.now()-E.timestamp<this.cacheTimeout?E:null}cacheAndReturn(o,E){if(this.validationCache.set(o,E),this.validationCache.size>1e3){const _=this.validationCache.keys().next().value;this.validationCache.delete(_)}return E}async updateDisposableList(){try{(await(await fetch("https://raw.githubusercontent.com/martenson/disposable-email-domains/master/disposable_email_blocklist.conf")).text()).split(`
`).filter(w=>w&&!w.startsWith("#")).forEach(w=>{this.disposableDomains.add(w.trim())})}catch(o){console.error("Errore aggiornamento lista disposable:",o)}}}const emailValidation=new EmailValidationService,RegistrationForm=()=>{const[i,o]=reactExports.useState(""),[E,_]=reactExports.useState(""),[w,j]=reactExports.useState(""),[S,A]=reactExports.useState(!1),[R,C]=reactExports.useState(0),[T,N]=reactExports.useState(""),[O,$]=reactExports.useState(""),[D,L]=reactExports.useState(""),[I,z]=reactExports.useState(""),[F,W]=reactExports.useState(!1),[H,B]=reactExports.useState(null),[U,G]=reactExports.useState(!1),{signUp:V}=useAuth(),K=useNavigate(),je=reactExports.useCallback(Oe(async Pe=>{if(!Pe){_(""),j(""),C(0),B(null);return}A(!0),_(""),j("");try{const Ne=await emailValidation.validateEmail(Pe);B(Ne),Ne.valid?Ne.warnings.length>0&&j(Ne.warnings[0]):_(Ne.errors[0]||"Email non valida"),C(Ne.score)}catch(Ne){console.error("Errore validazione:",Ne),_("Errore durante la validazione")}finally{A(!1)}},500),[]);reactExports.useEffect(()=>{i&&je(i)},[i,je]);const Z=Pe=>{const Ne=Pe.target.value;o(Ne)},fe=async Pe=>{if(Pe.preventDefault(),S){ue.error("Attendere il completamento della validazione email");return}if(E){ue.error("Correggere gli errori prima di procedere");return}if(D!==I){ue.error("Le password non coincidono");return}if(D.length<8){ue.error("La password deve essere di almeno 8 caratteri");return}if(!U){ue.error("Devi accettare i Termini di Servizio e la Privacy Policy per continuare");return}W(!0);try{if(!(await emailValidation.validateEmail(i)).valid){_("Email non valida. Utilizzare un indirizzo email reale."),W(!1);return}const Ce=await V(i,D,`${T} ${O}`);Ce.success?(ue.success(Ce.message),Ce.message.includes("accesso effettuato")?K("/dashboard"):ue.info("Controlla la tua email per confermare l'account prima di accedere.")):ue.error(Ce.message||"Errore durante la registrazione. Riprova più tardi.")}catch(Ne){Ne!=null&&Ne.message?Ne.message.includes("network")||Ne.message.includes("fetch")?ue.error("Problema di connessione. Verifica la tua connessione internet."):Ne.message.includes("timeout")?ue.error("Timeout della richiesta. Riprova più tardi."):Ne.message.includes("supabase")?ue.error("Errore del servizio. Riprova più tardi."):ue.error(`Errore imprevisto: ${Ne.message}`):ue.error("Errore imprevisto durante la registrazione. Riprova più tardi.")}finally{W(!1)}},Ae=()=>i?E?"#ef4444":R>=80?"#10b981":R>=60?"#f59e0b":"#ef4444":"#6b7280";function Oe(Pe,Ne){let Ce;return function(...Q){const Re=()=>{clearTimeout(Ce),Pe(...Q)};clearTimeout(Ce),Ce=setTimeout(Re,Ne)}}return jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md mx-auto",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:"Registrazione"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"firstName",className:"text-sm font-medium",children:"Nome *"}),jsxRuntimeExports.jsx(Input,{type:"text",id:"firstName",value:T,onChange:Pe=>N(Pe.target.value),required:!0,placeholder:"nome"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"lastName",className:"text-sm font-medium",children:"Cognome *"}),jsxRuntimeExports.jsx(Input,{type:"text",id:"lastName",value:O,onChange:Pe=>$(Pe.target.value),required:!0,placeholder:"cognome"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"email",id:"email",value:i,onChange:Z,placeholder:"nome@esempio.com",required:!0,className:`pr-10 ${E?"border-red-500":""} ${w?"border-yellow-500":""}`,style:{borderColor:Ae(),borderWidth:"2px"}}),S&&jsxRuntimeExports.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Validazione..."})]}),!S&&i&&jsxRuntimeExports.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:[R>=80&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),R>=60&&R<80&&jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5 text-yellow-500"}),R<60&&jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500"})]})]}),E&&jsxRuntimeExports.jsxs(Alert,{variant:"destructive",className:"py-2",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:E})]}),w&&!E&&jsxRuntimeExports.jsxs(Alert,{variant:"default",className:"py-2 border-yellow-500 bg-yellow-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-yellow-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-yellow-800",children:w})]}),i&&!E&&!w&&R>=80&&jsxRuntimeExports.jsxs(Alert,{variant:"default",className:"py-2 border-green-500 bg-green-50",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-green-800",children:"Email valida e verificata"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Requisiti email:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Email reale e attiva"}),jsxRuntimeExports.jsx("li",{children:"• No email temporanee o disposable"}),jsxRuntimeExports.jsx("li",{children:"• Dominio valido con record MX"}),jsxRuntimeExports.jsx("li",{children:"• Formato corretto (nome@dominio.com)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password *"}),jsxRuntimeExports.jsx(Input,{type:"password",id:"password",value:D,onChange:Pe=>L(Pe.target.value),required:!0,minLength:8,placeholder:"Minimo 8 caratteri"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Conferma Password *"}),jsxRuntimeExports.jsx(Input,{type:"password",id:"confirmPassword",value:I,onChange:Pe=>z(Pe.target.value),required:!0,placeholder:"Ripeti la password"}),I&&D!==I&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500",children:"Le password non coincidono"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"terms",checked:U,onChange:Pe=>G(Pe.target.checked),className:"mt-1 h-4 w-4 text-brand-primary border-gray-300 rounded focus:ring-brand-primary",required:!0}),jsxRuntimeExports.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:["Accetto i"," ",jsxRuntimeExports.jsx("a",{href:"#",className:"text-brand-primary hover:underline",children:"Termini di Servizio"})," ","e la"," ",jsxRuntimeExports.jsx("a",{href:"#",className:"text-brand-primary hover:underline",children:"Privacy Policy"})," ","(Beta Version) *"]})]})}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:F||S||!!E||!i||!T||!O||!D||!I||D!==I||!U,className:"w-full h-10 sm:h-12 text-sm sm:text-base",children:F?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Registrazione..."]}):"Registrati"}),H&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:["Score validazione: ",R,"/100"]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsxs("span",{children:["Formato: ",H.checks.format?"✅":"❌"]}),jsxRuntimeExports.jsxs("span",{children:["Disposable: ",H.checks.disposable?"✅":"❌"]}),jsxRuntimeExports.jsxs("span",{children:["DNS: ",H.checks.dns?"✅":"❌"]})]})]})]})})]})},Auth=()=>{const i=useNavigate(),{toast:o}=useToast(),[E,_]=reactExports.useState(!1),[w,j]=reactExports.useState(!1),[S,A]=reactExports.useState(""),[R,C]=reactExports.useState(""),[T,N]=reactExports.useState(""),[O,$]=reactExports.useState("login"),D=async I=>{I.preventDefault(),_(!0);try{const{data:z,error:F}=await supabase.auth.signInWithPassword({email:S,password:R});if(F)throw F;analytics.trackAuth("login"),o({title:"Accesso effettuato con successo!",duration:3e3}),i("/dashboard")}catch(z){console.error("Login error:",z),analytics.trackError("login_error",{error:z.message,email:S}),o({title:"Errore durante l'accesso",description:z.message,variant:"destructive",duration:3e3})}finally{_(!1)}},L=async I=>{I.preventDefault(),j(!0);try{const{error:z}=await supabase.auth.resetPasswordForEmail(T,{redirectTo:getResetPasswordUrl()});if(z)throw z;const F=`${getResetPasswordUrl()}?access_token=TOKEN&refresh_token=TOKEN&type=recovery`;sendPasswordResetEmail(T,F).catch(W=>{console.error("Errore invio email reset personalizzata:",W)}),analytics.trackAuth("password_reset"),o({title:"Email di reset inviata!",description:"Controlla la tua email per reimpostare la password.",duration:5e3}),N("")}catch(z){console.error("Password reset error:",z),analytics.trackError("password_reset_error",{error:z.message,email:T}),o({title:"Errore durante l'invio",description:z.message,variant:"destructive",duration:3e3})}finally{j(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md bg-surface-primary border-2 border-brand-primary",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-brand-primary",children:"Performance Prime"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-text-secondary",children:"Accedi o registrati per iniziare il tuo percorso"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Tabs,{value:O,onValueChange:$,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2 bg-surface-secondary h-12 relative",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"login",className:"text-text-primary data-[state=active]:bg-brand-primary data-[state=active]:text-background h-full flex items-center justify-center transition-all duration-200 relative",children:["Accedi",jsxRuntimeExports.jsx("div",{className:"absolute top-4 bottom-12 left-4 right-4 bg-brand-primary rounded-md opacity-0 data-[state=active]:opacity-100 transition-opacity duration-200"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"register",className:"text-text-primary data-[state=active]:bg-brand-primary data-[state=active]:text-background h-full flex items-center justify-center transition-all duration-200 relative",children:["Registrati",jsxRuntimeExports.jsx("div",{className:"absolute top-4 bottom-12 left-4 right-4 bg-brand-primary rounded-md opacity-0 data-[state=active]:opacity-100 transition-opacity duration-200"})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"login",className:"space-y-4",children:[jsxRuntimeExports.jsxs("form",{onSubmit:D,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"login-email",className:"text-text-primary",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"login-email",type:"email",value:S,onChange:I=>A(I.target.value),placeholder:"la-tua-email@esempio.com",className:"bg-surface-secondary border-border-primary text-text-primary",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"login-password",className:"text-text-primary",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"login-password",type:"password",value:R,onChange:I=>C(I.target.value),placeholder:"Inserisci la tua password",className:"bg-surface-secondary border-border-primary text-text-primary",required:!0})]}),jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full bg-brand-primary text-background hover:bg-brand-primary/90",disabled:E,children:E?"Accesso in corso...":"Accedi"})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-border-primary",children:jsxRuntimeExports.jsxs("form",{onSubmit:L,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"reset-email",className:"text-text-primary",children:"Reset Password"}),jsxRuntimeExports.jsx(Input,{id:"reset-email",type:"email",value:T,onChange:I=>N(I.target.value),placeholder:"Email per il reset",className:"bg-surface-secondary border-border-primary text-text-primary",required:!0})]}),jsxRuntimeExports.jsx(Button$1,{type:"submit",variant:"outline",className:"w-full border-border-primary text-text-primary hover:bg-surface-secondary",disabled:w,children:w?"Invio in corso...":"Invia email di reset"})]})})]}),jsxRuntimeExports.jsx(TabsContent,{value:"register",className:"space-y-4",children:jsxRuntimeExports.jsx(RegistrationForm,{})})]})})]})})},StartTodayButton=()=>{const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(!1),w=useNavigate();reactExports.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:{user:A}}=await supabase.auth.getUser();if(!A)return;const R=new Date().toISOString().split("T")[0],{data:C,error:T}=await supabase.from("custom_workouts").select("*").eq("user_id",A.id).eq("scheduled_date",R).single();C&&!T&&o(C)}catch{}},S=async()=>{_(!0),i?w("/workouts",{state:{startCustomWorkout:i.id}}):w("/schedule",{state:{openWorkoutModal:!0}}),_(!1)};return jsxRuntimeExports.jsxs(Button$1,{onClick:S,disabled:E,className:"w-full bg-[#c89116] hover:bg-[#c89116]/80 text-black font-bold py-4 text-lg border-2 border-[#c89116] rounded-xl",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-6 w-6 mr-2"}),i?"Inizia allenamento di oggi":"Crea allenamento di oggi"]})},WORKOUT_RULES={FORZA:{minExercises:{PRINCIPIANTE:4,INTERMEDIO:5,AVANZATO:7},maxExercises:{PRINCIPIANTE:6,INTERMEDIO:8,AVANZATO:10},exerciseDuration:{PRINCIPIANTE:30,INTERMEDIO:45,AVANZATO:60},restBetweenExercises:{PRINCIPIANTE:60,INTERMEDIO:45,AVANZATO:30},sets:{PRINCIPIANTE:2,INTERMEDIO:3,AVANZATO:4}},HIIT:{minExercises:{PRINCIPIANTE:4,INTERMEDIO:5,AVANZATO:6},maxExercises:{PRINCIPIANTE:5,INTERMEDIO:7,AVANZATO:8},exerciseDuration:{PRINCIPIANTE:20,INTERMEDIO:30,AVANZATO:40},restBetweenExercises:{PRINCIPIANTE:40,INTERMEDIO:30,AVANZATO:20},sets:{PRINCIPIANTE:2,INTERMEDIO:3,AVANZATO:3}},CARDIO:{minExercises:{PRINCIPIANTE:3,INTERMEDIO:4,AVANZATO:5},maxExercises:{PRINCIPIANTE:4,INTERMEDIO:5,AVANZATO:6},exerciseDuration:{PRINCIPIANTE:120,INTERMEDIO:180,AVANZATO:240},restBetweenExercises:{PRINCIPIANTE:60,INTERMEDIO:45,AVANZATO:30},sets:{PRINCIPIANTE:1,INTERMEDIO:1,AVANZATO:1}},MOBILITA:{minExercises:{PRINCIPIANTE:4,INTERMEDIO:5,AVANZATO:6},maxExercises:{PRINCIPIANTE:5,INTERMEDIO:6,AVANZATO:8},exerciseDuration:{PRINCIPIANTE:30,INTERMEDIO:45,AVANZATO:60},restBetweenExercises:{PRINCIPIANTE:15,INTERMEDIO:10,AVANZATO:10},sets:{PRINCIPIANTE:1,INTERMEDIO:1,AVANZATO:2}}},QUICK_MODE_RULES={FORZA:{exercises:8,duration:40,rest:20},HIIT:{exercises:12,duration:30,rest:20},CARDIO:{exercises:5,duration:90,rest:30},MOBILITA:{exercises:10,duration:40,rest:15}},detailedExerciseDatabase={strength:[{name:"Flessioni",muscleGroup:"Petto",equipment:"Corpo libero",level:"Principiante"},{name:"Pike Flessioni",muscleGroup:"Petto",equipment:"Corpo libero",level:"Intermedio"},{name:"Flessioni Inclinate",muscleGroup:"Petto",equipment:"Corpo libero",level:"Principiante"},{name:"Flessioni Declinate",muscleGroup:"Petto",equipment:"Corpo libero",level:"Avanzato"},{name:"Panca Piana",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Panca Inclinata",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Panca Declinata",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Bench Press",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Incline Bench Press",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Decline Bench Press",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Dumbbell Press",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Cable Crossover",muscleGroup:"Petto",equipment:"Bilanciere",level:"Intermedio"},{name:"Chest Press",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Aperture",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Chest Press Inclinato",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Chest Press Declinato",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Aperture Inclinate",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Aperture Declinate",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Pullover",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Chest Fly",muscleGroup:"Petto",equipment:"Manubri",level:"Intermedio"},{name:"Superman",muscleGroup:"Schiena",equipment:"Corpo libero",level:"Principiante"},{name:"Remata",muscleGroup:"Schiena",equipment:"Elastici",level:"Intermedio"},{name:"Pull-ups",muscleGroup:"Schiena",equipment:"Corpo libero",level:"Avanzato"},{name:"Lat Machine",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Intermedio"},{name:"Remata con Bilanciere",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Intermedio"},{name:"Remata Inclinata",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Intermedio"},{name:"T-Bar Row",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Intermedio"},{name:"Pulldown",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Principiante"},{name:"Cable Row",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Intermedio"},{name:"Deadlift",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Avanzato"},{name:"Bent Over Row",muscleGroup:"Schiena",equipment:"Bilanciere",level:"Intermedio"},{name:"Remata con Manubri",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"Remata Inclinata con Manubri",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"Remata Unilaterale",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"Remata Piegata",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"Reverse Fly con Manubri",muscleGroup:"Schiena",equipment:"Manubri",level:"Principiante"},{name:"T-Raises",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"W-Raises",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"Remata Alta",muscleGroup:"Schiena",equipment:"Manubri",level:"Intermedio"},{name:"Alzate Laterali",muscleGroup:"Spalle",equipment:"Manubri",level:"Principiante"},{name:"Alzate Frontali",muscleGroup:"Spalle",equipment:"Manubri",level:"Principiante"},{name:"Military Press",muscleGroup:"Spalle",equipment:"Bilanciere",level:"Intermedio"},{name:"Arnold Press",muscleGroup:"Spalle",equipment:"Manubri",level:"Intermedio"},{name:"Shoulder Press con Manubri",muscleGroup:"Spalle",equipment:"Manubri",level:"Intermedio"},{name:"Alzate Laterali Inclinate",muscleGroup:"Spalle",equipment:"Manubri",level:"Intermedio"},{name:"Alzate Posteriori",muscleGroup:"Spalle",equipment:"Manubri",level:"Principiante"},{name:"Lateral Raises",muscleGroup:"Spalle",equipment:"Manubri",level:"Principiante"},{name:"Front Raises",muscleGroup:"Spalle",equipment:"Manubri",level:"Principiante"},{name:"Upright Row con Manubri",muscleGroup:"Spalle",equipment:"Manubri",level:"Intermedio"},{name:"Shrugs con Manubri",muscleGroup:"Spalle",equipment:"Manubri",level:"Principiante"},{name:"Tricep Dips",muscleGroup:"Braccia",equipment:"Corpo libero",level:"Intermedio"},{name:"Dip sulla Sedia",muscleGroup:"Braccia",equipment:"Corpo libero",level:"Principiante"},{name:"Curl con Manubri",muscleGroup:"Braccia",equipment:"Manubri",level:"Principiante"},{name:"French Press",muscleGroup:"Braccia",equipment:"Manubri",level:"Intermedio"},{name:"Hammer Curl",muscleGroup:"Braccia",equipment:"Manubri",level:"Principiante"},{name:"Curl Concentrato",muscleGroup:"Braccia",equipment:"Manubri",level:"Intermedio"},{name:"Curl a Martello",muscleGroup:"Braccia",equipment:"Manubri",level:"Principiante"},{name:"Curl Alternato",muscleGroup:"Braccia",equipment:"Manubri",level:"Principiante"},{name:"Curl 21",muscleGroup:"Braccia",equipment:"Manubri",level:"Intermedio"},{name:"Tricep Extension",muscleGroup:"Braccia",equipment:"Manubri",level:"Intermedio"},{name:"Tricep Kickback",muscleGroup:"Braccia",equipment:"Manubri",level:"Intermedio"},{name:"Overhead Tricep Extension",muscleGroup:"Braccia",equipment:"Manubri",level:"Intermedio"},{name:"Squats",muscleGroup:"Gambe",equipment:"Corpo libero",level:"Principiante"},{name:"Affondi",muscleGroup:"Gambe",equipment:"Corpo libero",level:"Intermedio"},{name:"Squat con Manubri",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Stacchi",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Intermedio"},{name:"Squat con Bilanciere",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Intermedio"},{name:"Front Squat",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Avanzato"},{name:"Overhead Squat",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Avanzato"},{name:"Sumo Deadlift",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Intermedio"},{name:"Romanian Deadlift",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Intermedio"},{name:"Lunges con Bilanciere",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Intermedio"},{name:"Bulgarian Split Squat",muscleGroup:"Gambe",equipment:"Bilanciere",level:"Intermedio"},{name:"Single Leg Deadlift",muscleGroup:"Gambe",equipment:"Corpo libero",level:"Intermedio"},{name:"Calf Raises",muscleGroup:"Gambe",equipment:"Corpo libero",level:"Principiante"},{name:"Goblet Squat",muscleGroup:"Gambe",equipment:"Kettlebell",level:"Intermedio"},{name:"Swing",muscleGroup:"Gambe",equipment:"Kettlebell",level:"Intermedio"},{name:"Affondi con Manubri",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Affondi Laterali con Manubri",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Affondi Camminando",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Stacchi Rumeni con Manubri",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Step-up con Manubri",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Bulgarian Split Squat",muscleGroup:"Gambe",equipment:"Manubri",level:"Intermedio"},{name:"Calf Raises con Manubri",muscleGroup:"Gambe",equipment:"Manubri",level:"Principiante"},{name:"Plank",muscleGroup:"Core",equipment:"Corpo libero",level:"Principiante"},{name:"Side Plank",muscleGroup:"Core",equipment:"Corpo libero",level:"Intermedio"},{name:"Russian Twists",muscleGroup:"Core",equipment:"Corpo libero",level:"Intermedio"},{name:"Mountain Climbers",muscleGroup:"Core",equipment:"Corpo libero",level:"Intermedio"},{name:"Crunch",muscleGroup:"Core",equipment:"Corpo libero",level:"Principiante"},{name:"Leg Raises",muscleGroup:"Core",equipment:"Corpo libero",level:"Intermedio"},{name:"Dead Bug",muscleGroup:"Core",equipment:"Corpo libero",level:"Principiante"},{name:"Glute Bridges",muscleGroup:"Core",equipment:"Corpo libero",level:"Principiante"}],hiit:[{name:"Jumping Jacks",level:"Principiante",duration:"5-10 min"},{name:"Saltelli Laterali",level:"Principiante",duration:"5-10 min"},{name:"Sprint sul posto",level:"Principiante",duration:"5-10 min"},{name:"Calci ai Glutei",level:"Principiante",duration:"5-10 min"},{name:"Passi Laterali",level:"Principiante",duration:"5-10 min"},{name:"Ginocchia al Petto",level:"Principiante",duration:"5-10 min"},{name:"Jump Squats",level:"Intermedio",duration:"15-20 min"},{name:"Burpees",level:"Intermedio",duration:"15-20 min"},{name:"Scalatori",level:"Intermedio",duration:"15-20 min"},{name:"Saltelli in Plank",level:"Intermedio",duration:"15-20 min"},{name:"Saltelli al Petto",level:"Intermedio",duration:"15-20 min"},{name:"Spinte in Squat",level:"Intermedio",duration:"15-20 min"},{name:"Affondi Saltati",level:"Intermedio",duration:"15-20 min"},{name:"Mountain Climbers",level:"Intermedio",duration:"15-20 min"},{name:"Burpees esplosivi",level:"Avanzato",duration:"25-30 min"},{name:"Saltelli a Stella",level:"Avanzato",duration:"25-30 min"},{name:"Pattinatori Veloce",level:"Avanzato",duration:"25-30 min"},{name:"Power Punches",level:"Avanzato",duration:"25-30 min"},{name:"Explosive Flessioni",level:"Avanzato",duration:"25-30 min"},{name:"Passi Rapidi",level:"Avanzato",duration:"25-30 min"},{name:"Onde con le Braccia",level:"Avanzato",duration:"25-30 min"}]},exerciseDatabase={cardio:{exercises:["Jumping Jacks","Saltelli Laterali","Burpees","Scalatori","Sprint sul posto","Jump Squats","Saltelli in Plank","Saltelli da Pattinatore","Movimento Incrociato","Calci ai Glutei","Passi Laterali","Saltelli al Petto","Box Steps","Camminata dell'Orso","Saltelli a Rana","Ginocchia al Petto"],durations:{short:{work:"20s",rest:"10s"},medium:{work:"30s",rest:"10s"},long:{work:"45s",rest:"15s"}}},strength:{exercises:["Flessioni","Plank","Pike Flessioni","Tricep Dips","Squats","Affondi","Sedia al Muro","Glute Bridges","Superman","Controllo Core","Russian Twists","Single Leg Deadlift","Dip sulla Sedia","Calf Raises","Side Plank","Apertura Inversa"],durations:{short:{work:"30s",rest:"15s"},medium:{work:"45s",rest:"15s"},long:{work:"60s",rest:"20s"}}},hiit:{exercises:["Sprint sul posto","Jump Squats","Burpees esplosivi","Saltelli Laterali","Scalatori","Saltelli in Plank","Saltelli al Petto","Spinte in Squat","Passi Veloce","Explosive Flessioni","Affondi Saltati","Saltelli a Stella","Pattinatori Veloce","Power Punches","Passi Rapidi","Onde con le Braccia"],durations:{short:{work:"20s",rest:"10s"},medium:{work:"30s",rest:"10s"},long:{work:"40s",rest:"15s"}}},mobility:{exercises:["Gatto e Mucca","Cerchi con i Fianchi","Rotazioni delle Spalle","Oscillazioni delle Gambe","Cerchi con le Braccia","Rotazioni del Collo","Cerchi con le Caviglie","Giro del Busto","Allungamento Posteriori","Allungamento Quadricipiti","Apertura del Petto","Flessione Laterale","Piegamento in Avanti","Posizione del Bambino","Posizione del Cobra","Allungamento Fianchi"],durations:{short:{work:"45s",rest:"10s"},medium:{work:"60s",rest:"10s"},long:{work:"90s",rest:"15s"}}}},shuffleArray=i=>{const o=[...i];for(let E=o.length-1;E>0;E--){const _=Math.floor(Math.random()*(E+1));[o[E],o[_]]=[o[_],o[E]]}return o},generateWorkout=(i,o,E={},_="INTERMEDIO",w=!1)=>{const S={cardio:"CARDIO",strength:"FORZA",hiit:"HIIT",mobility:"MOBILITA"}[i],A=w?QUICK_MODE_RULES[S]:WORKOUT_RULES[S];let R;if(w)R=A.exercises;else{const B=A.minExercises[_],U=A.maxExercises[_];R=Math.floor(Math.random()*(U-B+1))+B}const C=w?A.duration:A.exerciseDuration[_],T=w?A.rest:A.restBetweenExercises[_];let N=exerciseDatabase[i].exercises||[];E.muscleGroup&&i==="strength"&&(N=detailedExerciseDatabase.strength.filter(B=>B.muscleGroup===E.muscleGroup).map(B=>B.name)),E.equipment&&i==="strength"&&(N=detailedExerciseDatabase.strength.filter(B=>B.equipment===E.equipment).map(B=>B.name));const O=shuffleArray([...N]),$=[];let D=0,L=0;const I=2;for(let B=0;B<R&&B<O.length;B++){D>=O.length&&(D=0,L++),L>=I&&O.length>1&&(D=(D+1)%O.length,L=0);const U=O[D];$.push({name:U,duration:`${C}s`,rest:`${T}s`,sets:w?1:A.sets[_]}),D++}const z={cardio:"Cardio",strength:"Forza",hiit:"HIIT",mobility:"Mobilità"},F={PRINCIPIANTE:"Principiante",INTERMEDIO:"Intermedio",AVANZATO:"Avanzato"},W=w?" (Quick 10min)":` (${o} min)`,H=_!=="INTERMEDIO"?` - ${F[_]}`:"";return{name:`${z[i]}${H}${W}`,exercises:$}},generateFilteredStrengthWorkout=(i,o,E=45,_="INTERMEDIO")=>{let w=detailedExerciseDatabase.strength;i!=="Tutti"&&(w=w.filter(V=>V.muscleGroup===i)),o!=="Tutte"&&(w=w.filter(V=>V.equipment===o)),w.length===0&&(w=detailedExerciseDatabase.strength);let j;E<=15?j="short":E<=30?j="medium":j="long";const S=exerciseDatabase.strength.durations[j],A=parseInt(S.work),R=parseInt(S.rest),C=A+R,T=Math.floor(E*60/C),O={PRINCIPIANTE:Math.min(8,Math.ceil(E/6)),INTERMEDIO:Math.min(12,Math.ceil(E/4)),AVANZATO:Math.min(15,Math.ceil(E/3))}[_]||10,$=Math.min(T,O);let D;if(w.length>=$)D=Math.min($,w.length);else{const V=Math.min(3,Math.ceil($/w.length));D=Math.min(V*w.length,$)}D=Math.max(1,D);const I=shuffleArray(w).slice(0,D),z=[];let F=0,W=0;const H=2;for(let V=0;V<D;V++){F>=I.length&&(F=0,W++),W>=H&&I.length>1&&(F=(F+1)%I.length,W=0);const K=I[F];z.push({name:K.name,duration:S.work,rest:S.rest,muscleGroup:K.muscleGroup,equipment:K.equipment,level:K.level}),F++}const B=z;return{name:`Forza ${i==="Tutti"?"Total Body":i} - ${o==="Tutte"?"Misto":o} (${E} min)`,exercises:B}},generateFilteredHIITWorkout=(i,o,E=45,_="INTERMEDIO")=>{let w=detailedExerciseDatabase.hiit;i!=="Tutte"&&(w=w.filter(V=>V.duration===i)),o!=="Tutti"&&(w=w.filter(V=>V.level===o)),w.length===0&&(w=detailedExerciseDatabase.hiit);let j;E<=15?j="short":E<=30?j="medium":j="long";const S=exerciseDatabase.hiit.durations[j],A=parseInt(S.work),R=parseInt(S.rest),C=A+R,T=Math.floor(E*60/C),O={PRINCIPIANTE:Math.min(6,Math.ceil(E/8)),INTERMEDIO:Math.min(8,Math.ceil(E/6)),AVANZATO:Math.min(10,Math.ceil(E/4))}[_]||8,$=Math.min(T,O);let D;if(w.length>=$)D=Math.min($,w.length);else{const V=Math.min(3,Math.ceil($/w.length));D=Math.min(V*w.length,$)}D=Math.max(1,D);const I=shuffleArray(w).slice(0,D),z=[];let F=0,W=0;const H=2;for(let V=0;V<D;V++){F>=I.length&&(F=0,W++),W>=H&&I.length>1&&(F=(F+1)%I.length,W=0);const K=I[F];z.push({name:K.name,duration:S.work,rest:S.rest,level:K.level}),F++}const B=z;return{name:`HIIT ${o==="Tutti"?"Misto":o} - ${i==="Tutte"?"Personalizzato":i} (${E} min)`,exercises:B}},generateRecommendedWorkout=()=>{const i=[{category:"hiit",duration:20,name:"HIIT Total Body"},{category:"cardio",duration:25,name:"Cardio Brucia Grassi"},{category:"strength",duration:30,name:"Forza Completa"},{category:"mobility",duration:15,name:"Mobilità Dinamica"}],o=i[Math.floor(Math.random()*i.length)];return{...generateWorkout(o.category,o.duration),name:o.name}},categories=[{id:"cardio",name:"Cardio",description:"Brucia calorie e migliora la resistenza",duration:"20-45 min",icon:Heart,iconBgColor:"bg-[#004AAD]",iconColor:"#38B6FF",workouts:12},{id:"strength",name:"Forza",description:"Costruisci massa muscolare",duration:"30-60 min",icon:Dumbbell,iconBgColor:"bg-[#EF4136]",iconColor:"#BC1823",workouts:18},{id:"hiit",name:"HIIT",description:"Allenamento ad alta intensità",duration:"15-30 min",icon:Zap,iconBgColor:"bg-[#FF5757]",iconColor:"#FFD400",workouts:8},{id:"mobility",name:"Mobilità",description:"Stretching e flessibilità",duration:"10-20 min",icon:Activity,iconBgColor:"bg-[#8C52FF]",iconColor:"#FF66C4",workouts:15}],WorkoutCategories=({onStartWorkout:i})=>{const[o,E]=reactExports.useState({}),[_,w]=reactExports.useState("Tutti"),[j,S]=reactExports.useState("Tutte"),[A,R]=reactExports.useState("Tutte"),[C,T]=reactExports.useState("Tutti"),[N,O]=reactExports.useState("INTERMEDIO"),[$,D]=reactExports.useState(!1),L=H=>{H.id==="strength"||H.id==="hiit"||H.id==="cardio"||H.id==="mobility"?(E(B=>({...B,[H.id]:!B[H.id]})),H.id==="mobility"&&(O("INTERMEDIO"),D(!1))):i(H.id)},I=()=>{const H=generateFilteredStrengthWorkout(_,j,45,N);i("strength",45,H),E(B=>({...B,strength:!1}))},z=()=>{const H=generateFilteredHIITWorkout(A,C,45,N);i("hiit",45,H),E(B=>({...B,hiit:!1}))},F=(H,B)=>{i("cardio",B?10:20,void 0,H,B),E({})},W=(H,B)=>{const U=H||"INTERMEDIO",G=B!==void 0?B:!1;i("mobility",G?10:15,void 0,U,G),E({})};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(StartTodayButton,{}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:categories.map(H=>{const B=H.icon;return jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-black to-[#C89116] rounded-2xl shadow-lg border-2 border-black overflow-hidden hover:shadow-xl hover:shadow-pp-gold/20 transition-all duration-300 hover:scale-105",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("div",{className:`${H.iconBgColor} rounded-xl p-2 sm:p-3 flex items-center justify-center`,children:jsxRuntimeExports.jsx(B,{className:"h-6 w-6 sm:h-8 sm:w-8",style:{color:H.iconColor}})}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-white/80",children:[H.workouts," workout"]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold text-pp-gold mb-1 sm:mb-2",children:H.name}),jsxRuntimeExports.jsx("p",{className:"text-white text-xs sm:text-sm mb-2 sm:mb-3",children:H.description}),H.id==="strength"&&o[H.id]&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Gruppo Muscolare"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["Tutti","Petto","Schiena","Spalle","Braccia","Gambe","Core"].map(U=>jsxRuntimeExports.jsx("button",{onClick:()=>w(U),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${_===U?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:U},U))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Attrezzatura"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["Tutte","Corpo libero","Manubri","Bilanciere","Elastici","Kettlebell"].map(U=>jsxRuntimeExports.jsx("button",{onClick:()=>S(U),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${j===U?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:U},U))})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-3 border-t border-gray-600",children:jsxRuntimeExports.jsx(Button$1,{onClick:I,className:"w-full bg-[#EEBA2B] hover:bg-[#D4A017] text-black font-semibold",children:"AVVIA ALLENAMENTO FORZA"})})]})}),H.id==="hiit"&&o[H.id]&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Durata"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["Tutte","5-10 min","15-20 min","25-30 min"].map(U=>jsxRuntimeExports.jsx("button",{onClick:()=>R(U),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${A===U?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:U},U))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Livello"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["Tutti","Principiante","Intermedio","Avanzato"].map(U=>jsxRuntimeExports.jsx("button",{onClick:()=>T(U),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${C===U?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:U},U))})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-3 border-t border-gray-600",children:jsxRuntimeExports.jsx(Button$1,{onClick:z,className:"w-full bg-[#EEBA2B] hover:bg-[#D4A017] text-black font-semibold",children:"AVVIA ALLENAMENTO HIIT"})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white/80",children:H.duration}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>L(H),className:"bg-black hover:bg-gray-900 text-white border border-white/20",children:"Inizia"})]})]}),H.id==="cardio"&&o[H.id]&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Livello"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["Principiante","Intermedio","Avanzato"].map(U=>jsxRuntimeExports.jsx("button",{onClick:()=>O(U.toUpperCase()),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${N===U.toUpperCase()?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:U},U))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Modalità"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(!1),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${$?"bg-gray-700 text-white hover:bg-gray-600":"bg-[#EEBA2B] text-black"}`,children:"⏱️ Standard"}),jsxRuntimeExports.jsx("button",{onClick:()=>D(!0),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${$?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"⚡ Quick 10min"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-3 border-t border-gray-600",children:jsxRuntimeExports.jsx(Button$1,{onClick:()=>F(N,$),className:"w-full bg-[#EEBA2B] hover:bg-[#D4A017] text-black font-semibold",children:"AVVIA ALLENAMENTO CARDIO"})})]})}),H.id==="mobility"&&o[H.id]&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Livello"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:["Principiante","Intermedio","Avanzato"].map(U=>jsxRuntimeExports.jsx("button",{onClick:()=>O(U.toUpperCase()),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${N===U.toUpperCase()?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:U},U))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2 text-sm",children:"Modalità"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>D(!1),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${$?"bg-gray-700 text-white hover:bg-gray-600":"bg-[#EEBA2B] text-black"}`,children:"⏱️ Standard"}),jsxRuntimeExports.jsx("button",{onClick:()=>D(!0),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${$?"bg-[#EEBA2B] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"⚡ Quick 10min"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-3 border-t border-gray-600",children:jsxRuntimeExports.jsx(Button$1,{onClick:()=>{W(N,$)},className:"w-full bg-[#EEBA2B] hover:bg-[#D4A017] text-black font-semibold",children:"AVVIA ALLENAMENTO MOBILITÀ"})})]})})]},H.id)})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-black to-[#C89116] rounded-2xl p-4 sm:p-6 border-2 border-black",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-1 sm:mb-2 text-pp-gold",children:"Consigliato per Oggi"}),jsxRuntimeExports.jsx("p",{className:"text-white mb-3 sm:mb-4 text-sm sm:text-base",children:"HIIT Total Body - Perfetto per il tuo livello"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>i("recommended"),className:"bg-black text-white hover:bg-gray-900 border border-white/20",children:"Inizia Workout"})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx(Zap,{className:"h-16 w-16 text-white"})})]})})]})},exerciseDescriptions={"Jumping Jacks":"Salta aprendo e chiudendo gambe e braccia contemporaneamente. Mantieni il ritmo costante e atterra dolcemente sulle punte dei piedi.","Saltelli Laterali":"Corri sul posto portando le ginocchia il più in alto possibile, alternando velocemente. Mantieni il busto dritto e usa le braccia.",Burpees:"Dalla posizione eretta, scendi in squat, salta indietro in plank, fai un push-up, salta in avanti e poi verso l'alto.",Scalatori:"In posizione plank, porta alternativamente le ginocchia al petto come se stessi scalando. Mantieni il core contratto.","Sprint sul posto":"Corri sul posto il più velocemente possibile, sollevando le ginocchia e muovendo attivamente le braccia.","Jump Squats":"Esegui uno squat normale, poi salta esplosivamente verso l'alto. Atterra dolcemente e ripeti immediatamente.","Saltelli in Plank":"In posizione plank, salta aprendo e chiudendo le gambe mantenendo braccia ferme. Il core deve rimanere stabile.","Saltelli da Pattinatore":"Salta lateralmente da una gamba all'altra, simulando il movimento del pattinaggio. Mantieni l'equilibrio.","Movimento Incrociato":"Alterna il movimento di gambe e braccia opposte, come su un cross trainer. Mantieni il ritmo veloce.","Calci ai Glutei":"Corri sul posto portando i talloni verso i glutei. Alterna velocemente e mantieni il busto dritto.","Passi Laterali":"Muoviti lateralmente mantenendo una posizione semi-accovacciata. Non incrociare mai le gambe.","Saltelli al Petto":"Salta portando le ginocchia al petto. Atterra dolcemente e ripeti immediatamente con esplosività.","Box Steps":"Sali e scendi da una superficie elevata alternando le gambe. Mantieni il controllo in ogni movimento.","Camminata dell'Orso":"Cammina a quattro zampe mantenendo ginocchia sollevate da terra. Muovi braccia e gambe opposte.","Saltelli a Rana":"Dalla posizione accovacciata, salta in avanti come una rana. Atterra in squat e ripeti.","Ginocchia al Petto":"Porta esplosivamente il ginocchio verso il petto alternando le gambe. Usa le braccia per bilanciare.",Flessioni:"Sdraiati a pancia in giù, mani sotto le spalle. Spingi il corpo su e giù mantenendo la linea retta dalla testa ai piedi.",Plank:"Mantieni la posizione come un push-up ma sui gomiti. Il corpo deve formare una linea retta, contrai addominali.","Pike Flessioni":"In posizione a V rovesciata, scendi con la testa verso il suolo. Ottimo per sviluppare le spalle.","Tricep Dips":"Seduto sul bordo di una sedia, scendi e sali usando solo le braccia. Mantieni il corpo vicino alla sedia.",Squats:"Scendi come se ti stessi sedendo su una sedia invisibile. Ginocchia dietro le punte dei piedi, peso sui talloni.",Affondi:"Fai un passo avanti e scendi fino a 90° su entrambe le ginocchia. Alterna le gambe.","Sedia al Muro":"Con schiena contro il muro, scendi come seduto su una sedia. Mantieni la posizione il più a lungo possibile.","Glute Bridges":"Sdraiato sulla schiena, solleva i fianchi contraendo i glutei. Mantieni in alto e scendi lentamente.",Superman:"Sdraiato a pancia in giù, solleva contemporaneamente braccia e gambe. Contrai i muscoli della schiena.","Controllo Core":"Sulla schiena, muovi braccia e gambe opposte senza muovere la schiena. Mantieni il core stabile.","Russian Twists":"Seduto, ruota il busto da lato a lato. Per aumentare difficoltà solleva i piedi da terra.","Single Leg Deadlift":"Su una gamba, inclina in avanti mantenendo la schiena dritta. L'altra gamba si alza dietro.","Dip sulla Sedia":"Usa una sedia stabile, scendi e sali usando i tricipiti. Mantieni i gomiti vicini al corpo.","Calf Raises":"Solleva sui talloni il più in alto possibile, poi scendi lentamente. Senti il lavoro sui polpacci.","Side Plank":"Su un fianco, mantieni il corpo dritto supportato da un braccio. Alterna i lati.","Apertura Inversa":"Braccia aperte, porta le scapole insieme. Simula il movimento di aprire le ali.","Burpees esplosivi":"Come i burpees normali ma ogni movimento deve essere esplosivo e potente. Massima intensità.","Spinte in Squat":"Dalla posizione eretta, scendi in squat e salta indietro in plank, poi torna su. Senza push-up.","Passi Veloce":"Piccoli passi rapidissimi sul posto. Le gambe devono muoversi il più velocemente possibile.","Explosive Flessioni":"Push-up con spinta esplosiva che fa staccare le mani da terra. Atterra controllato.","Affondi Saltati":"Alterna le gambe saltando da un affondo all'altro. Movimento esplosivo e continuo.","Saltelli a Stella":"Salta aprendo braccia e gambe per formare una stella, poi chiudi. Movimento ampio ed esplosivo.","Pattinatori Veloce":"Salta lateralmente con potenza da una gamba all'altra. Simula il movimento del pattinaggio veloce.","Power Punches":"Pugni veloci alternati con massima potenza. Ruota il busto e coinvolgi tutto il corpo.","Passi Rapidi":"Passi rapidissimi avanti e indietro o laterali. Mantieni sempre il controllo.","Onde con le Braccia":"Simula il movimento delle battle ropes muovendo le braccia su e giù alternativamente.","Gatto e Mucca":"A quattro zampe, alterna incurvando e inarcando la schiena. Movimento fluido e controllato.","Cerchi con i Fianchi":"In piedi o a quattro zampe, fai rotazioni ampie con i fianchi. Cambia direzione regolarmente.","Rotazioni delle Spalle":"Ruota le spalle avanti e indietro con movimenti ampi. Rilassa la tensione del collo.","Oscillazioni delle Gambe":"Appoggiato a un muro, oscilla la gamba avanti e indietro o lateralmente. Movimento controllato.","Cerchi con le Braccia":"Braccia tese, fai cerchi sempre più ampi. Cambia direzione per lavorare tutti i muscoli.","Rotazioni del Collo":"Ruota delicatamente la testa in cerchio. Non forzare, movimento lento e controllato.","Cerchi con le Caviglie":"Seduto o in piedi, ruota le caviglie in entrambe le direzioni. Movimento ampio.","Giro del Busto":"Seduto, ruota il busto mantenendo i fianchi fermi. Alterna i lati dolcemente.","Allungamento Posteriori":"Allunga i muscoli posteriori della coscia. Mantieni la posizione senza rimbalzare.","Allungamento Quadricipiti":"Porta il tallone verso il gluteo allungando il quadricipite. Mantieni l'equilibrio.","Apertura del Petto":"Apri il petto portando le braccia indietro. Contrasta la postura chiusa quotidiana.","Flessione Laterale":"Inclina lateralmente il busto allungando il fianco. Movimento fluido senza forzare.","Piegamento in Avanti":"Piegati in avanti dalle anche, non dalla schiena. Lascia che la gravità aiuti.","Posizione del Bambino":"Inginocchiato, siedi sui talloni e allunga le braccia avanti. Posizione di rilassamento.","Posizione del Cobra":"Sdraiato a pancia in giù, spingi con le braccia per sollevare il petto. Delicato per la schiena.","Allungamento Fianchi":"Una gamba piegata avanti, l'altra distesa dietro. Allunga profondamente i fianchi."},exerciseGifs={"Jumping Jacks":"https://example.com/gifs/jumping-jacks.gif","Saltelli Laterali":"https://example.com/gifs/saltelli-laterali.gif",Burpees:"https://example.com/gifs/burpees.gif",Scalatori:"https://example.com/gifs/scalatori.gif","Sprint sul posto":"https://example.com/gifs/sprint-sul-posto.gif","Jump Squats":"https://example.com/gifs/jump-squats.gif","Saltelli in Plank":"https://example.com/gifs/saltelli-in-plank.gif","Saltelli da Pattinatore":"https://example.com/gifs/saltelli-da-pattinatore.gif","Movimento Incrociato":"https://example.com/gifs/movimento-incrociato.gif","Calci ai Glutei":"https://example.com/gifs/calci-ai-glutei.gif","Passi Laterali":"https://example.com/gifs/passi-laterali.gif","Saltelli al Petto":"https://example.com/gifs/saltelli-al-petto.gif","Box Steps":"https://example.com/gifs/box-steps.gif","Camminata dell'Orso":"https://example.com/gifs/camminata-dell-orso.gif","Saltelli a Rana":"https://example.com/gifs/saltelli-a-rana.gif","Ginocchia al Petto":"https://example.com/gifs/ginocchia-al-petto.gif",Flessioni:"https://example.com/gifs/flessioni.gif","Pike Flessioni":"https://example.com/gifs/pike-flessioni.gif","Flessioni Inclinate":"https://example.com/gifs/flessioni-inclinate.gif","Flessioni Declinate":"https://example.com/gifs/flessioni-declinate.gif","Panca Piana":"https://example.com/gifs/panca-piana.gif","Panca Inclinata":"https://example.com/gifs/panca-inclinata.gif","Panca Declinata":"https://example.com/gifs/panca-declinata.gif","Bench Press":"https://example.com/gifs/bench-press.gif","Incline Bench Press":"https://example.com/gifs/incline-bench-press.gif","Decline Bench Press":"https://example.com/gifs/decline-bench-press.gif","Dumbbell Press":"https://example.com/gifs/dumbbell-press.gif","Cable Crossover":"https://example.com/gifs/cable-crossover.gif","Chest Press":"https://example.com/gifs/chest-press.gif",Aperture:"https://example.com/gifs/aperture.gif","Chest Press Inclinato":"https://example.com/gifs/chest-press-inclinato.gif","Chest Press Declinato":"https://example.com/gifs/chest-press-declinato.gif","Aperture Inclinate":"https://example.com/gifs/aperture-inclinate.gif","Aperture Declinate":"https://example.com/gifs/aperture-declinate.gif",Pullover:"https://example.com/gifs/pullover.gif","Chest Fly":"https://example.com/gifs/chest-fly.gif",Superman:"https://example.com/gifs/superman.gif",Remata:"https://example.com/gifs/remata.gif","Pull-ups":"https://example.com/gifs/pull-ups.gif","Lat Machine":"https://example.com/gifs/lat-machine.gif","Remata con Bilanciere":"https://example.com/gifs/remata-con-bilanciere.gif","Remata Inclinata":"https://example.com/gifs/remata-inclinata.gif","T-Bar Row":"https://example.com/gifs/t-bar-row.gif",Pulldown:"https://example.com/gifs/pulldown.gif","Cable Row":"https://example.com/gifs/cable-row.gif",Deadlift:"https://example.com/gifs/deadlift.gif","Bent Over Row":"https://example.com/gifs/bent-over-row.gif","Remata con Manubri":"https://example.com/gifs/remata-con-manubri.gif","Remata Inclinata con Manubri":"https://example.com/gifs/remata-inclinata-con-manubri.gif","Remata Unilaterale":"https://example.com/gifs/remata-unilaterale.gif","Remata Piegata":"https://example.com/gifs/remata-piegata.gif","Reverse Fly con Manubri":"https://example.com/gifs/reverse-fly-con-manubri.gif","T-Raises":"https://example.com/gifs/t-raises.gif","W-Raises":"https://example.com/gifs/w-raises.gif","Remata Alta":"https://example.com/gifs/remata-alta.gif","Alzate Laterali":"https://example.com/gifs/alzate-laterali.gif","Alzate Frontali":"https://example.com/gifs/alzate-frontali.gif","Military Press":"https://example.com/gifs/military-press.gif","Arnold Press":"https://example.com/gifs/arnold-press.gif","Shoulder Press con Manubri":"https://example.com/gifs/shoulder-press-con-manubri.gif","Alzate Laterali Inclinate":"https://example.com/gifs/alzate-laterali-inclinate.gif","Alzate Posteriori":"https://example.com/gifs/alzate-posteriori.gif","Lateral Raises":"https://example.com/gifs/lateral-raises.gif","Front Raises":"https://example.com/gifs/front-raises.gif","Upright Row con Manubri":"https://example.com/gifs/upright-row-con-manubri.gif","Shrugs con Manubri":"https://example.com/gifs/shrugs-con-manubri.gif","Tricep Dips":"https://example.com/gifs/tricep-dips.gif","Dip sulla Sedia":"https://example.com/gifs/dip-sulla-sedia.gif","Curl con Manubri":"https://example.com/gifs/curl-con-manubri.gif","French Press":"https://example.com/gifs/french-press.gif","Hammer Curl":"https://example.com/gifs/hammer-curl.gif","Curl Concentrato":"https://example.com/gifs/curl-concentrato.gif","Curl a Martello":"https://example.com/gifs/curl-a-martello.gif","Curl Alternato":"https://example.com/gifs/curl-alternato.gif","Curl 21":"https://example.com/gifs/curl-21.gif","Tricep Extension":"https://example.com/gifs/tricep-extension.gif","Tricep Kickback":"https://example.com/gifs/tricep-kickback.gif","Overhead Tricep Extension":"https://example.com/gifs/overhead-tricep-extension.gif",Squats:"https://example.com/gifs/squats.gif",Affondi:"https://example.com/gifs/affondi.gif","Squat con Manubri":"https://example.com/gifs/squat-con-manubri.gif",Stacchi:"https://example.com/gifs/stacchi.gif","Squat con Bilanciere":"https://example.com/gifs/squat-con-bilanciere.gif","Front Squat":"https://example.com/gifs/front-squat.gif","Overhead Squat":"https://example.com/gifs/overhead-squat.gif","Sumo Deadlift":"https://example.com/gifs/sumo-deadlift.gif","Romanian Deadlift":"https://example.com/gifs/romanian-deadlift.gif","Lunges con Bilanciere":"https://example.com/gifs/lunges-con-bilanciere.gif","Bulgarian Split Squat":"https://example.com/gifs/bulgarian-split-squat.gif","Single Leg Deadlift":"https://example.com/gifs/single-leg-deadlift.gif","Calf Raises":"https://example.com/gifs/calf-raises.gif","Goblet Squat":"https://example.com/gifs/goblet-squat.gif",Swing:"https://example.com/gifs/swing.gif","Affondi con Manubri":"https://example.com/gifs/affondi-con-manubri.gif","Affondi Laterali con Manubri":"https://example.com/gifs/affondi-laterali-con-manubri.gif","Affondi Camminando":"https://example.com/gifs/affondi-camminando.gif","Stacchi Rumeni con Manubri":"https://example.com/gifs/stacchi-rumeni-con-manubri.gif","Step-up con Manubri":"https://example.com/gifs/step-up-con-manubri.gif","Calf Raises con Manubri":"https://example.com/gifs/calf-raises-con-manubri.gif",Plank:"https://example.com/gifs/plank.gif","Side Plank":"https://example.com/gifs/side-plank.gif","Russian Twists":"https://example.com/gifs/russian-twists.gif","Mountain Climbers":"https://example.com/gifs/mountain-climbers.gif",Crunch:"https://example.com/gifs/crunch.gif","Leg Raises":"https://example.com/gifs/leg-raises.gif","Dead Bug":"https://example.com/gifs/dead-bug.gif","Glute Bridges":"https://example.com/gifs/glute-bridges.gif","Sedia al Muro":"https://example.com/gifs/sedia-al-muro.gif","Controllo Core":"https://example.com/gifs/controllo-core.gif","Apertura Inversa":"https://example.com/gifs/apertura-inversa.gif","Burpees esplosivi":"https://example.com/gifs/burpees-esplosivi.gif","Spinte in Squat":"https://example.com/gifs/spinte-in-squat.gif","Passi Veloce":"https://example.com/gifs/passi-veloce.gif","Explosive Flessioni":"https://example.com/gifs/explosive-flessioni.gif","Affondi Saltati":"https://example.com/gifs/affondi-saltati.gif","Saltelli a Stella":"https://example.com/gifs/saltelli-a-stella.gif","Pattinatori Veloce":"https://example.com/gifs/pattinatori-veloce.gif","Power Punches":"https://example.com/gifs/power-punches.gif","Passi Rapidi":"https://example.com/gifs/passi-rapidi.gif","Onde con le Braccia":"https://example.com/gifs/onde-con-le-braccia.gif","Gatto e Mucca":"https://example.com/gifs/gatto-e-mucca.gif","Cerchi con i Fianchi":"https://example.com/gifs/cerchi-con-i-fianchi.gif","Rotazioni delle Spalle":"https://example.com/gifs/rotazioni-delle-spalle.gif","Oscillazioni delle Gambe":"https://example.com/gifs/oscillazioni-delle-gambe.gif","Cerchi con le Braccia":"https://example.com/gifs/cerchi-con-le-braccia.gif","Rotazioni del Collo":"https://example.com/gifs/rotazioni-del-collo.gif","Cerchi con le Caviglie":"https://example.com/gifs/cerchi-con-le-caviglie.gif","Giro del Busto":"https://example.com/gifs/giro-del-busto.gif","Allungamento Posteriori":"https://example.com/gifs/allungamento-posteriori.gif","Allungamento Quadricipiti":"https://example.com/gifs/allungamento-quadricipiti.gif","Apertura del Petto":"https://example.com/gifs/apertura-del-petto.gif","Flessione Laterale":"https://example.com/gifs/flessione-laterale.gif","Piegamento in Avanti":"https://example.com/gifs/piegamento-in-avanti.gif","Posizione del Bambino":"https://example.com/gifs/posizione-del-bambino.gif","Posizione del Cobra":"https://example.com/gifs/posizione-del-cobra.gif","Allungamento Fianchi":"https://example.com/gifs/allungamento-fianchi.gif"},getExerciseGifUrl=i=>exerciseGifs[i]||"https://example.com/gifs/default-exercise.gif",ExerciseGifLink=({exerciseName:i,className:o=""})=>{const[E,_]=reactExports.useState(!1),w=A=>getExerciseGifUrl(A),j=A=>exerciseDescriptions[A]||"Descrizione non disponibile per questo esercizio.",S=()=>{_(!E)};return jsxRuntimeExports.jsxs("div",{className:`relative ${o}`,children:[jsxRuntimeExports.jsxs(Button$1,{onClick:S,variant:"ghost",size:"sm",className:"text-pp-gold hover:text-yellow-400 hover:bg-pp-gold/10 p-1 h-auto",title:"Visualizza GIF dell'esercizio",children:[jsxRuntimeExports.jsx(Play,{className:"h-4 w-4 mr-1"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"GIF"})]}),E&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4",style:{zIndex:99999},children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 rounded-xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold text-lg",children:i}),jsxRuntimeExports.jsx(Button$1,{onClick:S,variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-800",children:jsxRuntimeExports.jsx("p",{className:"text-white text-sm leading-relaxed",children:j(i)})}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"aspect-video bg-gray-800 rounded-lg flex items-center justify-center relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 to-black/80 flex items-center justify-center rounded-lg z-10",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-white p-6",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-pp-gold to-yellow-400 text-black px-6 py-3 rounded-full font-semibold text-sm shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-pulse"}),jsxRuntimeExports.jsx("span",{children:"IN FASE DI SVILUPPO"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-black rounded-full animate-pulse"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-xs mt-3 opacity-75",children:"GIF dimostrativa in arrivo"})]})}),jsxRuntimeExports.jsx("img",{src:w(i),alt:`GIF dimostrativa per ${i}`,className:"max-w-full max-h-full object-contain rounded-lg opacity-0"})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-700",children:jsxRuntimeExports.jsx(Button$1,{onClick:S,className:"w-full bg-pp-gold hover:bg-yellow-600 text-black font-semibold",children:"Chiudi"})})]})})]})},ExerciseCard=({exercise:i,onStart:o,onToggleComplete:E,isCompleted:_,index:w,timer:j})=>{const[S,A]=reactExports.useState(window.innerHeight);reactExports.useEffect(()=>{const T=()=>{A(window.innerHeight),document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)};return window.addEventListener("resize",T),window.addEventListener("orientationchange",T),T(),()=>{window.removeEventListener("resize",T),window.removeEventListener("orientationchange",T)}},[]);const R=T=>{T.preventDefault(),T.stopPropagation(),navigator.vibrate&&navigator.vibrate(50),typeof o=="function"?o():console.error("onStart non è una funzione valida")},C=T=>{T.preventDefault(),T.stopPropagation(),navigator.vibrate&&navigator.vibrate([50,50,50]),typeof E=="function"&&E(w)};return jsxRuntimeExports.jsx(Card,{className:"bg-black border-2 border-[#EEBA2B] rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4 min-h-[80px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:w+1}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-white text-lg leading-tight truncate",children:i.name}),jsxRuntimeExports.jsx(ExerciseGifLink,{exerciseName:i.name})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70 truncate mb-2",children:i.duration}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70 truncate",children:["Riposo: ",i.rest]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-2 flex-shrink-0",children:[jsxRuntimeExports.jsx(Button$1,{onClick:R,onTouchEnd:R,size:"sm",className:"btn-avvia animate-scale-in hover-scale min-h-[44px] px-4 py-2 text-sm font-semibold bg-purple-600 hover:bg-purple-700 text-white",type:"button","aria-label":`Avvia ${i.name}`,children:"AVVIA"}),jsxRuntimeExports.jsx(Button$1,{onClick:C,onTouchEnd:C,size:"sm",className:`btn-completato animate-scale-in hover-scale min-h-[44px] px-4 py-2 text-sm font-semibold ${_?"bg-green-500 hover:bg-green-600 text-white border-green-500":"bg-green-500 hover:bg-green-600 text-white"}`,type:"button","aria-label":`Completa ${i.name}`,children:_?"✓ FATTO":"COMPLETA →"})]})]})})})},parseTimeToSeconds=i=>i.includes("min")?parseInt(i)*60:i.includes("s")?parseInt(i):30,formatTime=i=>{const o=Math.floor(i/60),E=i%60;return`${o.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`},workoutData={cardio:{name:"Cardio Brucia Grassi",exercises:[{name:"Jumping Jacks",duration:"30s",rest:"10s"},{name:"Saltelli Laterali",duration:"30s",rest:"10s"},{name:"Burpees",duration:"30s",rest:"15s"},{name:"Scalatori",duration:"30s",rest:"10s"}]},strength:{name:"Forza Upper Body",exercises:[{name:"Flessioni",duration:"45s",rest:"15s"},{name:"Plank",duration:"60s",rest:"20s"},{name:"Pike Flessioni",duration:"45s",rest:"15s"},{name:"Tricep Dips",duration:"45s",rest:"15s"}]},recommended:{name:"HIIT Total Body",exercises:[{name:"Squat Jumps",duration:"45s",rest:"15s"},{name:"Push-up to T",duration:"45s",rest:"15s"},{name:"Saltelli in Plank",duration:"45s",rest:"15s"},{name:"Affondi Saltati",duration:"45s",rest:"15s"}]},hiit:{name:"HIIT Intenso",exercises:[{name:"Sprint sul posto",duration:"30s",rest:"10s"},{name:"Jump Squats",duration:"30s",rest:"10s"},{name:"Burpees esplosivi",duration:"30s",rest:"15s"},{name:"Saltelli Laterali",duration:"30s",rest:"10s"}]},mobility:{name:"Mobilità e Stretching",exercises:[{name:"Gatto e Mucca",duration:"60s",rest:"10s"},{name:"Cerchi con i Fianchi",duration:"45s",rest:"10s"},{name:"Rotazioni delle Spalle",duration:"45s",rest:"10s"},{name:"Oscillazioni delle Gambe",duration:"60s",rest:"15s"}]}},ActiveWorkout=({workoutId:i,generatedWorkout:o,onClose:E,onStartExercise:_})=>{var F,W,H,B,U;const[w,j]=reactExports.useState([]),[S,A]=reactExports.useState(window.innerHeight),{user:R}=useAuth(),[C,T]=reactExports.useState({}),N=o||workoutData[i];if(reactExports.useEffect(()=>{const G=()=>{A(window.innerHeight),document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)};return window.addEventListener("resize",G),window.addEventListener("orientationchange",G),G(),()=>{window.removeEventListener("resize",G),window.removeEventListener("orientationchange",G)}},[]),reactExports.useEffect(()=>{const G=setInterval(()=>{T(V=>{const K={...V};return Object.keys(K).forEach(je=>{const Z=parseInt(je),fe=K[Z];fe&&fe.isActive&&fe.timeRemaining>0?K[Z]={...fe,timeRemaining:fe.timeRemaining-1}:fe&&fe.isActive&&fe.timeRemaining===0&&(fe.isResting?(K[Z]={...fe,isActive:!1,isCompleted:!0},w.includes(Z)||j(Ae=>[...Ae,Z])):K[Z]={...fe,isResting:!0,timeRemaining:fe.totalRestTime})}),K})},1e3);return()=>clearInterval(G)},[w]),!N)return jsxRuntimeExports.jsxs("div",{className:"text-white text-center",children:[jsxRuntimeExports.jsx("p",{children:"Allenamento non trovato"}),jsxRuntimeExports.jsx(Button$1,{onClick:E,className:"mt-4",children:"Torna indietro"})]});const O=G=>{w.includes(G)?j(w.filter(V=>V!==G)):j([...w,G])},$=(G,V)=>{const K=parseTimeToSeconds(V.duration),je=parseTimeToSeconds(V.rest);T(Z=>({...Z,[G]:{isActive:!0,isResting:!1,timeRemaining:K,totalWorkTime:K,totalRestTime:je,isCompleted:!1}}))},D=G=>{T(V=>{var K;return{...V,[G]:{...V[G],isActive:!((K=V[G])!=null&&K.isActive)}}})},L=(G,V)=>{const K=parseTimeToSeconds(V.duration),je=parseTimeToSeconds(V.rest);T(Z=>({...Z,[G]:{isActive:!1,isResting:!1,timeRemaining:K,totalWorkTime:K,totalRestTime:je,isCompleted:!1}}))},I=async()=>{if(!(!R||!N.exercises))try{const G=N.exercises.reduce((V,K)=>{const je=parseInt(K.duration)||30,Z=parseInt(K.rest)||10;return V+(je+Z)/60},0);try{const{error:V}=await supabase.from("user_workout_stats").upsert({user_id:R.id,total_workouts:1,total_hours:Math.round(G),updated_at:new Date().toISOString()},{onConflict:"user_id",ignoreDuplicates:!1});V?console.warn("Errore aggiornamento statistiche (non bloccante):",V):ue.success("Allenamento completato! Statistiche aggiornate.")}catch(V){console.warn("user_workout_stats table not available:",V),ue.success("Allenamento completato!")}}catch(G){console.error("Errore durante il completamento:",G)}},z=G=>{G.preventDefault(),G.stopPropagation(),navigator.vibrate&&navigator.vibrate([100,50,100]),I(),E()};return jsxRuntimeExports.jsxs("div",{className:"bg-black rounded-2xl shadow-sm overflow-hidden border-2 border-[#EEBA2B] animate-fade-in",style:{maxHeight:"calc(100vh - 120px)"},children:[jsxRuntimeExports.jsxs("div",{className:"p-6 bg-gradient-to-r from-pp-gold to-yellow-600 animate-slide-in-right",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-black animate-scale-in",children:N.name}),jsxRuntimeExports.jsx(Button$1,{onClick:E,variant:"ghost",size:"sm",className:"text-black hover:text-pp-gold hover:bg-black/10 hover-scale",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 bg-black/20 rounded-full h-2 animate-fade-in",children:jsxRuntimeExports.jsx("div",{className:"bg-black rounded-full h-2 transition-all duration-500 animate-scale-in",style:{width:`${w.length/(((F=N.exercises)==null?void 0:F.length)||1)*100}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-black mt-2 font-medium animate-fade-in",children:["COMPLETA TUTTI GLI ESERCIZI • ",((W=N.exercises)==null?void 0:W.length)||0," ESERCIZI"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 bg-black overflow-y-auto",style:{maxHeight:"calc(100vh - 400px)"},children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 pb-8",children:[(H=N.exercises)==null?void 0:H.map((G,V)=>{const K=C[V],je=(K==null?void 0:K.isActive)||!1,Z=(K==null?void 0:K.isResting)||!1,fe=(K==null?void 0:K.timeRemaining)||0,Ae=(K==null?void 0:K.isCompleted)||w.includes(V);return jsxRuntimeExports.jsxs("div",{className:"animate-fade-in",style:{animationDelay:`${V*.1}s`},children:[je&&jsxRuntimeExports.jsxs("div",{className:"mb-3 p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-white font-bold text-2xl mb-1",children:formatTime(fe)}),jsxRuntimeExports.jsx("div",{className:"text-white/80 text-sm",children:Z?"RECUPERO":"ESERCIZIO"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:()=>D(V),size:"sm",variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:K!=null&&K.isActive?jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Play,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>L(V,G),size:"sm",variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:jsxRuntimeExports.jsx(RotateCcw,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx(ExerciseCard,{exercise:G,index:V,isCompleted:Ae,onToggleComplete:O,onStart:()=>$(V,G)})]},`${G.name}-${V}`)}),(!N.exercises||N.exercises.length===0)&&jsxRuntimeExports.jsx("p",{className:"text-white animate-fade-in text-center py-8",children:"NESSUN ESERCIZIO DISPONIBILE"})]}),w.length===(((B=N.exercises)==null?void 0:B.length)||0)&&((U=N.exercises)==null?void 0:U.length)>0&&jsxRuntimeExports.jsxs("div",{className:"action-buttons-container bg-green-500/20 border border-green-500/50 rounded-lg p-4 text-center animate-scale-in",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-8 w-8 text-green-400 mx-auto mb-2 animate-pulse"}),jsxRuntimeExports.jsx("p",{className:"text-green-400 font-semibold uppercase",children:"ALLENAMENTO COMPLETATO! 🎉"}),jsxRuntimeExports.jsx(Button$1,{onClick:z,className:"btn-termina-sessione mt-3 animate-fade-in min-h-[48px] px-6 py-3 text-base font-semibold",type:"button","aria-label":"Termina sessione allenamento",children:"TERMINA SESSIONE"})]})]})]})},WorkoutTimer=({workoutType:i,onTimerComplete:o,autoStartTime:E,autoStartRest:_})=>{const{t:w}=useTranslation(),[j,S]=reactExports.useState(0),[A,R]=reactExports.useState(!1),[C,T]=reactExports.useState(""),[N,O]=reactExports.useState(""),[$,D]=reactExports.useState(""),[L,I]=reactExports.useState(!1),[z,F]=reactExports.useState(!1),[W,H]=reactExports.useState(null),B=useLocation();reactExports.useEffect(()=>{["/workouts","/timer"].some(Oe=>B.pathname.startsWith(Oe))||(S(0),R(!1),T(""),O(""),D(""),I(!1),F(!1),H(null))},[B.pathname]),reactExports.useEffect(()=>{if(E){const fe=E.hours*3600+E.minutes*60+E.seconds;S(fe),T(E.hours.toString()),O(E.minutes.toString()),D(E.seconds.toString()),I(!0),R(!0),F(!1),_&&H(_)}},[E,_]),reactExports.useEffect(()=>{let fe;return A&&(fe=setInterval(()=>{S(Ae=>{if(L&&Ae>0)return Ae-1;if(L&&Ae<=0)if(!z&&W){const Oe=W.hours*3600+W.minutes*60+W.seconds;return F(!0),Oe}else return R(!1),F(!1),H(null),o&&o(),0;else return Ae+1})},1e3)),()=>clearInterval(fe)},[A,L,o,z,W]);const U=fe=>{const Ae=Math.floor(fe/3600),Oe=Math.floor(fe%3600/60),Pe=fe%60;return`${Ae.toString().padStart(2,"0")}:${Oe.toString().padStart(2,"0")}:${Pe.toString().padStart(2,"0")}`},G=()=>{if(!A&&(C||N||$)){const fe=(parseInt(C)||0)*3600+(parseInt(N)||0)*60+(parseInt($)||0);fe>0&&(S(fe),I(!0))}else!A&&!C&&!N&&!$&&I(!1);R(!A)},V=()=>{S(0),R(!1),I(!1),F(!1),H(null),T(""),O(""),D("")},K=fe=>{const Ae=fe.target.value;/^\d*$/.test(Ae)&&parseInt(Ae)<=23&&T(Ae)},je=fe=>{const Ae=fe.target.value;/^\d*$/.test(Ae)&&parseInt(Ae)<=59&&O(Ae)},Z=fe=>{const Ae=fe.target.value;/^\d*$/.test(Ae)&&parseInt(Ae)<=59&&D(Ae)};return jsxRuntimeExports.jsx("div",{className:"w-full rounded-2xl p-8 shadow-sm border-2 border-[#EEBA2B]",style:{background:"radial-gradient(circle at 50% 50%, #000000, #bf8b16)"},children:jsxRuntimeExports.jsxs("div",{className:"text-center w-full",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("div",{className:"text-5xl lg:text-6xl font-mono font-bold mb-4 text-white",children:U(j)}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-lg",children:w(z?"timer.restTime":"timer.workoutTime")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-4 flex-nowrap",children:[jsxRuntimeExports.jsx(Button$1,{onClick:G,size:"lg",className:"bg-green-500 hover:bg-green-600 h-12 w-16 text-black flex-shrink-0",children:A?jsxRuntimeExports.jsx(Pause,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(Play,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("input",{type:"text",value:C,onChange:K,placeholder:w("timer.hours")||"ore",className:"w-12 md:w-16 h-12 text-center border border-gray-300 rounded px-1 md:px-2 bg-white text-black font-medium text-sm md:text-base flex-shrink-0"}),jsxRuntimeExports.jsx("input",{type:"text",value:N,onChange:je,placeholder:w("timer.minutes")||"min",className:"w-12 md:w-16 h-12 text-center border border-gray-300 rounded px-1 md:px-2 bg-white text-black font-medium text-sm md:text-base flex-shrink-0"}),jsxRuntimeExports.jsx("input",{type:"text",value:$,onChange:Z,placeholder:w("timer.seconds")||"sec",className:"w-12 md:w-16 h-12 text-center border border-gray-300 rounded px-1 md:px-2 bg-white text-black font-medium text-sm md:text-base flex-shrink-0"}),jsxRuntimeExports.jsx(Button$1,{onClick:V,size:"lg",className:"bg-[#EEBA2B] hover:bg-[#d4a61a] h-12 w-16 text-black flex-shrink-0",children:jsxRuntimeExports.jsx(RotateCcw,{className:"h-6 w-6"})})]})]})})},CustomWorkoutDisplay=({workout:i,onClose:o})=>{const[E,_]=reactExports.useState(0),[w,j]=reactExports.useState([]),[S]=reactExports.useState(Date.now()),[A,R]=reactExports.useState(window.innerHeight),C=i.exercises||[];reactExports.useEffect(()=>{const F=()=>{R(window.innerHeight),document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)};return window.addEventListener("resize",F),window.addEventListener("orientationchange",F),F(),()=>{window.removeEventListener("resize",F),window.removeEventListener("orientationchange",F)}},[]);const T=F=>{j([...w,F]),F<C.length-1&&_(F+1)},N=F=>w.includes(F),O=async()=>{const F=Date.now(),W=Math.round((F-S)/6e4);try{const{error:H}=await supabase.from("custom_workouts").update({completed:!0,completed_at:new Date().toISOString(),total_duration:W}).eq("id",i.id);if(H)throw H;o()}catch(H){console.error("Error completing workout:",H)}},$=F=>{F.preventDefault(),F.stopPropagation(),navigator.vibrate&&navigator.vibrate(50),T(E)},D=F=>{F.preventDefault(),F.stopPropagation(),navigator.vibrate&&navigator.vibrate(50),T(E)},L=F=>{F.preventDefault(),F.stopPropagation(),navigator.vibrate&&navigator.vibrate([100,50,100]),O()},I=F=>{F.preventDefault(),F.stopPropagation(),navigator.vibrate&&navigator.vibrate([100,50,100]),O()},z=()=>({cardio:"#38B6FF",forza:"#BC1823",hiit:"#FF5757",mobilita:"#8C52FF",personalizzato:"#c89116"})[i.workout_type]||"#c89116";return jsxRuntimeExports.jsxs("div",{className:"cardio-fatburn-section rounded-2xl shadow-sm overflow-hidden",style:{border:"2px solid #EEBA2B",maxHeight:"calc(100vh - 120px)"},children:[jsxRuntimeExports.jsxs("div",{className:"p-6 text-white",style:{background:z()},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold",children:i.title}),jsxRuntimeExports.jsxs("p",{className:"text-blue-100",children:["Esercizio ",E+1," di ",C.length]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:o,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-300",style:{width:`${w.length/C.length*100}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"cardio-fatburn-section__container p-6 space-y-4 overflow-y-auto",style:{backgroundColor:"#000000",border:"2px solid #EEBA2B",maxHeight:"calc(100vh - 300px)"},children:[C.map((F,W)=>jsxRuntimeExports.jsxs("div",{className:"cardio-fatburn-card p-4 rounded-xl transition-all duration-300",style:{backgroundColor:"#000000",border:"2px solid #EEBA2B",position:"relative"},children:[W===E&&!N(W)&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{backgroundColor:"rgba(56, 182, 255, 0.3)"}}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`cardio-fatburn-card__bullet w-10 h-10 rounded-full flex items-center justify-center border-2 ${N(W)?"bg-green-500 text-white border-green-500":"bg-slate-300 text-slate-600 border-slate-300"}`,children:N(W)?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5"}):jsxRuntimeExports.jsx("span",{className:"font-bold",children:W+1})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h4",{className:"cardio-fatburn-card__title font-semibold text-white",children:F.name}),jsxRuntimeExports.jsx(ExerciseGifLink,{exerciseName:F.name})]}),jsxRuntimeExports.jsxs("p",{className:"cardio-fatburn-card__subtitle text-sm text-gray-400",children:[F.sets&&`${F.sets} serie`,F.reps&&` • ${F.reps} rip.`,F.rest&&` • ${F.rest} rec.`]})]})]}),W===E&&!N(W)&&jsxRuntimeExports.jsxs(Button$1,{onClick:$,onTouchEnd:D,style:{backgroundColor:"#EEBA2B",color:"#000000"},className:"btn-completa min-h-[44px] px-4 py-2 text-sm font-semibold",type:"button","aria-label":`Completa ${F.name}`,children:["Completa",jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4 ml-2"})]})]})]},W)),w.length===C.length&&jsxRuntimeExports.jsxs("div",{className:"action-buttons-container text-center p-6 bg-green-50 rounded-xl border-2 border-green-200",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-12 w-12 text-green-600 mx-auto mb-3"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Workout Completato!"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 mb-4",children:"Ottimo lavoro! Hai completato tutti gli esercizi."}),jsxRuntimeExports.jsx(Button$1,{onClick:L,onTouchEnd:I,className:"btn-termina-allenamento bg-green-600 hover:bg-green-700 min-h-[48px] px-6 py-3 text-base font-semibold",type:"button","aria-label":"Termina allenamento",children:"Termina Allenamento"})]})]})]})},Workouts=()=>{const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(null),[w,j]=reactExports.useState(null),[S,A]=reactExports.useState(null),[R,C]=reactExports.useState(null),T=useLocation();reactExports.useEffect(()=>{var I;(I=T.state)!=null&&I.startCustomWorkout&&N(T.state.startCustomWorkout)},[T.state]);const N=async I=>{try{const{data:z,error:F}=await supabase.from("custom_workouts").select("*").eq("id",I).single();z&&!F&&(_(z),o("custom"))}catch(z){console.error("Error loading custom workout:",z)}},O=I=>{let z=0;I.includes("min")?z=parseInt(I)*60:I.includes("s")&&(z=parseInt(I));const F=Math.floor(z/3600),W=Math.floor(z%3600/60),H=z%60;return{hours:F,minutes:W,seconds:H}},$=(I,z)=>{const F=O(I),W=O(z);A(F),C(W)},D=()=>{o(null),_(null),j(null),A(null),C(null)},L=(I,z,F,W,H)=>{if(F)j(F),o("generated");else if(I==="recommended"){const B=generateRecommendedWorkout();j(B),o("generated")}else if(z&&["cardio","strength","hiit","mobility"].includes(I)){const B=generateWorkout(I,z,{},W||"INTERMEDIO",H||!1);j(B),o("generated")}else o(I)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-pp-gold",children:"Allenamenti"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Scegli il tuo workout perfetto"})]})}),i==="custom"&&E?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(WorkoutTimer,{workoutType:E.workout_type,autoStartTime:S,autoStartRest:R,onTimerComplete:()=>{A(null),C(null)}}),jsxRuntimeExports.jsx(CustomWorkoutDisplay,{workout:E,onClose:D})]}):i==="generated"&&w?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(WorkoutTimer,{workoutType:"generated",autoStartTime:S,autoStartRest:R,onTimerComplete:()=>{A(null),C(null)}}),jsxRuntimeExports.jsx(ActiveWorkout,{workoutId:"generated",generatedWorkout:w,onClose:D,onStartExercise:$})]}):i?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(WorkoutTimer,{workoutType:i,autoStartTime:S,autoStartRest:R,onTimerComplete:()=>{A(null),C(null)}}),jsxRuntimeExports.jsx(ActiveWorkout,{workoutId:i,onClose:()=>o(null),onStartExercise:$})]}):jsxRuntimeExports.jsx(WorkoutCategories,{onStartWorkout:L})]})},VAPID_PUBLIC_KEY="BEl62iUYgUivxIkv69yViEuiBIa40HIeFy8gW8Jw3IryPpg4LwDa5LkGv1VJ0lz0QH6BV1kLbM7o1fU0gD8WU",PERMISSION_KEY="pp_push_permission_status",SUBSCRIPTION_KEY="pp_push_subscription";class PushNotificationService{constructor(){tr(this,"registration",null)}async initialize(){try{return"serviceWorker"in navigator?"PushManager"in window?(console.log("Service worker registration disabled for mobile refresh fix"),console.log("Service Worker registered:",this.registration),!0):(console.log("Push messaging not supported"),!1):(console.log("Service Worker not supported"),!1)}catch(o){return console.error("Error registering service worker:",o),!1}}isSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}getPermissionStatus(){const o=localStorage.getItem(PERMISSION_KEY);return o?JSON.parse(o):{status:"not-asked",timestamp:0,userChoice:null}}savePermissionStatus(o){localStorage.setItem(PERMISSION_KEY,JSON.stringify(o))}shouldAskPermission(){const o=this.getPermissionStatus();if(o.status==="granted"||o.status==="denied")return!1;if(o.userChoice==="postponed"){const E=Date.now()-2592e5;return o.timestamp<E}return o.status==="not-asked"}async requestPermission(){if(!this.isSupported())throw new Error("Push notifications not supported");try{const o=await Notification.requestPermission(),E={status:o,timestamp:Date.now(),userChoice:o==="granted"?"accepted":"declined"};return this.savePermissionStatus(E),E}catch(o){throw console.error("Error requesting permission:",o),o}}async createSubscription(){if(!this.registration)throw new Error("Service worker not initialized");try{const o=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(VAPID_PUBLIC_KEY)}),E={endpoint:o.endpoint,keys:{p256dh:this.arrayBufferToBase64(o.getKey("p256dh")),auth:this.arrayBufferToBase64(o.getKey("auth"))}};return localStorage.setItem(SUBSCRIPTION_KEY,JSON.stringify(E)),E}catch(o){throw console.error("Error creating subscription:",o),o}}async getExistingSubscription(){if(!this.registration)return null;try{const o=await this.registration.pushManager.getSubscription();return o?{endpoint:o.endpoint,keys:{p256dh:this.arrayBufferToBase64(o.getKey("p256dh")),auth:this.arrayBufferToBase64(o.getKey("auth"))}}:null}catch(o){return console.error("Error getting existing subscription:",o),null}}async sendSubscriptionToBackend(o){try{return console.log("Sending subscription to backend:",o),!0}catch(E){return console.error("Error sending subscription to backend:",E),!1}}urlBase64ToUint8Array(o){const E="=".repeat((4-o.length%4)%4),_=(o+E).replace(/-/g,"+").replace(/_/g,"/"),w=window.atob(_),j=new Uint8Array(w.length);for(let S=0;S<w.length;++S)j[S]=w.charCodeAt(S);return j}arrayBufferToBase64(o){const E=new Uint8Array(o);let _="";for(let w=0;w<E.byteLength;w++)_+=String.fromCharCode(E[w]);return window.btoa(_)}clearNotificationData(){localStorage.removeItem(PERMISSION_KEY),localStorage.removeItem(SUBSCRIPTION_KEY)}}const pushNotificationService=new PushNotificationService,PushPermissionModal=({isOpen:i,onClose:o,onPermissionGranted:E,trigger:_})=>{const[w,j]=reactExports.useState(!1),[S,A]=reactExports.useState(null),C=(()=>{switch(_){case"first-workout":return{title:"🎉 Primo workout completato!",subtitle:"Vuoi promemoria intelligenti?",description:"Ti invieremo 1 notifica al giorno per mantenere la costanza. Zero spam, solo motivazione.",benefits:["Promemoria personalizzati","Motivazione quotidiana","Zero spam garantito"]};case"manual":return{title:"🔔 Notifiche Push",subtitle:"Attiva i promemoria intelligenti",description:"Ricevi notifiche personalizzate per mantenere la costanza nei tuoi allenamenti.",benefits:["Promemoria personalizzati","Motivazione quotidiana","Zero spam garantito"]};case"delayed":return{title:"⏰ Promemoria Ritardato",subtitle:"Pronto per i promemoria?",description:"Ti avevamo promesso di chiederti di nuovo. Vuoi attivare i promemoria intelligenti?",benefits:["Promemoria personalizzati","Motivazione quotidiana","Zero spam garantito"]};default:return{title:"🔔 Notifiche Push",subtitle:"Attiva i promemoria intelligenti",description:"Ricevi notifiche personalizzate per mantenere la costanza nei tuoi allenamenti.",benefits:["Promemoria personalizzati","Motivazione quotidiana","Zero spam garantito"]}}})(),T=async()=>{j(!0),A(null);try{if(!pushNotificationService.isSupported())throw new Error("Le notifiche push non sono supportate dal tuo browser");if(!await pushNotificationService.initialize())throw new Error("Impossibile inizializzare il servizio notifiche");const D=await pushNotificationService.requestPermission();if(D.status==="granted"){const L=await pushNotificationService.createSubscription();L&&(await pushNotificationService.sendSubscriptionToBackend(L),E()),o()}else pushNotificationService.savePermissionStatus(D),o()}catch($){console.error("Error activating push notifications:",$),A($ instanceof Error?$.message:"Errore sconosciuto")}finally{j(!1)}},N=()=>{const $={status:"default",timestamp:Date.now(),userChoice:"postponed"};pushNotificationService.savePermissionStatus($),o()},O=()=>{const $={status:"denied",timestamp:Date.now(),userChoice:"declined"};pushNotificationService.savePermissionStatus($),o()};return i?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[45] p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-pp-gold/30 rounded-2xl p-6 max-w-md w-full mx-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-pp-gold/20 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-pp-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9zM13.73 21a2 2 0 0 1-3.46 0"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-pp-gold mb-2",children:C.title}),jsxRuntimeExports.jsx("p",{className:"text-lg text-pp-gold/80",children:C.subtitle})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center mb-4",children:C.description}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:C.benefits.map(($,D)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("span",{children:$})]},D))})]}),S&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-red-400 text-sm text-center",children:S})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("button",{onClick:T,disabled:w,className:"w-full bg-pp-gold hover:bg-pp-gold/90 disabled:bg-pp-gold/50 text-black font-bold py-3 px-6 rounded-xl transition-colors duration-200",children:w?"Attivazione...":"Attiva Promemoria"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:N,disabled:w,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-600/50 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Più tardi"}),jsxRuntimeExports.jsx("button",{onClick:O,disabled:w,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"No, grazie"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Puoi disattivare le notifiche in qualsiasi momento nelle impostazioni"})})]})}):null},usePushNotifications=()=>{const[i,o]=reactExports.useState(!1),[E,_]=reactExports.useState(null),[w,j]=reactExports.useState(!1),[S,A]=reactExports.useState(!1),[R,C]=reactExports.useState("manual");reactExports.useEffect(()=>{(async()=>{const z=pushNotificationService.isSupported();if(o(z),z){const F=await pushNotificationService.initialize();if(j(F),F){const W=pushNotificationService.getPermissionStatus();_(W)}}})()},[]),reactExports.useEffect(()=>{if(i&&w&&E&&pushNotificationService.shouldAskPermission()){A(!0);const z=Date.now()-3*24*60*60*1e3;E.userChoice==="postponed"&&E.timestamp<z?C("delayed"):C("manual")}},[i,w,E]);const T=reactExports.useCallback(()=>{i&&w&&(C("first-workout"),A(!0))},[i,w]),N=reactExports.useCallback(()=>{i&&w&&(C("manual"),A(!0))},[i,w]),O=reactExports.useCallback(()=>{A(!1)},[]),$=reactExports.useCallback(()=>{const I=pushNotificationService.getPermissionStatus();_(I),console.log("Push notifications activated!")},[]),D=(E==null?void 0:E.status)==="granted",L=i&&w&&!D&&((E==null?void 0:E.status)==="not-asked"||(E==null?void 0:E.userChoice)==="postponed"&&E.timestamp<Date.now()-3*24*60*60*1e3);return{isSupported:i,isInitialized:w,isActive:D,canAskPermission:L,showPermissionModal:S,modalTrigger:R,showFirstWorkoutModal:T,showManualModal:N,closeModal:O,handlePermissionGranted:$}},ChallengeNotification=({message:i,type:o,onClose:E})=>{const _=()=>{switch(o){case"success":return"🎉";case"info":return"🔥";case"warning":return"⚠️";default:return"ℹ️"}},w=()=>{switch(o){case"success":return"bg-green-500/20 border-green-500/50";case"info":return"bg-pp-gold/20 border-pp-gold/50";case"warning":return"bg-yellow-500/20 border-yellow-500/50";default:return"bg-blue-500/20 border-blue-500/50"}},j=()=>{switch(o){case"success":return"text-green-400";case"info":return"text-pp-gold";case"warning":return"text-yellow-400";default:return"text-blue-400"}};return jsxRuntimeExports.jsx("div",{className:"fixed top-4 right-4 z-[45] max-w-sm",children:jsxRuntimeExports.jsx("div",{className:`${w()} border rounded-lg p-4 shadow-lg backdrop-blur-sm`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:_()}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("p",{className:`${j()} font-medium text-sm`,children:i})}),jsxRuntimeExports.jsx("button",{onClick:E,className:`${j()} hover:opacity-70 transition-opacity`,children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},WORKOUT_CIRCUIT=[{id:"jumping-jacks",name:"Jumping Jacks",instructions:"Salta aprendo e chiudendo braccia e gambe",duration:30,rest:0,category:"warmup"},{id:"march-in-place",name:"Marcia sul posto",instructions:"Cammina sul posto sollevando le ginocchia",duration:30,rest:0,category:"warmup"},{id:"arm-circles",name:"Rotazioni braccia",instructions:"Ruota le braccia in cerchi ampi",duration:30,rest:0,category:"warmup"},{id:"dynamic-stretch",name:"Stretch dinamico",instructions:"Allunga muscoli con movimenti fluidi",duration:30,rest:0,category:"warmup"},{id:"push-ups",name:"Push-up",instructions:"Flessioni (sulle ginocchia se necessario)",duration:45,rest:15,category:"main"},{id:"squats",name:"Squat",instructions:"Piegati sulle gambe come per sederti",duration:45,rest:15,category:"main"},{id:"plank",name:"Plank",instructions:"Mantieni posizione a tavola",duration:30,rest:30,category:"main"},{id:"mountain-climbers",name:"Mountain Climbers",instructions:"Corsa sul posto in posizione plank",duration:45,rest:15,category:"main"},{id:"burpees",name:"Burpees Modificati",instructions:"Squat + plank + salto",duration:30,rest:30,category:"main"},{id:"lunges",name:"Affondi Alternati",instructions:"Affondi alternando le gambe",duration:45,rest:15,category:"main"},{id:"quad-stretch",name:"Stretch Quadricipiti",instructions:"Allunga quadricipiti 30s per lato",duration:60,rest:0,category:"cooldown"},{id:"calf-stretch",name:"Stretch Polpacci",instructions:"Allunga polpacci 30s per lato",duration:60,rest:0,category:"cooldown"},{id:"breathing",name:"Respirazione Profonda",instructions:"Respira profondamente per rilassarti",duration:60,rest:0,category:"cooldown"}],WORKOUT_ID="quick-10min",PROGRESS_KEY="pp_workout_progress",MAX_RESUME_HOURS=2,QuickWorkout=()=>{var Be;const i=useNavigate(),[o,E]=reactExports.useState("ready"),[_,w]=reactExports.useState(0),[j,S]=reactExports.useState(0),[A,R]=reactExports.useState(!1),[C,T]=reactExports.useState(0),[N,O]=reactExports.useState(!1),[$,D]=reactExports.useState(null),{canAskPermission:L,showPermissionModal:I,modalTrigger:z,showFirstWorkoutModal:F,closeModal:W,handlePermissionGranted:H}=usePushNotifications(),{recordWorkoutCompletion:B}=useMedalSystem(),U=reactExports.useRef(null),G=reactExports.useRef(null);WORKOUT_CIRCUIT.reduce((Le,He)=>Le+He.duration+He.rest,0),WORKOUT_CIRCUIT.slice(0,_).reduce((Le,He)=>Le+He.duration+He.rest,0);const V=WORKOUT_CIRCUIT[_],K=()=>{const Le={workoutId:WORKOUT_ID,completedExercises:[],currentExercise:_,timeLeft:j,isRest:A,timestamp:Date.now(),totalProgress:C};localStorage.setItem(PROGRESS_KEY,JSON.stringify(Le))},je=()=>{try{const Le=localStorage.getItem(PROGRESS_KEY);if(!Le)return null;const He=JSON.parse(Le),We=(Date.now()-He.timestamp)/(1e3*60*60);return He.workoutId!==WORKOUT_ID||We>MAX_RESUME_HOURS?(localStorage.removeItem(PROGRESS_KEY),null):He}catch{return localStorage.removeItem(PROGRESS_KEY),null}},Z=()=>{localStorage.removeItem(PROGRESS_KEY)},fe=()=>{const Le=je();return Le!==null&&Le.currentExercise<WORKOUT_CIRCUIT.length},Ae=()=>{O(!N)},Oe=()=>{O(!1)},Pe=Le=>{if(Le===_){Oe();return}if(Le>_){const He=WORKOUT_CIRCUIT[Le].name;if(!window.confirm(`Saltare all'esercizio ${Le+1}: ${He}?

Il progresso attuale verrà salvato.`))return}w(Le),S(WORKOUT_CIRCUIT[Le].duration),R(!1),K(),Oe(),o==="paused"&&E("running")},Ne=Le=>Le<_?"completed":Le===_?"current":"future",Ce=Le=>{switch(Le){case"completed":return"✅";case"current":return"🟡";case"future":return"⚫";default:return"⚫"}};reactExports.useEffect(()=>{const Le=()=>{try{G.current=new(window.AudioContext||window.webkitAudioContext),console.log("Audio context inizializzato")}catch{console.log("Audio non supportato, useremo feedback visivo")}},He=()=>{Le(),document.removeEventListener("click",He),document.removeEventListener("touchstart",He)};return document.addEventListener("click",He),document.addEventListener("touchstart",He),()=>{document.removeEventListener("click",He),document.removeEventListener("touchstart",He)}},[]),reactExports.useEffect(()=>{fe()&&E("resume-prompt")},[]),reactExports.useEffect(()=>{const Le=He=>{if(o==="running"||o==="paused")return K(),He.preventDefault(),He.returnValue="Vuoi davvero uscire? Il progresso verrà salvato.","Vuoi davvero uscire? Il progresso verrà salvato."};return window.addEventListener("beforeunload",Le),()=>window.removeEventListener("beforeunload",Le)},[o]),reactExports.useEffect(()=>{if(o==="running"){const Le=setInterval(()=>{K()},3e4);return()=>clearInterval(Le)}},[o,_,j,A,C]),reactExports.useEffect(()=>{const Le=He=>{He.key==="Escape"&&N&&Oe()};if(N)return document.addEventListener("keydown",Le),()=>document.removeEventListener("keydown",Le)},[N]);const Me=(Le=800,He=200)=>{if(!G.current){document.body.style.backgroundColor="#ffd700",setTimeout(()=>{document.body.style.backgroundColor=""},100);return}try{G.current.state==="suspended"&&G.current.resume();const We=G.current.createOscillator(),rt=G.current.createGain();We.connect(rt),rt.connect(G.current.destination),We.frequency.value=Le,We.type="sine",rt.gain.setValueAtTime(.3,G.current.currentTime),rt.gain.exponentialRampToValueAtTime(.01,G.current.currentTime+He/1e3),We.start(G.current.currentTime),We.stop(G.current.currentTime+He/1e3)}catch(We){console.log("Errore riproduzione audio:",We),document.body.style.backgroundColor="#ffd700",setTimeout(()=>{document.body.style.backgroundColor=""},100)}},Q=()=>{E("running"),w(0),S(V.duration),T(0),Z(),Me(800,300)},Re=()=>{const Le=je();Le&&(E("running"),w(Le.currentExercise),S(Le.timeLeft),R(Le.isRest),T(Le.totalProgress),Me(800,300))},ke=()=>{Z(),Q()},_e=()=>{o==="running"?(E("paused"),K(),U.current&&(clearInterval(U.current),U.current=null)):o==="paused"&&(E("running"),Se())},Y=()=>{U.current&&(clearInterval(U.current),U.current=null),J()},J=()=>{if(_<WORKOUT_CIRCUIT.length-1){const Le=_+1;w(Le),S(WORKOUT_CIRCUIT[Le].duration),R(!1),K(),Me(600,200)}else E("completed"),Z(),Me(1e3,500)},Se=()=>{U.current&&clearInterval(U.current),U.current=setInterval(()=>{S(Le=>Le<=1?(Me(1e3,300),V.rest>0?(R(!0),S(V.rest),V.rest):(setTimeout(()=>J(),1e3),0)):Le-1)},1e3)};reactExports.useEffect(()=>(o==="running"&&j>0?Se():o==="running"&&j===0&&!A?V.rest>0?(R(!0),S(V.rest)):J():o==="running"&&j===0&&A&&J(),()=>{U.current&&(clearInterval(U.current),U.current=null)}),[o,j,A,_]),reactExports.useEffect(()=>{const Le=WORKOUT_CIRCUIT[_];if(Le){const He=(Le.duration-j)/Le.duration*100,We=_/WORKOUT_CIRCUIT.length*100;T(We+He/WORKOUT_CIRCUIT.length)}},[_,j]);const Ie=Le=>{const He=Math.floor(Le/60),We=Le%60;return`${He}:${We.toString().padStart(2,"0")}`},$e=()=>{localStorage.setItem("lastWorkoutCompleted",new Date().toISOString()),B();const Le=trackWorkoutForChallenge();if(Le.message){const We=Le.isCompleted?"success":(Le.isNewChallenge,"info");D({message:Le.message,type:We}),setTimeout(()=>{D(null)},5e3)}if(!localStorage.getItem("firstWorkoutCompleted")&&(localStorage.setItem("firstWorkoutCompleted","true"),L)){F();return}i("/dashboard")},De=()=>{localStorage.setItem("lastWorkoutCompleted",new Date().toISOString()),B();const Le=trackWorkoutForChallenge();if(Le.message){const He=Le.isCompleted?"success":(Le.isNewChallenge,"info");D({message:Le.message,type:He}),setTimeout(()=>{D(null)},5e3)}alert("Funzionalità diario in arrivo! Workout salvato."),i("/dashboard")};if(o==="resume-prompt"){const Le=je(),He=Le?(Be=WORKOUT_CIRCUIT[Le.currentExercise])==null?void 0:Be.name:"";return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black flex flex-col",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col justify-center items-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8 max-w-lg w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-pp-gold/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-16 h-16 text-pp-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-pp-gold mb-2",children:"Workout Interrotto"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-pp-gold/80 mb-4",children:"Hai un workout in corso"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-pp-gold/60",children:["Ultimo esercizio: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:He})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"w-full bg-pp-gold hover:bg-pp-gold/90 text-black font-bold py-5 px-6 rounded-xl transition-colors duration-200 text-xl",children:"Continua da dove hai lasciato"}),jsxRuntimeExports.jsx("button",{onClick:ke,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-4 px-6 rounded-xl transition-colors duration-200 text-lg",children:"Ricomincia da capo"}),jsxRuntimeExports.jsx("button",{onClick:()=>i("/dashboard"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 text-lg",children:"Torna alla Dashboard"})]})]})})})}return o==="completed"?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>i("/dashboard"),className:"text-pp-gold/80 hover:text-pp-gold text-sm",children:"← Torna alla Dashboard"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col justify-center items-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8 max-w-md w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-green-500/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-pp-gold mb-2",children:"Complimenti!"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-pp-gold/80",children:"Workout completato con successo"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:$e,className:"w-full bg-pp-gold hover:bg-pp-gold/90 text-black font-bold py-4 px-6 rounded-xl transition-colors duration-200 text-lg",children:"Segna Completato"}),jsxRuntimeExports.jsx("button",{onClick:De,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-colors duration-200 text-lg",children:"Salva su Diario"})]})]})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black flex flex-col quick-workout-container",children:[o==="ready"?jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>i("/dashboard"),className:"text-pp-gold/80 hover:text-pp-gold text-sm",children:"← Torna alla Dashboard"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col justify-center items-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8 max-w-lg w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-pp-gold/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-16 h-16 text-pp-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-pp-gold mb-2",children:"Workout Rapido"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-pp-gold/80",children:"Allenamento di 10 minuti"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-pp-gold/10 border border-pp-gold/30 rounded-xl p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-pp-gold mb-4",children:"💪 Circuito Completo"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-base text-pp-gold/80",children:[jsxRuntimeExports.jsx("p",{children:"🔥 Riscaldamento (2 min)"}),jsxRuntimeExports.jsx("p",{children:"⚡ Esercizi intensi (6 min)"}),jsxRuntimeExports.jsx("p",{children:"🧘 Defaticamento (2 min)"}),jsxRuntimeExports.jsx("p",{children:"⏱️ Timer automatico"}),jsxRuntimeExports.jsx("p",{children:"🔊 Feedback audio"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:Q,className:"w-full bg-pp-gold hover:bg-pp-gold/90 text-black font-bold py-5 px-6 rounded-xl transition-colors duration-200 text-xl",children:"Inizia Workout"}),jsxRuntimeExports.jsx("button",{onClick:()=>i("/dashboard"),className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 text-lg",children:"Torna alla Dashboard"})]})]})})]}):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex-shrink-0 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-pp-gold/80 text-sm",children:["Esercizio ",_+1," di ",WORKOUT_CIRCUIT.length]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:Ae,className:"text-pp-gold/80 hover:text-pp-gold p-2 rounded-lg hover:bg-pp-gold/10 transition-colors duration-200",title:"Lista esercizi",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>i("/dashboard"),className:"text-pp-gold/80 hover:text-pp-gold text-sm",children:"← Esci"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-pp-gold h-3 rounded-full transition-all duration-300",style:{width:`${C}%`}})}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex flex-wrap gap-2 justify-center",children:WORKOUT_CIRCUIT.map((Le,He)=>{const We=He<_,rt=He===_;return jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${We?"bg-green-500 text-white":rt?"bg-pp-gold text-black":"bg-gray-600 text-gray-400"}`,children:We?"✓":He+1},Le.id)})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col justify-center items-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8 w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-pp-gold mb-4",children:A?"Riposo":V.name}),jsxRuntimeExports.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-pp-gold/80",children:A?"Preparati per il prossimo esercizio":V.instructions})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("div",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-mono font-bold text-pp-gold",children:Ie(j)})})]})}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 max-w-md mx-auto",children:[jsxRuntimeExports.jsx("button",{onClick:_e,className:"flex-1 bg-pp-gold hover:bg-pp-gold/90 text-black font-bold py-4 px-6 rounded-xl transition-colors duration-200 text-lg",children:o==="paused"?"Riprendi":"Pausa"}),jsxRuntimeExports.jsx("button",{onClick:Y,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-xl transition-colors duration-200 text-lg",children:"Skip"})]})})]}),N&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:Oe}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 right-0 min-h-full w-64 md:w-80 bg-gray-900 border-l border-pp-gold/20 z-[45] transform transition-transform duration-300 ease-in-out",children:jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-pp-gold/20",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-pp-gold",children:["Esercizi (",_+1,"/",WORKOUT_CIRCUIT.length,")"]}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"text-pp-gold/80 hover:text-pp-gold p-1 rounded-lg hover:bg-pp-gold/10 transition-colors duration-200",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-20 space-y-2",children:WORKOUT_CIRCUIT.map((Le,He)=>{const We=Ne(He),rt=Ce(We),it=He===_;return jsxRuntimeExports.jsx("button",{onClick:()=>Pe(He),className:`w-full text-left p-3 rounded-lg transition-all duration-200 ${it?"bg-pp-gold/20 border border-pp-gold/40 text-pp-gold":We==="completed"?"bg-green-500/10 border border-green-500/20 text-green-400 hover:bg-green-500/20":"bg-gray-700/50 border border-gray-600/30 text-gray-300 hover:bg-gray-700/70"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:rt}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-pp-gold/60",children:[He+1,"."]}),jsxRuntimeExports.jsx("span",{className:"font-semibold truncate",children:Le.name})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-pp-gold/60 mt-1",children:[Le.duration,"s ",Le.rest>0&&`+ ${Le.rest}s riposo`]})]})]})},Le.id)})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-pp-gold/20",children:jsxRuntimeExports.jsx("div",{className:"text-xs text-pp-gold/60 text-center",children:"Tocca un esercizio per saltarci"})})]})})]}),jsxRuntimeExports.jsx(PushPermissionModal,{isOpen:I,onClose:W,onPermissionGranted:H,trigger:z}),$&&jsxRuntimeExports.jsx(ChallengeNotification,{message:$.message,type:$.type,onClose:()=>D(null)})]})},AppLayout=({children:i})=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("main",{className:"pb-24",children:i}),jsxRuntimeExports.jsx(BottomNavigation,{})]}),Timer=()=>{const i=useNavigate(),{t:o}=useTranslation(),E=()=>{i(-1)};return jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-6 -mt-2 -ml-2",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:E,className:"text-[#EEBA2B] hover:bg-[#EEBA2B]/10",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),o("common.back")]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-4xl",children:[jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(WorkoutTimer,{})}),jsxRuntimeExports.jsx("div",{className:"mt-8 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-[#EEBA2B] text-lg font-medium italic",children:['"',o("timer.motivationalQuote"),'"']})})]})})]})})},AppointmentCalendar=({onDateSelect:i,onWorkoutSelect:o,refreshTrigger:E})=>{const[_,w]=reactExports.useState(new Date),[j,S]=reactExports.useState([]);useNavigate();const A=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],R=new Date(_.getFullYear(),_.getMonth()+1,0).getDate(),C=new Date(_.getFullYear(),_.getMonth(),1).getDay(),T=Array.from({length:R},(F,W)=>W+1),N=Array.from({length:C===0?6:C-1},(F,W)=>null);reactExports.useEffect(()=>{O()},[_,E]);const O=async()=>{try{const{data:{user:F}}=await supabase.auth.getUser();if(!F)return;const W=new Date(_.getFullYear(),_.getMonth(),1),H=new Date(_.getFullYear(),_.getMonth()+1,0),{data:B,error:U}=await supabase.from("custom_workouts").select("*").eq("user_id",F.id).gte("scheduled_date",W.toISOString().split("T")[0]).lte("scheduled_date",H.toISOString().split("T")[0]);B&&!U&&S(B)}catch(F){console.error("Error loading workouts:",F)}},$=F=>{const W=new Date(_.getFullYear(),_.getMonth(),F).toISOString().split("T")[0];return j.find(H=>H.scheduled_date===W)},D=F=>!!$(F),L=F=>{const W=new Date;return _.getFullYear()===W.getFullYear()&&_.getMonth()===W.getMonth()&&F===W.getDate()},I=F=>{const W=$(F);if(W&&o)o(W);else{const H=new Date(_.getFullYear(),_.getMonth(),F);i(H)}},z=F=>{const W=new Date(_);W.setMonth(_.getMonth()+(F==="next"?1:-1)),w(W)};return jsxRuntimeExports.jsxs("div",{className:"calendar-panel max-h-[500px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("h3",{className:"calendar-panel__title",children:[A[_.getMonth()]," ",_.getFullYear()]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>z("prev"),className:"bg-black/50 border-white/20 text-white hover:bg-white/10",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>z("next"),className:"bg-black/50 border-white/20 text-white hover:bg-white/10",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("button",{className:"calendar-panel__new-button",onClick:()=>i(new Date),children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Nuovo"]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(F=>jsxRuntimeExports.jsx("div",{className:"p-2 text-center text-sm font-medium calendar-panel__weekday",children:F},F))}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[N.map((F,W)=>jsxRuntimeExports.jsx("div",{className:"p-2"},`empty-${W}`)),T.map(F=>jsxRuntimeExports.jsxs("div",{onClick:()=>I(F),className:`p-2 text-center text-sm rounded-lg cursor-pointer transition-colors relative calendar-panel__day ${L(F)?"bg-[#c89116] text-black font-bold border-2 border-[#c89116] shadow-lg":D(F)?"bg-white/20 font-semibold hover:bg-white/30":"hover:bg-white/10"}`,children:[F,D(F)&&!L(F)&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rounded-full bg-red-500"}),D(F)&&L(F)&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rounded-full bg-black"})]},F))]})]})},appointments=[{id:1,professional:"Dr. Marco Rossi",type:"Personal Training",date:"Oggi",time:"15:00",location:"Studio Fitness",avatar:"👨‍⚕️"},{id:2,professional:"Dott.ssa Laura Bianchi",type:"Consulenza Nutrizionale",date:"Domani",time:"10:30",location:"Online",avatar:"👩‍⚕️"},{id:3,professional:"Fisio Giuseppe Verdi",type:"Fisioterapia",date:"20 Giu",time:"14:00",location:"Centro Medico",avatar:"🧑‍⚕️"}],UpcomingAppointments=()=>jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-black to-[#c89116]/10 rounded-2xl shadow-lg border-2 border-[#c89116] p-6 prossimi-appuntamenti relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-pp-gold",children:"Prossimi Appuntamenti"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"text-white hover:text-pp-gold",children:"Vedi tutti"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:appointments.map(i=>jsxRuntimeExports.jsx("div",{className:"p-4 border border-[#c89116]/30 bg-black/50 rounded-xl hover:shadow-md hover:shadow-[#c89116]/20 transition-all",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:i.avatar}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-white truncate",children:i.professional}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70 mb-2",children:i.type}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-white/70",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3 mr-1"}),jsxRuntimeExports.jsxs("span",{children:[i.date," alle ",i.time]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-white/70",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-3 w-3 mr-1"}),jsxRuntimeExports.jsx("span",{children:i.location})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"outline",className:"flex-1 border-[#c89116] text-white hover:bg-[#c89116] hover:text-black",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-3 w-3 mr-1"}),"Chat"]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",className:"flex-1 bg-[#c89116] text-black hover:bg-[#c89116]/80",children:"Dettagli"})]})]})]})},i.id))}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-2xl z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Funzionalità in arrivo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:"Gli appuntamenti saranno disponibili presto!"})]})})]}),professionals=[{id:1,name:"Dr. Marco Rossi",specialty:"Personal Trainer",rating:4.9,reviews:127,experience:"8 anni",price:"€50/h",avatar:"👨‍⚕️",available:!0},{id:2,name:"Dott.ssa Laura Bianchi",specialty:"Nutrizionista",rating:4.8,reviews:89,experience:"5 anni",price:"€60/h",avatar:"👩‍⚕️",available:!0},{id:3,name:"Giuseppe Verdi",specialty:"Fisioterapista",rating:4.7,reviews:156,experience:"12 anni",price:"€45/h",avatar:"🧑‍⚕️",available:!1}],ProfessionalsList=()=>jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-black to-[#c89116]/10 rounded-2xl shadow-lg border-2 border-[#c89116] p-6 professionisti relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-pp-gold",children:"Professionisti"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"text-white hover:text-pp-gold",children:"Esplora tutti"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4",children:professionals.map(i=>jsxRuntimeExports.jsxs("div",{className:"prof-card",children:[jsxRuntimeExports.jsx("div",{className:"prof-card__avatar",children:jsxRuntimeExports.jsx("div",{className:"text-2xl",children:i.avatar})}),jsxRuntimeExports.jsxs("div",{className:"prof-card__content",children:[jsxRuntimeExports.jsx("h4",{className:"prof-card__name",children:i.name}),jsxRuntimeExports.jsx("p",{className:"prof-card__role",children:i.specialty}),jsxRuntimeExports.jsxs("div",{className:"prof-card__rating",children:[jsxRuntimeExports.jsx(Star,{className:"h-3 w-3 prof-card__rating-star fill-current"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium prof-card__rating-value ml-1",children:i.rating}),jsxRuntimeExports.jsxs("span",{className:"text-sm prof-card__rating-value opacity-70",children:["(",i.reviews," recensioni)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[jsxRuntimeExports.jsxs("span",{className:"prof-card__experience",children:[i.experience," esperienza"]}),jsxRuntimeExports.jsx("span",{className:"font-semibold prof-card__rate",children:i.price})]}),jsxRuntimeExports.jsxs("div",{className:"prof-card__actions",children:[jsxRuntimeExports.jsxs("button",{className:"prof-card__chat-btn flex-1",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-3 w-3"}),"Chat"]}),jsxRuntimeExports.jsxs("button",{className:"prof-card__book-btn flex-1",disabled:!i.available,children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-3 w-3"}),"Prenota"]})]})]}),jsxRuntimeExports.jsx("div",{className:`prof-card__status-dot ${i.available?"online":"offline"}`})]},i.id))}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-2xl z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Funzionalità in arrivo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:"I professionisti saranno disponibili presto!"})]})})]}),FILE_ACCESS_KEY="performance_prime_file_access_consent",useFileAccess=()=>{const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(!1);return reactExports.useEffect(()=>{const A=localStorage.getItem(FILE_ACCESS_KEY);A!==null?(o(A==="true"),_(!1)):_(!0)},[]),{hasConsent:i,showBanner:E,acceptFileAccess:()=>{localStorage.setItem(FILE_ACCESS_KEY,"true"),o(!0),_(!1)},declineFileAccess:()=>{localStorage.setItem(FILE_ACCESS_KEY,"false"),o(!1),_(!1)},resetFileAccess:()=>{localStorage.removeItem(FILE_ACCESS_KEY),o(null),_(!0)}}};function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(o,E){module.exports=o.pdfjsLib=E()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,o)=>{var Zt;Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.TextRenderingMode=o.RenderingIntentFlag=o.PromiseCapability=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.MAX_IMAGE_SIZE_TO_CACHE=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.BASELINE_FACTOR=o.AnnotationType=o.AnnotationReplyType=o.AnnotationPrefix=o.AnnotationMode=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.assert=Q,o.bytesToString=He,o.createValidAbsoluteUrl=ke,o.getModificationDate=At,o.getUuid=Bt,o.getVerbosityLevel=Pe,o.info=Ne,o.isArrayBuffer=Ze,o.isArrayEqual=Et,o.isNodeJS=void 0,o.normalizeUnicode=Nt,o.objectFromMap=dt,o.objectSize=it,o.setVerbosityLevel=Oe,o.shadow=_e,o.string32=rt,o.stringToBytes=We,o.stringToPDFString=ut,o.stringToUTF8String=mt,o.unreachable=Me,o.utf8StringToString=gt,o.warn=Ce;const E=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=E;const _=[1,0,0,1,0,0];o.IDENTITY_MATRIX=_;const w=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=w;const j=1e7;o.MAX_IMAGE_SIZE_TO_CACHE=j;const S=1.35;o.LINE_FACTOR=S;const A=.35;o.LINE_DESCENT_FACTOR=A;const R=A/S;o.BASELINE_FACTOR=R;const C={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=C;const T={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=T;const N="pdfjs_internal_editor_";o.AnnotationEditorPrefix=N;const O={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};o.AnnotationEditorType=O;const $={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};o.AnnotationEditorParamsType=$;const D={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=D;const L={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=L;const I={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=I;const z={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=z;const F={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=F;const W={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=W;const H={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=H;const B={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=B;const U={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=U;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=G;const V={O:"PageOpen",C:"PageClose"};o.PageActionEventType=V;const K={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=K;const je={NONE:0,BINARY:1};o.CMapCompressionType=je;const Z={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=Z;const fe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=fe;let Ae=K.WARNINGS;function Oe(ht){Number.isInteger(ht)&&(Ae=ht)}function Pe(){return Ae}function Ne(ht){Ae>=K.INFOS&&console.log(`Info: ${ht}`)}function Ce(ht){Ae>=K.WARNINGS&&console.log(`Warning: ${ht}`)}function Me(ht){throw new Error(ht)}function Q(ht,nt){ht||Me(nt)}function Re(ht){switch(ht==null?void 0:ht.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ke(ht,nt=null,at=null){if(!ht)return null;try{if(at&&typeof ht=="string"){if(at.addDefaultProtocol&&ht.startsWith("www.")){const Jt=ht.match(/\./g);(Jt==null?void 0:Jt.length)>=2&&(ht=`http://${ht}`)}if(at.tryConvertEncoding)try{ht=mt(ht)}catch{}}const Tt=nt?new URL(ht,nt):new URL(ht);if(Re(Tt))return Tt}catch{}return null}function _e(ht,nt,at,Tt=!1){return Object.defineProperty(ht,nt,{value:at,enumerable:!Tt,configurable:!0,writable:!1}),at}const Y=function(){function nt(at,Tt){this.constructor===nt&&Me("Cannot initialize BaseException."),this.message=at,this.name=Tt}return nt.prototype=new Error,nt.constructor=nt,nt}();o.BaseException=Y;class J extends Y{constructor(nt,at){super(nt,"PasswordException"),this.code=at}}o.PasswordException=J;class Se extends Y{constructor(nt,at){super(nt,"UnknownErrorException"),this.details=at}}o.UnknownErrorException=Se;class Ie extends Y{constructor(nt){super(nt,"InvalidPDFException")}}o.InvalidPDFException=Ie;class $e extends Y{constructor(nt){super(nt,"MissingPDFException")}}o.MissingPDFException=$e;class De extends Y{constructor(nt,at){super(nt,"UnexpectedResponseException"),this.status=at}}o.UnexpectedResponseException=De;class Be extends Y{constructor(nt){super(nt,"FormatError")}}o.FormatError=Be;class Le extends Y{constructor(nt){super(nt,"AbortException")}}o.AbortException=Le;function He(ht){(typeof ht!="object"||(ht==null?void 0:ht.length)===void 0)&&Me("Invalid argument for bytesToString");const nt=ht.length,at=8192;if(nt<at)return String.fromCharCode.apply(null,ht);const Tt=[];for(let Jt=0;Jt<nt;Jt+=at){const Vt=Math.min(Jt+at,nt),qe=ht.subarray(Jt,Vt);Tt.push(String.fromCharCode.apply(null,qe))}return Tt.join("")}function We(ht){typeof ht!="string"&&Me("Invalid argument for stringToBytes");const nt=ht.length,at=new Uint8Array(nt);for(let Tt=0;Tt<nt;++Tt)at[Tt]=ht.charCodeAt(Tt)&255;return at}function rt(ht){return String.fromCharCode(ht>>24&255,ht>>16&255,ht>>8&255,ht&255)}function it(ht){return Object.keys(ht).length}function dt(ht){const nt=Object.create(null);for(const[at,Tt]of ht)nt[at]=Tt;return nt}function Ke(){const ht=new Uint8Array(4);return ht[0]=1,new Uint32Array(ht.buffer,0,1)[0]===1}function Xe(){try{return new Function(""),!0}catch{return!1}}class Fe{static get isLittleEndian(){return _e(this,"isLittleEndian",Ke())}static get isEvalSupported(){return _e(this,"isEvalSupported",Xe())}static get isOffscreenCanvasSupported(){return _e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_e(this,"platform",{isWin:!1,isMac:!1}):_e(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var nt,at;return _e(this,"isCSSRoundSupported",(at=(nt=globalThis.CSS)==null?void 0:nt.supports)==null?void 0:at.call(nt,"width: round(1.5px, 1px)"))}}o.FeatureTest=Fe;const Ge=[...Array(256).keys()].map(ht=>ht.toString(16).padStart(2,"0"));class Ye{static makeHexColor(nt,at,Tt){return`#${Ge[nt]}${Ge[at]}${Ge[Tt]}`}static scaleMinMax(nt,at){let Tt;nt[0]?(nt[0]<0&&(Tt=at[0],at[0]=at[1],at[1]=Tt),at[0]*=nt[0],at[1]*=nt[0],nt[3]<0&&(Tt=at[2],at[2]=at[3],at[3]=Tt),at[2]*=nt[3],at[3]*=nt[3]):(Tt=at[0],at[0]=at[2],at[2]=Tt,Tt=at[1],at[1]=at[3],at[3]=Tt,nt[1]<0&&(Tt=at[2],at[2]=at[3],at[3]=Tt),at[2]*=nt[1],at[3]*=nt[1],nt[2]<0&&(Tt=at[0],at[0]=at[1],at[1]=Tt),at[0]*=nt[2],at[1]*=nt[2]),at[0]+=nt[4],at[1]+=nt[4],at[2]+=nt[5],at[3]+=nt[5]}static transform(nt,at){return[nt[0]*at[0]+nt[2]*at[1],nt[1]*at[0]+nt[3]*at[1],nt[0]*at[2]+nt[2]*at[3],nt[1]*at[2]+nt[3]*at[3],nt[0]*at[4]+nt[2]*at[5]+nt[4],nt[1]*at[4]+nt[3]*at[5]+nt[5]]}static applyTransform(nt,at){const Tt=nt[0]*at[0]+nt[1]*at[2]+at[4],Jt=nt[0]*at[1]+nt[1]*at[3]+at[5];return[Tt,Jt]}static applyInverseTransform(nt,at){const Tt=at[0]*at[3]-at[1]*at[2],Jt=(nt[0]*at[3]-nt[1]*at[2]+at[2]*at[5]-at[4]*at[3])/Tt,Vt=(-nt[0]*at[1]+nt[1]*at[0]+at[4]*at[1]-at[5]*at[0])/Tt;return[Jt,Vt]}static getAxialAlignedBoundingBox(nt,at){const Tt=this.applyTransform(nt,at),Jt=this.applyTransform(nt.slice(2,4),at),Vt=this.applyTransform([nt[0],nt[3]],at),qe=this.applyTransform([nt[2],nt[1]],at);return[Math.min(Tt[0],Jt[0],Vt[0],qe[0]),Math.min(Tt[1],Jt[1],Vt[1],qe[1]),Math.max(Tt[0],Jt[0],Vt[0],qe[0]),Math.max(Tt[1],Jt[1],Vt[1],qe[1])]}static inverseTransform(nt){const at=nt[0]*nt[3]-nt[1]*nt[2];return[nt[3]/at,-nt[1]/at,-nt[2]/at,nt[0]/at,(nt[2]*nt[5]-nt[4]*nt[3])/at,(nt[4]*nt[1]-nt[5]*nt[0])/at]}static singularValueDecompose2dScale(nt){const at=[nt[0],nt[2],nt[1],nt[3]],Tt=nt[0]*at[0]+nt[1]*at[2],Jt=nt[0]*at[1]+nt[1]*at[3],Vt=nt[2]*at[0]+nt[3]*at[2],qe=nt[2]*at[1]+nt[3]*at[3],pt=(Tt+qe)/2,Rt=Math.sqrt((Tt+qe)**2-4*(Tt*qe-Vt*Jt))/2,It=pt+Rt||1,vt=pt-Rt||1;return[Math.sqrt(It),Math.sqrt(vt)]}static normalizeRect(nt){const at=nt.slice(0);return nt[0]>nt[2]&&(at[0]=nt[2],at[2]=nt[0]),nt[1]>nt[3]&&(at[1]=nt[3],at[3]=nt[1]),at}static intersect(nt,at){const Tt=Math.max(Math.min(nt[0],nt[2]),Math.min(at[0],at[2])),Jt=Math.min(Math.max(nt[0],nt[2]),Math.max(at[0],at[2]));if(Tt>Jt)return null;const Vt=Math.max(Math.min(nt[1],nt[3]),Math.min(at[1],at[3])),qe=Math.min(Math.max(nt[1],nt[3]),Math.max(at[1],at[3]));return Vt>qe?null:[Tt,Vt,Jt,qe]}static bezierBoundingBox(nt,at,Tt,Jt,Vt,qe,pt,Rt){const It=[],vt=[[],[]];let St,Ue,ze,Ve,lt,ct,ft,xt;for(let qt=0;qt<2;++qt){if(qt===0?(Ue=6*nt-12*Tt+6*Vt,St=-3*nt+9*Tt-9*Vt+3*pt,ze=3*Tt-3*nt):(Ue=6*at-12*Jt+6*qe,St=-3*at+9*Jt-9*qe+3*Rt,ze=3*Jt-3*at),Math.abs(St)<1e-12){if(Math.abs(Ue)<1e-12)continue;Ve=-ze/Ue,0<Ve&&Ve<1&&It.push(Ve);continue}ft=Ue*Ue-4*ze*St,xt=Math.sqrt(ft),!(ft<0)&&(lt=(-Ue+xt)/(2*St),0<lt&&lt<1&&It.push(lt),ct=(-Ue-xt)/(2*St),0<ct&&ct<1&&It.push(ct))}let $t=It.length,Mt;const Pt=$t;for(;$t--;)Ve=It[$t],Mt=1-Ve,vt[0][$t]=Mt*Mt*Mt*nt+3*Mt*Mt*Ve*Tt+3*Mt*Ve*Ve*Vt+Ve*Ve*Ve*pt,vt[1][$t]=Mt*Mt*Mt*at+3*Mt*Mt*Ve*Jt+3*Mt*Ve*Ve*qe+Ve*Ve*Ve*Rt;return vt[0][Pt]=nt,vt[1][Pt]=at,vt[0][Pt+1]=pt,vt[1][Pt+1]=Rt,vt[0].length=vt[1].length=Pt+2,[Math.min(...vt[0]),Math.min(...vt[1]),Math.max(...vt[0]),Math.max(...vt[1])]}}o.Util=Ye;const Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ut(ht){if(ht[0]>="ï"){let at;if(ht[0]==="þ"&&ht[1]==="ÿ"?at="utf-16be":ht[0]==="ÿ"&&ht[1]==="þ"?at="utf-16le":ht[0]==="ï"&&ht[1]==="»"&&ht[2]==="¿"&&(at="utf-8"),at)try{const Tt=new TextDecoder(at,{fatal:!0}),Jt=We(ht);return Tt.decode(Jt)}catch(Tt){Ce(`stringToPDFString: "${Tt}".`)}}const nt=[];for(let at=0,Tt=ht.length;at<Tt;at++){const Jt=Qe[ht.charCodeAt(at)];nt.push(Jt?String.fromCharCode(Jt):ht.charAt(at))}return nt.join("")}function mt(ht){return decodeURIComponent(escape(ht))}function gt(ht){return unescape(encodeURIComponent(ht))}function Ze(ht){return typeof ht=="object"&&(ht==null?void 0:ht.byteLength)!==void 0}function Et(ht,nt){if(ht.length!==nt.length)return!1;for(let at=0,Tt=ht.length;at<Tt;at++)if(ht[at]!==nt[at])return!1;return!0}function At(ht=new Date){return[ht.getUTCFullYear().toString(),(ht.getUTCMonth()+1).toString().padStart(2,"0"),ht.getUTCDate().toString().padStart(2,"0"),ht.getUTCHours().toString().padStart(2,"0"),ht.getUTCMinutes().toString().padStart(2,"0"),ht.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ht{constructor(){ot(this,Zt,!1);this.promise=new Promise((nt,at)=>{this.resolve=Tt=>{st(this,Zt,!0),nt(Tt)},this.reject=Tt=>{st(this,Zt,!0),at(Tt)}})}get settled(){return Ee(this,Zt)}}Zt=new WeakMap,o.PromiseCapability=Ht;let Ut=null,Kt=null;function Nt(ht){return Ut||(Ut=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Kt=new Map([["ﬅ","ſt"]])),ht.replaceAll(Ut,(nt,at,Tt)=>at?at.normalize("NFKC"):Kt.get(Tt))}function Bt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ht=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ht);else for(let nt=0;nt<32;nt++)ht[nt]=Math.floor(Math.random()*255);return He(ht)}const Xt="pdfjs_internal_id_";o.AnnotationPrefix=Xt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var i,E,_,w,fr,Rr,A,R,C,T,N,O,$,D,L,Cr,z,F,Gr,H,B;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(G){if(typeof G=="string"||G instanceof URL?G={url:G}:(0,_util.isArrayBuffer)(G)&&(G={data:G}),typeof G!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!G.url&&!G.data&&!G.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const V=new PDFDocumentLoadingTask,{docId:K}=V,je=G.url?getUrlProp(G.url):null,Z=G.data?getDataProp(G.data):null,fe=G.httpHeaders||null,Ae=G.withCredentials===!0,Oe=G.password??null,Pe=G.range instanceof PDFDataRangeTransport?G.range:null,Ne=Number.isInteger(G.rangeChunkSize)&&G.rangeChunkSize>0?G.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ce=G.worker instanceof PDFWorker?G.worker:null;const Me=G.verbosity,Q=typeof G.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(G.docBaseUrl)?G.docBaseUrl:null,Re=typeof G.cMapUrl=="string"?G.cMapUrl:null,ke=G.cMapPacked!==!1,_e=G.CMapReaderFactory||DefaultCMapReaderFactory,Y=typeof G.standardFontDataUrl=="string"?G.standardFontDataUrl:null,J=G.StandardFontDataFactory||DefaultStandardFontDataFactory,Se=G.stopAtErrors!==!0,Ie=Number.isInteger(G.maxImageSize)&&G.maxImageSize>-1?G.maxImageSize:-1,$e=G.isEvalSupported!==!1,De=typeof G.isOffscreenCanvasSupported=="boolean"?G.isOffscreenCanvasSupported:!_util.isNodeJS,Be=Number.isInteger(G.canvasMaxAreaInBytes)?G.canvasMaxAreaInBytes:-1,Le=typeof G.disableFontFace=="boolean"?G.disableFontFace:_util.isNodeJS,He=G.fontExtraProperties===!0,We=G.enableXfa===!0,rt=G.ownerDocument||globalThis.document,it=G.disableRange===!0,dt=G.disableStream===!0,Ke=G.disableAutoFetch===!0,Xe=G.pdfBug===!0,Fe=Pe?Pe.length:G.length??NaN,Ge=typeof G.useSystemFonts=="boolean"?G.useSystemFonts:!_util.isNodeJS&&!Le,Ye=typeof G.useWorkerFetch=="boolean"?G.useWorkerFetch:_e===_display_utils.DOMCMapReaderFactory&&J===_display_utils.DOMStandardFontDataFactory&&Re&&Y&&(0,_display_utils.isValidFetchUrl)(Re,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Y,document.baseURI),Qe=G.canvasFactory||new DefaultCanvasFactory({ownerDocument:rt}),ut=G.filterFactory||new DefaultFilterFactory({docId:K,ownerDocument:rt}),mt=null;(0,_util.setVerbosityLevel)(Me);const gt={canvasFactory:Qe,filterFactory:ut};if(Ye||(gt.cMapReaderFactory=new _e({baseUrl:Re,isCompressed:ke}),gt.standardFontDataFactory=new J({baseUrl:Y})),!Ce){const At={verbosity:Me,port:_worker_options.GlobalWorkerOptions.workerPort};Ce=At.port?PDFWorker.fromPort(At):new PDFWorker(At),V._worker=Ce}const Ze={docId:K,apiVersion:"3.11.174",data:Z,password:Oe,disableAutoFetch:Ke,rangeChunkSize:Ne,length:Fe,docBaseUrl:Q,enableXfa:We,evaluatorOptions:{maxImageSize:Ie,disableFontFace:Le,ignoreErrors:Se,isEvalSupported:$e,isOffscreenCanvasSupported:De,canvasMaxAreaInBytes:Be,fontExtraProperties:He,useSystemFonts:Ge,cMapUrl:Ye?Re:null,standardFontDataUrl:Ye?Y:null}},Et={ignoreErrors:Se,isEvalSupported:$e,disableFontFace:Le,fontExtraProperties:He,enableXfa:We,ownerDocument:rt,disableAutoFetch:Ke,pdfBug:Xe,styleElement:mt};return Ce.promise.then(function(){if(V.destroyed)throw new Error("Loading aborted");const At=_fetchDocument(Ce,Ze),Ht=new Promise(function(Ut){let Kt;Pe?Kt=new _transport_stream.PDFDataTransportStream({length:Fe,initialData:Pe.initialData,progressiveDone:Pe.progressiveDone,contentDispositionFilename:Pe.contentDispositionFilename,disableRange:it,disableStream:dt},Pe):Z||(Kt=(Bt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Bt):(0,_display_utils.isValidFetchUrl)(Bt.url)?new _displayFetch_stream.PDFFetchStream(Bt):new _displayNetwork.PDFNetworkStream(Bt))({url:je,length:Fe,httpHeaders:fe,withCredentials:Ae,rangeChunkSize:Ne,disableRange:it,disableStream:dt})),Ut(Kt)});return Promise.all([At,Ht]).then(function([Ut,Kt]){if(V.destroyed)throw new Error("Loading aborted");const Nt=new _message_handler.MessageHandler(K,Ut,Ce.port),Bt=new WorkerTransport(Nt,V,Kt,Et,gt);V._transport=Bt,Nt.send("Ready",null)})}).catch(V._capability.reject),V}async function _fetchDocument(G,V){if(G.destroyed)throw new Error("Worker was destroyed");const K=await G.messageHandler.sendWithPromise("GetDocRequest",V,V.data?[V.data.buffer]:null);if(G.destroyed)throw new Error("Worker was destroyed");return K}function getUrlProp(G){if(G instanceof URL)return G.href;try{return new URL(G,window.location).href}catch{if(_util.isNodeJS&&typeof G=="string")return G}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(G){if(_util.isNodeJS&&typeof Buffer<"u"&&G instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(G instanceof Uint8Array&&G.byteLength===G.buffer.byteLength)return G;if(typeof G=="string")return(0,_util.stringToBytes)(G);if(typeof G=="object"&&!isNaN(G==null?void 0:G.length)||(0,_util.isArrayBuffer)(G))return new Uint8Array(G);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const o=class o{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${yr(o,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var V,K,je;this.destroyed=!0;try{(V=this._worker)!=null&&V.port&&(this._worker._pendingDestroy=!0),await((K=this._transport)==null?void 0:K.destroy())}catch(Z){throw(je=this._worker)!=null&&je.port&&delete this._worker._pendingDestroy,Z}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,ot(o,i,0);let PDFDocumentLoadingTask=o;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(V,K,je=!1,Z=null){this.length=V,this.initialData=K,this.progressiveDone=je,this.contentDispositionFilename=Z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(V){this._rangeListeners.push(V)}addProgressListener(V){this._progressListeners.push(V)}addProgressiveReadListener(V){this._progressiveReadListeners.push(V)}addProgressiveDoneListener(V){this._progressiveDoneListeners.push(V)}onDataRange(V,K){for(const je of this._rangeListeners)je(V,K)}onDataProgress(V,K){this._readyCapability.promise.then(()=>{for(const je of this._progressListeners)je(V,K)})}onDataProgressiveRead(V){this._readyCapability.promise.then(()=>{for(const K of this._progressiveReadListeners)K(V)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const V of this._progressiveDoneListeners)V()})}transportReady(){this._readyCapability.resolve()}requestDataRange(V,K){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(V,K){this._pdfInfo=V,this._transport=K,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(je=>{if(!je)return je;const Z=[];for(const fe in je)Z.push(...je[fe]);return Z}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(V){return this._transport.getPage(V)}getPageIndex(V){return this._transport.getPageIndex(V)}getDestinations(){return this._transport.getDestinations()}getDestination(V){return this._transport.getDestination(V)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(V=!1){return this._transport.startCleanup(V||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(V,K,je,Z=!1){ot(this,w);ot(this,E,null);ot(this,_,!1);this._pageIndex=V,this._pageInfo=K,this._transport=je,this._stats=Z?new _display_utils.StatTimer:null,this._pdfBug=Z,this.commonObjs=je.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:V,rotation:K=this.rotate,offsetX:je=0,offsetY:Z=0,dontFlip:fe=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:V,rotation:K,offsetX:je,offsetY:Z,dontFlip:fe})}getAnnotations({intent:V="display"}={}){const K=this._transport.getRenderingIntent(V);return this._transport.getAnnotations(this._pageIndex,K.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var V;return((V=this._transport._htmlForXfa)==null?void 0:V.children[this._pageIndex])||null}render({canvasContext:V,viewport:K,intent:je="display",annotationMode:Z=_util.AnnotationMode.ENABLE,transform:fe=null,background:Ae=null,optionalContentConfigPromise:Oe=null,annotationCanvasMap:Pe=null,pageColors:Ne=null,printAnnotationStorage:Ce=null}){var J,Se;(J=this._stats)==null||J.time("Overall");const Me=this._transport.getRenderingIntent(je,Z,Ce);st(this,_,!1),Je(this,w,Rr).call(this),Oe||(Oe=this._transport.getOptionalContentConfig());let Q=this._intentStates.get(Me.cacheKey);Q||(Q=Object.create(null),this._intentStates.set(Me.cacheKey,Q)),Q.streamReaderCancelTimeout&&(clearTimeout(Q.streamReaderCancelTimeout),Q.streamReaderCancelTimeout=null);const Re=!!(Me.renderingIntent&_util.RenderingIntentFlag.PRINT);Q.displayReadyCapability||(Q.displayReadyCapability=new _util.PromiseCapability,Q.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Se=this._stats)==null||Se.time("Page Request"),this._pumpOperatorList(Me));const ke=Ie=>{var $e,De;Q.renderTasks.delete(_e),(this._maybeCleanupAfterRender||Re)&&st(this,_,!0),Je(this,w,fr).call(this,!Re),Ie?(_e.capability.reject(Ie),this._abortOperatorList({intentState:Q,reason:Ie instanceof Error?Ie:new Error(Ie)})):_e.capability.resolve(),($e=this._stats)==null||$e.timeEnd("Rendering"),(De=this._stats)==null||De.timeEnd("Overall")},_e=new InternalRenderTask({callback:ke,params:{canvasContext:V,viewport:K,transform:fe,background:Ae},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Pe,operatorList:Q.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Re,pdfBug:this._pdfBug,pageColors:Ne});(Q.renderTasks||(Q.renderTasks=new Set)).add(_e);const Y=_e.task;return Promise.all([Q.displayReadyCapability.promise,Oe]).then(([Ie,$e])=>{var De;if(this.destroyed){ke();return}(De=this._stats)==null||De.time("Rendering"),_e.initializeGraphics({transparency:Ie,optionalContentConfig:$e}),_e.operatorListChanged()}).catch(ke),Y}getOperatorList({intent:V="display",annotationMode:K=_util.AnnotationMode.ENABLE,printAnnotationStorage:je=null}={}){var Pe;function Z(){Ae.operatorList.lastChunk&&(Ae.opListReadCapability.resolve(Ae.operatorList),Ae.renderTasks.delete(Oe))}const fe=this._transport.getRenderingIntent(V,K,je,!0);let Ae=this._intentStates.get(fe.cacheKey);Ae||(Ae=Object.create(null),this._intentStates.set(fe.cacheKey,Ae));let Oe;return Ae.opListReadCapability||(Oe=Object.create(null),Oe.operatorListChanged=Z,Ae.opListReadCapability=new _util.PromiseCapability,(Ae.renderTasks||(Ae.renderTasks=new Set)).add(Oe),Ae.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pe=this._stats)==null||Pe.time("Page Request"),this._pumpOperatorList(fe)),Ae.opListReadCapability.promise}streamTextContent({includeMarkedContent:V=!1,disableNormalization:K=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:V===!0,disableNormalization:K===!0},{highWaterMark:100,size(Z){return Z.items.length}})}getTextContent(V={}){if(this._transport._htmlForXfa)return this.getXfa().then(je=>_xfa_text.XfaText.textContent(je));const K=this.streamTextContent(V);return new Promise(function(je,Z){function fe(){Ae.read().then(function({value:Pe,done:Ne}){if(Ne){je(Oe);return}Object.assign(Oe.styles,Pe.styles),Oe.items.push(...Pe.items),fe()},Z)}const Ae=K.getReader(),Oe={items:[],styles:Object.create(null)};fe()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const V=[];for(const K of this._intentStates.values())if(this._abortOperatorList({intentState:K,reason:new Error("Page was destroyed."),force:!0}),!K.opListReadCapability)for(const je of K.renderTasks)V.push(je.completed),je.cancel();return this.objs.clear(),st(this,_,!1),Je(this,w,Rr).call(this),Promise.all(V)}cleanup(V=!1){st(this,_,!0);const K=Je(this,w,fr).call(this,!1);return V&&K&&this._stats&&(this._stats=new _display_utils.StatTimer),K}_startRenderPage(V,K){var Z,fe;const je=this._intentStates.get(K);je&&((Z=this._stats)==null||Z.timeEnd("Page Request"),(fe=je.displayReadyCapability)==null||fe.resolve(V))}_renderPageChunk(V,K){for(let je=0,Z=V.length;je<Z;je++)K.operatorList.fnArray.push(V.fnArray[je]),K.operatorList.argsArray.push(V.argsArray[je]);K.operatorList.lastChunk=V.lastChunk,K.operatorList.separateAnnots=V.separateAnnots;for(const je of K.renderTasks)je.operatorListChanged();V.lastChunk&&Je(this,w,fr).call(this,!0)}_pumpOperatorList({renderingIntent:V,cacheKey:K,annotationStorageSerializable:je}){const{map:Z,transfers:fe}=je,Oe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:V,cacheKey:K,annotationStorage:Z},fe).getReader(),Pe=this._intentStates.get(K);Pe.streamReader=Oe;const Ne=()=>{Oe.read().then(({value:Ce,done:Me})=>{if(Me){Pe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ce,Pe),Ne())},Ce=>{if(Pe.streamReader=null,!this._transport.destroyed){if(Pe.operatorList){Pe.operatorList.lastChunk=!0;for(const Me of Pe.renderTasks)Me.operatorListChanged();Je(this,w,fr).call(this,!0)}if(Pe.displayReadyCapability)Pe.displayReadyCapability.reject(Ce);else if(Pe.opListReadCapability)Pe.opListReadCapability.reject(Ce);else throw Ce}})};Ne()}_abortOperatorList({intentState:V,reason:K,force:je=!1}){if(V.streamReader){if(V.streamReaderCancelTimeout&&(clearTimeout(V.streamReaderCancelTimeout),V.streamReaderCancelTimeout=null),!je){if(V.renderTasks.size>0)return;if(K instanceof _display_utils.RenderingCancelledException){let Z=RENDERING_CANCELLED_TIMEOUT;K.extraDelay>0&&K.extraDelay<1e3&&(Z+=K.extraDelay),V.streamReaderCancelTimeout=setTimeout(()=>{V.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:V,reason:K,force:!0})},Z);return}}if(V.streamReader.cancel(new _util.AbortException(K.message)).catch(()=>{}),V.streamReader=null,!this._transport.destroyed){for(const[Z,fe]of this._intentStates)if(fe===V){this._intentStates.delete(Z);break}this.cleanup()}}}get stats(){return this._stats}}E=new WeakMap,_=new WeakMap,w=new WeakSet,fr=function(V=!1){if(Je(this,w,Rr).call(this),!Ee(this,_)||this.destroyed)return!1;if(V)return st(this,E,setTimeout(()=>{st(this,E,null),Je(this,w,fr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:K,operatorList:je}of this._intentStates.values())if(K.size>0||!je.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),st(this,_,!1),!0},Rr=function(){Ee(this,E)&&(clearTimeout(Ee(this,E)),st(this,E,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ot(this,A,new Set);ot(this,R,Promise.resolve())}postMessage(V,K){const je={data:structuredClone(V,K?{transfer:K}:null)};Ee(this,R).then(()=>{for(const Z of Ee(this,A))Z.call(this,je)})}addEventListener(V,K){Ee(this,A).add(K)}removeEventListener(V,K){Ee(this,A).delete(K)}terminate(){Ee(this,A).clear()}}A=new WeakMap,R=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const G=(C=document==null?void 0:document.currentScript)==null?void 0:C.src;G&&(PDFWorkerUtil.fallbackWorkerSrc=G.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(G,V){let K;try{if(K=new URL(G),!K.origin||K.origin==="null")return!1}catch{return!1}const je=new URL(V,K);return K.origin===je.origin},PDFWorkerUtil.createCDNWrapper=function(G){const V=`importScripts("${G}");`;return URL.createObjectURL(new Blob([V]))}}const _PDFWorker=class _PDFWorker{constructor({name:G=null,port:V=null,verbosity:K=(0,_util.getVerbosityLevel)()}={}){var je;if(this.name=G,this.destroyed=!1,this.verbosity=K,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,V){if((je=Ee(_PDFWorker,T))!=null&&je.has(V))throw new Error("Cannot use more than one PDFWorker per port.");(Ee(_PDFWorker,T)||st(_PDFWorker,T,new WeakMap)).set(V,this),this._initializeFromPort(V);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(G){this._port=G,this._messageHandler=new _message_handler.MessageHandler("main","worker",G),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:G}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,G)||(G=PDFWorkerUtil.createCDNWrapper(new URL(G,window.location).href));const V=new Worker(G),K=new _message_handler.MessageHandler("main","worker",V),je=()=>{V.removeEventListener("error",Z),K.destroy(),V.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Z=()=>{this._webWorker||je()};V.addEventListener("error",Z),K.on("test",Ae=>{if(V.removeEventListener("error",Z),this.destroyed){je();return}Ae?(this._messageHandler=K,this._port=V,this._webWorker=V,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),K.destroy(),V.terminate())}),K.on("ready",Ae=>{if(V.removeEventListener("error",Z),this.destroyed){je();return}try{fe()}catch{this._setupFakeWorker()}});const fe=()=>{const Ae=new Uint8Array;K.send("test",Ae,[Ae.buffer])};fe();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(G=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const V=new LoopbackPort;this._port=V;const K=`fake${PDFWorkerUtil.fakeWorkerId++}`,je=new _message_handler.MessageHandler(K+"_worker",K,V);G.setup(je,V);const Z=new _message_handler.MessageHandler(K,K+"_worker",V);this._messageHandler=Z,this._readyCapability.resolve(),Z.send("configure",{verbosity:this.verbosity})}).catch(G=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${G.message}".`))})}destroy(){var G;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(G=Ee(_PDFWorker,T))==null||G.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(G){var K;if(!(G!=null&&G.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const V=(K=Ee(this,T))==null?void 0:K.get(G.port);if(V){if(V._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return V}return new _PDFWorker(G)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var G;try{return((G=globalThis.pdfjsWorker)==null?void 0:G.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};T=new WeakMap,ot(_PDFWorker,T);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(V,K,je,Z,fe){ot(this,L);ot(this,N,new Map);ot(this,O,new Map);ot(this,$,new Map);ot(this,D,null);this.messageHandler=V,this.loadingTask=K,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Z.ownerDocument,styleElement:Z.styleElement}),this._params=Z,this.canvasFactory=fe.canvasFactory,this.filterFactory=fe.filterFactory,this.cMapReaderFactory=fe.cMapReaderFactory,this.standardFontDataFactory=fe.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=je,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(V,K=_util.AnnotationMode.ENABLE,je=null,Z=!1){let fe=_util.RenderingIntentFlag.DISPLAY,Ae=_annotation_storage.SerializableEmpty;switch(V){case"any":fe=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":fe=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${V}`)}switch(K){case _util.AnnotationMode.DISABLE:fe+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:fe+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:fe+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ae=(fe&_util.RenderingIntentFlag.PRINT&&je instanceof _annotation_storage.PrintAnnotationStorage?je:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${K}`)}return Z&&(fe+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:fe,cacheKey:`${fe}_${Ae.hash}`,annotationStorageSerializable:Ae}}destroy(){var je;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(je=Ee(this,D))==null||je.reject(new Error("Worker was destroyed during onPassword callback"));const V=[];for(const Z of Ee(this,O).values())V.push(Z._destroy());Ee(this,O).clear(),Ee(this,$).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const K=this.messageHandler.sendWithPromise("Terminate",null);return V.push(K),Promise.all(V).then(()=>{var Z;this.commonObjs.clear(),this.fontLoader.clear(),Ee(this,N).clear(),this.filterFactory.destroy(),(Z=this._networkStream)==null||Z.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:V,loadingTask:K}=this;V.on("GetReader",(je,Z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=fe=>{this._lastProgress={loaded:fe.loaded,total:fe.total}},Z.onPull=()=>{this._fullReader.read().then(function({value:fe,done:Ae}){if(Ae){Z.close();return}(0,_util.assert)(fe instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(fe),1,[fe])}).catch(fe=>{Z.error(fe)})},Z.onCancel=fe=>{this._fullReader.cancel(fe),Z.ready.catch(Ae=>{if(!this.destroyed)throw Ae})}}),V.on("ReaderHeadersReady",je=>{const Z=new _util.PromiseCapability,fe=this._fullReader;return fe.headersReady.then(()=>{var Ae;(!fe.isStreamingSupported||!fe.isRangeSupported)&&(this._lastProgress&&((Ae=K.onProgress)==null||Ae.call(K,this._lastProgress)),fe.onProgress=Oe=>{var Pe;(Pe=K.onProgress)==null||Pe.call(K,{loaded:Oe.loaded,total:Oe.total})}),Z.resolve({isStreamingSupported:fe.isStreamingSupported,isRangeSupported:fe.isRangeSupported,contentLength:fe.contentLength})},Z.reject),Z.promise}),V.on("GetRangeReader",(je,Z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const fe=this._networkStream.getRangeReader(je.begin,je.end);if(!fe){Z.close();return}Z.onPull=()=>{fe.read().then(function({value:Ae,done:Oe}){if(Oe){Z.close();return}(0,_util.assert)(Ae instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(Ae),1,[Ae])}).catch(Ae=>{Z.error(Ae)})},Z.onCancel=Ae=>{fe.cancel(Ae),Z.ready.catch(Oe=>{if(!this.destroyed)throw Oe})}}),V.on("GetDoc",({pdfInfo:je})=>{this._numPages=je.numPages,this._htmlForXfa=je.htmlForXfa,delete je.htmlForXfa,K._capability.resolve(new PDFDocumentProxy(je,this))}),V.on("DocException",function(je){let Z;switch(je.name){case"PasswordException":Z=new _util.PasswordException(je.message,je.code);break;case"InvalidPDFException":Z=new _util.InvalidPDFException(je.message);break;case"MissingPDFException":Z=new _util.MissingPDFException(je.message);break;case"UnexpectedResponseException":Z=new _util.UnexpectedResponseException(je.message,je.status);break;case"UnknownErrorException":Z=new _util.UnknownErrorException(je.message,je.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}K._capability.reject(Z)}),V.on("PasswordRequest",je=>{if(st(this,D,new _util.PromiseCapability),K.onPassword){const Z=fe=>{fe instanceof Error?Ee(this,D).reject(fe):Ee(this,D).resolve({password:fe})};try{K.onPassword(Z,je.code)}catch(fe){Ee(this,D).reject(fe)}}else Ee(this,D).reject(new _util.PasswordException(je.message,je.code));return Ee(this,D).promise}),V.on("DataLoaded",je=>{var Z;(Z=K.onProgress)==null||Z.call(K,{loaded:je.length,total:je.length}),this.downloadInfoCapability.resolve(je)}),V.on("StartRenderPage",je=>{if(this.destroyed)return;Ee(this,O).get(je.pageIndex)._startRenderPage(je.transparency,je.cacheKey)}),V.on("commonobj",([je,Z,fe])=>{var Ae;if(!this.destroyed&&!this.commonObjs.has(je))switch(Z){case"Font":const Oe=this._params;if("error"in fe){const Ce=fe.error;(0,_util.warn)(`Error during font loading: ${Ce}`),this.commonObjs.resolve(je,Ce);break}const Pe=Oe.pdfBug&&((Ae=globalThis.FontInspector)!=null&&Ae.enabled)?(Ce,Me)=>globalThis.FontInspector.fontAdded(Ce,Me):null,Ne=new _font_loader.FontFaceObject(fe,{isEvalSupported:Oe.isEvalSupported,disableFontFace:Oe.disableFontFace,ignoreErrors:Oe.ignoreErrors,inspectFont:Pe});this.fontLoader.bind(Ne).catch(Ce=>V.sendWithPromise("FontFallback",{id:je})).finally(()=>{!Oe.fontExtraProperties&&Ne.data&&(Ne.data=null),this.commonObjs.resolve(je,Ne)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(je,fe);break;default:throw new Error(`Got unknown common object type ${Z}`)}}),V.on("obj",([je,Z,fe,Ae])=>{var Pe;if(this.destroyed)return;const Oe=Ee(this,O).get(Z);if(!Oe.objs.has(je))switch(fe){case"Image":if(Oe.objs.resolve(je,Ae),Ae){let Ne;if(Ae.bitmap){const{width:Ce,height:Me}=Ae;Ne=Ce*Me*4}else Ne=((Pe=Ae.data)==null?void 0:Pe.length)||0;Ne>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Oe._maybeCleanupAfterRender=!0)}break;case"Pattern":Oe.objs.resolve(je,Ae);break;default:throw new Error(`Got unknown object type ${fe}`)}}),V.on("DocProgress",je=>{var Z;this.destroyed||(Z=K.onProgress)==null||Z.call(K,{loaded:je.loaded,total:je.total})}),V.on("FetchBuiltInCMap",je=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(je):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),V.on("FetchStandardFontData",je=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(je):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var je;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:V,transfers:K}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:V,filename:((je=this._fullReader)==null?void 0:je.filename)??null},K).finally(()=>{this.annotationStorage.resetModified()})}getPage(V){if(!Number.isInteger(V)||V<=0||V>this._numPages)return Promise.reject(new Error("Invalid page request."));const K=V-1,je=Ee(this,$).get(K);if(je)return je;const Z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:K}).then(fe=>{if(this.destroyed)throw new Error("Transport destroyed");const Ae=new PDFPageProxy(K,fe,this,this._params.pdfBug);return Ee(this,O).set(K,Ae),Ae});return Ee(this,$).set(K,Z),Z}getPageIndex(V){return typeof V!="object"||V===null||!Number.isInteger(V.num)||V.num<0||!Number.isInteger(V.gen)||V.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:V.num,gen:V.gen})}getAnnotations(V,K){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:V,intent:K})}getFieldObjects(){return Je(this,L,Cr).call(this,"GetFieldObjects")}hasJSActions(){return Je(this,L,Cr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(V){return typeof V!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:V})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Je(this,L,Cr).call(this,"GetDocJSActions")}getPageJSActions(V){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:V})}getStructTree(V){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:V})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(V=>new _optional_content_config.OptionalContentConfig(V))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const V="GetMetadata",K=Ee(this,N).get(V);if(K)return K;const je=this.messageHandler.sendWithPromise(V,null).then(Z=>{var fe,Ae;return{info:Z[0],metadata:Z[1]?new _metadata.Metadata(Z[1]):null,contentDispositionFilename:((fe=this._fullReader)==null?void 0:fe.filename)??null,contentLength:((Ae=this._fullReader)==null?void 0:Ae.contentLength)??null}});return Ee(this,N).set(V,je),je}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(V=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const K of Ee(this,O).values())if(!K.cleanup())throw new Error(`startCleanup: Page ${K.pageNumber} is currently rendering.`);this.commonObjs.clear(),V||this.fontLoader.clear(),Ee(this,N).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:V,enableXfa:K}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:V,enableXfa:K})}}N=new WeakMap,O=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakSet,Cr=function(V,K=null){const je=Ee(this,N).get(V);if(je)return je;const Z=this.messageHandler.sendWithPromise(V,K);return Ee(this,N).set(V,Z),Z};class PDFObjects{constructor(){ot(this,F);ot(this,z,Object.create(null))}get(V,K=null){if(K){const Z=Je(this,F,Gr).call(this,V);return Z.capability.promise.then(()=>K(Z.data)),null}const je=Ee(this,z)[V];if(!(je!=null&&je.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${V}.`);return je.data}has(V){const K=Ee(this,z)[V];return(K==null?void 0:K.capability.settled)||!1}resolve(V,K=null){const je=Je(this,F,Gr).call(this,V);je.data=K,je.capability.resolve()}clear(){var V;for(const K in Ee(this,z)){const{data:je}=Ee(this,z)[K];(V=je==null?void 0:je.bitmap)==null||V.close()}st(this,z,Object.create(null))}}z=new WeakMap,F=new WeakSet,Gr=function(V){var K;return(K=Ee(this,z))[V]||(K[V]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(V){ot(this,H,null);st(this,H,V),this.onContinue=null}get promise(){return Ee(this,H).capability.promise}cancel(V=0){Ee(this,H).cancel(null,V)}get separateAnnots(){const{separateAnnots:V}=Ee(this,H).operatorList;if(!V)return!1;const{annotationCanvasMap:K}=Ee(this,H);return V.form||V.canvas&&(K==null?void 0:K.size)>0}}H=new WeakMap,exports.RenderTask=RenderTask;const U=class U{constructor({callback:V,params:K,objs:je,commonObjs:Z,annotationCanvasMap:fe,operatorList:Ae,pageIndex:Oe,canvasFactory:Pe,filterFactory:Ne,useRequestAnimationFrame:Ce=!1,pdfBug:Me=!1,pageColors:Q=null}){this.callback=V,this.params=K,this.objs=je,this.commonObjs=Z,this.annotationCanvasMap=fe,this.operatorListIdx=null,this.operatorList=Ae,this._pageIndex=Oe,this.canvasFactory=Pe,this.filterFactory=Ne,this._pdfBug=Me,this.pageColors=Q,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ce===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=K.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:V=!1,optionalContentConfig:K}){var Oe,Pe;if(this.cancelled)return;if(this._canvas){if(Ee(U,B).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ee(U,B).add(this._canvas)}this._pdfBug&&((Oe=globalThis.StepperManager)!=null&&Oe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:je,viewport:Z,transform:fe,background:Ae}=this.params;this.gfx=new _canvas.CanvasGraphics(je,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:K},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:fe,viewport:Z,transparency:V,background:Ae}),this.operatorListIdx=0,this.graphicsReady=!0,(Pe=this.graphicsReadyCallback)==null||Pe.call(this)}cancel(V=null,K=0){var je;this.running=!1,this.cancelled=!0,(je=this.gfx)==null||je.endDrawing(),Ee(U,B).delete(this._canvas),this.callback(V||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,K))}operatorListChanged(){var V;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(V=this.stepper)==null||V.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ee(U,B).delete(this._canvas),this.callback())))}};B=new WeakMap,ot(U,B,new WeakSet);let InternalRenderTask=U;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(i,o,E)=>{var C,T,N,Tn,$;Object.defineProperty(o,"__esModule",{value:!0}),o.SerializableEmpty=o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var _=E(1),w=E(4),j=E(8);const S=Object.freeze({map:null,hash:"",transfers:void 0});o.SerializableEmpty=S;class A{constructor(){ot(this,N);ot(this,C,!1);ot(this,T,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(L,I){const z=Ee(this,T).get(L);return z===void 0?I:Object.assign(I,z)}getRawValue(L){return Ee(this,T).get(L)}remove(L){if(Ee(this,T).delete(L),Ee(this,T).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const I of Ee(this,T).values())if(I instanceof w.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(L,I){const z=Ee(this,T).get(L);let F=!1;if(z!==void 0)for(const[W,H]of Object.entries(I))z[W]!==H&&(F=!0,z[W]=H);else F=!0,Ee(this,T).set(L,I);F&&Je(this,N,Tn).call(this),I instanceof w.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(I.constructor._type)}has(L){return Ee(this,T).has(L)}getAll(){return Ee(this,T).size>0?(0,_.objectFromMap)(Ee(this,T)):null}setAll(L){for(const[I,z]of Object.entries(L))this.setValue(I,z)}get size(){return Ee(this,T).size}resetModified(){Ee(this,C)&&(st(this,C,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new R(this)}get serializable(){if(Ee(this,T).size===0)return S;const L=new Map,I=new j.MurmurHash3_64,z=[],F=Object.create(null);let W=!1;for(const[H,B]of Ee(this,T)){const U=B instanceof w.AnnotationEditor?B.serialize(!1,F):B;U&&(L.set(H,U),I.update(`${H}:${JSON.stringify(U)}`),W||(W=!!U.bitmap))}if(W)for(const H of L.values())H.bitmap&&z.push(H.bitmap);return L.size>0?{map:L,hash:I.hexdigest(),transfers:z}:S}}C=new WeakMap,T=new WeakMap,N=new WeakSet,Tn=function(){Ee(this,C)||(st(this,C,!0),typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=A;class R extends A{constructor(I){super();ot(this,$);const{map:z,hash:F,transfers:W}=I.serializable,H=structuredClone(z,W?{transfer:W}:null);st(this,$,{map:H,hash:F,transfers:W})}get print(){(0,_.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ee(this,$)}}$=new WeakMap,o.PrintAnnotationStorage=R},(i,o,E)=>{var R,C,T,N,O,$,D,L,I,z,F,W,H,B,U,Hr,qr,K,Vr,Kr,Nn,$n,On,Yr,kn;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var _=E(5),w=E(1),j=E(6);const Ce=class Ce{constructor(Q){ot(this,U);ot(this,R,"");ot(this,C,!1);ot(this,T,null);ot(this,N,null);ot(this,O,null);ot(this,$,!1);ot(this,D,null);ot(this,L,this.focusin.bind(this));ot(this,I,this.focusout.bind(this));ot(this,z,!1);ot(this,F,!1);ot(this,W,!1);tr(this,"_initialOptions",Object.create(null));tr(this,"_uiManager",null);tr(this,"_focusEventsAllowed",!0);tr(this,"_l10nPromise",null);ot(this,H,!1);ot(this,B,Ce._zIndex++);this.constructor===Ce&&(0,w.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Q.parent,this.id=Q.id,this.width=this.height=null,this.pageIndex=Q.parent.pageIndex,this.name=Q.name,this.div=null,this._uiManager=Q.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Q.isCentered,this._structTreeParentId=null;const{rotation:Re,rawDims:{pageWidth:ke,pageHeight:_e,pageX:Y,pageY:J}}=this.parent.viewport;this.rotation=Re,this.pageRotation=(360+Re-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ke,_e],this.pageTranslation=[Y,J];const[Se,Ie]=this.parentDimensions;this.x=Q.x/Se,this.y=Q.y/Ie,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,w.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Q){const Re=new A({id:Q.parent.getNextId(),parent:Q.parent,uiManager:Q._uiManager});Re.annotationElementId=Q.annotationElementId,Re.deleted=!0,Re._uiManager.addToAnnotationStorage(Re)}static initialize(Q,Re=null){if(Ce._l10nPromise||(Ce._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(_e=>[_e,Q.get(_e)]))),Re!=null&&Re.strings)for(const _e of Re.strings)Ce._l10nPromise.set(_e,Q.get(_e));if(Ce._borderLineWidth!==-1)return;const ke=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(ke.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Q,Re){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Q){return!1}static paste(Q,Re){(0,w.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ee(this,H)}set _isDraggable(Q){var Re;st(this,H,Q),(Re=this.div)==null||Re.classList.toggle("draggable",Q)}center(){const[Q,Re]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Re/(Q*2),this.y+=this.width*Q/(Re*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Re/(Q*2),this.y-=this.width*Q/(Re*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Q){this._uiManager.addCommands(Q)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ee(this,B)}setParent(Q){Q!==null&&(this.pageIndex=Q.pageIndex,this.pageDimensions=Q.pageDimensions),this.parent=Q}focusin(Q){this._focusEventsAllowed&&(Ee(this,z)?st(this,z,!1):this.parent.setSelected(this))}focusout(Q){var ke;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Re=Q.relatedTarget;Re!=null&&Re.closest(`#${this.id}`)||(Q.preventDefault(),(ke=this.parent)!=null&&ke.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Q,Re,ke,_e){const[Y,J]=this.parentDimensions;[ke,_e]=this.screenToPageTranslation(ke,_e),this.x=(Q+ke)/Y,this.y=(Re+_e)/J,this.fixAndSetPosition()}translate(Q,Re){Je(this,U,Hr).call(this,this.parentDimensions,Q,Re)}translateInPage(Q,Re){Je(this,U,Hr).call(this,this.pageDimensions,Q,Re),this.div.scrollIntoView({block:"nearest"})}drag(Q,Re){const[ke,_e]=this.parentDimensions;if(this.x+=Q/ke,this.y+=Re/_e,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:$e,y:De}=this.div.getBoundingClientRect();this.parent.findNewParent(this,$e,De)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Y,y:J}=this;const[Se,Ie]=Je(this,U,qr).call(this);Y+=Se,J+=Ie,this.div.style.left=`${(100*Y).toFixed(2)}%`,this.div.style.top=`${(100*J).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Q,Re]=this.pageDimensions;let{x:ke,y:_e,width:Y,height:J}=this;switch(Y*=Q,J*=Re,ke*=Q,_e*=Re,this.rotation){case 0:ke=Math.max(0,Math.min(Q-Y,ke)),_e=Math.max(0,Math.min(Re-J,_e));break;case 90:ke=Math.max(0,Math.min(Q-J,ke)),_e=Math.min(Re,Math.max(Y,_e));break;case 180:ke=Math.min(Q,Math.max(Y,ke)),_e=Math.min(Re,Math.max(J,_e));break;case 270:ke=Math.min(Q,Math.max(J,ke)),_e=Math.max(0,Math.min(Re-Y,_e));break}this.x=ke/=Q,this.y=_e/=Re;const[Se,Ie]=Je(this,U,qr).call(this);ke+=Se,_e+=Ie;const{style:$e}=this.div;$e.left=`${(100*ke).toFixed(2)}%`,$e.top=`${(100*_e).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Q,Re){var ke;return Je(ke=Ce,K,Vr).call(ke,Q,Re,this.parentRotation)}pageTranslationToScreen(Q,Re){var ke;return Je(ke=Ce,K,Vr).call(ke,Q,Re,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Q,pageDimensions:[Re,ke]}=this,_e=Re*Q,Y=ke*Q;return w.FeatureTest.isCSSRoundSupported?[Math.round(_e),Math.round(Y)]:[_e,Y]}setDims(Q,Re){var Y;const[ke,_e]=this.parentDimensions;this.div.style.width=`${(100*Q/ke).toFixed(2)}%`,Ee(this,$)||(this.div.style.height=`${(100*Re/_e).toFixed(2)}%`),(Y=Ee(this,T))==null||Y.classList.toggle("small",Q<Ce.SMALL_EDITOR_SIZE||Re<Ce.SMALL_EDITOR_SIZE)}fixDims(){const{style:Q}=this.div,{height:Re,width:ke}=Q,_e=ke.endsWith("%"),Y=!Ee(this,$)&&Re.endsWith("%");if(_e&&Y)return;const[J,Se]=this.parentDimensions;_e||(Q.width=`${(100*parseFloat(ke)/J).toFixed(2)}%`),!Ee(this,$)&&!Y&&(Q.height=`${(100*parseFloat(Re)/Se).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ee(this,T))return;const Q=st(this,T,document.createElement("button"));Q.className="altText";const Re=await Ce._l10nPromise.get("editor_alt_text_button_label");Q.textContent=Re,Q.setAttribute("aria-label",Re),Q.tabIndex="0",Q.addEventListener("contextmenu",j.noContextMenu),Q.addEventListener("pointerdown",ke=>ke.stopPropagation()),Q.addEventListener("click",ke=>{ke.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Q.addEventListener("keydown",ke=>{ke.target===Q&&ke.key==="Enter"&&(ke.preventDefault(),this._uiManager.editAltText(this))}),Je(this,U,Yr).call(this),this.div.append(Q),Ce.SMALL_EDITOR_SIZE||(Ce.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Q.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ee(this,R),decorative:Ee(this,C)}}set altTextData({altText:Q,decorative:Re}){Ee(this,R)===Q&&Ee(this,C)===Re||(st(this,R,Q),st(this,C,Re),Je(this,U,Yr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ee(this,L)),this.div.addEventListener("focusout",Ee(this,I));const[Q,Re]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Re/Q).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Q/Re).toFixed(2)}%`);const[ke,_e]=this.getInitialTranslation();return this.translate(ke,_e),(0,_.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Q){const{isMac:Re}=w.FeatureTest.platform;if(Q.button!==0||Q.ctrlKey&&Re){Q.preventDefault();return}st(this,z,!0),Je(this,U,kn).call(this,Q)}moveInDOM(){var Q;(Q=this.parent)==null||Q.moveEditorInDOM(this)}_setParentAndPosition(Q,Re,ke){Q.changeParent(this),this.x=Re,this.y=ke,this.fixAndSetPosition()}getRect(Q,Re){const ke=this.parentScale,[_e,Y]=this.pageDimensions,[J,Se]=this.pageTranslation,Ie=Q/ke,$e=Re/ke,De=this.x*_e,Be=this.y*Y,Le=this.width*_e,He=this.height*Y;switch(this.rotation){case 0:return[De+Ie+J,Y-Be-$e-He+Se,De+Ie+Le+J,Y-Be-$e+Se];case 90:return[De+$e+J,Y-Be+Ie+Se,De+$e+He+J,Y-Be+Ie+Le+Se];case 180:return[De-Ie-Le+J,Y-Be+$e+Se,De-Ie+J,Y-Be+$e+He+Se];case 270:return[De-$e-He+J,Y-Be-Ie-Le+Se,De-$e+J,Y-Be-Ie+Se];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Q,Re){const[ke,_e,Y,J]=Q,Se=Y-ke,Ie=J-_e;switch(this.rotation){case 0:return[ke,Re-J,Se,Ie];case 90:return[ke,Re-_e,Ie,Se];case 180:return[Y,Re-_e,Se,Ie];case 270:return[Y,Re-J,Ie,Se];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){st(this,W,!0)}disableEditMode(){st(this,W,!1)}isInEditMode(){return Ee(this,W)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Q,Re;(Q=this.div)==null||Q.addEventListener("focusin",Ee(this,L)),(Re=this.div)==null||Re.addEventListener("focusout",Ee(this,I))}serialize(Q=!1,Re=null){(0,w.unreachable)("An editor must be serializable")}static deserialize(Q,Re,ke){const _e=new this.prototype.constructor({parent:Re,id:Re.getNextId(),uiManager:ke});_e.rotation=Q.rotation;const[Y,J]=_e.pageDimensions,[Se,Ie,$e,De]=_e.getRectInCurrentCoords(Q.rect,J);return _e.x=Se/Y,_e.y=Ie/J,_e.width=$e/Y,_e.height=De/J,_e}remove(){var Q;this.div.removeEventListener("focusin",Ee(this,L)),this.div.removeEventListener("focusout",Ee(this,I)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Q=Ee(this,T))==null||Q.remove(),st(this,T,null),st(this,N,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Je(this,U,Nn).call(this),Ee(this,D).classList.remove("hidden"))}select(){var Q;this.makeResizable(),(Q=this.div)==null||Q.classList.add("selectedEditor")}unselect(){var Q,Re,ke;(Q=Ee(this,D))==null||Q.classList.add("hidden"),(Re=this.div)==null||Re.classList.remove("selectedEditor"),(ke=this.div)!=null&&ke.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Q,Re){}disableEditing(){Ee(this,T)&&(Ee(this,T).hidden=!0)}enableEditing(){Ee(this,T)&&(Ee(this,T).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ee(this,F)}set isEditing(Q){st(this,F,Q),this.parent&&(Q?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Q,Re){st(this,$,!0);const ke=Q/Re,{style:_e}=this.div;_e.aspectRatio=ke,_e.height="auto"}static get MIN_SIZE(){return 16}};R=new WeakMap,C=new WeakMap,T=new WeakMap,N=new WeakMap,O=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakMap,I=new WeakMap,z=new WeakMap,F=new WeakMap,W=new WeakMap,H=new WeakMap,B=new WeakMap,U=new WeakSet,Hr=function([Q,Re],ke,_e){[ke,_e]=this.screenToPageTranslation(ke,_e),this.x+=ke/Q,this.y+=_e/Re,this.fixAndSetPosition()},qr=function(){const[Q,Re]=this.parentDimensions,{_borderLineWidth:ke}=Ce,_e=ke/Q,Y=ke/Re;switch(this.rotation){case 90:return[-_e,Y];case 180:return[_e,Y];case 270:return[_e,-Y];default:return[-_e,-Y]}},K=new WeakSet,Vr=function(Q,Re,ke){switch(ke){case 90:return[Re,-Q];case 180:return[-Q,-Re];case 270:return[-Re,Q];default:return[Q,Re]}},Kr=function(Q){switch(Q){case 90:{const[Re,ke]=this.pageDimensions;return[0,-Re/ke,ke/Re,0]}case 180:return[-1,0,0,-1];case 270:{const[Re,ke]=this.pageDimensions;return[0,Re/ke,-ke/Re,0]}default:return[1,0,0,1]}},Nn=function(){if(Ee(this,D))return;st(this,D,document.createElement("div")),Ee(this,D).classList.add("resizers");const Q=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Q.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Re of Q){const ke=document.createElement("div");Ee(this,D).append(ke),ke.classList.add("resizer",Re),ke.addEventListener("pointerdown",Je(this,U,$n).bind(this,Re)),ke.addEventListener("contextmenu",j.noContextMenu)}this.div.prepend(Ee(this,D))},$n=function(Q,Re){Re.preventDefault();const{isMac:ke}=w.FeatureTest.platform;if(Re.button!==0||Re.ctrlKey&&ke)return;const _e=Je(this,U,On).bind(this,Q),Y=this._isDraggable;this._isDraggable=!1;const J={passive:!0,capture:!0};window.addEventListener("pointermove",_e,J);const Se=this.x,Ie=this.y,$e=this.width,De=this.height,Be=this.parent.div.style.cursor,Le=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Re.target).cursor;const He=()=>{this._isDraggable=Y,window.removeEventListener("pointerup",He),window.removeEventListener("blur",He),window.removeEventListener("pointermove",_e,J),this.parent.div.style.cursor=Be,this.div.style.cursor=Le;const We=this.x,rt=this.y,it=this.width,dt=this.height;We===Se&&rt===Ie&&it===$e&&dt===De||this.addCommands({cmd:()=>{this.width=it,this.height=dt,this.x=We,this.y=rt;const[Ke,Xe]=this.parentDimensions;this.setDims(Ke*it,Xe*dt),this.fixAndSetPosition()},undo:()=>{this.width=$e,this.height=De,this.x=Se,this.y=Ie;const[Ke,Xe]=this.parentDimensions;this.setDims(Ke*$e,Xe*De),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",He),window.addEventListener("blur",He)},On=function(Q,Re){const[ke,_e]=this.parentDimensions,Y=this.x,J=this.y,Se=this.width,Ie=this.height,$e=Ce.MIN_SIZE/ke,De=Ce.MIN_SIZE/_e,Be=Nt=>Math.round(Nt*1e4)/1e4,Le=Je(this,U,Kr).call(this,this.rotation),He=(Nt,Bt)=>[Le[0]*Nt+Le[2]*Bt,Le[1]*Nt+Le[3]*Bt],We=Je(this,U,Kr).call(this,360-this.rotation),rt=(Nt,Bt)=>[We[0]*Nt+We[2]*Bt,We[1]*Nt+We[3]*Bt];let it,dt,Ke=!1,Xe=!1;switch(Q){case"topLeft":Ke=!0,it=(Nt,Bt)=>[0,0],dt=(Nt,Bt)=>[Nt,Bt];break;case"topMiddle":it=(Nt,Bt)=>[Nt/2,0],dt=(Nt,Bt)=>[Nt/2,Bt];break;case"topRight":Ke=!0,it=(Nt,Bt)=>[Nt,0],dt=(Nt,Bt)=>[0,Bt];break;case"middleRight":Xe=!0,it=(Nt,Bt)=>[Nt,Bt/2],dt=(Nt,Bt)=>[0,Bt/2];break;case"bottomRight":Ke=!0,it=(Nt,Bt)=>[Nt,Bt],dt=(Nt,Bt)=>[0,0];break;case"bottomMiddle":it=(Nt,Bt)=>[Nt/2,Bt],dt=(Nt,Bt)=>[Nt/2,0];break;case"bottomLeft":Ke=!0,it=(Nt,Bt)=>[0,Bt],dt=(Nt,Bt)=>[Nt,0];break;case"middleLeft":Xe=!0,it=(Nt,Bt)=>[0,Bt/2],dt=(Nt,Bt)=>[Nt,Bt/2];break}const Fe=it(Se,Ie),Ge=dt(Se,Ie);let Ye=He(...Ge);const Qe=Be(Y+Ye[0]),ut=Be(J+Ye[1]);let mt=1,gt=1,[Ze,Et]=this.screenToPageTranslation(Re.movementX,Re.movementY);if([Ze,Et]=rt(Ze/ke,Et/_e),Ke){const Nt=Math.hypot(Se,Ie);mt=gt=Math.max(Math.min(Math.hypot(Ge[0]-Fe[0]-Ze,Ge[1]-Fe[1]-Et)/Nt,1/Se,1/Ie),$e/Se,De/Ie)}else Xe?mt=Math.max($e,Math.min(1,Math.abs(Ge[0]-Fe[0]-Ze)))/Se:gt=Math.max(De,Math.min(1,Math.abs(Ge[1]-Fe[1]-Et)))/Ie;const At=Be(Se*mt),Ht=Be(Ie*gt);Ye=He(...dt(At,Ht));const Ut=Qe-Ye[0],Kt=ut-Ye[1];this.width=At,this.height=Ht,this.x=Ut,this.y=Kt,this.setDims(ke*At,_e*Ht),this.fixAndSetPosition()},Yr=async function(){var ke;const Q=Ee(this,T);if(!Q)return;if(!Ee(this,R)&&!Ee(this,C)){Q.classList.remove("done"),(ke=Ee(this,N))==null||ke.remove();return}Ce._l10nPromise.get("editor_alt_text_edit_button_label").then(_e=>{Q.setAttribute("aria-label",_e)});let Re=Ee(this,N);if(!Re){st(this,N,Re=document.createElement("span")),Re.className="tooltip",Re.setAttribute("role","tooltip");const _e=Re.id=`alt-text-tooltip-${this.id}`;Q.setAttribute("aria-describedby",_e);const Y=100;Q.addEventListener("mouseenter",()=>{st(this,O,setTimeout(()=>{st(this,O,null),Ee(this,N).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Y))}),Q.addEventListener("mouseleave",()=>{var J;clearTimeout(Ee(this,O)),st(this,O,null),(J=Ee(this,N))==null||J.classList.remove("show")})}Q.classList.add("done"),Re.innerText=Ee(this,C)?await Ce._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ee(this,R),Re.parentNode||Q.append(Re)},kn=function(Q){if(!this._isDraggable)return;const Re=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let ke,_e;Re&&(ke={passive:!0,capture:!0},_e=J=>{const[Se,Ie]=this.screenToPageTranslation(J.movementX,J.movementY);this._uiManager.dragSelectedEditors(Se,Ie)},window.addEventListener("pointermove",_e,ke));const Y=()=>{if(window.removeEventListener("pointerup",Y),window.removeEventListener("blur",Y),Re&&window.removeEventListener("pointermove",_e,ke),st(this,z,!1),!this._uiManager.endDragSession()){const{isMac:J}=w.FeatureTest.platform;Q.ctrlKey&&!J||Q.shiftKey||Q.metaKey&&J?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Y),window.addEventListener("blur",Y)},ot(Ce,K),tr(Ce,"_borderLineWidth",-1),tr(Ce,"_colorManager",new _.ColorManager),tr(Ce,"_zIndex",1),tr(Ce,"SMALL_EDITOR_SIZE",0);let S=Ce;o.AnnotationEditor=S;class A extends S{constructor(Q){super(Q),this.annotationElementId=Q.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(i,o,E)=>{var $,D,L,I,z,Xr,H,B,U,G,V,Mn,Z,fe,Ae,Oe,Pe,Ne,Ce,Me,Q,Re,ke,_e,Y,J,Se,Ie,$e,De,Be,Le,He,We,rt,it,dt,Ke,Xe,Fe,Ge,Ye,Qe,ut,mt,gt,Ze,In,Zr,Jr,Pr,Qr,en,cr,br,Dn,Ln,tn,Er,rn;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=j,o.opacityToHex=S;var _=E(1),w=E(6);function j(Vt,qe,pt){for(const Rt of pt)qe.addEventListener(Rt,Vt[Rt].bind(Vt))}function S(Vt){return Math.round(Math.min(255,Math.max(1,255*Vt))).toString(16).padStart(2,"0")}class A{constructor(){ot(this,$,0)}getId(){return`${_.AnnotationEditorPrefix}${yr(this,$)._++}`}}$=new WeakMap;const W=class W{constructor(){ot(this,z);ot(this,D,(0,_.getUuid)());ot(this,L,0);ot(this,I,null)}static get _isSVGFittingCanvas(){const qe='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Rt=new OffscreenCanvas(1,3).getContext("2d"),It=new Image;It.src=qe;const vt=It.decode().then(()=>(Rt.drawImage(It,0,0,1,1,0,0,1,3),new Uint32Array(Rt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,_.shadow)(this,"_isSVGFittingCanvas",vt)}async getFromFile(qe){const{lastModified:pt,name:Rt,size:It,type:vt}=qe;return Je(this,z,Xr).call(this,`${pt}_${Rt}_${It}_${vt}`,qe)}async getFromUrl(qe){return Je(this,z,Xr).call(this,qe,qe)}async getFromId(qe){Ee(this,I)||st(this,I,new Map);const pt=Ee(this,I).get(qe);return pt?pt.bitmap?(pt.refCounter+=1,pt):pt.file?this.getFromFile(pt.file):this.getFromUrl(pt.url):null}getSvgUrl(qe){const pt=Ee(this,I).get(qe);return pt!=null&&pt.isSvg?pt.svgUrl:null}deleteId(qe){Ee(this,I)||st(this,I,new Map);const pt=Ee(this,I).get(qe);pt&&(pt.refCounter-=1,pt.refCounter===0&&(pt.bitmap=null))}isValidId(qe){return qe.startsWith(`image_${Ee(this,D)}_`)}};D=new WeakMap,L=new WeakMap,I=new WeakMap,z=new WeakSet,Xr=async function(qe,pt){Ee(this,I)||st(this,I,new Map);let Rt=Ee(this,I).get(qe);if(Rt===null)return null;if(Rt!=null&&Rt.bitmap)return Rt.refCounter+=1,Rt;try{Rt||(Rt={bitmap:null,id:`image_${Ee(this,D)}_${yr(this,L)._++}`,refCounter:0,isSvg:!1});let It;if(typeof pt=="string"){Rt.url=pt;const vt=await fetch(pt);if(!vt.ok)throw new Error(vt.statusText);It=await vt.blob()}else It=Rt.file=pt;if(It.type==="image/svg+xml"){const vt=W._isSVGFittingCanvas,St=new FileReader,Ue=new Image,ze=new Promise((Ve,lt)=>{Ue.onload=()=>{Rt.bitmap=Ue,Rt.isSvg=!0,Ve()},St.onload=async()=>{const ct=Rt.svgUrl=St.result;Ue.src=await vt?`${ct}#svgView(preserveAspectRatio(none))`:ct},Ue.onerror=St.onerror=lt});St.readAsDataURL(It),await ze}else Rt.bitmap=await createImageBitmap(It);Rt.refCounter=1}catch(It){console.error(It),Rt=null}return Ee(this,I).set(qe,Rt),Rt&&Ee(this,I).set(Rt.id,Rt),Rt};let R=W;class C{constructor(qe=128){ot(this,H,[]);ot(this,B,!1);ot(this,U);ot(this,G,-1);st(this,U,qe)}add({cmd:qe,undo:pt,mustExec:Rt,type:It=NaN,overwriteIfSameType:vt=!1,keepUndo:St=!1}){if(Rt&&qe(),Ee(this,B))return;const Ue={cmd:qe,undo:pt,type:It};if(Ee(this,G)===-1){Ee(this,H).length>0&&(Ee(this,H).length=0),st(this,G,0),Ee(this,H).push(Ue);return}if(vt&&Ee(this,H)[Ee(this,G)].type===It){St&&(Ue.undo=Ee(this,H)[Ee(this,G)].undo),Ee(this,H)[Ee(this,G)]=Ue;return}const ze=Ee(this,G)+1;ze===Ee(this,U)?Ee(this,H).splice(0,1):(st(this,G,ze),ze<Ee(this,H).length&&Ee(this,H).splice(ze)),Ee(this,H).push(Ue)}undo(){Ee(this,G)!==-1&&(st(this,B,!0),Ee(this,H)[Ee(this,G)].undo(),st(this,B,!1),st(this,G,Ee(this,G)-1))}redo(){Ee(this,G)<Ee(this,H).length-1&&(st(this,G,Ee(this,G)+1),st(this,B,!0),Ee(this,H)[Ee(this,G)].cmd(),st(this,B,!1))}hasSomethingToUndo(){return Ee(this,G)!==-1}hasSomethingToRedo(){return Ee(this,G)<Ee(this,H).length-1}destroy(){st(this,H,null)}}H=new WeakMap,B=new WeakMap,U=new WeakMap,G=new WeakMap,o.CommandManager=C;class T{constructor(qe){ot(this,V);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pt}=_.FeatureTest.platform;for(const[Rt,It,vt={}]of qe)for(const St of Rt){const Ue=St.startsWith("mac+");pt&&Ue?(this.callbacks.set(St.slice(4),{callback:It,options:vt}),this.allKeys.add(St.split("+").at(-1))):!pt&&!Ue&&(this.callbacks.set(St,{callback:It,options:vt}),this.allKeys.add(St.split("+").at(-1)))}}exec(qe,pt){if(!this.allKeys.has(pt.key))return;const Rt=this.callbacks.get(Je(this,V,Mn).call(this,pt));if(!Rt)return;const{callback:It,options:{bubbles:vt=!1,args:St=[],checker:Ue=null}}=Rt;Ue&&!Ue(qe,pt)||(It.bind(qe,...St)(),vt||(pt.stopPropagation(),pt.preventDefault()))}}V=new WeakSet,Mn=function(qe){qe.altKey&&this.buffer.push("alt"),qe.ctrlKey&&this.buffer.push("ctrl"),qe.metaKey&&this.buffer.push("meta"),qe.shiftKey&&this.buffer.push("shift"),this.buffer.push(qe.key);const pt=this.buffer.join("+");return this.buffer.length=0,pt},o.KeyboardManager=T;const je=class je{get _colors(){const qe=new Map([["CanvasText",null],["Canvas",null]]);return(0,w.getColorValues)(qe),(0,_.shadow)(this,"_colors",qe)}convert(qe){const pt=(0,w.getRGB)(qe);if(!window.matchMedia("(forced-colors: active)").matches)return pt;for(const[Rt,It]of this._colors)if(It.every((vt,St)=>vt===pt[St]))return je._colorsMapping.get(Rt);return pt}getHexCode(qe){const pt=this._colors.get(qe);return pt?_.Util.makeHexColor(...pt):qe}};tr(je,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let N=je;o.ColorManager=N;const Jt=class Jt{constructor(qe,pt,Rt,It,vt,St){ot(this,Ze);ot(this,Z,null);ot(this,fe,new Map);ot(this,Ae,new Map);ot(this,Oe,null);ot(this,Pe,null);ot(this,Ne,new C);ot(this,Ce,0);ot(this,Me,new Set);ot(this,Q,null);ot(this,Re,null);ot(this,ke,new Set);ot(this,_e,null);ot(this,Y,new A);ot(this,J,!1);ot(this,Se,!1);ot(this,Ie,null);ot(this,$e,_.AnnotationEditorType.NONE);ot(this,De,new Set);ot(this,Be,null);ot(this,Le,this.blur.bind(this));ot(this,He,this.focus.bind(this));ot(this,We,this.copy.bind(this));ot(this,rt,this.cut.bind(this));ot(this,it,this.paste.bind(this));ot(this,dt,this.keydown.bind(this));ot(this,Ke,this.onEditingAction.bind(this));ot(this,Xe,this.onPageChanging.bind(this));ot(this,Fe,this.onScaleChanging.bind(this));ot(this,Ge,this.onRotationChanging.bind(this));ot(this,Ye,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ot(this,Qe,[0,0]);ot(this,ut,null);ot(this,mt,null);ot(this,gt,null);st(this,mt,qe),st(this,gt,pt),st(this,Oe,Rt),this._eventBus=It,this._eventBus._on("editingaction",Ee(this,Ke)),this._eventBus._on("pagechanging",Ee(this,Xe)),this._eventBus._on("scalechanging",Ee(this,Fe)),this._eventBus._on("rotationchanging",Ee(this,Ge)),st(this,Pe,vt.annotationStorage),st(this,_e,vt.filterFactory),st(this,Be,St),this.viewParameters={realScale:w.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const qe=Jt.prototype,pt=vt=>{const{activeElement:St}=document;return St&&Ee(vt,mt).contains(St)&&vt.hasSomethingToControl()},Rt=this.TRANSLATE_SMALL,It=this.TRANSLATE_BIG;return(0,_.shadow)(this,"_keyboardManager",new T([[["ctrl+a","mac+meta+a"],qe.selectAll],[["ctrl+z","mac+meta+z"],qe.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],qe.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],qe.delete],[["Escape","mac+Escape"],qe.unselectAll],[["ArrowLeft","mac+ArrowLeft"],qe.translateSelectedEditors,{args:[-Rt,0],checker:pt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],qe.translateSelectedEditors,{args:[-It,0],checker:pt}],[["ArrowRight","mac+ArrowRight"],qe.translateSelectedEditors,{args:[Rt,0],checker:pt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],qe.translateSelectedEditors,{args:[It,0],checker:pt}],[["ArrowUp","mac+ArrowUp"],qe.translateSelectedEditors,{args:[0,-Rt],checker:pt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],qe.translateSelectedEditors,{args:[0,-It],checker:pt}],[["ArrowDown","mac+ArrowDown"],qe.translateSelectedEditors,{args:[0,Rt],checker:pt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],qe.translateSelectedEditors,{args:[0,It],checker:pt}]]))}destroy(){Je(this,Ze,Pr).call(this),Je(this,Ze,Zr).call(this),this._eventBus._off("editingaction",Ee(this,Ke)),this._eventBus._off("pagechanging",Ee(this,Xe)),this._eventBus._off("scalechanging",Ee(this,Fe)),this._eventBus._off("rotationchanging",Ee(this,Ge));for(const qe of Ee(this,Ae).values())qe.destroy();Ee(this,Ae).clear(),Ee(this,fe).clear(),Ee(this,ke).clear(),st(this,Z,null),Ee(this,De).clear(),Ee(this,Ne).destroy(),Ee(this,Oe).destroy()}get hcmFilter(){return(0,_.shadow)(this,"hcmFilter",Ee(this,Be)?Ee(this,_e).addHCMFilter(Ee(this,Be).foreground,Ee(this,Be).background):"none")}get direction(){return(0,_.shadow)(this,"direction",getComputedStyle(Ee(this,mt)).direction)}editAltText(qe){var pt;(pt=Ee(this,Oe))==null||pt.editAltText(this,qe)}onPageChanging({pageNumber:qe}){st(this,Ce,qe-1)}focusMainContainer(){Ee(this,mt).focus()}findParent(qe,pt){for(const Rt of Ee(this,Ae).values()){const{x:It,y:vt,width:St,height:Ue}=Rt.div.getBoundingClientRect();if(qe>=It&&qe<=It+St&&pt>=vt&&pt<=vt+Ue)return Rt}return null}disableUserSelect(qe=!1){Ee(this,gt).classList.toggle("noUserSelect",qe)}addShouldRescale(qe){Ee(this,ke).add(qe)}removeShouldRescale(qe){Ee(this,ke).delete(qe)}onScaleChanging({scale:qe}){this.commitOrRemove(),this.viewParameters.realScale=qe*w.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pt of Ee(this,ke))pt.onScaleChanging()}onRotationChanging({pagesRotation:qe}){this.commitOrRemove(),this.viewParameters.rotation=qe}addToAnnotationStorage(qe){!qe.isEmpty()&&Ee(this,Pe)&&!Ee(this,Pe).has(qe.id)&&Ee(this,Pe).setValue(qe.id,qe)}blur(){if(!this.hasSelection)return;const{activeElement:qe}=document;for(const pt of Ee(this,De))if(pt.div.contains(qe)){st(this,Ie,[pt,qe]),pt._focusEventsAllowed=!1;break}}focus(){if(!Ee(this,Ie))return;const[qe,pt]=Ee(this,Ie);st(this,Ie,null),pt.addEventListener("focusin",()=>{qe._focusEventsAllowed=!0},{once:!0}),pt.focus()}addEditListeners(){Je(this,Ze,Jr).call(this),Je(this,Ze,Qr).call(this)}removeEditListeners(){Je(this,Ze,Pr).call(this),Je(this,Ze,en).call(this)}copy(qe){var Rt;if(qe.preventDefault(),(Rt=Ee(this,Z))==null||Rt.commitOrRemove(),!this.hasSelection)return;const pt=[];for(const It of Ee(this,De)){const vt=It.serialize(!0);vt&&pt.push(vt)}pt.length!==0&&qe.clipboardData.setData("application/pdfjs",JSON.stringify(pt))}cut(qe){this.copy(qe),this.delete()}paste(qe){qe.preventDefault();const{clipboardData:pt}=qe;for(const vt of pt.items)for(const St of Ee(this,Re))if(St.isHandlingMimeForPasting(vt.type)){St.paste(vt,this.currentLayer);return}let Rt=pt.getData("application/pdfjs");if(!Rt)return;try{Rt=JSON.parse(Rt)}catch(vt){(0,_.warn)(`paste: "${vt.message}".`);return}if(!Array.isArray(Rt))return;this.unselectAll();const It=this.currentLayer;try{const vt=[];for(const ze of Rt){const Ve=It.deserialize(ze);if(!Ve)return;vt.push(Ve)}const St=()=>{for(const ze of vt)Je(this,Ze,tn).call(this,ze);Je(this,Ze,rn).call(this,vt)},Ue=()=>{for(const ze of vt)ze.remove()};this.addCommands({cmd:St,undo:Ue,mustExec:!0})}catch(vt){(0,_.warn)(`paste: "${vt.message}".`)}}keydown(qe){var pt;(pt=this.getActive())!=null&&pt.shouldGetKeyboardEvents()||Jt._keyboardManager.exec(this,qe)}onEditingAction(qe){["undo","redo","delete","selectAll"].includes(qe.name)&&this[qe.name]()}setEditingState(qe){qe?(Je(this,Ze,In).call(this),Je(this,Ze,Jr).call(this),Je(this,Ze,Qr).call(this),Je(this,Ze,cr).call(this,{isEditing:Ee(this,$e)!==_.AnnotationEditorType.NONE,isEmpty:Je(this,Ze,Er).call(this),hasSomethingToUndo:Ee(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:Ee(this,Ne).hasSomethingToRedo(),hasSelectedEditor:!1})):(Je(this,Ze,Zr).call(this),Je(this,Ze,Pr).call(this),Je(this,Ze,en).call(this),Je(this,Ze,cr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(qe){if(!Ee(this,Re)){st(this,Re,qe);for(const pt of Ee(this,Re))Je(this,Ze,br).call(this,pt.defaultPropertiesToUpdate)}}getId(){return Ee(this,Y).getId()}get currentLayer(){return Ee(this,Ae).get(Ee(this,Ce))}getLayer(qe){return Ee(this,Ae).get(qe)}get currentPageIndex(){return Ee(this,Ce)}addLayer(qe){Ee(this,Ae).set(qe.pageIndex,qe),Ee(this,J)?qe.enable():qe.disable()}removeLayer(qe){Ee(this,Ae).delete(qe.pageIndex)}updateMode(qe,pt=null){if(Ee(this,$e)!==qe){if(st(this,$e,qe),qe===_.AnnotationEditorType.NONE){this.setEditingState(!1),Je(this,Ze,Ln).call(this);return}this.setEditingState(!0),Je(this,Ze,Dn).call(this),this.unselectAll();for(const Rt of Ee(this,Ae).values())Rt.updateMode(qe);if(pt){for(const Rt of Ee(this,fe).values())if(Rt.annotationElementId===pt){this.setSelected(Rt),Rt.enterInEditMode();break}}}}updateToolbar(qe){qe!==Ee(this,$e)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:qe})}updateParams(qe,pt){if(Ee(this,Re)){if(qe===_.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(qe);return}for(const Rt of Ee(this,De))Rt.updateParams(qe,pt);for(const Rt of Ee(this,Re))Rt.updateDefaultParams(qe,pt)}}enableWaiting(qe=!1){if(Ee(this,Se)!==qe){st(this,Se,qe);for(const pt of Ee(this,Ae).values())qe?pt.disableClick():pt.enableClick(),pt.div.classList.toggle("waiting",qe)}}getEditors(qe){const pt=[];for(const Rt of Ee(this,fe).values())Rt.pageIndex===qe&&pt.push(Rt);return pt}getEditor(qe){return Ee(this,fe).get(qe)}addEditor(qe){Ee(this,fe).set(qe.id,qe)}removeEditor(qe){var pt;Ee(this,fe).delete(qe.id),this.unselect(qe),(!qe.annotationElementId||!Ee(this,Me).has(qe.annotationElementId))&&((pt=Ee(this,Pe))==null||pt.remove(qe.id))}addDeletedAnnotationElement(qe){Ee(this,Me).add(qe.annotationElementId),qe.deleted=!0}isDeletedAnnotationElement(qe){return Ee(this,Me).has(qe)}removeDeletedAnnotationElement(qe){Ee(this,Me).delete(qe.annotationElementId),qe.deleted=!1}setActiveEditor(qe){Ee(this,Z)!==qe&&(st(this,Z,qe),qe&&Je(this,Ze,br).call(this,qe.propertiesToUpdate))}toggleSelected(qe){if(Ee(this,De).has(qe)){Ee(this,De).delete(qe),qe.unselect(),Je(this,Ze,cr).call(this,{hasSelectedEditor:this.hasSelection});return}Ee(this,De).add(qe),qe.select(),Je(this,Ze,br).call(this,qe.propertiesToUpdate),Je(this,Ze,cr).call(this,{hasSelectedEditor:!0})}setSelected(qe){for(const pt of Ee(this,De))pt!==qe&&pt.unselect();Ee(this,De).clear(),Ee(this,De).add(qe),qe.select(),Je(this,Ze,br).call(this,qe.propertiesToUpdate),Je(this,Ze,cr).call(this,{hasSelectedEditor:!0})}isSelected(qe){return Ee(this,De).has(qe)}unselect(qe){qe.unselect(),Ee(this,De).delete(qe),Je(this,Ze,cr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ee(this,De).size!==0}undo(){Ee(this,Ne).undo(),Je(this,Ze,cr).call(this,{hasSomethingToUndo:Ee(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Je(this,Ze,Er).call(this)})}redo(){Ee(this,Ne).redo(),Je(this,Ze,cr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ee(this,Ne).hasSomethingToRedo(),isEmpty:Je(this,Ze,Er).call(this)})}addCommands(qe){Ee(this,Ne).add(qe),Je(this,Ze,cr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Je(this,Ze,Er).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const qe=[...Ee(this,De)],pt=()=>{for(const It of qe)It.remove()},Rt=()=>{for(const It of qe)Je(this,Ze,tn).call(this,It)};this.addCommands({cmd:pt,undo:Rt,mustExec:!0})}commitOrRemove(){var qe;(qe=Ee(this,Z))==null||qe.commitOrRemove()}hasSomethingToControl(){return Ee(this,Z)||this.hasSelection}selectAll(){for(const qe of Ee(this,De))qe.commit();Je(this,Ze,rn).call(this,Ee(this,fe).values())}unselectAll(){if(Ee(this,Z)){Ee(this,Z).commitOrRemove();return}if(this.hasSelection){for(const qe of Ee(this,De))qe.unselect();Ee(this,De).clear(),Je(this,Ze,cr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(qe,pt,Rt=!1){if(Rt||this.commitOrRemove(),!this.hasSelection)return;Ee(this,Qe)[0]+=qe,Ee(this,Qe)[1]+=pt;const[It,vt]=Ee(this,Qe),St=[...Ee(this,De)],Ue=1e3;Ee(this,ut)&&clearTimeout(Ee(this,ut)),st(this,ut,setTimeout(()=>{st(this,ut,null),Ee(this,Qe)[0]=Ee(this,Qe)[1]=0,this.addCommands({cmd:()=>{for(const ze of St)Ee(this,fe).has(ze.id)&&ze.translateInPage(It,vt)},undo:()=>{for(const ze of St)Ee(this,fe).has(ze.id)&&ze.translateInPage(-It,-vt)},mustExec:!1})},Ue));for(const ze of St)ze.translateInPage(qe,pt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),st(this,Q,new Map);for(const qe of Ee(this,De))Ee(this,Q).set(qe,{savedX:qe.x,savedY:qe.y,savedPageIndex:qe.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ee(this,Q))return!1;this.disableUserSelect(!1);const qe=Ee(this,Q);st(this,Q,null);let pt=!1;for(const[{x:It,y:vt,pageIndex:St},Ue]of qe)Ue.newX=It,Ue.newY=vt,Ue.newPageIndex=St,pt||(pt=It!==Ue.savedX||vt!==Ue.savedY||St!==Ue.savedPageIndex);if(!pt)return!1;const Rt=(It,vt,St,Ue)=>{if(Ee(this,fe).has(It.id)){const ze=Ee(this,Ae).get(Ue);ze?It._setParentAndPosition(ze,vt,St):(It.pageIndex=Ue,It.x=vt,It.y=St)}};return this.addCommands({cmd:()=>{for(const[It,{newX:vt,newY:St,newPageIndex:Ue}]of qe)Rt(It,vt,St,Ue)},undo:()=>{for(const[It,{savedX:vt,savedY:St,savedPageIndex:Ue}]of qe)Rt(It,vt,St,Ue)},mustExec:!0}),!0}dragSelectedEditors(qe,pt){if(Ee(this,Q))for(const Rt of Ee(this,Q).keys())Rt.drag(qe,pt)}rebuild(qe){if(qe.parent===null){const pt=this.getLayer(qe.pageIndex);pt?(pt.changeParent(qe),pt.addOrRebuild(qe)):(this.addEditor(qe),this.addToAnnotationStorage(qe),qe.rebuild())}else qe.parent.addOrRebuild(qe)}isActive(qe){return Ee(this,Z)===qe}getActive(){return Ee(this,Z)}getMode(){return Ee(this,$e)}get imageManager(){return(0,_.shadow)(this,"imageManager",new R)}};Z=new WeakMap,fe=new WeakMap,Ae=new WeakMap,Oe=new WeakMap,Pe=new WeakMap,Ne=new WeakMap,Ce=new WeakMap,Me=new WeakMap,Q=new WeakMap,Re=new WeakMap,ke=new WeakMap,_e=new WeakMap,Y=new WeakMap,J=new WeakMap,Se=new WeakMap,Ie=new WeakMap,$e=new WeakMap,De=new WeakMap,Be=new WeakMap,Le=new WeakMap,He=new WeakMap,We=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,Ke=new WeakMap,Xe=new WeakMap,Fe=new WeakMap,Ge=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,ut=new WeakMap,mt=new WeakMap,gt=new WeakMap,Ze=new WeakSet,In=function(){window.addEventListener("focus",Ee(this,He)),window.addEventListener("blur",Ee(this,Le))},Zr=function(){window.removeEventListener("focus",Ee(this,He)),window.removeEventListener("blur",Ee(this,Le))},Jr=function(){window.addEventListener("keydown",Ee(this,dt),{capture:!0})},Pr=function(){window.removeEventListener("keydown",Ee(this,dt),{capture:!0})},Qr=function(){document.addEventListener("copy",Ee(this,We)),document.addEventListener("cut",Ee(this,rt)),document.addEventListener("paste",Ee(this,it))},en=function(){document.removeEventListener("copy",Ee(this,We)),document.removeEventListener("cut",Ee(this,rt)),document.removeEventListener("paste",Ee(this,it))},cr=function(qe){Object.entries(qe).some(([Rt,It])=>Ee(this,Ye)[Rt]!==It)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ee(this,Ye),qe)})},br=function(qe){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:qe})},Dn=function(){if(!Ee(this,J)){st(this,J,!0);for(const qe of Ee(this,Ae).values())qe.enable()}},Ln=function(){if(this.unselectAll(),Ee(this,J)){st(this,J,!1);for(const qe of Ee(this,Ae).values())qe.disable()}},tn=function(qe){const pt=Ee(this,Ae).get(qe.pageIndex);pt?pt.addOrRebuild(qe):this.addEditor(qe)},Er=function(){if(Ee(this,fe).size===0)return!0;if(Ee(this,fe).size===1)for(const qe of Ee(this,fe).values())return qe.isEmpty();return!1},rn=function(qe){Ee(this,De).clear();for(const pt of qe)pt.isEmpty()||(Ee(this,De).add(pt),pt.select());Je(this,Ze,cr).call(this,{hasSelectedEditor:!0})},tr(Jt,"TRANSLATE_SMALL",1),tr(Jt,"TRANSLATE_BIG",10);let O=Jt;o.AnnotationEditorUIManager=O},(i,o,E)=>{var Ce,Me,Q,Re,ke,_e,Y,J,Se,Ie,$e,De,mr,hr,nn,Tr,Nr,_r,wr;Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMFilterFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=void 0,o.deprecated=G,o.getColorValues=fe,o.getCurrentTransform=Ae,o.getCurrentTransformInverse=Oe,o.getFilenameFromUrl=z,o.getPdfFilenameFromUrl=F,o.getRGB=Z,o.getXfaPageViewport=je,o.isDataScheme=L,o.isPdfFile=I,o.isValidFetchUrl=H,o.loadScript=U,o.noContextMenu=B,o.setLayerDimensions=Pe;var _=E(7),w=E(1);const j="http://www.w3.org/2000/svg",Ne=class Ne{};tr(Ne,"CSS",96),tr(Ne,"PDF",72),tr(Ne,"PDF_TO_CSS_UNITS",Ne.CSS/Ne.PDF);let S=Ne;o.PixelsPerInch=S;class A extends _.BaseFilterFactory{constructor({docId:Fe,ownerDocument:Ge=globalThis.document}={}){super();ot(this,De);ot(this,Ce);ot(this,Me);ot(this,Q);ot(this,Re);ot(this,ke);ot(this,_e);ot(this,Y);ot(this,J);ot(this,Se);ot(this,Ie);ot(this,$e,0);st(this,Q,Fe),st(this,Re,Ge)}addFilter(Fe){if(!Fe)return"none";let Ge=Ee(this,De,mr).get(Fe);if(Ge)return Ge;let Ye,Qe,ut,mt;if(Fe.length===1){const At=Fe[0],Ht=new Array(256);for(let Ut=0;Ut<256;Ut++)Ht[Ut]=At[Ut]/255;mt=Ye=Qe=ut=Ht.join(",")}else{const[At,Ht,Ut]=Fe,Kt=new Array(256),Nt=new Array(256),Bt=new Array(256);for(let Xt=0;Xt<256;Xt++)Kt[Xt]=At[Xt]/255,Nt[Xt]=Ht[Xt]/255,Bt[Xt]=Ut[Xt]/255;Ye=Kt.join(","),Qe=Nt.join(","),ut=Bt.join(","),mt=`${Ye}${Qe}${ut}`}if(Ge=Ee(this,De,mr).get(mt),Ge)return Ee(this,De,mr).set(Fe,Ge),Ge;const gt=`g_${Ee(this,Q)}_transfer_map_${yr(this,$e)._++}`,Ze=`url(#${gt})`;Ee(this,De,mr).set(Fe,Ze),Ee(this,De,mr).set(mt,Ze);const Et=Je(this,De,Tr).call(this,gt);return Je(this,De,_r).call(this,Ye,Qe,ut,Et),Ze}addHCMFilter(Fe,Ge){var Ht;const Ye=`${Fe}-${Ge}`;if(Ee(this,_e)===Ye)return Ee(this,Y);if(st(this,_e,Ye),st(this,Y,"none"),(Ht=Ee(this,ke))==null||Ht.remove(),!Fe||!Ge)return Ee(this,Y);const Qe=Je(this,De,wr).call(this,Fe);Fe=w.Util.makeHexColor(...Qe);const ut=Je(this,De,wr).call(this,Ge);if(Ge=w.Util.makeHexColor(...ut),Ee(this,De,hr).style.color="",Fe==="#000000"&&Ge==="#ffffff"||Fe===Ge)return Ee(this,Y);const mt=new Array(256);for(let Ut=0;Ut<=255;Ut++){const Kt=Ut/255;mt[Ut]=Kt<=.03928?Kt/12.92:((Kt+.055)/1.055)**2.4}const gt=mt.join(","),Ze=`g_${Ee(this,Q)}_hcm_filter`,Et=st(this,J,Je(this,De,Tr).call(this,Ze));Je(this,De,_r).call(this,gt,gt,gt,Et),Je(this,De,nn).call(this,Et);const At=(Ut,Kt)=>{const Nt=Qe[Ut]/255,Bt=ut[Ut]/255,Xt=new Array(Kt+1);for(let Zt=0;Zt<=Kt;Zt++)Xt[Zt]=Nt+Zt/Kt*(Bt-Nt);return Xt.join(",")};return Je(this,De,_r).call(this,At(0,5),At(1,5),At(2,5),Et),st(this,Y,`url(#${Ze})`),Ee(this,Y)}addHighlightHCMFilter(Fe,Ge,Ye,Qe){var Bt;const ut=`${Fe}-${Ge}-${Ye}-${Qe}`;if(Ee(this,Se)===ut)return Ee(this,Ie);if(st(this,Se,ut),st(this,Ie,"none"),(Bt=Ee(this,J))==null||Bt.remove(),!Fe||!Ge)return Ee(this,Ie);const[mt,gt]=[Fe,Ge].map(Je(this,De,wr).bind(this));let Ze=Math.round(.2126*mt[0]+.7152*mt[1]+.0722*mt[2]),Et=Math.round(.2126*gt[0]+.7152*gt[1]+.0722*gt[2]),[At,Ht]=[Ye,Qe].map(Je(this,De,wr).bind(this));Et<Ze&&([Ze,Et,At,Ht]=[Et,Ze,Ht,At]),Ee(this,De,hr).style.color="";const Ut=(Xt,Zt,ht)=>{const nt=new Array(256),at=(Et-Ze)/ht,Tt=Xt/255,Jt=(Zt-Xt)/(255*ht);let Vt=0;for(let qe=0;qe<=ht;qe++){const pt=Math.round(Ze+qe*at),Rt=Tt+qe*Jt;for(let It=Vt;It<=pt;It++)nt[It]=Rt;Vt=pt+1}for(let qe=Vt;qe<256;qe++)nt[qe]=nt[Vt-1];return nt.join(",")},Kt=`g_${Ee(this,Q)}_hcm_highlight_filter`,Nt=st(this,J,Je(this,De,Tr).call(this,Kt));return Je(this,De,nn).call(this,Nt),Je(this,De,_r).call(this,Ut(At[0],Ht[0],5),Ut(At[1],Ht[1],5),Ut(At[2],Ht[2],5),Nt),st(this,Ie,`url(#${Kt})`),Ee(this,Ie)}destroy(Fe=!1){Fe&&(Ee(this,Y)||Ee(this,Ie))||(Ee(this,Me)&&(Ee(this,Me).parentNode.parentNode.remove(),st(this,Me,null)),Ee(this,Ce)&&(Ee(this,Ce).clear(),st(this,Ce,null)),st(this,$e,0))}}Ce=new WeakMap,Me=new WeakMap,Q=new WeakMap,Re=new WeakMap,ke=new WeakMap,_e=new WeakMap,Y=new WeakMap,J=new WeakMap,Se=new WeakMap,Ie=new WeakMap,$e=new WeakMap,De=new WeakSet,mr=function(){return Ee(this,Ce)||st(this,Ce,new Map)},hr=function(){if(!Ee(this,Me)){const Fe=Ee(this,Re).createElement("div"),{style:Ge}=Fe;Ge.visibility="hidden",Ge.contain="strict",Ge.width=Ge.height=0,Ge.position="absolute",Ge.top=Ge.left=0,Ge.zIndex=-1;const Ye=Ee(this,Re).createElementNS(j,"svg");Ye.setAttribute("width",0),Ye.setAttribute("height",0),st(this,Me,Ee(this,Re).createElementNS(j,"defs")),Fe.append(Ye),Ye.append(Ee(this,Me)),Ee(this,Re).body.append(Fe)}return Ee(this,Me)},nn=function(Fe){const Ge=Ee(this,Re).createElementNS(j,"feColorMatrix");Ge.setAttribute("type","matrix"),Ge.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Fe.append(Ge)},Tr=function(Fe){const Ge=Ee(this,Re).createElementNS(j,"filter");return Ge.setAttribute("color-interpolation-filters","sRGB"),Ge.setAttribute("id",Fe),Ee(this,De,hr).append(Ge),Ge},Nr=function(Fe,Ge,Ye){const Qe=Ee(this,Re).createElementNS(j,Ge);Qe.setAttribute("type","discrete"),Qe.setAttribute("tableValues",Ye),Fe.append(Qe)},_r=function(Fe,Ge,Ye,Qe){const ut=Ee(this,Re).createElementNS(j,"feComponentTransfer");Qe.append(ut),Je(this,De,Nr).call(this,ut,"feFuncR",Fe),Je(this,De,Nr).call(this,ut,"feFuncG",Ge),Je(this,De,Nr).call(this,ut,"feFuncB",Ye)},wr=function(Fe){return Ee(this,De,hr).style.color=Fe,Z(getComputedStyle(Ee(this,De,hr)).getPropertyValue("color"))},o.DOMFilterFactory=A;class R extends _.BaseCanvasFactory{constructor({ownerDocument:Xe=globalThis.document}={}){super(),this._document=Xe}_createCanvas(Xe,Fe){const Ge=this._document.createElement("canvas");return Ge.width=Xe,Ge.height=Fe,Ge}}o.DOMCanvasFactory=R;async function C(Ke,Xe=!1){if(H(Ke,document.baseURI)){const Fe=await fetch(Ke);if(!Fe.ok)throw new Error(Fe.statusText);return Xe?new Uint8Array(await Fe.arrayBuffer()):(0,w.stringToBytes)(await Fe.text())}return new Promise((Fe,Ge)=>{const Ye=new XMLHttpRequest;Ye.open("GET",Ke,!0),Xe&&(Ye.responseType="arraybuffer"),Ye.onreadystatechange=()=>{if(Ye.readyState===XMLHttpRequest.DONE){if(Ye.status===200||Ye.status===0){let Qe;if(Xe&&Ye.response?Qe=new Uint8Array(Ye.response):!Xe&&Ye.responseText&&(Qe=(0,w.stringToBytes)(Ye.responseText)),Qe){Fe(Qe);return}}Ge(new Error(Ye.statusText))}},Ye.send(null)})}class T extends _.BaseCMapReaderFactory{_fetchData(Xe,Fe){return C(Xe,this.isCompressed).then(Ge=>({cMapData:Ge,compressionType:Fe}))}}o.DOMCMapReaderFactory=T;class N extends _.BaseStandardFontDataFactory{_fetchData(Xe){return C(Xe,!0)}}o.DOMStandardFontDataFactory=N;class O extends _.BaseSVGFactory{_createSVG(Xe){return document.createElementNS(j,Xe)}}o.DOMSVGFactory=O;class ${constructor({viewBox:Xe,scale:Fe,rotation:Ge,offsetX:Ye=0,offsetY:Qe=0,dontFlip:ut=!1}){this.viewBox=Xe,this.scale=Fe,this.rotation=Ge,this.offsetX=Ye,this.offsetY=Qe;const mt=(Xe[2]+Xe[0])/2,gt=(Xe[3]+Xe[1])/2;let Ze,Et,At,Ht;switch(Ge%=360,Ge<0&&(Ge+=360),Ge){case 180:Ze=-1,Et=0,At=0,Ht=1;break;case 90:Ze=0,Et=1,At=1,Ht=0;break;case 270:Ze=0,Et=-1,At=-1,Ht=0;break;case 0:Ze=1,Et=0,At=0,Ht=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ut&&(At=-At,Ht=-Ht);let Ut,Kt,Nt,Bt;Ze===0?(Ut=Math.abs(gt-Xe[1])*Fe+Ye,Kt=Math.abs(mt-Xe[0])*Fe+Qe,Nt=(Xe[3]-Xe[1])*Fe,Bt=(Xe[2]-Xe[0])*Fe):(Ut=Math.abs(mt-Xe[0])*Fe+Ye,Kt=Math.abs(gt-Xe[1])*Fe+Qe,Nt=(Xe[2]-Xe[0])*Fe,Bt=(Xe[3]-Xe[1])*Fe),this.transform=[Ze*Fe,Et*Fe,At*Fe,Ht*Fe,Ut-Ze*Fe*mt-At*Fe*gt,Kt-Et*Fe*mt-Ht*Fe*gt],this.width=Nt,this.height=Bt}get rawDims(){const{viewBox:Xe}=this;return(0,w.shadow)(this,"rawDims",{pageWidth:Xe[2]-Xe[0],pageHeight:Xe[3]-Xe[1],pageX:Xe[0],pageY:Xe[1]})}clone({scale:Xe=this.scale,rotation:Fe=this.rotation,offsetX:Ge=this.offsetX,offsetY:Ye=this.offsetY,dontFlip:Qe=!1}={}){return new $({viewBox:this.viewBox.slice(),scale:Xe,rotation:Fe,offsetX:Ge,offsetY:Ye,dontFlip:Qe})}convertToViewportPoint(Xe,Fe){return w.Util.applyTransform([Xe,Fe],this.transform)}convertToViewportRectangle(Xe){const Fe=w.Util.applyTransform([Xe[0],Xe[1]],this.transform),Ge=w.Util.applyTransform([Xe[2],Xe[3]],this.transform);return[Fe[0],Fe[1],Ge[0],Ge[1]]}convertToPdfPoint(Xe,Fe){return w.Util.applyInverseTransform([Xe,Fe],this.transform)}}o.PageViewport=$;class D extends w.BaseException{constructor(Xe,Fe=0){super(Xe,"RenderingCancelledException"),this.extraDelay=Fe}}o.RenderingCancelledException=D;function L(Ke){const Xe=Ke.length;let Fe=0;for(;Fe<Xe&&Ke[Fe].trim()==="";)Fe++;return Ke.substring(Fe,Fe+5).toLowerCase()==="data:"}function I(Ke){return typeof Ke=="string"&&/\.pdf$/i.test(Ke)}function z(Ke,Xe=!1){return Xe||([Ke]=Ke.split(/[#?]/,1)),Ke.substring(Ke.lastIndexOf("/")+1)}function F(Ke,Xe="document.pdf"){if(typeof Ke!="string")return Xe;if(L(Ke))return(0,w.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Xe;const Fe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ge=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ye=Fe.exec(Ke);let Qe=Ge.exec(Ye[1])||Ge.exec(Ye[2])||Ge.exec(Ye[3]);if(Qe&&(Qe=Qe[0],Qe.includes("%")))try{Qe=Ge.exec(decodeURIComponent(Qe))[0]}catch{}return Qe||Xe}class W{constructor(){tr(this,"started",Object.create(null));tr(this,"times",[])}time(Xe){Xe in this.started&&(0,w.warn)(`Timer is already running for ${Xe}`),this.started[Xe]=Date.now()}timeEnd(Xe){Xe in this.started||(0,w.warn)(`Timer has not been started for ${Xe}`),this.times.push({name:Xe,start:this.started[Xe],end:Date.now()}),delete this.started[Xe]}toString(){const Xe=[];let Fe=0;for(const{name:Ge}of this.times)Fe=Math.max(Ge.length,Fe);for(const{name:Ge,start:Ye,end:Qe}of this.times)Xe.push(`${Ge.padEnd(Fe)} ${Qe-Ye}ms
`);return Xe.join("")}}o.StatTimer=W;function H(Ke,Xe){try{const{protocol:Fe}=Xe?new URL(Ke,Xe):new URL(Ke);return Fe==="http:"||Fe==="https:"}catch{return!1}}function B(Ke){Ke.preventDefault()}function U(Ke,Xe=!1){return new Promise((Fe,Ge)=>{const Ye=document.createElement("script");Ye.src=Ke,Ye.onload=function(Qe){Xe&&Ye.remove(),Fe(Qe)},Ye.onerror=function(){Ge(new Error(`Cannot load script at: ${Ye.src}`))},(document.head||document.documentElement).append(Ye)})}function G(Ke){console.log("Deprecated API usage: "+Ke)}let V;class K{static toDateObject(Xe){if(!Xe||typeof Xe!="string")return null;V||(V=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Fe=V.exec(Xe);if(!Fe)return null;const Ge=parseInt(Fe[1],10);let Ye=parseInt(Fe[2],10);Ye=Ye>=1&&Ye<=12?Ye-1:0;let Qe=parseInt(Fe[3],10);Qe=Qe>=1&&Qe<=31?Qe:1;let ut=parseInt(Fe[4],10);ut=ut>=0&&ut<=23?ut:0;let mt=parseInt(Fe[5],10);mt=mt>=0&&mt<=59?mt:0;let gt=parseInt(Fe[6],10);gt=gt>=0&&gt<=59?gt:0;const Ze=Fe[7]||"Z";let Et=parseInt(Fe[8],10);Et=Et>=0&&Et<=23?Et:0;let At=parseInt(Fe[9],10)||0;return At=At>=0&&At<=59?At:0,Ze==="-"?(ut+=Et,mt+=At):Ze==="+"&&(ut-=Et,mt-=At),new Date(Date.UTC(Ge,Ye,Qe,ut,mt,gt))}}o.PDFDateString=K;function je(Ke,{scale:Xe=1,rotation:Fe=0}){const{width:Ge,height:Ye}=Ke.attributes.style,Qe=[0,0,parseInt(Ge),parseInt(Ye)];return new $({viewBox:Qe,scale:Xe,rotation:Fe})}function Z(Ke){if(Ke.startsWith("#")){const Xe=parseInt(Ke.slice(1),16);return[(Xe&16711680)>>16,(Xe&65280)>>8,Xe&255]}return Ke.startsWith("rgb(")?Ke.slice(4,-1).split(",").map(Xe=>parseInt(Xe)):Ke.startsWith("rgba(")?Ke.slice(5,-1).split(",").map(Xe=>parseInt(Xe)).slice(0,3):((0,w.warn)(`Not a valid color format: "${Ke}"`),[0,0,0])}function fe(Ke){const Xe=document.createElement("span");Xe.style.visibility="hidden",document.body.append(Xe);for(const Fe of Ke.keys()){Xe.style.color=Fe;const Ge=window.getComputedStyle(Xe).color;Ke.set(Fe,Z(Ge))}Xe.remove()}function Ae(Ke){const{a:Xe,b:Fe,c:Ge,d:Ye,e:Qe,f:ut}=Ke.getTransform();return[Xe,Fe,Ge,Ye,Qe,ut]}function Oe(Ke){const{a:Xe,b:Fe,c:Ge,d:Ye,e:Qe,f:ut}=Ke.getTransform().invertSelf();return[Xe,Fe,Ge,Ye,Qe,ut]}function Pe(Ke,Xe,Fe=!1,Ge=!0){if(Xe instanceof $){const{pageWidth:Ye,pageHeight:Qe}=Xe.rawDims,{style:ut}=Ke,mt=w.FeatureTest.isCSSRoundSupported,gt=`var(--scale-factor) * ${Ye}px`,Ze=`var(--scale-factor) * ${Qe}px`,Et=mt?`round(${gt}, 1px)`:`calc(${gt})`,At=mt?`round(${Ze}, 1px)`:`calc(${Ze})`;!Fe||Xe.rotation%180===0?(ut.width=Et,ut.height=At):(ut.width=At,ut.height=Et)}Ge&&Ke.setAttribute("data-main-rotation",Xe.rotation)}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseFilterFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var _=E(1);class w{constructor(){this.constructor===w&&(0,_.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(T){return"none"}addHCMFilter(T,N){return"none"}addHighlightHCMFilter(T,N,O,$){return"none"}destroy(T=!1){}}o.BaseFilterFactory=w;class j{constructor(){this.constructor===j&&(0,_.unreachable)("Cannot initialize BaseCanvasFactory.")}create(T,N){if(T<=0||N<=0)throw new Error("Invalid canvas size");const O=this._createCanvas(T,N);return{canvas:O,context:O.getContext("2d")}}reset(T,N,O){if(!T.canvas)throw new Error("Canvas is not specified");if(N<=0||O<=0)throw new Error("Invalid canvas size");T.canvas.width=N,T.canvas.height=O}destroy(T){if(!T.canvas)throw new Error("Canvas is not specified");T.canvas.width=0,T.canvas.height=0,T.canvas=null,T.context=null}_createCanvas(T,N){(0,_.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=j;class S{constructor({baseUrl:T=null,isCompressed:N=!0}){this.constructor===S&&(0,_.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=T,this.isCompressed=N}async fetch({name:T}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!T)throw new Error("CMap name must be specified.");const N=this.baseUrl+T+(this.isCompressed?".bcmap":""),O=this.isCompressed?_.CMapCompressionType.BINARY:_.CMapCompressionType.NONE;return this._fetchData(N,O).catch($=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${N}`)})}_fetchData(T,N){(0,_.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=S;class A{constructor({baseUrl:T=null}){this.constructor===A&&(0,_.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=T}async fetch({filename:T}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!T)throw new Error("Font filename must be specified.");const N=`${this.baseUrl}${T}`;return this._fetchData(N).catch(O=>{throw new Error(`Unable to load font data at: ${N}`)})}_fetchData(T){(0,_.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=A;class R{constructor(){this.constructor===R&&(0,_.unreachable)("Cannot initialize BaseSVGFactory.")}create(T,N,O=!1){if(T<=0||N<=0)throw new Error("Invalid SVG dimensions");const $=this._createSVG("svg:svg");return $.setAttribute("version","1.1"),O||($.setAttribute("width",`${T}px`),$.setAttribute("height",`${N}px`)),$.setAttribute("preserveAspectRatio","none"),$.setAttribute("viewBox",`0 0 ${T} ${N}`),$}createElement(T){if(typeof T!="string")throw new Error("Invalid SVG element type");return this._createSVG(T)}_createSVG(T){(0,_.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=R},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var _=E(1);const w=3285377520,j=4294901760,S=65535;class A{constructor(C){this.h1=C?C&4294967295:w,this.h2=C?C&4294967295:w}update(C){let T,N;if(typeof C=="string"){T=new Uint8Array(C.length*2),N=0;for(let G=0,V=C.length;G<V;G++){const K=C.charCodeAt(G);K<=255?T[N++]=K:(T[N++]=K>>>8,T[N++]=K&255)}}else if((0,_.isArrayBuffer)(C))T=C.slice(),N=T.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const O=N>>2,$=N-O*4,D=new Uint32Array(T.buffer,0,O);let L=0,I=0,z=this.h1,F=this.h2;const W=3432918353,H=461845907,B=W&S,U=H&S;for(let G=0;G<O;G++)G&1?(L=D[G],L=L*W&j|L*B&S,L=L<<15|L>>>17,L=L*H&j|L*U&S,z^=L,z=z<<13|z>>>19,z=z*5+3864292196):(I=D[G],I=I*W&j|I*B&S,I=I<<15|I>>>17,I=I*H&j|I*U&S,F^=I,F=F<<13|F>>>19,F=F*5+3864292196);switch(L=0,$){case 3:L^=T[O*4+2]<<16;case 2:L^=T[O*4+1]<<8;case 1:L^=T[O*4],L=L*W&j|L*B&S,L=L<<15|L>>>17,L=L*H&j|L*U&S,O&1?z^=L:F^=L}this.h1=z,this.h2=F}hexdigest(){let C=this.h1,T=this.h2;return C^=T>>>1,C=C*3981806797&j|C*36045&S,T=T*4283543511&j|((T<<16|C>>>16)*2950163797&j)>>>16,C^=T>>>1,C=C*444984403&j|C*60499&S,T=T*3301882366&j|((T<<16|C>>>16)*3120437893&j)>>>16,C^=T>>>1,(C>>>0).toString(16).padStart(8,"0")+(T>>>0).toString(16).padStart(8,"0")}}o.MurmurHash3_64=A},(i,o,E)=>{var S;Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var _=E(1);class w{constructor({ownerDocument:R=globalThis.document,styleElement:C=null}){ot(this,S,new Set);this._document=R,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(R){this.nativeFontFaces.add(R),this._document.fonts.add(R)}removeNativeFontFace(R){this.nativeFontFaces.delete(R),this._document.fonts.delete(R)}insertRule(R){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const C=this.styleElement.sheet;C.insertRule(R,C.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.clear(),Ee(this,S).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(R){if(!(!R||Ee(this,S).has(R.loadedName))){if((0,_.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:C,src:T,style:N}=R,O=new FontFace(C,T,N);this.addNativeFontFace(O);try{await O.load(),Ee(this,S).add(C)}catch{(0,_.warn)(`Cannot load system font: ${R.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(O)}return}(0,_.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(R){if(R.attached||R.missingFile&&!R.systemFontInfo)return;if(R.attached=!0,R.systemFontInfo){await this.loadSystemFont(R.systemFontInfo);return}if(this.isFontLoadingAPISupported){const T=R.createNativeFontFace();if(T){this.addNativeFontFace(T);try{await T.loaded}catch(N){throw(0,_.warn)(`Failed to load font '${T.family}': '${N}'.`),R.disableFontFace=!0,N}}return}const C=R.createFontFaceRule();if(C){if(this.insertRule(C),this.isSyncFontLoadingSupported)return;await new Promise(T=>{const N=this._queueLoadingCallback(T);this._prepareFontLoadEvent(R,N)})}}get isFontLoadingAPISupported(){var C;const R=!!((C=this._document)!=null&&C.fonts);return(0,_.shadow)(this,"isFontLoadingAPISupported",R)}get isSyncFontLoadingSupported(){let R=!1;return(_.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(R=!0),(0,_.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){function C(){for((0,_.assert)(!N.done,"completeRequest() cannot be called twice."),N.done=!0;T.length>0&&T[0].done;){const O=T.shift();setTimeout(O.callback,0)}}const{loadingRequests:T}=this,N={done:!1,complete:C,callback:R};return T.push(N),N}get _loadTestFont(){const R=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_.shadow)(this,"_loadTestFont",R)}_prepareFontLoadEvent(R,C){function T(Z,fe){return Z.charCodeAt(fe)<<24|Z.charCodeAt(fe+1)<<16|Z.charCodeAt(fe+2)<<8|Z.charCodeAt(fe+3)&255}function N(Z,fe,Ae,Oe){const Pe=Z.substring(0,fe),Ne=Z.substring(fe+Ae);return Pe+Oe+Ne}let O,$;const D=this._document.createElement("canvas");D.width=1,D.height=1;const L=D.getContext("2d");let I=0;function z(Z,fe){if(++I>30){(0,_.warn)("Load test font never loaded."),fe();return}if(L.font="30px "+Z,L.fillText(".",0,20),L.getImageData(0,0,1,1).data[3]>0){fe();return}setTimeout(z.bind(null,Z,fe))}const F=`lt${Date.now()}${this.loadTestFontId++}`;let W=this._loadTestFont;W=N(W,976,F.length,F);const B=16,U=1482184792;let G=T(W,B);for(O=0,$=F.length-3;O<$;O+=4)G=G-U+T(F,O)|0;O<F.length&&(G=G-U+T(F+"XXX",O)|0),W=N(W,B,4,(0,_.string32)(G));const V=`url(data:font/opentype;base64,${btoa(W)});`,K=`@font-face {font-family:"${F}";src:${V}}`;this.insertRule(K);const je=this._document.createElement("div");je.style.visibility="hidden",je.style.width=je.style.height="10px",je.style.position="absolute",je.style.top=je.style.left="0px";for(const Z of[R.loadedName,F]){const fe=this._document.createElement("span");fe.textContent="Hi",fe.style.fontFamily=Z,je.append(fe)}this._document.body.append(je),z(F,()=>{je.remove(),C.complete()})}}S=new WeakMap,o.FontLoader=w;class j{constructor(R,{isEvalSupported:C=!0,disableFontFace:T=!1,ignoreErrors:N=!1,inspectFont:O=null}){this.compiledGlyphs=Object.create(null);for(const $ in R)this[$]=R[$];this.isEvalSupported=C!==!1,this.disableFontFace=T===!0,this.ignoreErrors=N===!0,this._inspectFont=O}createNativeFontFace(){var C;if(!this.data||this.disableFontFace)return null;let R;if(!this.cssFontInfo)R=new FontFace(this.loadedName,this.data,{});else{const T={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(T.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,T)}return(C=this._inspectFont)==null||C.call(this,this),R}createFontFaceRule(){var N;if(!this.data||this.disableFontFace)return null;const R=(0,_.bytesToString)(this.data),C=`url(data:${this.mimetype};base64,${btoa(R)});`;let T;if(!this.cssFontInfo)T=`@font-face {font-family:"${this.loadedName}";src:${C}}`;else{let O=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(O+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),T=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${O}src:${C}}`}return(N=this._inspectFont)==null||N.call(this,this,C),T}getPathGenerator(R,C){if(this.compiledGlyphs[C]!==void 0)return this.compiledGlyphs[C];let T;try{T=R.get(this.loadedName+"_path_"+C)}catch(N){if(!this.ignoreErrors)throw N;return(0,_.warn)(`getPathGenerator - ignoring character: "${N}".`),this.compiledGlyphs[C]=function(O,$){}}if(this.isEvalSupported&&_.FeatureTest.isEvalSupported){const N=[];for(const O of T){const $=O.args!==void 0?O.args.join(","):"";N.push("c.",O.cmd,"(",$,`);
`)}return this.compiledGlyphs[C]=new Function("c","size",N.join(""))}return this.compiledGlyphs[C]=function(N,O){for(const $ of T)$.cmd==="scale"&&($.args=[O,-O]),N[$.cmd].apply(N,$.args)}}}o.FontFaceObject=j},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeFilterFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var _=E(7);E(1);const w=function(C){return new Promise((T,N)=>{require$$5.readFile(C,($,D)=>{if($||!D){N(new Error($));return}T(new Uint8Array(D))})})};class j extends _.BaseFilterFactory{}o.NodeFilterFactory=j;class S extends _.BaseCanvasFactory{_createCanvas(T,N){return require$$5.createCanvas(T,N)}}o.NodeCanvasFactory=S;class A extends _.BaseCMapReaderFactory{_fetchData(T,N){return w(T).then(O=>({cMapData:O,compressionType:N}))}}o.NodeCMapReaderFactory=A;class R extends _.BaseStandardFontDataFactory{_fetchData(T){return w(T)}}o.NodeStandardFontDataFactory=R},(i,o,E)=>{var Me,an,on;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var _=E(1),w=E(6),j=E(12),S=E(13);const A=16,R=100,C=4096,T=15,N=10,O=1e3,$=16;function D(_e,Y){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){Y.save(),this.__originalSave()},_e.restore=function(){Y.restore(),this.__originalRestore()},_e.translate=function(Se,Ie){Y.translate(Se,Ie),this.__originalTranslate(Se,Ie)},_e.scale=function(Se,Ie){Y.scale(Se,Ie),this.__originalScale(Se,Ie)},_e.transform=function(Se,Ie,$e,De,Be,Le){Y.transform(Se,Ie,$e,De,Be,Le),this.__originalTransform(Se,Ie,$e,De,Be,Le)},_e.setTransform=function(Se,Ie,$e,De,Be,Le){Y.setTransform(Se,Ie,$e,De,Be,Le),this.__originalSetTransform(Se,Ie,$e,De,Be,Le)},_e.resetTransform=function(){Y.resetTransform(),this.__originalResetTransform()},_e.rotate=function(Se){Y.rotate(Se),this.__originalRotate(Se)},_e.clip=function(Se){Y.clip(Se),this.__originalClip(Se)},_e.moveTo=function(J,Se){Y.moveTo(J,Se),this.__originalMoveTo(J,Se)},_e.lineTo=function(J,Se){Y.lineTo(J,Se),this.__originalLineTo(J,Se)},_e.bezierCurveTo=function(J,Se,Ie,$e,De,Be){Y.bezierCurveTo(J,Se,Ie,$e,De,Be),this.__originalBezierCurveTo(J,Se,Ie,$e,De,Be)},_e.rect=function(J,Se,Ie,$e){Y.rect(J,Se,Ie,$e),this.__originalRect(J,Se,Ie,$e)},_e.closePath=function(){Y.closePath(),this.__originalClosePath()},_e.beginPath=function(){Y.beginPath(),this.__originalBeginPath()}}class L{constructor(Y){this.canvasFactory=Y,this.cache=Object.create(null)}getCanvas(Y,J,Se){let Ie;return this.cache[Y]!==void 0?(Ie=this.cache[Y],this.canvasFactory.reset(Ie,J,Se)):(Ie=this.canvasFactory.create(J,Se),this.cache[Y]=Ie),Ie}delete(Y){delete this.cache[Y]}clear(){for(const Y in this.cache){const J=this.cache[Y];this.canvasFactory.destroy(J),delete this.cache[Y]}}}function I(_e,Y,J,Se,Ie,$e,De,Be,Le,He){const[We,rt,it,dt,Ke,Xe]=(0,w.getCurrentTransform)(_e);if(rt===0&&it===0){const Ye=De*We+Ke,Qe=Math.round(Ye),ut=Be*dt+Xe,mt=Math.round(ut),gt=(De+Le)*We+Ke,Ze=Math.abs(Math.round(gt)-Qe)||1,Et=(Be+He)*dt+Xe,At=Math.abs(Math.round(Et)-mt)||1;return _e.setTransform(Math.sign(We),0,0,Math.sign(dt),Qe,mt),_e.drawImage(Y,J,Se,Ie,$e,0,0,Ze,At),_e.setTransform(We,rt,it,dt,Ke,Xe),[Ze,At]}if(We===0&&dt===0){const Ye=Be*it+Ke,Qe=Math.round(Ye),ut=De*rt+Xe,mt=Math.round(ut),gt=(Be+He)*it+Ke,Ze=Math.abs(Math.round(gt)-Qe)||1,Et=(De+Le)*rt+Xe,At=Math.abs(Math.round(Et)-mt)||1;return _e.setTransform(0,Math.sign(rt),Math.sign(it),0,Qe,mt),_e.drawImage(Y,J,Se,Ie,$e,0,0,At,Ze),_e.setTransform(We,rt,it,dt,Ke,Xe),[At,Ze]}_e.drawImage(Y,J,Se,Ie,$e,De,Be,Le,He);const Fe=Math.hypot(We,rt),Ge=Math.hypot(it,dt);return[Fe*Le,Ge*He]}function z(_e){const{width:Y,height:J}=_e;if(Y>O||J>O)return null;const Se=1e3,Ie=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),$e=Y+1;let De=new Uint8Array($e*(J+1)),Be,Le,He;const We=Y+7&-8;let rt=new Uint8Array(We*J),it=0;for(const Ge of _e.data){let Ye=128;for(;Ye>0;)rt[it++]=Ge&Ye?0:255,Ye>>=1}let dt=0;for(it=0,rt[it]!==0&&(De[0]=1,++dt),Le=1;Le<Y;Le++)rt[it]!==rt[it+1]&&(De[Le]=rt[it]?2:1,++dt),it++;for(rt[it]!==0&&(De[Le]=2,++dt),Be=1;Be<J;Be++){it=Be*We,He=Be*$e,rt[it-We]!==rt[it]&&(De[He]=rt[it]?1:8,++dt);let Ge=(rt[it]?4:0)+(rt[it-We]?8:0);for(Le=1;Le<Y;Le++)Ge=(Ge>>2)+(rt[it+1]?4:0)+(rt[it-We+1]?8:0),Ie[Ge]&&(De[He+Le]=Ie[Ge],++dt),it++;if(rt[it-We]!==rt[it]&&(De[He+Le]=rt[it]?2:4,++dt),dt>Se)return null}for(it=We*(J-1),He=Be*$e,rt[it]!==0&&(De[He]=8,++dt),Le=1;Le<Y;Le++)rt[it]!==rt[it+1]&&(De[He+Le]=rt[it]?4:8,++dt),it++;if(rt[it]!==0&&(De[He+Le]=4,++dt),dt>Se)return null;const Ke=new Int32Array([0,$e,-1,0,-$e,0,0,0,1]),Xe=new Path2D;for(Be=0;dt&&Be<=J;Be++){let Ge=Be*$e;const Ye=Ge+Y;for(;Ge<Ye&&!De[Ge];)Ge++;if(Ge===Ye)continue;Xe.moveTo(Ge%$e,Be);const Qe=Ge;let ut=De[Ge];do{const mt=Ke[ut];do Ge+=mt;while(!De[Ge]);const gt=De[Ge];gt!==5&&gt!==10?(ut=gt,De[Ge]=0):(ut=gt&51*ut>>4,De[Ge]&=ut>>2|ut<<2),Xe.lineTo(Ge%$e,Ge/$e|0),De[Ge]||--dt}while(Qe!==Ge);--Be}return rt=null,De=null,function(Ge){Ge.save(),Ge.scale(1/Y,-1/J),Ge.translate(0,-J),Ge.fill(Xe),Ge.beginPath(),Ge.restore()}}class F{constructor(Y,J){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Y,J])}clone(){const Y=Object.create(this);return Y.clipBox=this.clipBox.slice(),Y}setCurrentPoint(Y,J){this.x=Y,this.y=J}updatePathMinMax(Y,J,Se){[J,Se]=_.Util.applyTransform([J,Se],Y),this.minX=Math.min(this.minX,J),this.minY=Math.min(this.minY,Se),this.maxX=Math.max(this.maxX,J),this.maxY=Math.max(this.maxY,Se)}updateRectMinMax(Y,J){const Se=_.Util.applyTransform(J,Y),Ie=_.Util.applyTransform(J.slice(2),Y);this.minX=Math.min(this.minX,Se[0],Ie[0]),this.minY=Math.min(this.minY,Se[1],Ie[1]),this.maxX=Math.max(this.maxX,Se[0],Ie[0]),this.maxY=Math.max(this.maxY,Se[1],Ie[1])}updateScalingPathMinMax(Y,J){_.Util.scaleMinMax(Y,J),this.minX=Math.min(this.minX,J[0]),this.maxX=Math.max(this.maxX,J[1]),this.minY=Math.min(this.minY,J[2]),this.maxY=Math.max(this.maxY,J[3])}updateCurvePathMinMax(Y,J,Se,Ie,$e,De,Be,Le,He,We){const rt=_.Util.bezierBoundingBox(J,Se,Ie,$e,De,Be,Le,He);if(We){We[0]=Math.min(We[0],rt[0],rt[2]),We[1]=Math.max(We[1],rt[0],rt[2]),We[2]=Math.min(We[2],rt[1],rt[3]),We[3]=Math.max(We[3],rt[1],rt[3]);return}this.updateRectMinMax(Y,rt)}getPathBoundingBox(Y=j.PathType.FILL,J=null){const Se=[this.minX,this.minY,this.maxX,this.maxY];if(Y===j.PathType.STROKE){J||(0,_.unreachable)("Stroke bounding box must include transform.");const Ie=_.Util.singularValueDecompose2dScale(J),$e=Ie[0]*this.lineWidth/2,De=Ie[1]*this.lineWidth/2;Se[0]-=$e,Se[1]-=De,Se[2]+=$e,Se[3]+=De}return Se}updateClipFromPath(){const Y=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Y||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Y){this.clipBox=Y,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Y=j.PathType.FILL,J=null){return _.Util.intersect(this.clipBox,this.getPathBoundingBox(Y,J))}}function W(_e,Y){if(typeof ImageData<"u"&&Y instanceof ImageData){_e.putImageData(Y,0,0);return}const J=Y.height,Se=Y.width,Ie=J%$,$e=(J-Ie)/$,De=Ie===0?$e:$e+1,Be=_e.createImageData(Se,$);let Le=0,He;const We=Y.data,rt=Be.data;let it,dt,Ke,Xe;if(Y.kind===_.ImageKind.GRAYSCALE_1BPP){const Fe=We.byteLength,Ge=new Uint32Array(rt.buffer,0,rt.byteLength>>2),Ye=Ge.length,Qe=Se+7>>3,ut=4294967295,mt=_.FeatureTest.isLittleEndian?4278190080:255;for(it=0;it<De;it++){for(Ke=it<$e?$:Ie,He=0,dt=0;dt<Ke;dt++){const gt=Fe-Le;let Ze=0;const Et=gt>Qe?Se:gt*8-7,At=Et&-8;let Ht=0,Ut=0;for(;Ze<At;Ze+=8)Ut=We[Le++],Ge[He++]=Ut&128?ut:mt,Ge[He++]=Ut&64?ut:mt,Ge[He++]=Ut&32?ut:mt,Ge[He++]=Ut&16?ut:mt,Ge[He++]=Ut&8?ut:mt,Ge[He++]=Ut&4?ut:mt,Ge[He++]=Ut&2?ut:mt,Ge[He++]=Ut&1?ut:mt;for(;Ze<Et;Ze++)Ht===0&&(Ut=We[Le++],Ht=128),Ge[He++]=Ut&Ht?ut:mt,Ht>>=1}for(;He<Ye;)Ge[He++]=0;_e.putImageData(Be,0,it*$)}}else if(Y.kind===_.ImageKind.RGBA_32BPP){for(dt=0,Xe=Se*$*4,it=0;it<$e;it++)rt.set(We.subarray(Le,Le+Xe)),Le+=Xe,_e.putImageData(Be,0,dt),dt+=$;it<De&&(Xe=Se*Ie*4,rt.set(We.subarray(Le,Le+Xe)),_e.putImageData(Be,0,dt))}else if(Y.kind===_.ImageKind.RGB_24BPP)for(Ke=$,Xe=Se*Ke,it=0;it<De;it++){for(it>=$e&&(Ke=Ie,Xe=Se*Ke),He=0,dt=Xe;dt--;)rt[He++]=We[Le++],rt[He++]=We[Le++],rt[He++]=We[Le++],rt[He++]=255;_e.putImageData(Be,0,it*$)}else throw new Error(`bad image kind: ${Y.kind}`)}function H(_e,Y){if(Y.bitmap){_e.drawImage(Y.bitmap,0,0);return}const J=Y.height,Se=Y.width,Ie=J%$,$e=(J-Ie)/$,De=Ie===0?$e:$e+1,Be=_e.createImageData(Se,$);let Le=0;const He=Y.data,We=Be.data;for(let rt=0;rt<De;rt++){const it=rt<$e?$:Ie;({srcPos:Le}=(0,S.convertBlackAndWhiteToRGBA)({src:He,srcPos:Le,dest:We,width:Se,height:it,nonBlackColor:0})),_e.putImageData(Be,0,rt*$)}}function B(_e,Y){const J=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Se of J)_e[Se]!==void 0&&(Y[Se]=_e[Se]);_e.setLineDash!==void 0&&(Y.setLineDash(_e.getLineDash()),Y.lineDashOffset=_e.lineDashOffset)}function U(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!_.isNodeJS){const{filter:Y}=_e;Y!=="none"&&Y!==""&&(_e.filter="none")}}function G(_e,Y,J,Se){const Ie=_e.length;for(let $e=3;$e<Ie;$e+=4){const De=_e[$e];if(De===0)_e[$e-3]=Y,_e[$e-2]=J,_e[$e-1]=Se;else if(De<255){const Be=255-De;_e[$e-3]=_e[$e-3]*De+Y*Be>>8,_e[$e-2]=_e[$e-2]*De+J*Be>>8,_e[$e-1]=_e[$e-1]*De+Se*Be>>8}}}function V(_e,Y,J){const Se=_e.length,Ie=1/255;for(let $e=3;$e<Se;$e+=4){const De=J?J[_e[$e]]:_e[$e];Y[$e]=Y[$e]*De*Ie|0}}function K(_e,Y,J){const Se=_e.length;for(let Ie=3;Ie<Se;Ie+=4){const $e=_e[Ie-3]*77+_e[Ie-2]*152+_e[Ie-1]*28;Y[Ie]=J?Y[Ie]*J[$e>>8]>>8:Y[Ie]*$e>>16}}function je(_e,Y,J,Se,Ie,$e,De,Be,Le,He,We){const rt=!!$e,it=rt?$e[0]:0,dt=rt?$e[1]:0,Ke=rt?$e[2]:0,Xe=Ie==="Luminosity"?K:V,Ge=Math.min(Se,Math.ceil(1048576/J));for(let Ye=0;Ye<Se;Ye+=Ge){const Qe=Math.min(Ge,Se-Ye),ut=_e.getImageData(Be-He,Ye+(Le-We),J,Qe),mt=Y.getImageData(Be,Ye+Le,J,Qe);rt&&G(ut.data,it,dt,Ke),Xe(ut.data,mt.data,De),Y.putImageData(mt,Be,Ye+Le)}}function Z(_e,Y,J,Se){const Ie=Se[0],$e=Se[1],De=Se[2]-Ie,Be=Se[3]-$e;De===0||Be===0||(je(Y.context,J,De,Be,Y.subtype,Y.backdrop,Y.transferMap,Ie,$e,Y.offsetX,Y.offsetY),_e.save(),_e.globalAlpha=1,_e.globalCompositeOperation="source-over",_e.setTransform(1,0,0,1,0,0),_e.drawImage(J.canvas,0,0),_e.restore())}function fe(_e,Y){const J=_.Util.singularValueDecompose2dScale(_e);J[0]=Math.fround(J[0]),J[1]=Math.fround(J[1]);const Se=Math.fround((globalThis.devicePixelRatio||1)*w.PixelsPerInch.PDF_TO_CSS_UNITS);return Y!==void 0?Y:J[0]<=Se||J[1]<=Se}const Ae=["butt","round","square"],Oe=["miter","round","bevel"],Pe={},Ne={},ke=class ke{constructor(Y,J,Se,Ie,$e,{optionalContentConfig:De,markedContentStack:Be=null},Le,He){ot(this,Me);this.ctx=Y,this.current=new F(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=J,this.objs=Se,this.canvasFactory=Ie,this.filterFactory=$e,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Be||[],this.optionalContentConfig=De,this.cachedCanvases=new L(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Le,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=He,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Y,J=null){return typeof Y=="string"?Y.startsWith("g_")?this.commonObjs.get(Y):this.objs.get(Y):J}beginDrawing({transform:Y,viewport:J,transparency:Se=!1,background:Ie=null}){const $e=this.ctx.canvas.width,De=this.ctx.canvas.height,Be=this.ctx.fillStyle;if(this.ctx.fillStyle=Ie||"#ffffff",this.ctx.fillRect(0,0,$e,De),this.ctx.fillStyle=Be,Se){const Le=this.cachedCanvases.getCanvas("transparent",$e,De);this.compositeCtx=this.ctx,this.transparentCanvas=Le.canvas,this.ctx=Le.context,this.ctx.save(),this.ctx.transform(...(0,w.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),U(this.ctx),Y&&(this.ctx.transform(...Y),this.outputScaleX=Y[0],this.outputScaleY=Y[0]),this.ctx.transform(...J.transform),this.viewportScale=J.scale,this.baseTransform=(0,w.getCurrentTransform)(this.ctx)}executeOperatorList(Y,J,Se,Ie){const $e=Y.argsArray,De=Y.fnArray;let Be=J||0;const Le=$e.length;if(Le===Be)return Be;const He=Le-Be>N&&typeof Se=="function",We=He?Date.now()+T:0;let rt=0;const it=this.commonObjs,dt=this.objs;let Ke;for(;;){if(Ie!==void 0&&Be===Ie.nextBreakPoint)return Ie.breakIt(Be,Se),Be;if(Ke=De[Be],Ke!==_.OPS.dependency)this[Ke].apply(this,$e[Be]);else for(const Xe of $e[Be]){const Fe=Xe.startsWith("g_")?it:dt;if(!Fe.has(Xe))return Fe.get(Xe,Se),Be}if(Be++,Be===Le)return Be;if(He&&++rt>N){if(Date.now()>We)return Se(),Be;rt=0}}}endDrawing(){Je(this,Me,an).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Y of this._cachedBitmapsMap.values()){for(const J of Y.values())typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement&&(J.width=J.height=0);Y.clear()}this._cachedBitmapsMap.clear(),Je(this,Me,on).call(this)}_scaleImage(Y,J){const Se=Y.width,Ie=Y.height;let $e=Math.max(Math.hypot(J[0],J[1]),1),De=Math.max(Math.hypot(J[2],J[3]),1),Be=Se,Le=Ie,He="prescale1",We,rt;for(;$e>2&&Be>1||De>2&&Le>1;){let it=Be,dt=Le;$e>2&&Be>1&&(it=Be>=16384?Math.floor(Be/2)-1||1:Math.ceil(Be/2),$e/=Be/it),De>2&&Le>1&&(dt=Le>=16384?Math.floor(Le/2)-1||1:Math.ceil(Le)/2,De/=Le/dt),We=this.cachedCanvases.getCanvas(He,it,dt),rt=We.context,rt.clearRect(0,0,it,dt),rt.drawImage(Y,0,0,Be,Le,0,0,it,dt),Y=We.canvas,Be=it,Le=dt,He=He==="prescale1"?"prescale2":"prescale1"}return{img:Y,paintWidth:Be,paintHeight:Le}}_createMaskCanvas(Y){const J=this.ctx,{width:Se,height:Ie}=Y,$e=this.current.fillColor,De=this.current.patternFill,Be=(0,w.getCurrentTransform)(J);let Le,He,We,rt;if((Y.bitmap||Y.data)&&Y.count>1){const Ze=Y.bitmap||Y.data.buffer;He=JSON.stringify(De?Be:[Be.slice(0,4),$e]),Le=this._cachedBitmapsMap.get(Ze),Le||(Le=new Map,this._cachedBitmapsMap.set(Ze,Le));const Et=Le.get(He);if(Et&&!De){const At=Math.round(Math.min(Be[0],Be[2])+Be[4]),Ht=Math.round(Math.min(Be[1],Be[3])+Be[5]);return{canvas:Et,offsetX:At,offsetY:Ht}}We=Et}We||(rt=this.cachedCanvases.getCanvas("maskCanvas",Se,Ie),H(rt.context,Y));let it=_.Util.transform(Be,[1/Se,0,0,-1/Ie,0,0]);it=_.Util.transform(it,[1,0,0,1,0,-Ie]);const dt=_.Util.applyTransform([0,0],it),Ke=_.Util.applyTransform([Se,Ie],it),Xe=_.Util.normalizeRect([dt[0],dt[1],Ke[0],Ke[1]]),Fe=Math.round(Xe[2]-Xe[0])||1,Ge=Math.round(Xe[3]-Xe[1])||1,Ye=this.cachedCanvases.getCanvas("fillCanvas",Fe,Ge),Qe=Ye.context,ut=Math.min(dt[0],Ke[0]),mt=Math.min(dt[1],Ke[1]);Qe.translate(-ut,-mt),Qe.transform(...it),We||(We=this._scaleImage(rt.canvas,(0,w.getCurrentTransformInverse)(Qe)),We=We.img,Le&&De&&Le.set(He,We)),Qe.imageSmoothingEnabled=fe((0,w.getCurrentTransform)(Qe),Y.interpolate),I(Qe,We,0,0,We.width,We.height,0,0,Se,Ie),Qe.globalCompositeOperation="source-in";const gt=_.Util.transform((0,w.getCurrentTransformInverse)(Qe),[1,0,0,1,-ut,-mt]);return Qe.fillStyle=De?$e.getPattern(J,this,gt,j.PathType.FILL):$e,Qe.fillRect(0,0,Se,Ie),Le&&!De&&(this.cachedCanvases.delete("fillCanvas"),Le.set(He,Ye.canvas)),{canvas:Ye.canvas,offsetX:Math.round(ut),offsetY:Math.round(mt)}}setLineWidth(Y){Y!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Y,this.ctx.lineWidth=Y}setLineCap(Y){this.ctx.lineCap=Ae[Y]}setLineJoin(Y){this.ctx.lineJoin=Oe[Y]}setMiterLimit(Y){this.ctx.miterLimit=Y}setDash(Y,J){const Se=this.ctx;Se.setLineDash!==void 0&&(Se.setLineDash(Y),Se.lineDashOffset=J)}setRenderingIntent(Y){}setFlatness(Y){}setGState(Y){for(const[J,Se]of Y)switch(J){case"LW":this.setLineWidth(Se);break;case"LC":this.setLineCap(Se);break;case"LJ":this.setLineJoin(Se);break;case"ML":this.setMiterLimit(Se);break;case"D":this.setDash(Se[0],Se[1]);break;case"RI":this.setRenderingIntent(Se);break;case"FL":this.setFlatness(Se);break;case"Font":this.setFont(Se[0],Se[1]);break;case"CA":this.current.strokeAlpha=Se;break;case"ca":this.current.fillAlpha=Se,this.ctx.globalAlpha=Se;break;case"BM":this.ctx.globalCompositeOperation=Se;break;case"SMask":this.current.activeSMask=Se?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Se);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Y=this.inSMaskMode;this.current.activeSMask&&!Y?this.beginSMaskMode():!this.current.activeSMask&&Y&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Y=this.ctx.canvas.width,J=this.ctx.canvas.height,Se="smaskGroupAt"+this.groupLevel,Ie=this.cachedCanvases.getCanvas(Se,Y,J);this.suspendedCtx=this.ctx,this.ctx=Ie.context;const $e=this.ctx;$e.setTransform(...(0,w.getCurrentTransform)(this.suspendedCtx)),B(this.suspendedCtx,$e),D($e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),B(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Y){if(!this.current.activeSMask)return;Y?(Y[0]=Math.floor(Y[0]),Y[1]=Math.floor(Y[1]),Y[2]=Math.ceil(Y[2]),Y[3]=Math.ceil(Y[3])):Y=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const J=this.current.activeSMask,Se=this.suspendedCtx;Z(Se,J,this.ctx,Y),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(B(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Y=this.current;this.stateStack.push(Y),this.current=Y.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),B(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Y,J,Se,Ie,$e,De){this.ctx.transform(Y,J,Se,Ie,$e,De),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Y,J,Se){const Ie=this.ctx,$e=this.current;let De=$e.x,Be=$e.y,Le,He;const We=(0,w.getCurrentTransform)(Ie),rt=We[0]===0&&We[3]===0||We[1]===0&&We[2]===0,it=rt?Se.slice(0):null;for(let dt=0,Ke=0,Xe=Y.length;dt<Xe;dt++)switch(Y[dt]|0){case _.OPS.rectangle:De=J[Ke++],Be=J[Ke++];const Fe=J[Ke++],Ge=J[Ke++],Ye=De+Fe,Qe=Be+Ge;Ie.moveTo(De,Be),Fe===0||Ge===0?Ie.lineTo(Ye,Qe):(Ie.lineTo(Ye,Be),Ie.lineTo(Ye,Qe),Ie.lineTo(De,Qe)),rt||$e.updateRectMinMax(We,[De,Be,Ye,Qe]),Ie.closePath();break;case _.OPS.moveTo:De=J[Ke++],Be=J[Ke++],Ie.moveTo(De,Be),rt||$e.updatePathMinMax(We,De,Be);break;case _.OPS.lineTo:De=J[Ke++],Be=J[Ke++],Ie.lineTo(De,Be),rt||$e.updatePathMinMax(We,De,Be);break;case _.OPS.curveTo:Le=De,He=Be,De=J[Ke+4],Be=J[Ke+5],Ie.bezierCurveTo(J[Ke],J[Ke+1],J[Ke+2],J[Ke+3],De,Be),$e.updateCurvePathMinMax(We,Le,He,J[Ke],J[Ke+1],J[Ke+2],J[Ke+3],De,Be,it),Ke+=6;break;case _.OPS.curveTo2:Le=De,He=Be,Ie.bezierCurveTo(De,Be,J[Ke],J[Ke+1],J[Ke+2],J[Ke+3]),$e.updateCurvePathMinMax(We,Le,He,De,Be,J[Ke],J[Ke+1],J[Ke+2],J[Ke+3],it),De=J[Ke+2],Be=J[Ke+3],Ke+=4;break;case _.OPS.curveTo3:Le=De,He=Be,De=J[Ke+2],Be=J[Ke+3],Ie.bezierCurveTo(J[Ke],J[Ke+1],De,Be,De,Be),$e.updateCurvePathMinMax(We,Le,He,J[Ke],J[Ke+1],De,Be,De,Be,it),Ke+=4;break;case _.OPS.closePath:Ie.closePath();break}rt&&$e.updateScalingPathMinMax(We,it),$e.setCurrentPoint(De,Be)}closePath(){this.ctx.closePath()}stroke(Y=!0){const J=this.ctx,Se=this.current.strokeColor;J.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Se=="object"&&(Se!=null&&Se.getPattern)?(J.save(),J.strokeStyle=Se.getPattern(J,this,(0,w.getCurrentTransformInverse)(J),j.PathType.STROKE),this.rescaleAndStroke(!1),J.restore()):this.rescaleAndStroke(!0)),Y&&this.consumePath(this.current.getClippedPathBoundingBox()),J.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Y=!0){const J=this.ctx,Se=this.current.fillColor,Ie=this.current.patternFill;let $e=!1;Ie&&(J.save(),J.fillStyle=Se.getPattern(J,this,(0,w.getCurrentTransformInverse)(J),j.PathType.FILL),$e=!0);const De=this.current.getClippedPathBoundingBox();this.contentVisible&&De!==null&&(this.pendingEOFill?(J.fill("evenodd"),this.pendingEOFill=!1):J.fill()),$e&&J.restore(),Y&&this.consumePath(De)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pe}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Y=this.pendingTextPaths,J=this.ctx;if(Y===void 0){J.beginPath();return}J.save(),J.beginPath();for(const Se of Y)J.setTransform(...Se.transform),J.translate(Se.x,Se.y),Se.addToPath(J,Se.fontSize);J.restore(),J.clip(),J.beginPath(),delete this.pendingTextPaths}setCharSpacing(Y){this.current.charSpacing=Y}setWordSpacing(Y){this.current.wordSpacing=Y}setHScale(Y){this.current.textHScale=Y/100}setLeading(Y){this.current.leading=-Y}setFont(Y,J){var We;const Se=this.commonObjs.get(Y),Ie=this.current;if(!Se)throw new Error(`Can't find font for ${Y}`);if(Ie.fontMatrix=Se.fontMatrix||_.FONT_IDENTITY_MATRIX,(Ie.fontMatrix[0]===0||Ie.fontMatrix[3]===0)&&(0,_.warn)("Invalid font matrix for font "+Y),J<0?(J=-J,Ie.fontDirection=-1):Ie.fontDirection=1,this.current.font=Se,this.current.fontSize=J,Se.isType3Font)return;const $e=Se.loadedName||"sans-serif",De=((We=Se.systemFontInfo)==null?void 0:We.css)||`"${$e}", ${Se.fallbackName}`;let Be="normal";Se.black?Be="900":Se.bold&&(Be="bold");const Le=Se.italic?"italic":"normal";let He=J;J<A?He=A:J>R&&(He=R),this.current.fontSizeScale=J/He,this.ctx.font=`${Le} ${Be} ${He}px ${De}`}setTextRenderingMode(Y){this.current.textRenderingMode=Y}setTextRise(Y){this.current.textRise=Y}moveText(Y,J){this.current.x=this.current.lineX+=Y,this.current.y=this.current.lineY+=J}setLeadingMoveText(Y,J){this.setLeading(-J),this.moveText(Y,J)}setTextMatrix(Y,J,Se,Ie,$e,De){this.current.textMatrix=[Y,J,Se,Ie,$e,De],this.current.textMatrixScale=Math.hypot(Y,J),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Y,J,Se,Ie){const $e=this.ctx,De=this.current,Be=De.font,Le=De.textRenderingMode,He=De.fontSize/De.fontSizeScale,We=Le&_.TextRenderingMode.FILL_STROKE_MASK,rt=!!(Le&_.TextRenderingMode.ADD_TO_PATH_FLAG),it=De.patternFill&&!Be.missingFile;let dt;(Be.disableFontFace||rt||it)&&(dt=Be.getPathGenerator(this.commonObjs,Y)),Be.disableFontFace||it?($e.save(),$e.translate(J,Se),$e.beginPath(),dt($e,He),Ie&&$e.setTransform(...Ie),(We===_.TextRenderingMode.FILL||We===_.TextRenderingMode.FILL_STROKE)&&$e.fill(),(We===_.TextRenderingMode.STROKE||We===_.TextRenderingMode.FILL_STROKE)&&$e.stroke(),$e.restore()):((We===_.TextRenderingMode.FILL||We===_.TextRenderingMode.FILL_STROKE)&&$e.fillText(Y,J,Se),(We===_.TextRenderingMode.STROKE||We===_.TextRenderingMode.FILL_STROKE)&&$e.strokeText(Y,J,Se)),rt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,w.getCurrentTransform)($e),x:J,y:Se,fontSize:He,addToPath:dt})}get isFontSubpixelAAEnabled(){const{context:Y}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Y.scale(1.5,1),Y.fillText("I",0,10);const J=Y.getImageData(0,0,10,10).data;let Se=!1;for(let Ie=3;Ie<J.length;Ie+=4)if(J[Ie]>0&&J[Ie]<255){Se=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",Se)}showText(Y){const J=this.current,Se=J.font;if(Se.isType3Font)return this.showType3Text(Y);const Ie=J.fontSize;if(Ie===0)return;const $e=this.ctx,De=J.fontSizeScale,Be=J.charSpacing,Le=J.wordSpacing,He=J.fontDirection,We=J.textHScale*He,rt=Y.length,it=Se.vertical,dt=it?1:-1,Ke=Se.defaultVMetrics,Xe=Ie*J.fontMatrix[0],Fe=J.textRenderingMode===_.TextRenderingMode.FILL&&!Se.disableFontFace&&!J.patternFill;$e.save(),$e.transform(...J.textMatrix),$e.translate(J.x,J.y+J.textRise),He>0?$e.scale(We,-1):$e.scale(We,1);let Ge;if(J.patternFill){$e.save();const gt=J.fillColor.getPattern($e,this,(0,w.getCurrentTransformInverse)($e),j.PathType.FILL);Ge=(0,w.getCurrentTransform)($e),$e.restore(),$e.fillStyle=gt}let Ye=J.lineWidth;const Qe=J.textMatrixScale;if(Qe===0||Ye===0){const gt=J.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;(gt===_.TextRenderingMode.STROKE||gt===_.TextRenderingMode.FILL_STROKE)&&(Ye=this.getSinglePixelWidth())}else Ye/=Qe;if(De!==1&&($e.scale(De,De),Ye/=De),$e.lineWidth=Ye,Se.isInvalidPDFjsFont){const gt=[];let Ze=0;for(const Et of Y)gt.push(Et.unicode),Ze+=Et.width;$e.fillText(gt.join(""),0,0),J.x+=Ze*Xe*We,$e.restore(),this.compose();return}let ut=0,mt;for(mt=0;mt<rt;++mt){const gt=Y[mt];if(typeof gt=="number"){ut+=dt*gt*Ie/1e3;continue}let Ze=!1;const Et=(gt.isSpace?Le:0)+Be,At=gt.fontChar,Ht=gt.accent;let Ut,Kt,Nt=gt.width;if(it){const Xt=gt.vmetric||Ke,Zt=-(gt.vmetric?Xt[1]:Nt*.5)*Xe,ht=Xt[2]*Xe;Nt=Xt?-Xt[0]:Nt,Ut=Zt/De,Kt=(ut+ht)/De}else Ut=ut/De,Kt=0;if(Se.remeasure&&Nt>0){const Xt=$e.measureText(At).width*1e3/Ie*De;if(Nt<Xt&&this.isFontSubpixelAAEnabled){const Zt=Nt/Xt;Ze=!0,$e.save(),$e.scale(Zt,1),Ut/=Zt}else Nt!==Xt&&(Ut+=(Nt-Xt)/2e3*Ie/De)}if(this.contentVisible&&(gt.isInFont||Se.missingFile)){if(Fe&&!Ht)$e.fillText(At,Ut,Kt);else if(this.paintChar(At,Ut,Kt,Ge),Ht){const Xt=Ut+Ie*Ht.offset.x/De,Zt=Kt-Ie*Ht.offset.y/De;this.paintChar(Ht.fontChar,Xt,Zt,Ge)}}const Bt=it?Nt*Xe-Et*He:Nt*Xe+Et*He;ut+=Bt,Ze&&$e.restore()}it?J.y-=ut:J.x+=ut*We,$e.restore(),this.compose()}showType3Text(Y){const J=this.ctx,Se=this.current,Ie=Se.font,$e=Se.fontSize,De=Se.fontDirection,Be=Ie.vertical?1:-1,Le=Se.charSpacing,He=Se.wordSpacing,We=Se.textHScale*De,rt=Se.fontMatrix||_.FONT_IDENTITY_MATRIX,it=Y.length,dt=Se.textRenderingMode===_.TextRenderingMode.INVISIBLE;let Ke,Xe,Fe,Ge;if(!(dt||$e===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,J.save(),J.transform(...Se.textMatrix),J.translate(Se.x,Se.y),J.scale(We,De),Ke=0;Ke<it;++Ke){if(Xe=Y[Ke],typeof Xe=="number"){Ge=Be*Xe*$e/1e3,this.ctx.translate(Ge,0),Se.x+=Ge*We;continue}const Ye=(Xe.isSpace?He:0)+Le,Qe=Ie.charProcOperatorList[Xe.operatorListId];if(!Qe){(0,_.warn)(`Type3 character "${Xe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xe,this.save(),J.scale($e,$e),J.transform(...rt),this.executeOperatorList(Qe),this.restore()),Fe=_.Util.applyTransform([Xe.width,0],rt)[0]*$e+Ye,J.translate(Fe,0),Se.x+=Fe*We}J.restore(),this.processingType3=null}}setCharWidth(Y,J){}setCharWidthAndBounds(Y,J,Se,Ie,$e,De){this.ctx.rect(Se,Ie,$e-Se,De-Ie),this.ctx.clip(),this.endPath()}getColorN_Pattern(Y){let J;if(Y[0]==="TilingPattern"){const Se=Y[1],Ie=this.baseTransform||(0,w.getCurrentTransform)(this.ctx),$e={createCanvasGraphics:De=>new ke(De,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};J=new j.TilingPattern(Y,Se,this.ctx,$e,Ie)}else J=this._getPattern(Y[1],Y[2]);return J}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Y,J,Se){const Ie=_.Util.makeHexColor(Y,J,Se);this.ctx.strokeStyle=Ie,this.current.strokeColor=Ie}setFillRGBColor(Y,J,Se){const Ie=_.Util.makeHexColor(Y,J,Se);this.ctx.fillStyle=Ie,this.current.fillColor=Ie,this.current.patternFill=!1}_getPattern(Y,J=null){let Se;return this.cachedPatterns.has(Y)?Se=this.cachedPatterns.get(Y):(Se=(0,j.getShadingPattern)(this.getObject(Y)),this.cachedPatterns.set(Y,Se)),J&&(Se.matrix=J),Se}shadingFill(Y){if(!this.contentVisible)return;const J=this.ctx;this.save();const Se=this._getPattern(Y);J.fillStyle=Se.getPattern(J,this,(0,w.getCurrentTransformInverse)(J),j.PathType.SHADING);const Ie=(0,w.getCurrentTransformInverse)(J);if(Ie){const{width:$e,height:De}=J.canvas,[Be,Le,He,We]=_.Util.getAxialAlignedBoundingBox([0,0,$e,De],Ie);this.ctx.fillRect(Be,Le,He-Be,We-Le)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Y,J){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Y)&&Y.length===6&&this.transform(...Y),this.baseTransform=(0,w.getCurrentTransform)(this.ctx),J)){const Se=J[2]-J[0],Ie=J[3]-J[1];this.ctx.rect(J[0],J[1],Se,Ie),this.current.updateRectMinMax((0,w.getCurrentTransform)(this.ctx),J),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Y){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const J=this.ctx;Y.isolated||(0,_.info)("TODO: Support non-isolated groups."),Y.knockout&&(0,_.warn)("Knockout groups not supported.");const Se=(0,w.getCurrentTransform)(J);if(Y.matrix&&J.transform(...Y.matrix),!Y.bbox)throw new Error("Bounding box is required.");let Ie=_.Util.getAxialAlignedBoundingBox(Y.bbox,(0,w.getCurrentTransform)(J));const $e=[0,0,J.canvas.width,J.canvas.height];Ie=_.Util.intersect(Ie,$e)||[0,0,0,0];const De=Math.floor(Ie[0]),Be=Math.floor(Ie[1]);let Le=Math.max(Math.ceil(Ie[2])-De,1),He=Math.max(Math.ceil(Ie[3])-Be,1),We=1,rt=1;Le>C&&(We=Le/C,Le=C),He>C&&(rt=He/C,He=C),this.current.startNewPathAndClipBox([0,0,Le,He]);let it="groupAt"+this.groupLevel;Y.smask&&(it+="_smask_"+this.smaskCounter++%2);const dt=this.cachedCanvases.getCanvas(it,Le,He),Ke=dt.context;Ke.scale(1/We,1/rt),Ke.translate(-De,-Be),Ke.transform(...Se),Y.smask?this.smaskStack.push({canvas:dt.canvas,context:Ke,offsetX:De,offsetY:Be,scaleX:We,scaleY:rt,subtype:Y.smask.subtype,backdrop:Y.smask.backdrop,transferMap:Y.smask.transferMap||null,startTransformInverse:null}):(J.setTransform(1,0,0,1,0,0),J.translate(De,Be),J.scale(We,rt),J.save()),B(J,Ke),this.ctx=Ke,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(J),this.groupLevel++}endGroup(Y){if(!this.contentVisible)return;this.groupLevel--;const J=this.ctx,Se=this.groupStack.pop();if(this.ctx=Se,this.ctx.imageSmoothingEnabled=!1,Y.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ie=(0,w.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ie);const $e=_.Util.getAxialAlignedBoundingBox([0,0,J.canvas.width,J.canvas.height],Ie);this.ctx.drawImage(J.canvas,0,0),this.ctx.restore(),this.compose($e)}}beginAnnotation(Y,J,Se,Ie,$e){if(Je(this,Me,an).call(this),U(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(J)&&J.length===4){const De=J[2]-J[0],Be=J[3]-J[1];if($e&&this.annotationCanvasMap){Se=Se.slice(),Se[4]-=J[0],Se[5]-=J[1],J=J.slice(),J[0]=J[1]=0,J[2]=De,J[3]=Be;const[Le,He]=_.Util.singularValueDecompose2dScale((0,w.getCurrentTransform)(this.ctx)),{viewportScale:We}=this,rt=Math.ceil(De*this.outputScaleX*We),it=Math.ceil(Be*this.outputScaleY*We);this.annotationCanvas=this.canvasFactory.create(rt,it);const{canvas:dt,context:Ke}=this.annotationCanvas;this.annotationCanvasMap.set(Y,dt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ke,this.ctx.save(),this.ctx.setTransform(Le,0,0,-He,0,Be*He),U(this.ctx)}else U(this.ctx),this.ctx.rect(J[0],J[1],De,Be),this.ctx.clip(),this.endPath()}this.current=new F(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Se),this.transform(...Ie)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Je(this,Me,on).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Y){if(!this.contentVisible)return;const J=Y.count;Y=this.getObject(Y.data,Y),Y.count=J;const Se=this.ctx,Ie=this.processingType3;if(Ie&&(Ie.compiled===void 0&&(Ie.compiled=z(Y)),Ie.compiled)){Ie.compiled(Se);return}const $e=this._createMaskCanvas(Y),De=$e.canvas;Se.save(),Se.setTransform(1,0,0,1,0,0),Se.drawImage(De,$e.offsetX,$e.offsetY),Se.restore(),this.compose()}paintImageMaskXObjectRepeat(Y,J,Se=0,Ie=0,$e,De){if(!this.contentVisible)return;Y=this.getObject(Y.data,Y);const Be=this.ctx;Be.save();const Le=(0,w.getCurrentTransform)(Be);Be.transform(J,Se,Ie,$e,0,0);const He=this._createMaskCanvas(Y);Be.setTransform(1,0,0,1,He.offsetX-Le[4],He.offsetY-Le[5]);for(let We=0,rt=De.length;We<rt;We+=2){const it=_.Util.transform(Le,[J,Se,Ie,$e,De[We],De[We+1]]),[dt,Ke]=_.Util.applyTransform([0,0],it);Be.drawImage(He.canvas,dt,Ke)}Be.restore(),this.compose()}paintImageMaskXObjectGroup(Y){if(!this.contentVisible)return;const J=this.ctx,Se=this.current.fillColor,Ie=this.current.patternFill;for(const $e of Y){const{data:De,width:Be,height:Le,transform:He}=$e,We=this.cachedCanvases.getCanvas("maskCanvas",Be,Le),rt=We.context;rt.save();const it=this.getObject(De,$e);H(rt,it),rt.globalCompositeOperation="source-in",rt.fillStyle=Ie?Se.getPattern(rt,this,(0,w.getCurrentTransformInverse)(J),j.PathType.FILL):Se,rt.fillRect(0,0,Be,Le),rt.restore(),J.save(),J.transform(...He),J.scale(1,-1),I(J,We.canvas,0,0,Be,Le,0,-1,1,1),J.restore()}this.compose()}paintImageXObject(Y){if(!this.contentVisible)return;const J=this.getObject(Y);if(!J){(0,_.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(J)}paintImageXObjectRepeat(Y,J,Se,Ie){if(!this.contentVisible)return;const $e=this.getObject(Y);if(!$e){(0,_.warn)("Dependent image isn't ready yet");return}const De=$e.width,Be=$e.height,Le=[];for(let He=0,We=Ie.length;He<We;He+=2)Le.push({transform:[J,0,0,Se,Ie[He],Ie[He+1]],x:0,y:0,w:De,h:Be});this.paintInlineImageXObjectGroup($e,Le)}applyTransferMapsToCanvas(Y){return this.current.transferMaps!=="none"&&(Y.filter=this.current.transferMaps,Y.drawImage(Y.canvas,0,0),Y.filter="none"),Y.canvas}applyTransferMapsToBitmap(Y){if(this.current.transferMaps==="none")return Y.bitmap;const{bitmap:J,width:Se,height:Ie}=Y,$e=this.cachedCanvases.getCanvas("inlineImage",Se,Ie),De=$e.context;return De.filter=this.current.transferMaps,De.drawImage(J,0,0),De.filter="none",$e.canvas}paintInlineImageXObject(Y){if(!this.contentVisible)return;const J=Y.width,Se=Y.height,Ie=this.ctx;if(this.save(),!_.isNodeJS){const{filter:Be}=Ie;Be!=="none"&&Be!==""&&(Ie.filter="none")}Ie.scale(1/J,-1/Se);let $e;if(Y.bitmap)$e=this.applyTransferMapsToBitmap(Y);else if(typeof HTMLElement=="function"&&Y instanceof HTMLElement||!Y.data)$e=Y;else{const Le=this.cachedCanvases.getCanvas("inlineImage",J,Se).context;W(Le,Y),$e=this.applyTransferMapsToCanvas(Le)}const De=this._scaleImage($e,(0,w.getCurrentTransformInverse)(Ie));Ie.imageSmoothingEnabled=fe((0,w.getCurrentTransform)(Ie),Y.interpolate),I(Ie,De.img,0,0,De.paintWidth,De.paintHeight,0,-Se,J,Se),this.compose(),this.restore()}paintInlineImageXObjectGroup(Y,J){if(!this.contentVisible)return;const Se=this.ctx;let Ie;if(Y.bitmap)Ie=Y.bitmap;else{const $e=Y.width,De=Y.height,Le=this.cachedCanvases.getCanvas("inlineImage",$e,De).context;W(Le,Y),Ie=this.applyTransferMapsToCanvas(Le)}for(const $e of J)Se.save(),Se.transform(...$e.transform),Se.scale(1,-1),I(Se,Ie,$e.x,$e.y,$e.w,$e.h,0,-1,1,1),Se.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Y){}markPointProps(Y,J){}beginMarkedContent(Y){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Y,J){Y==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(J)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Y){const J=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Y);const Se=this.ctx;this.pendingClip&&(J||(this.pendingClip===Ne?Se.clip("evenodd"):Se.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Se.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Y=(0,w.getCurrentTransform)(this.ctx);if(Y[1]===0&&Y[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Y[0]),Math.abs(Y[3]));else{const J=Math.abs(Y[0]*Y[3]-Y[2]*Y[1]),Se=Math.hypot(Y[0],Y[2]),Ie=Math.hypot(Y[1],Y[3]);this._cachedGetSinglePixelWidth=Math.max(Se,Ie)/J}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Y}=this.current,{a:J,b:Se,c:Ie,d:$e}=this.ctx.getTransform();let De,Be;if(Se===0&&Ie===0){const Le=Math.abs(J),He=Math.abs($e);if(Le===He)if(Y===0)De=Be=1/Le;else{const We=Le*Y;De=Be=We<1?1/We:1}else if(Y===0)De=1/Le,Be=1/He;else{const We=Le*Y,rt=He*Y;De=We<1?1/We:1,Be=rt<1?1/rt:1}}else{const Le=Math.abs(J*$e-Se*Ie),He=Math.hypot(J,Se),We=Math.hypot(Ie,$e);if(Y===0)De=We/Le,Be=He/Le;else{const rt=Y*Le;De=We>rt?We/rt:1,Be=He>rt?He/rt:1}}this._cachedScaleForStroking[0]=De,this._cachedScaleForStroking[1]=Be}return this._cachedScaleForStroking}rescaleAndStroke(Y){const{ctx:J}=this,{lineWidth:Se}=this.current,[Ie,$e]=this.getScaleForStroking();if(J.lineWidth=Se||1,Ie===1&&$e===1){J.stroke();return}const De=J.getLineDash();if(Y&&J.save(),J.scale(Ie,$e),De.length>0){const Be=Math.max(Ie,$e);J.setLineDash(De.map(Le=>Le/Be)),J.lineDashOffset/=Be}J.stroke(),Y&&J.restore()}isContentVisible(){for(let Y=this.markedContentStack.length-1;Y>=0;Y--)if(!this.markedContentStack[Y].visible)return!1;return!0}};Me=new WeakSet,an=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},on=function(){if(this.pageColors){const Y=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Y!=="none"){const J=this.ctx.filter;this.ctx.filter=Y,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=J}}};let Ce=ke;o.CanvasGraphics=Ce;for(const _e in _.OPS)Ce.prototype[_e]!==void 0&&(Ce.prototype[_.OPS[_e]]=Ce.prototype[_e])},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=$;var _=E(1),w=E(6);const j={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=j;function S(z,F){if(!F)return;const W=F[2]-F[0],H=F[3]-F[1],B=new Path2D;B.rect(F[0],F[1],W,H),z.clip(B)}class A{constructor(){this.constructor===A&&(0,_.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_.unreachable)("Abstract method `getPattern` called.")}}class R extends A{constructor(F){super(),this._type=F[1],this._bbox=F[2],this._colorStops=F[3],this._p0=F[4],this._p1=F[5],this._r0=F[6],this._r1=F[7],this.matrix=null}_createGradient(F){let W;this._type==="axial"?W=F.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(W=F.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const H of this._colorStops)W.addColorStop(H[0],H[1]);return W}getPattern(F,W,H,B){let U;if(B===j.STROKE||B===j.FILL){const G=W.current.getClippedPathBoundingBox(B,(0,w.getCurrentTransform)(F))||[0,0,0,0],V=Math.ceil(G[2]-G[0])||1,K=Math.ceil(G[3]-G[1])||1,je=W.cachedCanvases.getCanvas("pattern",V,K,!0),Z=je.context;Z.clearRect(0,0,Z.canvas.width,Z.canvas.height),Z.beginPath(),Z.rect(0,0,Z.canvas.width,Z.canvas.height),Z.translate(-G[0],-G[1]),H=_.Util.transform(H,[1,0,0,1,G[0],G[1]]),Z.transform(...W.baseTransform),this.matrix&&Z.transform(...this.matrix),S(Z,this._bbox),Z.fillStyle=this._createGradient(Z),Z.fill(),U=F.createPattern(je.canvas,"no-repeat");const fe=new DOMMatrix(H);U.setTransform(fe)}else S(F,this._bbox),U=this._createGradient(F);return U}}function C(z,F,W,H,B,U,G,V){const K=F.coords,je=F.colors,Z=z.data,fe=z.width*4;let Ae;K[W+1]>K[H+1]&&(Ae=W,W=H,H=Ae,Ae=U,U=G,G=Ae),K[H+1]>K[B+1]&&(Ae=H,H=B,B=Ae,Ae=G,G=V,V=Ae),K[W+1]>K[H+1]&&(Ae=W,W=H,H=Ae,Ae=U,U=G,G=Ae);const Oe=(K[W]+F.offsetX)*F.scaleX,Pe=(K[W+1]+F.offsetY)*F.scaleY,Ne=(K[H]+F.offsetX)*F.scaleX,Ce=(K[H+1]+F.offsetY)*F.scaleY,Me=(K[B]+F.offsetX)*F.scaleX,Q=(K[B+1]+F.offsetY)*F.scaleY;if(Pe>=Q)return;const Re=je[U],ke=je[U+1],_e=je[U+2],Y=je[G],J=je[G+1],Se=je[G+2],Ie=je[V],$e=je[V+1],De=je[V+2],Be=Math.round(Pe),Le=Math.round(Q);let He,We,rt,it,dt,Ke,Xe,Fe;for(let Ge=Be;Ge<=Le;Ge++){if(Ge<Ce){const gt=Ge<Pe?0:(Pe-Ge)/(Pe-Ce);He=Oe-(Oe-Ne)*gt,We=Re-(Re-Y)*gt,rt=ke-(ke-J)*gt,it=_e-(_e-Se)*gt}else{let gt;Ge>Q?gt=1:Ce===Q?gt=0:gt=(Ce-Ge)/(Ce-Q),He=Ne-(Ne-Me)*gt,We=Y-(Y-Ie)*gt,rt=J-(J-$e)*gt,it=Se-(Se-De)*gt}let Ye;Ge<Pe?Ye=0:Ge>Q?Ye=1:Ye=(Pe-Ge)/(Pe-Q),dt=Oe-(Oe-Me)*Ye,Ke=Re-(Re-Ie)*Ye,Xe=ke-(ke-$e)*Ye,Fe=_e-(_e-De)*Ye;const Qe=Math.round(Math.min(He,dt)),ut=Math.round(Math.max(He,dt));let mt=fe*Ge+Qe*4;for(let gt=Qe;gt<=ut;gt++)Ye=(He-gt)/(He-dt),Ye<0?Ye=0:Ye>1&&(Ye=1),Z[mt++]=We-(We-Ke)*Ye|0,Z[mt++]=rt-(rt-Xe)*Ye|0,Z[mt++]=it-(it-Fe)*Ye|0,Z[mt++]=255}}function T(z,F,W){const H=F.coords,B=F.colors;let U,G;switch(F.type){case"lattice":const V=F.verticesPerRow,K=Math.floor(H.length/V)-1,je=V-1;for(U=0;U<K;U++){let Z=U*V;for(let fe=0;fe<je;fe++,Z++)C(z,W,H[Z],H[Z+1],H[Z+V],B[Z],B[Z+1],B[Z+V]),C(z,W,H[Z+V+1],H[Z+1],H[Z+V],B[Z+V+1],B[Z+1],B[Z+V])}break;case"triangles":for(U=0,G=H.length;U<G;U+=3)C(z,W,H[U],H[U+1],H[U+2],B[U],B[U+1],B[U+2]);break;default:throw new Error("illegal figure")}}class N extends A{constructor(F){super(),this._coords=F[2],this._colors=F[3],this._figures=F[4],this._bounds=F[5],this._bbox=F[7],this._background=F[8],this.matrix=null}_createMeshCanvas(F,W,H){const V=Math.floor(this._bounds[0]),K=Math.floor(this._bounds[1]),je=Math.ceil(this._bounds[2])-V,Z=Math.ceil(this._bounds[3])-K,fe=Math.min(Math.ceil(Math.abs(je*F[0]*1.1)),3e3),Ae=Math.min(Math.ceil(Math.abs(Z*F[1]*1.1)),3e3),Oe=je/fe,Pe=Z/Ae,Ne={coords:this._coords,colors:this._colors,offsetX:-V,offsetY:-K,scaleX:1/Oe,scaleY:1/Pe},Ce=fe+2*2,Me=Ae+2*2,Q=H.getCanvas("mesh",Ce,Me,!1),Re=Q.context,ke=Re.createImageData(fe,Ae);if(W){const Y=ke.data;for(let J=0,Se=Y.length;J<Se;J+=4)Y[J]=W[0],Y[J+1]=W[1],Y[J+2]=W[2],Y[J+3]=255}for(const Y of this._figures)T(ke,Y,Ne);return Re.putImageData(ke,2,2),{canvas:Q.canvas,offsetX:V-2*Oe,offsetY:K-2*Pe,scaleX:Oe,scaleY:Pe}}getPattern(F,W,H,B){S(F,this._bbox);let U;if(B===j.SHADING)U=_.Util.singularValueDecompose2dScale((0,w.getCurrentTransform)(F));else if(U=_.Util.singularValueDecompose2dScale(W.baseTransform),this.matrix){const V=_.Util.singularValueDecompose2dScale(this.matrix);U=[U[0]*V[0],U[1]*V[1]]}const G=this._createMeshCanvas(U,B===j.SHADING?null:this._background,W.cachedCanvases);return B!==j.SHADING&&(F.setTransform(...W.baseTransform),this.matrix&&F.transform(...this.matrix)),F.translate(G.offsetX,G.offsetY),F.scale(G.scaleX,G.scaleY),F.createPattern(G.canvas,"no-repeat")}}class O extends A{getPattern(){return"hotpink"}}function $(z){switch(z[0]){case"RadialAxial":return new R(z);case"Mesh":return new N(z);case"Dummy":return new O}throw new Error(`Unknown IR type: ${z[0]}`)}const D={COLORED:1,UNCOLORED:2},I=class I{constructor(F,W,H,B,U){this.operatorList=F[2],this.matrix=F[3]||[1,0,0,1,0,0],this.bbox=F[4],this.xstep=F[5],this.ystep=F[6],this.paintType=F[7],this.tilingType=F[8],this.color=W,this.ctx=H,this.canvasGraphicsFactory=B,this.baseTransform=U}createPatternCanvas(F){const W=this.operatorList,H=this.bbox,B=this.xstep,U=this.ystep,G=this.paintType,V=this.tilingType,K=this.color,je=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+V);const Z=H[0],fe=H[1],Ae=H[2],Oe=H[3],Pe=_.Util.singularValueDecompose2dScale(this.matrix),Ne=_.Util.singularValueDecompose2dScale(this.baseTransform),Ce=[Pe[0]*Ne[0],Pe[1]*Ne[1]],Me=this.getSizeAndScale(B,this.ctx.canvas.width,Ce[0]),Q=this.getSizeAndScale(U,this.ctx.canvas.height,Ce[1]),Re=F.cachedCanvases.getCanvas("pattern",Me.size,Q.size,!0),ke=Re.context,_e=je.createCanvasGraphics(ke);_e.groupLevel=F.groupLevel,this.setFillAndStrokeStyleToContext(_e,G,K);let Y=Z,J=fe,Se=Ae,Ie=Oe;return Z<0&&(Y=0,Se+=Math.abs(Z)),fe<0&&(J=0,Ie+=Math.abs(fe)),ke.translate(-(Me.scale*Y),-(Q.scale*J)),_e.transform(Me.scale,0,0,Q.scale,0,0),ke.save(),this.clipBbox(_e,Y,J,Se,Ie),_e.baseTransform=(0,w.getCurrentTransform)(_e.ctx),_e.executeOperatorList(W),_e.endDrawing(),{canvas:Re.canvas,scaleX:Me.scale,scaleY:Q.scale,offsetX:Y,offsetY:J}}getSizeAndScale(F,W,H){F=Math.abs(F);const B=Math.max(I.MAX_PATTERN_SIZE,W);let U=Math.ceil(F*H);return U>=B?U=B:H=U/F,{scale:H,size:U}}clipBbox(F,W,H,B,U){const G=B-W,V=U-H;F.ctx.rect(W,H,G,V),F.current.updateRectMinMax((0,w.getCurrentTransform)(F.ctx),[W,H,B,U]),F.clip(),F.endPath()}setFillAndStrokeStyleToContext(F,W,H){const B=F.ctx,U=F.current;switch(W){case D.COLORED:const G=this.ctx;B.fillStyle=G.fillStyle,B.strokeStyle=G.strokeStyle,U.fillColor=G.fillStyle,U.strokeColor=G.strokeStyle;break;case D.UNCOLORED:const V=_.Util.makeHexColor(H[0],H[1],H[2]);B.fillStyle=V,B.strokeStyle=V,U.fillColor=V,U.strokeColor=V;break;default:throw new _.FormatError(`Unsupported paint type: ${W}`)}}getPattern(F,W,H,B){let U=H;B!==j.SHADING&&(U=_.Util.transform(U,W.baseTransform),this.matrix&&(U=_.Util.transform(U,this.matrix)));const G=this.createPatternCanvas(W);let V=new DOMMatrix(U);V=V.translate(G.offsetX,G.offsetY),V=V.scale(1/G.scaleX,1/G.scaleY);const K=F.createPattern(G.canvas,"repeat");return K.setTransform(V),K}};tr(I,"MAX_PATTERN_SIZE",3e3);let L=I;o.TilingPattern=L},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.convertBlackAndWhiteToRGBA=j,o.convertToRGBA=w,o.grayToRGBA=A;var _=E(1);function w(R){switch(R.kind){case _.ImageKind.GRAYSCALE_1BPP:return j(R);case _.ImageKind.RGB_24BPP:return S(R)}return null}function j({src:R,srcPos:C=0,dest:T,width:N,height:O,nonBlackColor:$=4294967295,inverseDecode:D=!1}){const L=_.FeatureTest.isLittleEndian?4278190080:255,[I,z]=D?[$,L]:[L,$],F=N>>3,W=N&7,H=R.length;T=new Uint32Array(T.buffer);let B=0;for(let U=0;U<O;U++){for(const V=C+F;C<V;C++){const K=C<H?R[C]:255;T[B++]=K&128?z:I,T[B++]=K&64?z:I,T[B++]=K&32?z:I,T[B++]=K&16?z:I,T[B++]=K&8?z:I,T[B++]=K&4?z:I,T[B++]=K&2?z:I,T[B++]=K&1?z:I}if(W===0)continue;const G=C<H?R[C++]:255;for(let V=0;V<W;V++)T[B++]=G&1<<7-V?z:I}return{srcPos:C,destPos:B}}function S({src:R,srcPos:C=0,dest:T,destPos:N=0,width:O,height:$}){let D=0;const L=R.length>>2,I=new Uint32Array(R.buffer,C,L);if(_.FeatureTest.isLittleEndian){for(;D<L-2;D+=3,N+=4){const z=I[D],F=I[D+1],W=I[D+2];T[N]=z|4278190080,T[N+1]=z>>>24|F<<8|4278190080,T[N+2]=F>>>16|W<<16|4278190080,T[N+3]=W>>>8|4278190080}for(let z=D*4,F=R.length;z<F;z+=3)T[N++]=R[z]|R[z+1]<<8|R[z+2]<<16|4278190080}else{for(;D<L-2;D+=3,N+=4){const z=I[D],F=I[D+1],W=I[D+2];T[N]=z|255,T[N+1]=z<<24|F>>>8|255,T[N+2]=F<<16|W>>>16|255,T[N+3]=W<<8|255}for(let z=D*4,F=R.length;z<F;z+=3)T[N++]=R[z]<<24|R[z+1]<<16|R[z+2]<<8|255}return{srcPos:C,destPos:N}}function A(R,C){if(_.FeatureTest.isLittleEndian)for(let T=0,N=R.length;T<N;T++)C[T]=R[T]*65793|4278190080;else for(let T=0,N=R.length;T<N;T++)C[T]=R[T]*16843008|255}},(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const E=Object.create(null);o.GlobalWorkerOptions=E,E.workerPort=null,E.workerSrc=""},(i,o,E)=>{var R,Fn,Bn,$r;Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var _=E(1);const w={DATA:1,ERROR:2},j={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function S(O){switch(O instanceof Error||typeof O=="object"&&O!==null||(0,_.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new _.AbortException(O.message);case"MissingPDFException":return new _.MissingPDFException(O.message);case"PasswordException":return new _.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new _.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new _.UnknownErrorException(O.message,O.details);default:return new _.UnknownErrorException(O.message,O.toString())}}class A{constructor($,D,L){ot(this,R);this.sourceName=$,this.targetName=D,this.comObj=L,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=I=>{const z=I.data;if(z.targetName!==this.sourceName)return;if(z.stream){Je(this,R,Bn).call(this,z);return}if(z.callback){const W=z.callbackId,H=this.callbackCapabilities[W];if(!H)throw new Error(`Cannot resolve callback ${W}`);if(delete this.callbackCapabilities[W],z.callback===w.DATA)H.resolve(z.data);else if(z.callback===w.ERROR)H.reject(S(z.reason));else throw new Error("Unexpected callback case");return}const F=this.actionHandler[z.action];if(!F)throw new Error(`Unknown action from worker: ${z.action}`);if(z.callbackId){const W=this.sourceName,H=z.sourceName;new Promise(function(B){B(F(z.data))}).then(function(B){L.postMessage({sourceName:W,targetName:H,callback:w.DATA,callbackId:z.callbackId,data:B})},function(B){L.postMessage({sourceName:W,targetName:H,callback:w.ERROR,callbackId:z.callbackId,reason:S(B)})});return}if(z.streamId){Je(this,R,Fn).call(this,z);return}F(z.data)},L.addEventListener("message",this._onComObjOnMessage)}on($,D){const L=this.actionHandler;if(L[$])throw new Error(`There is already an actionName called "${$}"`);L[$]=D}send($,D,L){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:D},L)}sendWithPromise($,D,L){const I=this.callbackId++,z=new _.PromiseCapability;this.callbackCapabilities[I]=z;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:I,data:D},L)}catch(F){z.reject(F)}return z.promise}sendWithStream($,D,L,I){const z=this.streamId++,F=this.sourceName,W=this.targetName,H=this.comObj;return new ReadableStream({start:B=>{const U=new _.PromiseCapability;return this.streamControllers[z]={controller:B,startCall:U,pullCall:null,cancelCall:null,isClosed:!1},H.postMessage({sourceName:F,targetName:W,action:$,streamId:z,data:D,desiredSize:B.desiredSize},I),U.promise},pull:B=>{const U=new _.PromiseCapability;return this.streamControllers[z].pullCall=U,H.postMessage({sourceName:F,targetName:W,stream:j.PULL,streamId:z,desiredSize:B.desiredSize}),U.promise},cancel:B=>{(0,_.assert)(B instanceof Error,"cancel must have a valid reason");const U=new _.PromiseCapability;return this.streamControllers[z].cancelCall=U,this.streamControllers[z].isClosed=!0,H.postMessage({sourceName:F,targetName:W,stream:j.CANCEL,streamId:z,reason:S(B)}),U.promise}},L)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}R=new WeakSet,Fn=function($){const D=$.streamId,L=this.sourceName,I=$.sourceName,z=this.comObj,F=this,W=this.actionHandler[$.action],H={enqueue(B,U=1,G){if(this.isCancelled)return;const V=this.desiredSize;this.desiredSize-=U,V>0&&this.desiredSize<=0&&(this.sinkCapability=new _.PromiseCapability,this.ready=this.sinkCapability.promise),z.postMessage({sourceName:L,targetName:I,stream:j.ENQUEUE,streamId:D,chunk:B},G)},close(){this.isCancelled||(this.isCancelled=!0,z.postMessage({sourceName:L,targetName:I,stream:j.CLOSE,streamId:D}),delete F.streamSinks[D])},error(B){(0,_.assert)(B instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,z.postMessage({sourceName:L,targetName:I,stream:j.ERROR,streamId:D,reason:S(B)}))},sinkCapability:new _.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};H.sinkCapability.resolve(),H.ready=H.sinkCapability.promise,this.streamSinks[D]=H,new Promise(function(B){B(W($.data,H))}).then(function(){z.postMessage({sourceName:L,targetName:I,stream:j.START_COMPLETE,streamId:D,success:!0})},function(B){z.postMessage({sourceName:L,targetName:I,stream:j.START_COMPLETE,streamId:D,reason:S(B)})})},Bn=function($){const D=$.streamId,L=this.sourceName,I=$.sourceName,z=this.comObj,F=this.streamControllers[D],W=this.streamSinks[D];switch($.stream){case j.START_COMPLETE:$.success?F.startCall.resolve():F.startCall.reject(S($.reason));break;case j.PULL_COMPLETE:$.success?F.pullCall.resolve():F.pullCall.reject(S($.reason));break;case j.PULL:if(!W){z.postMessage({sourceName:L,targetName:I,stream:j.PULL_COMPLETE,streamId:D,success:!0});break}W.desiredSize<=0&&$.desiredSize>0&&W.sinkCapability.resolve(),W.desiredSize=$.desiredSize,new Promise(function(H){var B;H((B=W.onPull)==null?void 0:B.call(W))}).then(function(){z.postMessage({sourceName:L,targetName:I,stream:j.PULL_COMPLETE,streamId:D,success:!0})},function(H){z.postMessage({sourceName:L,targetName:I,stream:j.PULL_COMPLETE,streamId:D,reason:S(H)})});break;case j.ENQUEUE:if((0,_.assert)(F,"enqueue should have stream controller"),F.isClosed)break;F.controller.enqueue($.chunk);break;case j.CLOSE:if((0,_.assert)(F,"close should have stream controller"),F.isClosed)break;F.isClosed=!0,F.controller.close(),Je(this,R,$r).call(this,F,D);break;case j.ERROR:(0,_.assert)(F,"error should have stream controller"),F.controller.error(S($.reason)),Je(this,R,$r).call(this,F,D);break;case j.CANCEL_COMPLETE:$.success?F.cancelCall.resolve():F.cancelCall.reject(S($.reason)),Je(this,R,$r).call(this,F,D);break;case j.CANCEL:if(!W)break;new Promise(function(H){var B;H((B=W.onCancel)==null?void 0:B.call(W,S($.reason)))}).then(function(){z.postMessage({sourceName:L,targetName:I,stream:j.CANCEL_COMPLETE,streamId:D,success:!0})},function(H){z.postMessage({sourceName:L,targetName:I,stream:j.CANCEL_COMPLETE,streamId:D,reason:S(H)})}),W.sinkCapability.reject(S($.reason)),W.isCancelled=!0,delete this.streamSinks[D];break;default:throw new Error("Unexpected stream case")}},$r=async function($,D){var L,I,z;await Promise.allSettled([(L=$.startCall)==null?void 0:L.promise,(I=$.pullCall)==null?void 0:I.promise,(z=$.cancelCall)==null?void 0:z.promise]),delete this.streamControllers[D]},o.MessageHandler=A},(i,o,E)=>{var j,S;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var _=E(1);class w{constructor({parsedData:R,rawData:C}){ot(this,j);ot(this,S);st(this,j,R),st(this,S,C)}getRaw(){return Ee(this,S)}get(R){return Ee(this,j).get(R)??null}getAll(){return(0,_.objectFromMap)(Ee(this,j))}has(R){return Ee(this,j).has(R)}}j=new WeakMap,S=new WeakMap,o.Metadata=w},(i,o,E)=>{var R,C,T,N,O,$,sn;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var _=E(1),w=E(8);const j=Symbol("INTERNAL");class S{constructor(I,z){ot(this,R,!0);this.name=I,this.intent=z}get visible(){return Ee(this,R)}_setVisible(I,z){I!==j&&(0,_.unreachable)("Internal method `_setVisible` called."),st(this,R,z)}}R=new WeakMap;class A{constructor(I){ot(this,$);ot(this,C,null);ot(this,T,new Map);ot(this,N,null);ot(this,O,null);if(this.name=null,this.creator=null,I!==null){this.name=I.name,this.creator=I.creator,st(this,O,I.order);for(const z of I.groups)Ee(this,T).set(z.id,new S(z.name,z.intent));if(I.baseState==="OFF")for(const z of Ee(this,T).values())z._setVisible(j,!1);for(const z of I.on)Ee(this,T).get(z)._setVisible(j,!0);for(const z of I.off)Ee(this,T).get(z)._setVisible(j,!1);st(this,N,this.getHash())}}isVisible(I){if(Ee(this,T).size===0)return!0;if(!I)return(0,_.warn)("Optional content group not defined."),!0;if(I.type==="OCG")return Ee(this,T).has(I.id)?Ee(this,T).get(I.id).visible:((0,_.warn)(`Optional content group not found: ${I.id}`),!0);if(I.type==="OCMD"){if(I.expression)return Je(this,$,sn).call(this,I.expression);if(!I.policy||I.policy==="AnyOn"){for(const z of I.ids){if(!Ee(this,T).has(z))return(0,_.warn)(`Optional content group not found: ${z}`),!0;if(Ee(this,T).get(z).visible)return!0}return!1}else if(I.policy==="AllOn"){for(const z of I.ids){if(!Ee(this,T).has(z))return(0,_.warn)(`Optional content group not found: ${z}`),!0;if(!Ee(this,T).get(z).visible)return!1}return!0}else if(I.policy==="AnyOff"){for(const z of I.ids){if(!Ee(this,T).has(z))return(0,_.warn)(`Optional content group not found: ${z}`),!0;if(!Ee(this,T).get(z).visible)return!0}return!1}else if(I.policy==="AllOff"){for(const z of I.ids){if(!Ee(this,T).has(z))return(0,_.warn)(`Optional content group not found: ${z}`),!0;if(Ee(this,T).get(z).visible)return!1}return!0}return(0,_.warn)(`Unknown optional content policy ${I.policy}.`),!0}return(0,_.warn)(`Unknown group type ${I.type}.`),!0}setVisibility(I,z=!0){if(!Ee(this,T).has(I)){(0,_.warn)(`Optional content group not found: ${I}`);return}Ee(this,T).get(I)._setVisible(j,!!z),st(this,C,null)}get hasInitialVisibility(){return Ee(this,N)===null||this.getHash()===Ee(this,N)}getOrder(){return Ee(this,T).size?Ee(this,O)?Ee(this,O).slice():[...Ee(this,T).keys()]:null}getGroups(){return Ee(this,T).size>0?(0,_.objectFromMap)(Ee(this,T)):null}getGroup(I){return Ee(this,T).get(I)||null}getHash(){if(Ee(this,C)!==null)return Ee(this,C);const I=new w.MurmurHash3_64;for(const[z,F]of Ee(this,T))I.update(`${z}:${F.visible}`);return st(this,C,I.hexdigest())}}C=new WeakMap,T=new WeakMap,N=new WeakMap,O=new WeakMap,$=new WeakSet,sn=function(I){const z=I.length;if(z<2)return!0;const F=I[0];for(let W=1;W<z;W++){const H=I[W];let B;if(Array.isArray(H))B=Je(this,$,sn).call(this,H);else if(Ee(this,T).has(H))B=Ee(this,T).get(H).visible;else return(0,_.warn)(`Optional content group not found: ${H}`),!0;switch(F){case"And":if(!B)return!1;break;case"Or":if(B)return!0;break;case"Not":return!B;default:return!0}}return F==="And"},o.OptionalContentConfig=A},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var _=E(1),w=E(6);class j{constructor({length:C,initialData:T,progressiveDone:N=!1,contentDispositionFilename:O=null,disableRange:$=!1,disableStream:D=!1},L){if((0,_.assert)(L,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=N,this._contentDispositionFilename=O,(T==null?void 0:T.length)>0){const I=T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength?T.buffer:new Uint8Array(T).buffer;this._queuedChunks.push(I)}this._pdfDataRangeTransport=L,this._isStreamingSupported=!D,this._isRangeSupported=!$,this._contentLength=C,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((I,z)=>{this._onReceiveData({begin:I,chunk:z})}),this._pdfDataRangeTransport.addProgressListener((I,z)=>{this._onProgress({loaded:I,total:z})}),this._pdfDataRangeTransport.addProgressiveReadListener(I=>{this._onReceiveData({chunk:I})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:C,chunk:T}){const N=T instanceof Uint8Array&&T.byteLength===T.buffer.byteLength?T.buffer:new Uint8Array(T).buffer;if(C===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(N):this._queuedChunks.push(N);else{const O=this._rangeReaders.some(function($){return $._begin!==C?!1:($._enqueue(N),!0)});(0,_.assert)(O,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var C;return((C=this._fullRequestReader)==null?void 0:C._loaded)??0}_onProgress(C){var T,N,O,$;C.total===void 0?(N=(T=this._rangeReaders[0])==null?void 0:T.onProgress)==null||N.call(T,{loaded:C.loaded}):($=(O=this._fullRequestReader)==null?void 0:O.onProgress)==null||$.call(O,{loaded:C.loaded,total:C.total})}_onProgressiveDone(){var C;(C=this._fullRequestReader)==null||C.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(C){const T=this._rangeReaders.indexOf(C);T>=0&&this._rangeReaders.splice(T,1)}getFullReader(){(0,_.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const C=this._queuedChunks;return this._queuedChunks=null,new S(this,C,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(C,T){if(T<=this._progressiveDataLength)return null;const N=new A(this,C,T);return this._pdfDataRangeTransport.requestDataRange(C,T),this._rangeReaders.push(N),N}cancelAllRequests(C){var T;(T=this._fullRequestReader)==null||T.cancel(C);for(const N of this._rangeReaders.slice(0))N.cancel(C);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=j;class S{constructor(C,T,N=!1,O=null){this._stream=C,this._done=N||!1,this._filename=(0,w.isPdfFile)(O)?O:null,this._queuedChunks=T||[],this._loaded=0;for(const $ of this._queuedChunks)this._loaded+=$.byteLength;this._requests=[],this._headersReady=Promise.resolve(),C._fullRequestReader=this,this.onProgress=null}_enqueue(C){this._done||(this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunks.push(C),this._loaded+=C.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const C=new _.PromiseCapability;return this._requests.push(C),C.promise}cancel(C){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class A{constructor(C,T,N){this._stream=C,this._begin=T,this._end=N,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(C){if(!this._done){if(this._requests.length===0)this._queuedChunk=C;else{this._requests.shift().resolve({value:C,done:!1});for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const T=this._queuedChunk;return this._queuedChunk=null,{value:T,done:!1}}if(this._done)return{value:void 0,done:!0};const C=new _.PromiseCapability;return this._requests.push(C),C.promise}cancel(C){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var _=E(1),w=E(20);function j(N,O,$){return{method:"GET",headers:N,signal:$.signal,mode:"cors",credentials:O?"include":"same-origin",redirect:"follow"}}function S(N){const O=new Headers;for(const $ in N){const D=N[$];D!==void 0&&O.append($,D)}return O}function A(N){return N instanceof Uint8Array?N.buffer:N instanceof ArrayBuffer?N:((0,_.warn)(`getArrayBuffer - unexpected data format: ${N}`),new Uint8Array(N).buffer)}class R{constructor(O){this.source=O,this.isHttp=/^https?:/i.test(O.url),this.httpHeaders=this.isHttp&&O.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var O;return((O=this._fullRequestReader)==null?void 0:O._loaded)??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new C(this),this._fullRequestReader}getRangeReader(O,$){if($<=this._progressiveDataLength)return null;const D=new T(this,O,$);return this._rangeRequestReaders.push(D),D}cancelAllRequests(O){var $;($=this._fullRequestReader)==null||$.cancel(O);for(const D of this._rangeRequestReaders.slice(0))D.cancel(O)}}o.PDFFetchStream=R;class C{constructor(O){this._stream=O,this._reader=null,this._loaded=0,this._filename=null;const $=O.source;this._withCredentials=$.withCredentials||!1,this._contentLength=$.length,this._headersCapability=new _.PromiseCapability,this._disableRange=$.disableRange||!1,this._rangeChunkSize=$.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!$.disableStream,this._isRangeSupported=!$.disableRange,this._headers=S(this._stream.httpHeaders);const D=$.url;fetch(D,j(this._headers,this._withCredentials,this._abortController)).then(L=>{if(!(0,w.validateResponseStatus)(L.status))throw(0,w.createResponseStatusError)(L.status,D);this._reader=L.body.getReader(),this._headersCapability.resolve();const I=W=>L.headers.get(W),{allowRangeRequests:z,suggestedLength:F}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:I,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=z,this._contentLength=F||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(I),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var D;await this._headersCapability.promise;const{value:O,done:$}=await this._reader.read();return $?{value:O,done:$}:(this._loaded+=O.byteLength,(D=this.onProgress)==null||D.call(this,{loaded:this._loaded,total:this._contentLength}),{value:A(O),done:!1})}cancel(O){var $;($=this._reader)==null||$.cancel(O),this._abortController.abort()}}class T{constructor(O,$,D){this._stream=O,this._reader=null,this._loaded=0;const L=O.source;this._withCredentials=L.withCredentials||!1,this._readCapability=new _.PromiseCapability,this._isStreamingSupported=!L.disableStream,this._abortController=new AbortController,this._headers=S(this._stream.httpHeaders),this._headers.append("Range",`bytes=${$}-${D-1}`);const I=L.url;fetch(I,j(this._headers,this._withCredentials,this._abortController)).then(z=>{if(!(0,w.validateResponseStatus)(z.status))throw(0,w.createResponseStatusError)(z.status,I);this._readCapability.resolve(),this._reader=z.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var D;await this._readCapability.promise;const{value:O,done:$}=await this._reader.read();return $?{value:O,done:$}:(this._loaded+=O.byteLength,(D=this.onProgress)==null||D.call(this,{loaded:this._loaded}),{value:A(O),done:!1})}cancel(O){var $;($=this._reader)==null||$.cancel(O),this._abortController.abort()}}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=R,o.extractFilenameFromHeader=A,o.validateRangeRequestCapabilities=S,o.validateResponseStatus=C;var _=E(1),w=E(21),j=E(6);function S({getResponseHeader:T,isHttp:N,rangeChunkSize:O,disableRange:$}){const D={allowRangeRequests:!1,suggestedLength:void 0},L=parseInt(T("Content-Length"),10);return!Number.isInteger(L)||(D.suggestedLength=L,L<=2*O)||$||!N||T("Accept-Ranges")!=="bytes"||(T("Content-Encoding")||"identity")!=="identity"||(D.allowRangeRequests=!0),D}function A(T){const N=T("Content-Disposition");if(N){let O=(0,w.getFilenameFromContentDispositionHeader)(N);if(O.includes("%"))try{O=decodeURIComponent(O)}catch{}if((0,j.isPdfFile)(O))return O}return null}function R(T,N){return T===404||T===0&&N.startsWith("file:")?new _.MissingPDFException('Missing PDF "'+N+'".'):new _.UnexpectedResponseException(`Unexpected server response (${T}) while retrieving PDF "${N}".`,T)}function C(T){return T===200||T===206}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=w;var _=E(1);function w(j){let S=!0,A=R("filename\\*","i").exec(j);if(A){A=A[1];let L=O(A);return L=unescape(L),L=$(L),L=D(L),T(L)}if(A=N(j),A){const L=D(A);return T(L)}if(A=R("filename","i").exec(j),A){A=A[1];let L=O(A);return L=D(L),T(L)}function R(L,I){return new RegExp("(?:^|;)\\s*"+L+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',I)}function C(L,I){if(L){if(!/^[\x00-\xFF]+$/.test(I))return I;try{const z=new TextDecoder(L,{fatal:!0}),F=(0,_.stringToBytes)(I);I=z.decode(F),S=!1}catch{}}return I}function T(L){return S&&/[\x80-\xff]/.test(L)&&(L=C("utf-8",L),S&&(L=C("iso-8859-1",L))),L}function N(L){const I=[];let z;const F=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(z=F.exec(L))!==null;){let[,H,B,U]=z;if(H=parseInt(H,10),H in I){if(H===0)break;continue}I[H]=[B,U]}const W=[];for(let H=0;H<I.length&&H in I;++H){let[B,U]=I[H];U=O(U),B&&(U=unescape(U),H===0&&(U=$(U))),W.push(U)}return W.join("")}function O(L){if(L.startsWith('"')){const I=L.slice(1).split('\\"');for(let z=0;z<I.length;++z){const F=I[z].indexOf('"');F!==-1&&(I[z]=I[z].slice(0,F),I.length=z+1),I[z]=I[z].replaceAll(/\\(.)/g,"$1")}L=I.join('"')}return L}function $(L){const I=L.indexOf("'");if(I===-1)return L;const z=L.slice(0,I),W=L.slice(I+1).replace(/^[^']*'/,"");return C(z,W)}function D(L){return!L.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(L)?L:L.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(I,z,F,W){if(F==="q"||F==="Q")return W=W.replaceAll("_"," "),W=W.replaceAll(/=([0-9a-fA-F]{2})/g,function(H,B){return String.fromCharCode(parseInt(B,16))}),C(z,W);try{W=atob(W)}catch{}return C(z,W)})}return""}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var _=E(1),w=E(20);const j=200,S=206;function A(O){const $=O.response;return typeof $!="string"?$:(0,_.stringToBytes)($).buffer}class R{constructor($,D={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&D.httpHeaders||Object.create(null),this.withCredentials=D.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,D,L){const I={begin:$,end:D};for(const z in L)I[z]=L[z];return this.request(I)}requestFull($){return this.request($)}request($){const D=new XMLHttpRequest,L=this.currXhrId++,I=this.pendingRequests[L]={xhr:D};D.open("GET",this.url),D.withCredentials=this.withCredentials;for(const z in this.httpHeaders){const F=this.httpHeaders[z];F!==void 0&&D.setRequestHeader(z,F)}return this.isHttp&&"begin"in $&&"end"in $?(D.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),I.expectedStatus=S):I.expectedStatus=j,D.responseType="arraybuffer",$.onError&&(D.onerror=function(z){$.onError(D.status)}),D.onreadystatechange=this.onStateChange.bind(this,L),D.onprogress=this.onProgress.bind(this,L),I.onHeadersReceived=$.onHeadersReceived,I.onDone=$.onDone,I.onError=$.onError,I.onProgress=$.onProgress,D.send(null),L}onProgress($,D){var I;const L=this.pendingRequests[$];L&&((I=L.onProgress)==null||I.call(L,D))}onStateChange($,D){var H,B,U;const L=this.pendingRequests[$];if(!L)return;const I=L.xhr;if(I.readyState>=2&&L.onHeadersReceived&&(L.onHeadersReceived(),delete L.onHeadersReceived),I.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],I.status===0&&this.isHttp){(H=L.onError)==null||H.call(L,I.status);return}const z=I.status||j;if(!(z===j&&L.expectedStatus===S)&&z!==L.expectedStatus){(B=L.onError)==null||B.call(L,I.status);return}const W=A(I);if(z===S){const G=I.getResponseHeader("Content-Range"),V=/bytes (\d+)-(\d+)\/(\d+)/.exec(G);L.onDone({begin:parseInt(V[1],10),chunk:W})}else W?L.onDone({begin:0,chunk:W}):(U=L.onError)==null||U.call(L,I.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const D=this.pendingRequests[$].xhr;delete this.pendingRequests[$],D.abort()}}class C{constructor($){this._source=$,this._manager=new R($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const D=this._rangeRequestReaders.indexOf($);D>=0&&this._rangeRequestReaders.splice(D,1)}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._manager,this._source),this._fullRequestReader}getRangeReader($,D){const L=new N(this._manager,$,D);return L.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(L),L}cancelAllRequests($){var D;(D=this._fullRequestReader)==null||D.cancel($);for(const L of this._rangeRequestReaders.slice(0))L.cancel($)}}o.PDFNetworkStream=C;class T{constructor($,D){this._manager=$;const L={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=D.url,this._fullRequestId=$.requestFull(L),this._headersReceivedCapability=new _.PromiseCapability,this._disableRange=D.disableRange||!1,this._contentLength=D.length,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,D=this._manager.getRequestXhr($),L=F=>D.getResponseHeader(F),{allowRangeRequests:I,suggestedLength:z}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:L,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});I&&(this._isRangeSupported=!0),this._contentLength=z||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(L),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=(0,w.createResponseStatusError)($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const D of this._requests)D.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var D;(D=this.onProgress)==null||D.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=new _.PromiseCapability;return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class N{constructor($,D,L){this._manager=$;const I={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(D,L,I),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const D=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:D,done:!1}):this._queuedChunk=D,this._done=!0;for(const L of this._requests)L.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=(0,w.createResponseStatusError)($,this._url);for(const D of this._requests)D.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var D;this.isStreamingSupported||(D=this.onProgress)==null||D.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const D=this._queuedChunk;return this._queuedChunk=null,{value:D,done:!1}}if(this._done)return{value:void 0,done:!0};const $=new _.PromiseCapability;return this._requests.push($),$.promise}cancel($){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var _=E(1),w=E(20);const j=/^file:\/\/\/[a-zA-Z]:\//;function S(L){const I=require$$5,z=I.parse(L);return z.protocol==="file:"||z.host?z:/^[a-z]:[/\\]/i.test(L)?I.parse(`file:///${L}`):(z.host||(z.protocol="file:"),z)}class A{constructor(I){this.source=I,this.url=S(I.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&I.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var I;return((I=this._fullRequestReader)==null?void 0:I._loaded)??0}getFullReader(){return(0,_.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $(this):new N(this),this._fullRequestReader}getRangeReader(I,z){if(z<=this._progressiveDataLength)return null;const F=this.isFsUrl?new D(this,I,z):new O(this,I,z);return this._rangeRequestReaders.push(F),F}cancelAllRequests(I){var z;(z=this._fullRequestReader)==null||z.cancel(I);for(const F of this._rangeRequestReaders.slice(0))F.cancel(I)}}o.PDFNodeStream=A;class R{constructor(I){this._url=I.url,this._done=!1,this._storedError=null,this.onProgress=null;const z=I.source;this._contentLength=z.length,this._loaded=0,this._filename=null,this._disableRange=z.disableRange||!1,this._rangeChunkSize=z.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!z.disableStream,this._isRangeSupported=!z.disableRange,this._readableStream=null,this._readCapability=new _.PromiseCapability,this._headersCapability=new _.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var F;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const I=this._readableStream.read();return I===null?(this._readCapability=new _.PromiseCapability,this.read()):(this._loaded+=I.length,(F=this.onProgress)==null||F.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(I).buffer,done:!1})}cancel(I){if(!this._readableStream){this._error(I);return}this._readableStream.destroy(I)}_error(I){this._storedError=I,this._readCapability.resolve()}_setReadableStream(I){this._readableStream=I,I.on("readable",()=>{this._readCapability.resolve()}),I.on("end",()=>{I.destroy(),this._done=!0,this._readCapability.resolve()}),I.on("error",z=>{this._error(z)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C{constructor(I){this._url=I.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new _.PromiseCapability;const z=I.source;this._isStreamingSupported=!z.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var F;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const I=this._readableStream.read();return I===null?(this._readCapability=new _.PromiseCapability,this.read()):(this._loaded+=I.length,(F=this.onProgress)==null||F.call(this,{loaded:this._loaded}),{value:new Uint8Array(I).buffer,done:!1})}cancel(I){if(!this._readableStream){this._error(I);return}this._readableStream.destroy(I)}_error(I){this._storedError=I,this._readCapability.resolve()}_setReadableStream(I){this._readableStream=I,I.on("readable",()=>{this._readCapability.resolve()}),I.on("end",()=>{I.destroy(),this._done=!0,this._readCapability.resolve()}),I.on("error",z=>{this._error(z)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function T(L,I){return{protocol:L.protocol,auth:L.auth,host:L.hostname,port:L.port,path:L.path,method:"GET",headers:I}}class N extends R{constructor(I){super(I);const z=F=>{if(F.statusCode===404){const U=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=U,this._headersCapability.reject(U);return}this._headersCapability.resolve(),this._setReadableStream(F);const W=U=>this._readableStream.headers[U.toLowerCase()],{allowRangeRequests:H,suggestedLength:B}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:W,isHttp:I.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=H,this._contentLength=B||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(W)};if(this._request=null,this._url.protocol==="http:"){const F=require$$5;this._request=F.request(T(this._url,I.httpHeaders),z)}else{const F=require$$5;this._request=F.request(T(this._url,I.httpHeaders),z)}this._request.on("error",F=>{this._storedError=F,this._headersCapability.reject(F)}),this._request.end()}}class O extends C{constructor(I,z,F){super(I),this._httpHeaders={};for(const H in I.httpHeaders){const B=I.httpHeaders[H];B!==void 0&&(this._httpHeaders[H]=B)}this._httpHeaders.Range=`bytes=${z}-${F-1}`;const W=H=>{if(H.statusCode===404){const B=new _.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=B;return}this._setReadableStream(H)};if(this._request=null,this._url.protocol==="http:"){const H=require$$5;this._request=H.request(T(this._url,this._httpHeaders),W)}else{const H=require$$5;this._request=H.request(T(this._url,this._httpHeaders),W)}this._request.on("error",H=>{this._storedError=H}),this._request.end()}}class $ extends R{constructor(I){super(I);let z=decodeURIComponent(this._url.path);j.test(this._url.href)&&(z=z.replace(/^\//,""));const F=require$$5;F.lstat(z,(W,H)=>{if(W){W.code==="ENOENT"&&(W=new _.MissingPDFException(`Missing PDF "${z}".`)),this._storedError=W,this._headersCapability.reject(W);return}this._contentLength=H.size,this._setReadableStream(F.createReadStream(z)),this._headersCapability.resolve()})}}class D extends C{constructor(I,z,F){super(I);let W=decodeURIComponent(this._url.path);j.test(this._url.href)&&(W=W.replace(/^\//,""));const H=require$$5;this._setReadableStream(H.createReadStream(W,{start:z,end:F-1}))}}},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var _=E(6),w=E(1);const j={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},S="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",R=["butt","round","square"],C=["miter","round","bevel"],T=function(H,B="",U=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!U)return URL.createObjectURL(new Blob([H],{type:B}));const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let V=`data:${B};base64,`;for(let K=0,je=H.length;K<je;K+=3){const Z=H[K]&255,fe=H[K+1]&255,Ae=H[K+2]&255,Oe=Z>>2,Pe=(Z&3)<<4|fe>>4,Ne=K+1<je?(fe&15)<<2|Ae>>6:64,Ce=K+2<je?Ae&63:64;V+=G[Oe]+G[Pe]+G[Ne]+G[Ce]}return V},N=function(){const H=new Uint8Array([137,80,78,71,13,10,26,10]),B=12,U=new Int32Array(256);for(let Ae=0;Ae<256;Ae++){let Oe=Ae;for(let Pe=0;Pe<8;Pe++)Oe=Oe&1?3988292384^Oe>>1&2147483647:Oe>>1&2147483647;U[Ae]=Oe}function G(Ae,Oe,Pe){let Ne=-1;for(let Ce=Oe;Ce<Pe;Ce++){const Me=(Ne^Ae[Ce])&255,Q=U[Me];Ne=Ne>>>8^Q}return Ne^-1}function V(Ae,Oe,Pe,Ne){let Ce=Ne;const Me=Oe.length;Pe[Ce]=Me>>24&255,Pe[Ce+1]=Me>>16&255,Pe[Ce+2]=Me>>8&255,Pe[Ce+3]=Me&255,Ce+=4,Pe[Ce]=Ae.charCodeAt(0)&255,Pe[Ce+1]=Ae.charCodeAt(1)&255,Pe[Ce+2]=Ae.charCodeAt(2)&255,Pe[Ce+3]=Ae.charCodeAt(3)&255,Ce+=4,Pe.set(Oe,Ce),Ce+=Oe.length;const Q=G(Pe,Ne+4,Ce);Pe[Ce]=Q>>24&255,Pe[Ce+1]=Q>>16&255,Pe[Ce+2]=Q>>8&255,Pe[Ce+3]=Q&255}function K(Ae,Oe,Pe){let Ne=1,Ce=0;for(let Me=Oe;Me<Pe;++Me)Ne=(Ne+(Ae[Me]&255))%65521,Ce=(Ce+Ne)%65521;return Ce<<16|Ne}function je(Ae){if(!w.isNodeJS)return Z(Ae);try{const Oe=parseInt(process.versions.node)>=8?Ae:Buffer.from(Ae),Pe=require$$5.deflateSync(Oe,{level:9});return Pe instanceof Uint8Array?Pe:new Uint8Array(Pe)}catch(Oe){(0,w.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Oe)}return Z(Ae)}function Z(Ae){let Oe=Ae.length;const Pe=65535,Ne=Math.ceil(Oe/Pe),Ce=new Uint8Array(2+Oe+Ne*5+4);let Me=0;Ce[Me++]=120,Ce[Me++]=156;let Q=0;for(;Oe>Pe;)Ce[Me++]=0,Ce[Me++]=255,Ce[Me++]=255,Ce[Me++]=0,Ce[Me++]=0,Ce.set(Ae.subarray(Q,Q+Pe),Me),Me+=Pe,Q+=Pe,Oe-=Pe;Ce[Me++]=1,Ce[Me++]=Oe&255,Ce[Me++]=Oe>>8&255,Ce[Me++]=~Oe&65535&255,Ce[Me++]=(~Oe&65535)>>8&255,Ce.set(Ae.subarray(Q),Me),Me+=Ae.length-Q;const Re=K(Ae,0,Ae.length);return Ce[Me++]=Re>>24&255,Ce[Me++]=Re>>16&255,Ce[Me++]=Re>>8&255,Ce[Me++]=Re&255,Ce}function fe(Ae,Oe,Pe,Ne){const Ce=Ae.width,Me=Ae.height;let Q,Re,ke;const _e=Ae.data;switch(Oe){case w.ImageKind.GRAYSCALE_1BPP:Re=0,Q=1,ke=Ce+7>>3;break;case w.ImageKind.RGB_24BPP:Re=2,Q=8,ke=Ce*3;break;case w.ImageKind.RGBA_32BPP:Re=6,Q=8,ke=Ce*4;break;default:throw new Error("invalid format")}const Y=new Uint8Array((1+ke)*Me);let J=0,Se=0;for(let He=0;He<Me;++He)Y[J++]=0,Y.set(_e.subarray(Se,Se+ke),J),Se+=ke,J+=ke;if(Oe===w.ImageKind.GRAYSCALE_1BPP&&Ne){J=0;for(let He=0;He<Me;He++){J++;for(let We=0;We<ke;We++)Y[J++]^=255}}const Ie=new Uint8Array([Ce>>24&255,Ce>>16&255,Ce>>8&255,Ce&255,Me>>24&255,Me>>16&255,Me>>8&255,Me&255,Q,Re,0,0,0]),$e=je(Y),De=H.length+B*3+Ie.length+$e.length,Be=new Uint8Array(De);let Le=0;return Be.set(H,Le),Le+=H.length,V("IHDR",Ie,Be,Le),Le+=B+Ie.length,V("IDATA",$e,Be,Le),Le+=B+$e.length,V("IEND",new Uint8Array(0),Be,Le),T(Be,"image/png",Pe)}return function(Oe,Pe,Ne){const Ce=Oe.kind===void 0?w.ImageKind.GRAYSCALE_1BPP:Oe.kind;return fe(Oe,Ce,Pe,Ne)}}();class O{constructor(){this.fontSizeScale=1,this.fontWeight=j.fontWeight,this.fontSize=0,this.textMatrix=w.IDENTITY_MATRIX,this.fontMatrix=w.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=w.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(B,U){this.x=B,this.y=U}}function $(H){let B=[];const U=[];for(const G of H){if(G.fn==="save"){B.push({fnId:92,fn:"group",items:[]}),U.push(B),B=B.at(-1).items;continue}G.fn==="restore"?B=U.pop():B.push(G)}return B}function D(H){if(Number.isInteger(H))return H.toString();const B=H.toFixed(10);let U=B.length-1;if(B[U]!=="0")return B;do U--;while(B[U]==="0");return B.substring(0,B[U]==="."?U:U+1)}function L(H){if(H[4]===0&&H[5]===0){if(H[1]===0&&H[2]===0)return H[0]===1&&H[3]===1?"":`scale(${D(H[0])} ${D(H[3])})`;if(H[0]===H[3]&&H[1]===-H[2]){const B=Math.acos(H[0])*180/Math.PI;return`rotate(${D(B)})`}}else if(H[0]===1&&H[1]===0&&H[2]===0&&H[3]===1)return`translate(${D(H[4])} ${D(H[5])})`;return`matrix(${D(H[0])} ${D(H[1])} ${D(H[2])} ${D(H[3])} ${D(H[4])} ${D(H[5])})`}let I=0,z=0,F=0;class W{constructor(B,U,G=!1){(0,_.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _.DOMSVGFactory,this.current=new O,this.transformMatrix=w.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=B,this.objs=U,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!G,this._operatorIdMapping=[];for(const V in w.OPS)this._operatorIdMapping[w.OPS[V]]=V}getObject(B,U=null){return typeof B=="string"?B.startsWith("g_")?this.commonObjs.get(B):this.objs.get(B):U}save(){this.transformStack.push(this.transformMatrix);const B=this.current;this.extraStack.push(B),this.current=B.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(B){this.save(),this.executeOpTree(B),this.restore()}loadDependencies(B){const U=B.fnArray,G=B.argsArray;for(let V=0,K=U.length;V<K;V++)if(U[V]===w.OPS.dependency)for(const je of G[V]){const Z=je.startsWith("g_")?this.commonObjs:this.objs,fe=new Promise(Ae=>{Z.get(je,Ae)});this.current.dependencies.push(fe)}return Promise.all(this.current.dependencies)}transform(B,U,G,V,K,je){const Z=[B,U,G,V,K,je];this.transformMatrix=w.Util.transform(this.transformMatrix,Z),this.tgrp=null}getSVG(B,U){this.viewport=U;const G=this._initialize(U);return this.loadDependencies(B).then(()=>(this.transformMatrix=w.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(B)),G))}convertOpList(B){const U=this._operatorIdMapping,G=B.argsArray,V=B.fnArray,K=[];for(let je=0,Z=V.length;je<Z;je++){const fe=V[je];K.push({fnId:fe,fn:U[fe],args:G[je]})}return $(K)}executeOpTree(B){for(const U of B){const G=U.fn,V=U.fnId,K=U.args;switch(V|0){case w.OPS.beginText:this.beginText();break;case w.OPS.dependency:break;case w.OPS.setLeading:this.setLeading(K);break;case w.OPS.setLeadingMoveText:this.setLeadingMoveText(K[0],K[1]);break;case w.OPS.setFont:this.setFont(K);break;case w.OPS.showText:this.showText(K[0]);break;case w.OPS.showSpacedText:this.showText(K[0]);break;case w.OPS.endText:this.endText();break;case w.OPS.moveText:this.moveText(K[0],K[1]);break;case w.OPS.setCharSpacing:this.setCharSpacing(K[0]);break;case w.OPS.setWordSpacing:this.setWordSpacing(K[0]);break;case w.OPS.setHScale:this.setHScale(K[0]);break;case w.OPS.setTextMatrix:this.setTextMatrix(K[0],K[1],K[2],K[3],K[4],K[5]);break;case w.OPS.setTextRise:this.setTextRise(K[0]);break;case w.OPS.setTextRenderingMode:this.setTextRenderingMode(K[0]);break;case w.OPS.setLineWidth:this.setLineWidth(K[0]);break;case w.OPS.setLineJoin:this.setLineJoin(K[0]);break;case w.OPS.setLineCap:this.setLineCap(K[0]);break;case w.OPS.setMiterLimit:this.setMiterLimit(K[0]);break;case w.OPS.setFillRGBColor:this.setFillRGBColor(K[0],K[1],K[2]);break;case w.OPS.setStrokeRGBColor:this.setStrokeRGBColor(K[0],K[1],K[2]);break;case w.OPS.setStrokeColorN:this.setStrokeColorN(K);break;case w.OPS.setFillColorN:this.setFillColorN(K);break;case w.OPS.shadingFill:this.shadingFill(K[0]);break;case w.OPS.setDash:this.setDash(K[0],K[1]);break;case w.OPS.setRenderingIntent:this.setRenderingIntent(K[0]);break;case w.OPS.setFlatness:this.setFlatness(K[0]);break;case w.OPS.setGState:this.setGState(K[0]);break;case w.OPS.fill:this.fill();break;case w.OPS.eoFill:this.eoFill();break;case w.OPS.stroke:this.stroke();break;case w.OPS.fillStroke:this.fillStroke();break;case w.OPS.eoFillStroke:this.eoFillStroke();break;case w.OPS.clip:this.clip("nonzero");break;case w.OPS.eoClip:this.clip("evenodd");break;case w.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case w.OPS.paintImageXObject:this.paintImageXObject(K[0]);break;case w.OPS.paintInlineImageXObject:this.paintInlineImageXObject(K[0]);break;case w.OPS.paintImageMaskXObject:this.paintImageMaskXObject(K[0]);break;case w.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(K[0],K[1]);break;case w.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case w.OPS.closePath:this.closePath();break;case w.OPS.closeStroke:this.closeStroke();break;case w.OPS.closeFillStroke:this.closeFillStroke();break;case w.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case w.OPS.nextLine:this.nextLine();break;case w.OPS.transform:this.transform(K[0],K[1],K[2],K[3],K[4],K[5]);break;case w.OPS.constructPath:this.constructPath(K[0],K[1]);break;case w.OPS.endPath:this.endPath();break;case 92:this.group(U.items);break;default:(0,w.warn)(`Unimplemented operator ${G}`);break}}}setWordSpacing(B){this.current.wordSpacing=B}setCharSpacing(B){this.current.charSpacing=B}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(B,U,G,V,K,je){const Z=this.current;Z.textMatrix=Z.lineMatrix=[B,U,G,V,K,je],Z.textMatrixScale=Math.hypot(B,U),Z.x=Z.lineX=0,Z.y=Z.lineY=0,Z.xcoords=[],Z.ycoords=[],Z.tspan=this.svgFactory.createElement("svg:tspan"),Z.tspan.setAttributeNS(null,"font-family",Z.fontFamily),Z.tspan.setAttributeNS(null,"font-size",`${D(Z.fontSize)}px`),Z.tspan.setAttributeNS(null,"y",D(-Z.y)),Z.txtElement=this.svgFactory.createElement("svg:text"),Z.txtElement.append(Z.tspan)}beginText(){const B=this.current;B.x=B.lineX=0,B.y=B.lineY=0,B.textMatrix=w.IDENTITY_MATRIX,B.lineMatrix=w.IDENTITY_MATRIX,B.textMatrixScale=1,B.tspan=this.svgFactory.createElement("svg:tspan"),B.txtElement=this.svgFactory.createElement("svg:text"),B.txtgrp=this.svgFactory.createElement("svg:g"),B.xcoords=[],B.ycoords=[]}moveText(B,U){const G=this.current;G.x=G.lineX+=B,G.y=G.lineY+=U,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${D(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",D(-G.y))}showText(B){const U=this.current,G=U.font,V=U.fontSize;if(V===0)return;const K=U.fontSizeScale,je=U.charSpacing,Z=U.wordSpacing,fe=U.fontDirection,Ae=U.textHScale*fe,Oe=G.vertical,Pe=Oe?1:-1,Ne=G.defaultVMetrics,Ce=V*U.fontMatrix[0];let Me=0;for(const ke of B){if(ke===null){Me+=fe*Z;continue}else if(typeof ke=="number"){Me+=Pe*ke*V/1e3;continue}const _e=(ke.isSpace?Z:0)+je,Y=ke.fontChar;let J,Se,Ie=ke.width;if(Oe){let De;const Be=ke.vmetric||Ne;De=ke.vmetric?Be[1]:Ie*.5,De=-De*Ce;const Le=Be[2]*Ce;Ie=Be?-Be[0]:Ie,J=De/K,Se=(Me+Le)/K}else J=Me/K,Se=0;(ke.isInFont||G.missingFile)&&(U.xcoords.push(U.x+J),Oe&&U.ycoords.push(-U.y+Se),U.tspan.textContent+=Y);const $e=Oe?Ie*Ce-_e*fe:Ie*Ce+_e*fe;Me+=$e}U.tspan.setAttributeNS(null,"x",U.xcoords.map(D).join(" ")),Oe?U.tspan.setAttributeNS(null,"y",U.ycoords.map(D).join(" ")):U.tspan.setAttributeNS(null,"y",D(-U.y)),Oe?U.y-=Me:U.x+=Me*Ae,U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${D(U.fontSize)}px`),U.fontStyle!==j.fontStyle&&U.tspan.setAttributeNS(null,"font-style",U.fontStyle),U.fontWeight!==j.fontWeight&&U.tspan.setAttributeNS(null,"font-weight",U.fontWeight);const Q=U.textRenderingMode&w.TextRenderingMode.FILL_STROKE_MASK;if(Q===w.TextRenderingMode.FILL||Q===w.TextRenderingMode.FILL_STROKE?(U.fillColor!==j.fillColor&&U.tspan.setAttributeNS(null,"fill",U.fillColor),U.fillAlpha<1&&U.tspan.setAttributeNS(null,"fill-opacity",U.fillAlpha)):U.textRenderingMode===w.TextRenderingMode.ADD_TO_PATH?U.tspan.setAttributeNS(null,"fill","transparent"):U.tspan.setAttributeNS(null,"fill","none"),Q===w.TextRenderingMode.STROKE||Q===w.TextRenderingMode.FILL_STROKE){const ke=1/(U.textMatrixScale||1);this._setStrokeAttributes(U.tspan,ke)}let Re=U.textMatrix;U.textRise!==0&&(Re=Re.slice(),Re[5]+=U.textRise),U.txtElement.setAttributeNS(null,"transform",`${L(Re)} scale(${D(Ae)}, -1)`),U.txtElement.setAttributeNS(S,"xml:space","preserve"),U.txtElement.append(U.tspan),U.txtgrp.append(U.txtElement),this._ensureTransformGroup().append(U.txtElement)}setLeadingMoveText(B,U){this.setLeading(-U),this.moveText(B,U)}addFontStyle(B){if(!B.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const U=T(B.data,B.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${B.loadedName}"; src: url(${U}); }
`}setFont(B){const U=this.current,G=this.commonObjs.get(B[0]);let V=B[1];U.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),U.fontMatrix=G.fontMatrix||w.FONT_IDENTITY_MATRIX;let K="normal";G.black?K="900":G.bold&&(K="bold");const je=G.italic?"italic":"normal";V<0?(V=-V,U.fontDirection=-1):U.fontDirection=1,U.fontSize=V,U.fontFamily=G.loadedName,U.fontWeight=K,U.fontStyle=je,U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"y",D(-U.y)),U.xcoords=[],U.ycoords=[]}endText(){var U;const B=this.current;B.textRenderingMode&w.TextRenderingMode.ADD_TO_PATH_FLAG&&((U=B.txtElement)!=null&&U.hasChildNodes())&&(B.element=B.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(B){B>0&&(this.current.lineWidth=B)}setLineCap(B){this.current.lineCap=R[B]}setLineJoin(B){this.current.lineJoin=C[B]}setMiterLimit(B){this.current.miterLimit=B}setStrokeAlpha(B){this.current.strokeAlpha=B}setStrokeRGBColor(B,U,G){this.current.strokeColor=w.Util.makeHexColor(B,U,G)}setFillAlpha(B){this.current.fillAlpha=B}setFillRGBColor(B,U,G){this.current.fillColor=w.Util.makeHexColor(B,U,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(B){this.current.strokeColor=this._makeColorN_Pattern(B)}setFillColorN(B){this.current.fillColor=this._makeColorN_Pattern(B)}shadingFill(B){const{width:U,height:G}=this.viewport,V=w.Util.inverseTransform(this.transformMatrix),[K,je,Z,fe]=w.Util.getAxialAlignedBoundingBox([0,0,U,G],V),Ae=this.svgFactory.createElement("svg:rect");Ae.setAttributeNS(null,"x",K),Ae.setAttributeNS(null,"y",je),Ae.setAttributeNS(null,"width",Z-K),Ae.setAttributeNS(null,"height",fe-je),Ae.setAttributeNS(null,"fill",this._makeShadingPattern(B)),this.current.fillAlpha<1&&Ae.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ae)}_makeColorN_Pattern(B){return B[0]==="TilingPattern"?this._makeTilingPattern(B):this._makeShadingPattern(B)}_makeTilingPattern(B){const U=B[1],G=B[2],V=B[3]||w.IDENTITY_MATRIX,[K,je,Z,fe]=B[4],Ae=B[5],Oe=B[6],Pe=B[7],Ne=`shading${F++}`,[Ce,Me,Q,Re]=w.Util.normalizeRect([...w.Util.applyTransform([K,je],V),...w.Util.applyTransform([Z,fe],V)]),[ke,_e]=w.Util.singularValueDecompose2dScale(V),Y=Ae*ke,J=Oe*_e,Se=this.svgFactory.createElement("svg:pattern");Se.setAttributeNS(null,"id",Ne),Se.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Se.setAttributeNS(null,"width",Y),Se.setAttributeNS(null,"height",J),Se.setAttributeNS(null,"x",`${Ce}`),Se.setAttributeNS(null,"y",`${Me}`);const Ie=this.svg,$e=this.transformMatrix,De=this.current.fillColor,Be=this.current.strokeColor,Le=this.svgFactory.create(Q-Ce,Re-Me);if(this.svg=Le,this.transformMatrix=V,Pe===2){const He=w.Util.makeHexColor(...U);this.current.fillColor=He,this.current.strokeColor=He}return this.executeOpTree(this.convertOpList(G)),this.svg=Ie,this.transformMatrix=$e,this.current.fillColor=De,this.current.strokeColor=Be,Se.append(Le.childNodes[0]),this.defs.append(Se),`url(#${Ne})`}_makeShadingPattern(B){switch(typeof B=="string"&&(B=this.objs.get(B)),B[0]){case"RadialAxial":const U=`shading${F++}`,G=B[3];let V;switch(B[1]){case"axial":const K=B[4],je=B[5];V=this.svgFactory.createElement("svg:linearGradient"),V.setAttributeNS(null,"id",U),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"x1",K[0]),V.setAttributeNS(null,"y1",K[1]),V.setAttributeNS(null,"x2",je[0]),V.setAttributeNS(null,"y2",je[1]);break;case"radial":const Z=B[4],fe=B[5],Ae=B[6],Oe=B[7];V=this.svgFactory.createElement("svg:radialGradient"),V.setAttributeNS(null,"id",U),V.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),V.setAttributeNS(null,"cx",fe[0]),V.setAttributeNS(null,"cy",fe[1]),V.setAttributeNS(null,"r",Oe),V.setAttributeNS(null,"fx",Z[0]),V.setAttributeNS(null,"fy",Z[1]),V.setAttributeNS(null,"fr",Ae);break;default:throw new Error(`Unknown RadialAxial type: ${B[1]}`)}for(const K of G){const je=this.svgFactory.createElement("svg:stop");je.setAttributeNS(null,"offset",K[0]),je.setAttributeNS(null,"stop-color",K[1]),V.append(je)}return this.defs.append(V),`url(#${U})`;case"Mesh":return(0,w.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${B[0]}`)}}setDash(B,U){this.current.dashArray=B,this.current.dashPhase=U}constructPath(B,U){const G=this.current;let V=G.x,K=G.y,je=[],Z=0;for(const fe of B)switch(fe|0){case w.OPS.rectangle:V=U[Z++],K=U[Z++];const Ae=U[Z++],Oe=U[Z++],Pe=V+Ae,Ne=K+Oe;je.push("M",D(V),D(K),"L",D(Pe),D(K),"L",D(Pe),D(Ne),"L",D(V),D(Ne),"Z");break;case w.OPS.moveTo:V=U[Z++],K=U[Z++],je.push("M",D(V),D(K));break;case w.OPS.lineTo:V=U[Z++],K=U[Z++],je.push("L",D(V),D(K));break;case w.OPS.curveTo:V=U[Z+4],K=U[Z+5],je.push("C",D(U[Z]),D(U[Z+1]),D(U[Z+2]),D(U[Z+3]),D(V),D(K)),Z+=6;break;case w.OPS.curveTo2:je.push("C",D(V),D(K),D(U[Z]),D(U[Z+1]),D(U[Z+2]),D(U[Z+3])),V=U[Z+2],K=U[Z+3],Z+=4;break;case w.OPS.curveTo3:V=U[Z+2],K=U[Z+3],je.push("C",D(U[Z]),D(U[Z+1]),D(V),D(K),D(V),D(K)),Z+=4;break;case w.OPS.closePath:je.push("Z");break}je=je.join(" "),G.path&&B.length>0&&B[0]!==w.OPS.rectangle&&B[0]!==w.OPS.moveTo?je=G.path.getAttributeNS(null,"d")+je:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(G.path)),G.path.setAttributeNS(null,"d",je),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint(V,K)}endPath(){const B=this.current;if(B.path=null,!this.pendingClip)return;if(!B.element){this.pendingClip=null;return}const U=`clippath${I++}`,G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",U),G.setAttributeNS(null,"transform",L(this.transformMatrix));const V=B.element.cloneNode(!0);if(this.pendingClip==="evenodd"?V.setAttributeNS(null,"clip-rule","evenodd"):V.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,G.append(V),this.defs.append(G),B.activeClipUrl){B.clipGroup=null;for(const K of this.extraStack)K.clipGroup=null;G.setAttributeNS(null,"clip-path",B.activeClipUrl)}B.activeClipUrl=`url(#${U})`,this.tgrp=null}clip(B){this.pendingClip=B}closePath(){const B=this.current;if(B.path){const U=`${B.path.getAttributeNS(null,"d")}Z`;B.path.setAttributeNS(null,"d",U)}}setLeading(B){this.current.leading=-B}setTextRise(B){this.current.textRise=B}setTextRenderingMode(B){this.current.textRenderingMode=B}setHScale(B){this.current.textHScale=B/100}setRenderingIntent(B){}setFlatness(B){}setGState(B){for(const[U,G]of B)switch(U){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G);break;case"CA":this.setStrokeAlpha(G);break;case"ca":this.setFillAlpha(G);break;default:(0,w.warn)(`Unimplemented graphic state operator ${U}`);break}}fill(){const B=this.current;B.element&&(B.element.setAttributeNS(null,"fill",B.fillColor),B.element.setAttributeNS(null,"fill-opacity",B.fillAlpha),this.endPath())}stroke(){const B=this.current;B.element&&(this._setStrokeAttributes(B.element),B.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(B,U=1){const G=this.current;let V=G.dashArray;U!==1&&V.length>0&&(V=V.map(function(K){return U*K})),B.setAttributeNS(null,"stroke",G.strokeColor),B.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),B.setAttributeNS(null,"stroke-miterlimit",D(G.miterLimit)),B.setAttributeNS(null,"stroke-linecap",G.lineCap),B.setAttributeNS(null,"stroke-linejoin",G.lineJoin),B.setAttributeNS(null,"stroke-width",D(U*G.lineWidth)+"px"),B.setAttributeNS(null,"stroke-dasharray",V.map(D).join(" ")),B.setAttributeNS(null,"stroke-dashoffset",D(U*G.dashPhase)+"px")}eoFill(){var B;(B=this.current.element)==null||B.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var B;(B=this.current.element)==null||B.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y","0"),B.setAttributeNS(null,"width","1px"),B.setAttributeNS(null,"height","1px"),B.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(B)}paintImageXObject(B){const U=this.getObject(B);if(!U){(0,w.warn)(`Dependent image with object ID ${B} is not ready yet`);return}this.paintInlineImageXObject(U)}paintInlineImageXObject(B,U){const G=B.width,V=B.height,K=N(B,this.forceDataSchema,!!U),je=this.svgFactory.createElement("svg:rect");je.setAttributeNS(null,"x","0"),je.setAttributeNS(null,"y","0"),je.setAttributeNS(null,"width",D(G)),je.setAttributeNS(null,"height",D(V)),this.current.element=je,this.clip("nonzero");const Z=this.svgFactory.createElement("svg:image");Z.setAttributeNS(A,"xlink:href",K),Z.setAttributeNS(null,"x","0"),Z.setAttributeNS(null,"y",D(-V)),Z.setAttributeNS(null,"width",D(G)+"px"),Z.setAttributeNS(null,"height",D(V)+"px"),Z.setAttributeNS(null,"transform",`scale(${D(1/G)} ${D(-1/V)})`),U?U.append(Z):this._ensureTransformGroup().append(Z)}paintImageMaskXObject(B){const U=this.getObject(B.data,B);if(U.bitmap){(0,w.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const G=this.current,V=U.width,K=U.height,je=G.fillColor;G.maskId=`mask${z++}`;const Z=this.svgFactory.createElement("svg:mask");Z.setAttributeNS(null,"id",G.maskId);const fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",D(V)),fe.setAttributeNS(null,"height",D(K)),fe.setAttributeNS(null,"fill",je),fe.setAttributeNS(null,"mask",`url(#${G.maskId})`),this.defs.append(Z),this._ensureTransformGroup().append(fe),this.paintInlineImageXObject(U,Z)}paintFormXObjectBegin(B,U){if(Array.isArray(B)&&B.length===6&&this.transform(B[0],B[1],B[2],B[3],B[4],B[5]),U){const G=U[2]-U[0],V=U[3]-U[1],K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",U[0]),K.setAttributeNS(null,"y",U[1]),K.setAttributeNS(null,"width",D(G)),K.setAttributeNS(null,"height",D(V)),this.current.element=K,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(B){const U=this.svgFactory.create(B.width,B.height),G=this.svgFactory.createElement("svg:defs");U.append(G),this.defs=G;const V=this.svgFactory.createElement("svg:g");return V.setAttributeNS(null,"transform",L(B.transform)),U.append(V),this.svg=V,U}_ensureClipGroup(){if(!this.current.clipGroup){const B=this.svgFactory.createElement("svg:g");B.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(B),this.current.clipGroup=B}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}o.SVGGraphics=W},(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class E{static textContent(w){const j=[],S={items:j,styles:Object.create(null)};function A(R){var N;if(!R)return;let C=null;const T=R.name;if(T==="#text")C=R.value;else if(E.shouldBuildText(T))(N=R==null?void 0:R.attributes)!=null&&N.textContent?C=R.attributes.textContent:R.value&&(C=R.value);else return;if(C!==null&&j.push({str:C}),!!R.children)for(const O of R.children)A(O)}return A(w),S}static shouldBuildText(w){return!(w==="textarea"||w==="input"||w==="option"||w==="select")}}o.XfaText=E},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=L,o.updateTextLayer=I;var _=E(1),w=E(6);const j=1e5,S=30,A=.8,R=new Map;function C(z,F){let W;if(F&&_.FeatureTest.isOffscreenCanvasSupported)W=new OffscreenCanvas(z,z).getContext("2d",{alpha:!1});else{const H=document.createElement("canvas");H.width=H.height=z,W=H.getContext("2d",{alpha:!1})}return W}function T(z,F){const W=R.get(z);if(W)return W;const H=C(S,F);H.font=`${S}px ${z}`;const B=H.measureText("");let U=B.fontBoundingBoxAscent,G=Math.abs(B.fontBoundingBoxDescent);if(U){const K=U/(U+G);return R.set(z,K),H.canvas.width=H.canvas.height=0,K}H.strokeStyle="red",H.clearRect(0,0,S,S),H.strokeText("g",0,0);let V=H.getImageData(0,0,S,S).data;G=0;for(let K=V.length-1-3;K>=0;K-=4)if(V[K]>0){G=Math.ceil(K/4/S);break}H.clearRect(0,0,S,S),H.strokeText("A",0,S),V=H.getImageData(0,0,S,S).data,U=0;for(let K=0,je=V.length;K<je;K+=4)if(V[K]>0){U=S-Math.floor(K/4/S);break}if(H.canvas.width=H.canvas.height=0,U){const K=U/(U+G);return R.set(z,K),K}return R.set(z,A),A}function N(z,F,W){const H=document.createElement("span"),B={angle:0,canvasWidth:0,hasText:F.str!=="",hasEOL:F.hasEOL,fontSize:0};z._textDivs.push(H);const U=_.Util.transform(z._transform,F.transform);let G=Math.atan2(U[1],U[0]);const V=W[F.fontName];V.vertical&&(G+=Math.PI/2);const K=Math.hypot(U[2],U[3]),je=K*T(V.fontFamily,z._isOffscreenCanvasSupported);let Z,fe;G===0?(Z=U[4],fe=U[5]-je):(Z=U[4]+je*Math.sin(G),fe=U[5]-je*Math.cos(G));const Ae="calc(var(--scale-factor)*",Oe=H.style;z._container===z._rootContainer?(Oe.left=`${(100*Z/z._pageWidth).toFixed(2)}%`,Oe.top=`${(100*fe/z._pageHeight).toFixed(2)}%`):(Oe.left=`${Ae}${Z.toFixed(2)}px)`,Oe.top=`${Ae}${fe.toFixed(2)}px)`),Oe.fontSize=`${Ae}${K.toFixed(2)}px)`,Oe.fontFamily=V.fontFamily,B.fontSize=K,H.setAttribute("role","presentation"),H.textContent=F.str,H.dir=F.dir,z._fontInspectorEnabled&&(H.dataset.fontName=F.fontName),G!==0&&(B.angle=G*(180/Math.PI));let Pe=!1;if(F.str.length>1)Pe=!0;else if(F.str!==" "&&F.transform[0]!==F.transform[3]){const Ne=Math.abs(F.transform[0]),Ce=Math.abs(F.transform[3]);Ne!==Ce&&Math.max(Ne,Ce)/Math.min(Ne,Ce)>1.5&&(Pe=!0)}Pe&&(B.canvasWidth=V.vertical?F.height:F.width),z._textDivProperties.set(H,B),z._isReadableStream&&z._layoutText(H)}function O(z){const{div:F,scale:W,properties:H,ctx:B,prevFontSize:U,prevFontFamily:G}=z,{style:V}=F;let K="";if(H.canvasWidth!==0&&H.hasText){const{fontFamily:je}=V,{canvasWidth:Z,fontSize:fe}=H;(U!==fe||G!==je)&&(B.font=`${fe*W}px ${je}`,z.prevFontSize=fe,z.prevFontFamily=je);const{width:Ae}=B.measureText(F.textContent);Ae>0&&(K=`scaleX(${Z*W/Ae})`)}H.angle!==0&&(K=`rotate(${H.angle}deg) ${K}`),K.length>0&&(V.transform=K)}function $(z){if(z._canceled)return;const F=z._textDivs,W=z._capability;if(F.length>j){W.resolve();return}if(!z._isReadableStream)for(const B of F)z._layoutText(B);W.resolve()}class D{constructor({textContentSource:F,container:W,viewport:H,textDivs:B,textDivProperties:U,textContentItemsStr:G,isOffscreenCanvasSupported:V}){var Ae;this._textContentSource=F,this._isReadableStream=F instanceof ReadableStream,this._container=this._rootContainer=W,this._textDivs=B||[],this._textContentItemsStr=G||[],this._isOffscreenCanvasSupported=V,this._fontInspectorEnabled=!!((Ae=globalThis.FontInspector)!=null&&Ae.enabled),this._reader=null,this._textDivProperties=U||new WeakMap,this._canceled=!1,this._capability=new _.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:H.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:C(0,V)};const{pageWidth:K,pageHeight:je,pageX:Z,pageY:fe}=H.rawDims;this._transform=[1,0,0,-1,-Z,fe+je],this._pageWidth=K,this._pageHeight=je,(0,w.setLayerDimensions)(W,H),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new _.AbortException("TextLayer task cancelled."))}_processItems(F,W){for(const H of F){if(H.str===void 0){if(H.type==="beginMarkedContentProps"||H.type==="beginMarkedContent"){const B=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),H.id!==null&&this._container.setAttribute("id",`${H.id}`),B.append(this._container)}else H.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(H.str),N(this,H,W)}}_layoutText(F){const W=this._layoutTextParams.properties=this._textDivProperties.get(F);if(this._layoutTextParams.div=F,O(this._layoutTextParams),W.hasText&&this._container.append(F),W.hasEOL){const H=document.createElement("br");H.setAttribute("role","presentation"),this._container.append(H)}}_render(){const F=new _.PromiseCapability;let W=Object.create(null);if(this._isReadableStream){const H=()=>{this._reader.read().then(({value:B,done:U})=>{if(U){F.resolve();return}Object.assign(W,B.styles),this._processItems(B.items,W),H()},F.reject)};this._reader=this._textContentSource.getReader(),H()}else if(this._textContentSource){const{items:H,styles:B}=this._textContentSource;this._processItems(H,B),F.resolve()}else throw new Error('No "textContentSource" parameter specified.');F.promise.then(()=>{W=null,$(this)},this._capability.reject)}}o.TextLayerRenderTask=D;function L(z){!z.textContentSource&&(z.textContent||z.textContentStream)&&((0,w.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),z.textContentSource=z.textContent||z.textContentStream);const{container:F,viewport:W}=z,H=getComputedStyle(F),B=H.getPropertyValue("visibility"),U=parseFloat(H.getPropertyValue("--scale-factor"));B==="visible"&&(!U||Math.abs(U-W.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const G=new D(z);return G._render(),G}function I({container:z,viewport:F,textDivs:W,textDivProperties:H,isOffscreenCanvasSupported:B,mustRotate:U=!0,mustRescale:G=!0}){if(U&&(0,w.setLayerDimensions)(z,{rotation:F.rotation}),G){const V=C(0,B),je={prevFontSize:null,prevFontFamily:null,div:null,scale:F.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:V};for(const Z of W)je.properties=H.get(Z),je.div=Z,O(je)}}},(i,o,E)=>{var T,N,O,$,D,L,I,z,F,W,H,un,Or,dn,pn;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var _=E(1),w=E(4),j=E(28),S=E(33),A=E(6),R=E(34);const K=class K{constructor({uiManager:Z,pageIndex:fe,div:Ae,accessibilityManager:Oe,annotationLayer:Pe,viewport:Ne,l10n:Ce}){ot(this,H);ot(this,T);ot(this,N,!1);ot(this,O,null);ot(this,$,this.pointerup.bind(this));ot(this,D,this.pointerdown.bind(this));ot(this,L,new Map);ot(this,I,!1);ot(this,z,!1);ot(this,F,!1);ot(this,W);const Me=[j.FreeTextEditor,S.InkEditor,R.StampEditor];if(!K._initialized){K._initialized=!0;for(const Q of Me)Q.initialize(Ce)}Z.registerEditorTypes(Me),st(this,W,Z),this.pageIndex=fe,this.div=Ae,st(this,T,Oe),st(this,O,Pe),this.viewport=Ne,Ee(this,W).addLayer(this)}get isEmpty(){return Ee(this,L).size===0}updateToolbar(Z){Ee(this,W).updateToolbar(Z)}updateMode(Z=Ee(this,W).getMode()){Je(this,H,pn).call(this),Z===_.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Z!==_.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Z===_.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Z===_.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Z===_.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Z){if(!Z&&Ee(this,W).getMode()!==_.AnnotationEditorType.INK)return;if(!Z){for(const Ae of Ee(this,L).values())if(Ae.isEmpty()){Ae.setInBackground();return}}Je(this,H,Or).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Z){Ee(this,W).setEditingState(Z)}addCommands(Z){Ee(this,W).addCommands(Z)}enable(){this.div.style.pointerEvents="auto";const Z=new Set;for(const Ae of Ee(this,L).values())Ae.enableEditing(),Ae.annotationElementId&&Z.add(Ae.annotationElementId);if(!Ee(this,O))return;const fe=Ee(this,O).getEditableAnnotations();for(const Ae of fe){if(Ae.hide(),Ee(this,W).isDeletedAnnotationElement(Ae.data.id)||Z.has(Ae.data.id))continue;const Oe=this.deserialize(Ae);Oe&&(this.addOrRebuild(Oe),Oe.enableEditing())}}disable(){var fe;st(this,F,!0),this.div.style.pointerEvents="none";const Z=new Set;for(const Ae of Ee(this,L).values()){if(Ae.disableEditing(),!Ae.annotationElementId||Ae.serialize()!==null){Z.add(Ae.annotationElementId);continue}(fe=this.getEditableAnnotation(Ae.annotationElementId))==null||fe.show(),Ae.remove()}if(Ee(this,O)){const Ae=Ee(this,O).getEditableAnnotations();for(const Oe of Ae){const{id:Pe}=Oe.data;Z.has(Pe)||Ee(this,W).isDeletedAnnotationElement(Pe)||Oe.show()}}Je(this,H,pn).call(this),this.isEmpty&&(this.div.hidden=!0),st(this,F,!1)}getEditableAnnotation(Z){var fe;return((fe=Ee(this,O))==null?void 0:fe.getEditableAnnotation(Z))||null}setActiveEditor(Z){Ee(this,W).getActive()!==Z&&Ee(this,W).setActiveEditor(Z)}enableClick(){this.div.addEventListener("pointerdown",Ee(this,D)),this.div.addEventListener("pointerup",Ee(this,$))}disableClick(){this.div.removeEventListener("pointerdown",Ee(this,D)),this.div.removeEventListener("pointerup",Ee(this,$))}attach(Z){Ee(this,L).set(Z.id,Z);const{annotationElementId:fe}=Z;fe&&Ee(this,W).isDeletedAnnotationElement(fe)&&Ee(this,W).removeDeletedAnnotationElement(Z)}detach(Z){var fe;Ee(this,L).delete(Z.id),(fe=Ee(this,T))==null||fe.removePointerInTextLayer(Z.contentDiv),!Ee(this,F)&&Z.annotationElementId&&Ee(this,W).addDeletedAnnotationElement(Z)}remove(Z){this.detach(Z),Ee(this,W).removeEditor(Z),Z.div.contains(document.activeElement)&&setTimeout(()=>{Ee(this,W).focusMainContainer()},0),Z.div.remove(),Z.isAttachedToDOM=!1,Ee(this,z)||this.addInkEditorIfNeeded(!1)}changeParent(Z){var fe;Z.parent!==this&&(Z.annotationElementId&&(Ee(this,W).addDeletedAnnotationElement(Z.annotationElementId),w.AnnotationEditor.deleteAnnotationElement(Z),Z.annotationElementId=null),this.attach(Z),(fe=Z.parent)==null||fe.detach(Z),Z.setParent(this),Z.div&&Z.isAttachedToDOM&&(Z.div.remove(),this.div.append(Z.div)))}add(Z){if(this.changeParent(Z),Ee(this,W).addEditor(Z),this.attach(Z),!Z.isAttachedToDOM){const fe=Z.render();this.div.append(fe),Z.isAttachedToDOM=!0}Z.fixAndSetPosition(),Z.onceAdded(),Ee(this,W).addToAnnotationStorage(Z)}moveEditorInDOM(Z){var Ae;if(!Z.isAttachedToDOM)return;const{activeElement:fe}=document;Z.div.contains(fe)&&(Z._focusEventsAllowed=!1,setTimeout(()=>{Z.div.contains(document.activeElement)?Z._focusEventsAllowed=!0:(Z.div.addEventListener("focusin",()=>{Z._focusEventsAllowed=!0},{once:!0}),fe.focus())},0)),Z._structTreeParentId=(Ae=Ee(this,T))==null?void 0:Ae.moveElementInDOM(this.div,Z.div,Z.contentDiv,!0)}addOrRebuild(Z){Z.needsToBeRebuilt()?Z.rebuild():this.add(Z)}addUndoableEditor(Z){const fe=()=>Z._uiManager.rebuild(Z),Ae=()=>{Z.remove()};this.addCommands({cmd:fe,undo:Ae,mustExec:!1})}getNextId(){return Ee(this,W).getId()}pasteEditor(Z,fe){Ee(this,W).updateToolbar(Z),Ee(this,W).updateMode(Z);const{offsetX:Ae,offsetY:Oe}=Je(this,H,dn).call(this),Pe=this.getNextId(),Ne=Je(this,H,un).call(this,{parent:this,id:Pe,x:Ae,y:Oe,uiManager:Ee(this,W),isCentered:!0,...fe});Ne&&this.add(Ne)}deserialize(Z){switch(Z.annotationType??Z.annotationEditorType){case _.AnnotationEditorType.FREETEXT:return j.FreeTextEditor.deserialize(Z,this,Ee(this,W));case _.AnnotationEditorType.INK:return S.InkEditor.deserialize(Z,this,Ee(this,W));case _.AnnotationEditorType.STAMP:return R.StampEditor.deserialize(Z,this,Ee(this,W))}return null}addNewEditor(){Je(this,H,Or).call(this,Je(this,H,dn).call(this),!0)}setSelected(Z){Ee(this,W).setSelected(Z)}toggleSelected(Z){Ee(this,W).toggleSelected(Z)}isSelected(Z){return Ee(this,W).isSelected(Z)}unselect(Z){Ee(this,W).unselect(Z)}pointerup(Z){const{isMac:fe}=_.FeatureTest.platform;if(!(Z.button!==0||Z.ctrlKey&&fe)&&Z.target===this.div&&Ee(this,I)){if(st(this,I,!1),!Ee(this,N)){st(this,N,!0);return}if(Ee(this,W).getMode()===_.AnnotationEditorType.STAMP){Ee(this,W).unselectAll();return}Je(this,H,Or).call(this,Z,!1)}}pointerdown(Z){if(Ee(this,I)){st(this,I,!1);return}const{isMac:fe}=_.FeatureTest.platform;if(Z.button!==0||Z.ctrlKey&&fe||Z.target!==this.div)return;st(this,I,!0);const Ae=Ee(this,W).getActive();st(this,N,!Ae||Ae.isEmpty())}findNewParent(Z,fe,Ae){const Oe=Ee(this,W).findParent(fe,Ae);return Oe===null||Oe===this?!1:(Oe.changeParent(Z),!0)}destroy(){var Z,fe;((Z=Ee(this,W).getActive())==null?void 0:Z.parent)===this&&(Ee(this,W).commitOrRemove(),Ee(this,W).setActiveEditor(null));for(const Ae of Ee(this,L).values())(fe=Ee(this,T))==null||fe.removePointerInTextLayer(Ae.contentDiv),Ae.setParent(null),Ae.isAttachedToDOM=!1,Ae.div.remove();this.div=null,Ee(this,L).clear(),Ee(this,W).removeLayer(this)}render({viewport:Z}){this.viewport=Z,(0,A.setLayerDimensions)(this.div,Z);for(const fe of Ee(this,W).getEditors(this.pageIndex))this.add(fe);this.updateMode()}update({viewport:Z}){Ee(this,W).commitOrRemove(),this.viewport=Z,(0,A.setLayerDimensions)(this.div,{rotation:Z.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Z,pageHeight:fe}=this.viewport.rawDims;return[Z,fe]}};T=new WeakMap,N=new WeakMap,O=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakMap,I=new WeakMap,z=new WeakMap,F=new WeakMap,W=new WeakMap,H=new WeakSet,un=function(Z){switch(Ee(this,W).getMode()){case _.AnnotationEditorType.FREETEXT:return new j.FreeTextEditor(Z);case _.AnnotationEditorType.INK:return new S.InkEditor(Z);case _.AnnotationEditorType.STAMP:return new R.StampEditor(Z)}return null},Or=function(Z,fe){const Ae=this.getNextId(),Oe=Je(this,H,un).call(this,{parent:this,id:Ae,x:Z.offsetX,y:Z.offsetY,uiManager:Ee(this,W),isCentered:fe});return Oe&&this.add(Oe),Oe},dn=function(){const{x:Z,y:fe,width:Ae,height:Oe}=this.div.getBoundingClientRect(),Pe=Math.max(0,Z),Ne=Math.max(0,fe),Ce=Math.min(window.innerWidth,Z+Ae),Me=Math.min(window.innerHeight,fe+Oe),Q=(Pe+Ce)/2-Z,Re=(Ne+Me)/2-fe,[ke,_e]=this.viewport.rotation%180===0?[Q,Re]:[Re,Q];return{offsetX:ke,offsetY:_e}},pn=function(){st(this,z,!0);for(const Z of Ee(this,L).values())Z.isEmpty()&&Z.remove();st(this,z,!1)},tr(K,"_initialized",!1);let C=K;o.AnnotationEditorLayer=C},(i,o,E)=>{var R,C,T,N,O,$,D,L,I,z,zn,Un,Wn,jr,fn,Gn,mn;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var _=E(1),w=E(5),j=E(4),S=E(29);const K=class K extends j.AnnotationEditor{constructor(fe){super({...fe,name:"freeTextEditor"});ot(this,z);ot(this,R,this.editorDivBlur.bind(this));ot(this,C,this.editorDivFocus.bind(this));ot(this,T,this.editorDivInput.bind(this));ot(this,N,this.editorDivKeydown.bind(this));ot(this,O);ot(this,$,"");ot(this,D,`${this.id}-editor`);ot(this,L);ot(this,I,null);st(this,O,fe.color||K._defaultColor||j.AnnotationEditor._defaultLineColor),st(this,L,fe.fontSize||K._defaultFontSize)}static get _keyboardManager(){const fe=K.prototype,Ae=Ne=>Ne.isEmpty(),Oe=w.AnnotationEditorUIManager.TRANSLATE_SMALL,Pe=w.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_.shadow)(this,"_keyboardManager",new w.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],fe.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],fe.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],fe._translateEmpty,{args:[-Oe,0],checker:Ae}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],fe._translateEmpty,{args:[-Pe,0],checker:Ae}],[["ArrowRight","mac+ArrowRight"],fe._translateEmpty,{args:[Oe,0],checker:Ae}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],fe._translateEmpty,{args:[Pe,0],checker:Ae}],[["ArrowUp","mac+ArrowUp"],fe._translateEmpty,{args:[0,-Oe],checker:Ae}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],fe._translateEmpty,{args:[0,-Pe],checker:Ae}],[["ArrowDown","mac+ArrowDown"],fe._translateEmpty,{args:[0,Oe],checker:Ae}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],fe._translateEmpty,{args:[0,Pe],checker:Ae}]]))}static initialize(fe){j.AnnotationEditor.initialize(fe,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ae=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ae.getPropertyValue("--freetext-padding"))}static updateDefaultParams(fe,Ae){switch(fe){case _.AnnotationEditorParamsType.FREETEXT_SIZE:K._defaultFontSize=Ae;break;case _.AnnotationEditorParamsType.FREETEXT_COLOR:K._defaultColor=Ae;break}}updateParams(fe,Ae){switch(fe){case _.AnnotationEditorParamsType.FREETEXT_SIZE:Je(this,z,zn).call(this,Ae);break;case _.AnnotationEditorParamsType.FREETEXT_COLOR:Je(this,z,Un).call(this,Ae);break}}static get defaultPropertiesToUpdate(){return[[_.AnnotationEditorParamsType.FREETEXT_SIZE,K._defaultFontSize],[_.AnnotationEditorParamsType.FREETEXT_COLOR,K._defaultColor||j.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_.AnnotationEditorParamsType.FREETEXT_SIZE,Ee(this,L)],[_.AnnotationEditorParamsType.FREETEXT_COLOR,Ee(this,O)]]}_translateEmpty(fe,Ae){this._uiManager.translateSelectedEditors(fe,Ae,!0)}getInitialTranslation(){const fe=this.parentScale;return[-K._internalPadding*fe,-(K._internalPadding+Ee(this,L))*fe]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ee(this,N)),this.editorDiv.addEventListener("focus",Ee(this,C)),this.editorDiv.addEventListener("blur",Ee(this,R)),this.editorDiv.addEventListener("input",Ee(this,T)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ee(this,D)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ee(this,N)),this.editorDiv.removeEventListener("focus",Ee(this,C)),this.editorDiv.removeEventListener("blur",Ee(this,R)),this.editorDiv.removeEventListener("input",Ee(this,T)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(fe){this._focusEventsAllowed&&(super.focusin(fe),fe.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var fe;if(this.width){Je(this,z,mn).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(fe=this._initialOptions)!=null&&fe.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const fe=Ee(this,$),Ae=st(this,$,Je(this,z,Wn).call(this).trimEnd());if(fe===Ae)return;const Oe=Pe=>{if(st(this,$,Pe),!Pe){this.remove();return}Je(this,z,fn).call(this),this._uiManager.rebuild(this),Je(this,z,jr).call(this)};this.addCommands({cmd:()=>{Oe(Ae)},undo:()=>{Oe(fe)},mustExec:!1}),Je(this,z,jr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(fe){this.enterInEditMode()}keydown(fe){fe.target===this.div&&fe.key==="Enter"&&(this.enterInEditMode(),fe.preventDefault())}editorDivKeydown(fe){K._keyboardManager.exec(this,fe)}editorDivFocus(fe){this.isEditing=!0}editorDivBlur(fe){this.isEditing=!1}editorDivInput(fe){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let fe,Ae;this.width&&(fe=this.x,Ae=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ee(this,D)),this.enableEditing(),j.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Pe=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("aria-label",Pe)}),j.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Pe=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("default-content",Pe)}),this.editorDiv.contentEditable=!0;const{style:Oe}=this.editorDiv;if(Oe.fontSize=`calc(${Ee(this,L)}px * var(--scale-factor))`,Oe.color=Ee(this,O),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,w.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Pe,Ne]=this.parentDimensions;if(this.annotationElementId){const{position:Ce}=Ee(this,I);let[Me,Q]=this.getInitialTranslation();[Me,Q]=this.pageTranslationToScreen(Me,Q);const[Re,ke]=this.pageDimensions,[_e,Y]=this.pageTranslation;let J,Se;switch(this.rotation){case 0:J=fe+(Ce[0]-_e)/Re,Se=Ae+this.height-(Ce[1]-Y)/ke;break;case 90:J=fe+(Ce[0]-_e)/Re,Se=Ae-(Ce[1]-Y)/ke,[Me,Q]=[Q,-Me];break;case 180:J=fe-this.width+(Ce[0]-_e)/Re,Se=Ae-(Ce[1]-Y)/ke,[Me,Q]=[-Me,-Q];break;case 270:J=fe+(Ce[0]-_e-this.height*ke)/Re,Se=Ae+(Ce[1]-Y-this.width*Re)/ke,[Me,Q]=[-Q,Me];break}this.setAt(J*Pe,Se*Ne,Me,Q)}else this.setAt(fe*Pe,Ae*Ne,this.width*Pe,this.height*Ne);Je(this,z,fn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(fe,Ae,Oe){let Pe=null;if(fe instanceof S.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ce,fontColor:Me},rect:Q,rotation:Re,id:ke},textContent:_e,textPosition:Y,parent:{page:{pageNumber:J}}}=fe;if(!_e||_e.length===0)return null;Pe=fe={annotationType:_.AnnotationEditorType.FREETEXT,color:Array.from(Me),fontSize:Ce,value:_e.join(`
`),position:Y,pageIndex:J-1,rect:Q,rotation:Re,id:ke,deleted:!1}}const Ne=super.deserialize(fe,Ae,Oe);return st(Ne,L,fe.fontSize),st(Ne,O,_.Util.makeHexColor(...fe.color)),st(Ne,$,fe.value),Ne.annotationElementId=fe.id||null,st(Ne,I,Pe),Ne}serialize(fe=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ae=K._internalPadding*this.parentScale,Oe=this.getRect(Ae,Ae),Pe=j.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ee(this,O)),Ne={annotationType:_.AnnotationEditorType.FREETEXT,color:Pe,fontSize:Ee(this,L),value:Ee(this,$),pageIndex:this.pageIndex,rect:Oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return fe?Ne:this.annotationElementId&&!Je(this,z,Gn).call(this,Ne)?null:(Ne.id=this.annotationElementId,Ne)}};R=new WeakMap,C=new WeakMap,T=new WeakMap,N=new WeakMap,O=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakMap,I=new WeakMap,z=new WeakSet,zn=function(fe){const Ae=Pe=>{this.editorDiv.style.fontSize=`calc(${Pe}px * var(--scale-factor))`,this.translate(0,-(Pe-Ee(this,L))*this.parentScale),st(this,L,Pe),Je(this,z,jr).call(this)},Oe=Ee(this,L);this.addCommands({cmd:()=>{Ae(fe)},undo:()=>{Ae(Oe)},mustExec:!0,type:_.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Un=function(fe){const Ae=Ee(this,O);this.addCommands({cmd:()=>{st(this,O,this.editorDiv.style.color=fe)},undo:()=>{st(this,O,this.editorDiv.style.color=Ae)},mustExec:!0,type:_.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Wn=function(){const fe=this.editorDiv.getElementsByTagName("div");if(fe.length===0)return this.editorDiv.innerText;const Ae=[];for(const Oe of fe)Ae.push(Oe.innerText.replace(/\r\n?|\n/,""));return Ae.join(`
`)},jr=function(){const[fe,Ae]=this.parentDimensions;let Oe;if(this.isAttachedToDOM)Oe=this.div.getBoundingClientRect();else{const{currentLayer:Pe,div:Ne}=this,Ce=Ne.style.display;Ne.style.display="hidden",Pe.div.append(this.div),Oe=Ne.getBoundingClientRect(),Ne.remove(),Ne.style.display=Ce}this.rotation%180===this.parentRotation%180?(this.width=Oe.width/fe,this.height=Oe.height/Ae):(this.width=Oe.height/fe,this.height=Oe.width/Ae),this.fixAndSetPosition()},fn=function(){if(this.editorDiv.replaceChildren(),!!Ee(this,$))for(const fe of Ee(this,$).split(`
`)){const Ae=document.createElement("div");Ae.append(fe?document.createTextNode(fe):document.createElement("br")),this.editorDiv.append(Ae)}},Gn=function(fe){const{value:Ae,fontSize:Oe,color:Pe,rect:Ne,pageIndex:Ce}=Ee(this,I);return fe.value!==Ae||fe.fontSize!==Oe||fe.rect.some((Me,Q)=>Math.abs(Me-Ne[Q])>=1)||fe.color.some((Me,Q)=>Me!==Pe[Q])||fe.pageIndex!==Ce},mn=function(fe=!1){if(!this.annotationElementId)return;if(Je(this,z,jr).call(this),!fe&&(this.width===0||this.height===0)){setTimeout(()=>Je(this,z,mn).call(this,!0),0);return}const Ae=K._internalPadding*this.parentScale;Ee(this,I).rect=this.getRect(Ae,Ae)},tr(K,"_freeTextDefaultContent",""),tr(K,"_internalPadding",0),tr(K,"_defaultColor",null),tr(K,"_defaultFontSize",10),tr(K,"_type","freetext");let A=K;o.FreeTextEditor=A},(i,o,E)=>{var Se,$e,pr,Hn,Le,He,We,rt,it,dt,Ke,Xe,Fe,Ge,Ye,Qe,ut,mt,gt,Ze,Et,At,qn,Mr,hn,gn,Bt,Xt,Zt,ht,nt,at,Tt,xn,Vt,qe,pt,Rt,Vn,vn;Object.defineProperty(o,"__esModule",{value:!0}),o.StampAnnotationElement=o.InkAnnotationElement=o.FreeTextAnnotationElement=o.AnnotationLayer=void 0;var _=E(1),w=E(6),j=E(3),S=E(30),A=E(31),R=E(32);const C=1e3,T=9,N=new WeakSet;function O(St){return{width:St[2]-St[0],height:St[3]-St[1]}}class ${static create(Ue){switch(Ue.data.annotationType){case _.AnnotationType.LINK:return new L(Ue);case _.AnnotationType.TEXT:return new I(Ue);case _.AnnotationType.WIDGET:switch(Ue.data.fieldType){case"Tx":return new F(Ue);case"Btn":return Ue.data.radioButton?new B(Ue):Ue.data.checkBox?new H(Ue):new U(Ue);case"Ch":return new G(Ue);case"Sig":return new W(Ue)}return new z(Ue);case _.AnnotationType.POPUP:return new V(Ue);case _.AnnotationType.FREETEXT:return new je(Ue);case _.AnnotationType.LINE:return new Z(Ue);case _.AnnotationType.SQUARE:return new fe(Ue);case _.AnnotationType.CIRCLE:return new Ae(Ue);case _.AnnotationType.POLYLINE:return new Oe(Ue);case _.AnnotationType.CARET:return new Ne(Ue);case _.AnnotationType.INK:return new Ce(Ue);case _.AnnotationType.POLYGON:return new Pe(Ue);case _.AnnotationType.HIGHLIGHT:return new Me(Ue);case _.AnnotationType.UNDERLINE:return new Q(Ue);case _.AnnotationType.SQUIGGLY:return new Re(Ue);case _.AnnotationType.STRIKEOUT:return new ke(Ue);case _.AnnotationType.STAMP:return new _e(Ue);case _.AnnotationType.FILEATTACHMENT:return new Y(Ue);default:return new D(Ue)}}}const Ie=class Ie{constructor(Ue,{isRenderable:ze=!1,ignoreBorder:Ve=!1,createQuadrilaterals:lt=!1}={}){ot(this,Se,!1);this.isRenderable=ze,this.data=Ue.data,this.layer=Ue.layer,this.linkService=Ue.linkService,this.downloadManager=Ue.downloadManager,this.imageResourcesPath=Ue.imageResourcesPath,this.renderForms=Ue.renderForms,this.svgFactory=Ue.svgFactory,this.annotationStorage=Ue.annotationStorage,this.enableScripting=Ue.enableScripting,this.hasJSActions=Ue.hasJSActions,this._fieldObjects=Ue.fieldObjects,this.parent=Ue.parent,ze&&(this.container=this._createContainer(Ve)),lt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ue,contentsObj:ze,richText:Ve}){return!!(Ue!=null&&Ue.str||ze!=null&&ze.str||Ve!=null&&Ve.str)}get hasPopupData(){return Ie._hasPopupData(this.data)}_createContainer(Ue){const{data:ze,parent:{page:Ve,viewport:lt}}=this,ct=document.createElement("section");ct.setAttribute("data-annotation-id",ze.id),this instanceof z||(ct.tabIndex=C),ct.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ct.setAttribute("aria-haspopup","dialog"),ze.noRotate&&ct.classList.add("norotate");const{pageWidth:ft,pageHeight:xt,pageX:$t,pageY:Mt}=lt.rawDims;if(!ze.rect||this instanceof V){const{rotation:Gt}=ze;return!ze.hasOwnCanvas&&Gt!==0&&this.setRotation(Gt,ct),ct}const{width:Pt,height:qt}=O(ze.rect),Dt=_.Util.normalizeRect([ze.rect[0],Ve.view[3]-ze.rect[1]+Ve.view[1],ze.rect[2],Ve.view[3]-ze.rect[3]+Ve.view[1]]);if(!Ue&&ze.borderStyle.width>0){ct.style.borderWidth=`${ze.borderStyle.width}px`;const Gt=ze.borderStyle.horizontalCornerRadius,Qt=ze.borderStyle.verticalCornerRadius;if(Gt>0||Qt>0){const rr=`calc(${Gt}px * var(--scale-factor)) / calc(${Qt}px * var(--scale-factor))`;ct.style.borderRadius=rr}else if(this instanceof B){const rr=`calc(${Pt}px * var(--scale-factor)) / calc(${qt}px * var(--scale-factor))`;ct.style.borderRadius=rr}switch(ze.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:ct.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:ct.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:ct.style.borderBottomStyle="solid";break}const er=ze.borderColor||null;er?(st(this,Se,!0),ct.style.borderColor=_.Util.makeHexColor(er[0]|0,er[1]|0,er[2]|0)):ct.style.borderWidth=0}ct.style.left=`${100*(Dt[0]-$t)/ft}%`,ct.style.top=`${100*(Dt[1]-Mt)/xt}%`;const{rotation:kt}=ze;return ze.hasOwnCanvas||kt===0?(ct.style.width=`${100*Pt/ft}%`,ct.style.height=`${100*qt/xt}%`):this.setRotation(kt,ct),ct}setRotation(Ue,ze=this.container){if(!this.data.rect)return;const{pageWidth:Ve,pageHeight:lt}=this.parent.viewport.rawDims,{width:ct,height:ft}=O(this.data.rect);let xt,$t;Ue%180===0?(xt=100*ct/Ve,$t=100*ft/lt):(xt=100*ft/Ve,$t=100*ct/lt),ze.style.width=`${xt}%`,ze.style.height=`${$t}%`,ze.setAttribute("data-main-rotation",(360-Ue)%360)}get _commonActions(){const Ue=(ze,Ve,lt)=>{const ct=lt.detail[ze],ft=ct[0],xt=ct.slice(1);lt.target.style[Ve]=S.ColorConverters[`${ft}_HTML`](xt),this.annotationStorage.setValue(this.data.id,{[Ve]:S.ColorConverters[`${ft}_rgb`](xt)})};return(0,_.shadow)(this,"_commonActions",{display:ze=>{const{display:Ve}=ze.detail,lt=Ve%2===1;this.container.style.visibility=lt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:lt,noPrint:Ve===1||Ve===2})},print:ze=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ze.detail.print})},hidden:ze=>{const{hidden:Ve}=ze.detail;this.container.style.visibility=Ve?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ve,noView:Ve})},focus:ze=>{setTimeout(()=>ze.target.focus({preventScroll:!1}),0)},userName:ze=>{ze.target.title=ze.detail.userName},readonly:ze=>{ze.target.disabled=ze.detail.readonly},required:ze=>{this._setRequired(ze.target,ze.detail.required)},bgColor:ze=>{Ue("bgColor","backgroundColor",ze)},fillColor:ze=>{Ue("fillColor","backgroundColor",ze)},fgColor:ze=>{Ue("fgColor","color",ze)},textColor:ze=>{Ue("textColor","color",ze)},borderColor:ze=>{Ue("borderColor","borderColor",ze)},strokeColor:ze=>{Ue("strokeColor","borderColor",ze)},rotation:ze=>{const Ve=ze.detail.rotation;this.setRotation(Ve),this.annotationStorage.setValue(this.data.id,{rotation:Ve})}})}_dispatchEventFromSandbox(Ue,ze){const Ve=this._commonActions;for(const lt of Object.keys(ze.detail)){const ct=Ue[lt]||Ve[lt];ct==null||ct(ze)}}_setDefaultPropertiesFromJS(Ue){if(!this.enableScripting)return;const ze=this.annotationStorage.getRawValue(this.data.id);if(!ze)return;const Ve=this._commonActions;for(const[lt,ct]of Object.entries(ze)){const ft=Ve[lt];if(ft){const xt={detail:{[lt]:ct},target:Ue};ft(xt),delete ze[lt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ue}=this.data;if(!Ue)return;const[ze,Ve,lt,ct]=this.data.rect;if(Ue.length===1){const[,{x:Qt,y:er},{x:rr,y:ir}]=Ue[0];if(lt===Qt&&ct===er&&ze===rr&&Ve===ir)return}const{style:ft}=this.container;let xt;if(Ee(this,Se)){const{borderColor:Qt,borderWidth:er}=ft;ft.borderWidth=0,xt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Qt}" stroke-width="${er}">`],this.container.classList.add("hasBorder")}const $t=lt-ze,Mt=ct-Ve,{svgFactory:Pt}=this,qt=Pt.createElement("svg");qt.classList.add("quadrilateralsContainer"),qt.setAttribute("width",0),qt.setAttribute("height",0);const Dt=Pt.createElement("defs");qt.append(Dt);const kt=Pt.createElement("clipPath"),Gt=`clippath_${this.data.id}`;kt.setAttribute("id",Gt),kt.setAttribute("clipPathUnits","objectBoundingBox"),Dt.append(kt);for(const[,{x:Qt,y:er},{x:rr,y:ir}]of Ue){const Lt=Pt.createElement("rect"),et=(rr-ze)/$t,Ct=(ct-er)/Mt,zt=(Qt-rr)/$t,nr=(er-ir)/Mt;Lt.setAttribute("x",et),Lt.setAttribute("y",Ct),Lt.setAttribute("width",zt),Lt.setAttribute("height",nr),kt.append(Lt),xt==null||xt.push(`<rect vector-effect="non-scaling-stroke" x="${et}" y="${Ct}" width="${zt}" height="${nr}"/>`)}Ee(this,Se)&&(xt.push("</g></svg>')"),ft.backgroundImage=xt.join("")),this.container.append(qt),this.container.style.clipPath=`url(#${Gt})`}_createPopup(){const{container:Ue,data:ze}=this;Ue.setAttribute("aria-haspopup","dialog");const Ve=new V({data:{color:ze.color,titleObj:ze.titleObj,modificationDate:ze.modificationDate,contentsObj:ze.contentsObj,richText:ze.richText,parentRect:ze.rect,borderStyle:0,id:`popup_${ze.id}`,rotation:ze.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ve.render())}render(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ue,ze=null){const Ve=[];if(this._fieldObjects){const lt=this._fieldObjects[Ue];if(lt)for(const{page:ct,id:ft,exportValues:xt}of lt){if(ct===-1||ft===ze)continue;const $t=typeof xt=="string"?xt:null,Mt=document.querySelector(`[data-element-id="${ft}"]`);if(Mt&&!N.has(Mt)){(0,_.warn)(`_getElementsByName - element not allowed: ${ft}`);continue}Ve.push({id:ft,exportValue:$t,domElement:Mt})}return Ve}for(const lt of document.getElementsByName(Ue)){const{exportValue:ct}=lt,ft=lt.getAttribute("data-element-id");ft!==ze&&N.has(lt)&&Ve.push({id:ft,exportValue:ct,domElement:lt})}return Ve}show(){var Ue;this.container&&(this.container.hidden=!1),(Ue=this.popup)==null||Ue.maybeShow()}hide(){var Ue;this.container&&(this.container.hidden=!0),(Ue=this.popup)==null||Ue.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ue=this.getElementsToTriggerPopup();if(Array.isArray(Ue))for(const ze of Ue)ze.classList.add("highlightArea");else Ue.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ue,data:{id:ze}}=this;this.container.addEventListener("dblclick",()=>{var Ve;(Ve=this.linkService.eventBus)==null||Ve.dispatch("switchannotationeditormode",{source:this,mode:Ue,editId:ze})})}};Se=new WeakMap;let D=Ie;class L extends D{constructor(ze,Ve=null){super(ze,{isRenderable:!0,ignoreBorder:!!(Ve!=null&&Ve.ignoreBorder),createQuadrilaterals:!0});ot(this,$e);this.isTooltipOnly=ze.data.isTooltipOnly}render(){const{data:ze,linkService:Ve}=this,lt=document.createElement("a");lt.setAttribute("data-element-id",ze.id);let ct=!1;return ze.url?(Ve.addLinkAttributes(lt,ze.url,ze.newWindow),ct=!0):ze.action?(this._bindNamedAction(lt,ze.action),ct=!0):ze.attachment?(this._bindAttachment(lt,ze.attachment),ct=!0):ze.setOCGState?(Je(this,$e,Hn).call(this,lt,ze.setOCGState),ct=!0):ze.dest?(this._bindLink(lt,ze.dest),ct=!0):(ze.actions&&(ze.actions.Action||ze.actions["Mouse Up"]||ze.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(lt,ze),ct=!0),ze.resetForm?(this._bindResetFormAction(lt,ze.resetForm),ct=!0):this.isTooltipOnly&&!ct&&(this._bindLink(lt,""),ct=!0)),this.container.classList.add("linkAnnotation"),ct&&this.container.append(lt),this.container}_bindLink(ze,Ve){ze.href=this.linkService.getDestinationHash(Ve),ze.onclick=()=>(Ve&&this.linkService.goToDestination(Ve),!1),(Ve||Ve==="")&&Je(this,$e,pr).call(this)}_bindNamedAction(ze,Ve){ze.href=this.linkService.getAnchorUrl(""),ze.onclick=()=>(this.linkService.executeNamedAction(Ve),!1),Je(this,$e,pr).call(this)}_bindAttachment(ze,Ve){ze.href=this.linkService.getAnchorUrl(""),ze.onclick=()=>{var lt;return(lt=this.downloadManager)==null||lt.openOrDownloadData(this.container,Ve.content,Ve.filename),!1},Je(this,$e,pr).call(this)}_bindJSAction(ze,Ve){ze.href=this.linkService.getAnchorUrl("");const lt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ct of Object.keys(Ve.actions)){const ft=lt.get(ct);ft&&(ze[ft]=()=>{var xt;return(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ve.id,name:ct}}),!1})}ze.onclick||(ze.onclick=()=>!1),Je(this,$e,pr).call(this)}_bindResetFormAction(ze,Ve){const lt=ze.onclick;if(lt||(ze.href=this.linkService.getAnchorUrl("")),Je(this,$e,pr).call(this),!this._fieldObjects){(0,_.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),lt||(ze.onclick=()=>!1);return}ze.onclick=()=>{var qt;lt==null||lt();const{fields:ct,refs:ft,include:xt}=Ve,$t=[];if(ct.length!==0||ft.length!==0){const Dt=new Set(ft);for(const kt of ct){const Gt=this._fieldObjects[kt]||[];for(const{id:Qt}of Gt)Dt.add(Qt)}for(const kt of Object.values(this._fieldObjects))for(const Gt of kt)Dt.has(Gt.id)===xt&&$t.push(Gt)}else for(const Dt of Object.values(this._fieldObjects))$t.push(...Dt);const Mt=this.annotationStorage,Pt=[];for(const Dt of $t){const{id:kt}=Dt;switch(Pt.push(kt),Dt.type){case"text":{const Qt=Dt.defaultValue||"";Mt.setValue(kt,{value:Qt});break}case"checkbox":case"radiobutton":{const Qt=Dt.defaultValue===Dt.exportValues;Mt.setValue(kt,{value:Qt});break}case"combobox":case"listbox":{const Qt=Dt.defaultValue||"";Mt.setValue(kt,{value:Qt});break}default:continue}const Gt=document.querySelector(`[data-element-id="${kt}"]`);if(Gt){if(!N.has(Gt)){(0,_.warn)(`_bindResetFormAction - element not allowed: ${kt}`);continue}}else continue;Gt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Pt,name:"ResetForm"}})),!1}}}$e=new WeakSet,pr=function(){this.container.setAttribute("data-internal-link","")},Hn=function(ze,Ve){ze.href=this.linkService.getAnchorUrl(""),ze.onclick=()=>(this.linkService.executeSetOCGState(Ve),!1),Je(this,$e,pr).call(this)};class I extends D{constructor(Ue){super(Ue,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ue=document.createElement("img");return Ue.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ue.alt="[{{type}} Annotation]",Ue.dataset.l10nId="text_annotation_type",Ue.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ue),this.container}}class z extends D{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ue){var ze;this.data.hasOwnCanvas&&(((ze=Ue.previousSibling)==null?void 0:ze.nodeName)==="CANVAS"&&(Ue.previousSibling.hidden=!0),Ue.hidden=!1)}_getKeyModifier(Ue){const{isWin:ze,isMac:Ve}=_.FeatureTest.platform;return ze&&Ue.ctrlKey||Ve&&Ue.metaKey}_setEventListener(Ue,ze,Ve,lt,ct){Ve.includes("mouse")?Ue.addEventListener(Ve,ft=>{var xt;(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:lt,value:ct(ft),shift:ft.shiftKey,modifier:this._getKeyModifier(ft)}})}):Ue.addEventListener(Ve,ft=>{var xt;if(Ve==="blur"){if(!ze.focused||!ft.relatedTarget)return;ze.focused=!1}else if(Ve==="focus"){if(ze.focused)return;ze.focused=!0}ct&&((xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:lt,value:ct(ft)}}))})}_setEventListeners(Ue,ze,Ve,lt){var ct,ft,xt;for(const[$t,Mt]of Ve)(Mt==="Action"||(ct=this.data.actions)!=null&&ct[Mt])&&((Mt==="Focus"||Mt==="Blur")&&(ze||(ze={focused:!1})),this._setEventListener(Ue,ze,$t,Mt,lt),Mt==="Focus"&&!((ft=this.data.actions)!=null&&ft.Blur)?this._setEventListener(Ue,ze,"blur","Blur",null):Mt==="Blur"&&!((xt=this.data.actions)!=null&&xt.Focus)&&this._setEventListener(Ue,ze,"focus","Focus",null))}_setBackgroundColor(Ue){const ze=this.data.backgroundColor||null;Ue.style.backgroundColor=ze===null?"transparent":_.Util.makeHexColor(ze[0],ze[1],ze[2])}_setTextStyle(Ue){const ze=["left","center","right"],{fontColor:Ve}=this.data.defaultAppearanceData,lt=this.data.defaultAppearanceData.fontSize||T,ct=Ue.style;let ft;const xt=2,$t=Mt=>Math.round(10*Mt)/10;if(this.data.multiLine){const Mt=Math.abs(this.data.rect[3]-this.data.rect[1]-xt),Pt=Math.round(Mt/(_.LINE_FACTOR*lt))||1,qt=Mt/Pt;ft=Math.min(lt,$t(qt/_.LINE_FACTOR))}else{const Mt=Math.abs(this.data.rect[3]-this.data.rect[1]-xt);ft=Math.min(lt,$t(Mt/_.LINE_FACTOR))}ct.fontSize=`calc(${ft}px * var(--scale-factor))`,ct.color=_.Util.makeHexColor(Ve[0],Ve[1],Ve[2]),this.data.textAlignment!==null&&(ct.textAlign=ze[this.data.textAlignment])}_setRequired(Ue,ze){ze?Ue.setAttribute("required",!0):Ue.removeAttribute("required"),Ue.setAttribute("aria-required",ze)}}class F extends z{constructor(Ue){const ze=Ue.renderForms||!Ue.data.hasAppearance&&!!Ue.data.fieldValue;super(Ue,{isRenderable:ze})}setPropertyOnSiblings(Ue,ze,Ve,lt){const ct=this.annotationStorage;for(const ft of this._getElementsByName(Ue.name,Ue.id))ft.domElement&&(ft.domElement[ze]=Ve),ct.setValue(ft.id,{[lt]:Ve})}render(){var lt,ct;const Ue=this.annotationStorage,ze=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ve=null;if(this.renderForms){const ft=Ue.getValue(ze,{value:this.data.fieldValue});let xt=ft.value||"";const $t=Ue.getValue(ze,{charLimit:this.data.maxLen}).charLimit;$t&&xt.length>$t&&(xt=xt.slice(0,$t));let Mt=ft.formattedValue||((lt=this.data.textContent)==null?void 0:lt.join(`
`))||null;Mt&&this.data.comb&&(Mt=Mt.replaceAll(/\s+/g,""));const Pt={userValue:xt,formattedValue:Mt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ve=document.createElement("textarea"),Ve.textContent=Mt??xt,this.data.doNotScroll&&(Ve.style.overflowY="hidden")):(Ve=document.createElement("input"),Ve.type="text",Ve.setAttribute("value",Mt??xt),this.data.doNotScroll&&(Ve.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ve.hidden=!0),N.add(Ve),Ve.setAttribute("data-element-id",ze),Ve.disabled=this.data.readOnly,Ve.name=this.data.fieldName,Ve.tabIndex=C,this._setRequired(Ve,this.data.required),$t&&(Ve.maxLength=$t),Ve.addEventListener("input",Dt=>{Ue.setValue(ze,{value:Dt.target.value}),this.setPropertyOnSiblings(Ve,"value",Dt.target.value,"value"),Pt.formattedValue=null}),Ve.addEventListener("resetform",Dt=>{const kt=this.data.defaultFieldValue??"";Ve.value=Pt.userValue=kt,Pt.formattedValue=null});let qt=Dt=>{const{formattedValue:kt}=Pt;kt!=null&&(Dt.target.value=kt),Dt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ve.addEventListener("focus",kt=>{if(Pt.focused)return;const{target:Gt}=kt;Pt.userValue&&(Gt.value=Pt.userValue),Pt.lastCommittedValue=Gt.value,Pt.commitKey=1,Pt.focused=!0}),Ve.addEventListener("updatefromsandbox",kt=>{this.showElementAndHideCanvas(kt.target);const Gt={value(Qt){Pt.userValue=Qt.detail.value??"",Ue.setValue(ze,{value:Pt.userValue.toString()}),Qt.target.value=Pt.userValue},formattedValue(Qt){const{formattedValue:er}=Qt.detail;Pt.formattedValue=er,er!=null&&Qt.target!==document.activeElement&&(Qt.target.value=er),Ue.setValue(ze,{formattedValue:er})},selRange(Qt){Qt.target.setSelectionRange(...Qt.detail.selRange)},charLimit:Qt=>{var Lt;const{charLimit:er}=Qt.detail,{target:rr}=Qt;if(er===0){rr.removeAttribute("maxLength");return}rr.setAttribute("maxLength",er);let ir=Pt.userValue;!ir||ir.length<=er||(ir=ir.slice(0,er),rr.value=Pt.userValue=ir,Ue.setValue(ze,{value:ir}),(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze,name:"Keystroke",value:ir,willCommit:!0,commitKey:1,selStart:rr.selectionStart,selEnd:rr.selectionEnd}}))}};this._dispatchEventFromSandbox(Gt,kt)}),Ve.addEventListener("keydown",kt=>{var er;Pt.commitKey=1;let Gt=-1;if(kt.key==="Escape"?Gt=0:kt.key==="Enter"&&!this.data.multiLine?Gt=2:kt.key==="Tab"&&(Pt.commitKey=3),Gt===-1)return;const{value:Qt}=kt.target;Pt.lastCommittedValue!==Qt&&(Pt.lastCommittedValue=Qt,Pt.userValue=Qt,(er=this.linkService.eventBus)==null||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze,name:"Keystroke",value:Qt,willCommit:!0,commitKey:Gt,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}}))});const Dt=qt;qt=null,Ve.addEventListener("blur",kt=>{var Qt;if(!Pt.focused||!kt.relatedTarget)return;Pt.focused=!1;const{value:Gt}=kt.target;Pt.userValue=Gt,Pt.lastCommittedValue!==Gt&&((Qt=this.linkService.eventBus)==null||Qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze,name:"Keystroke",value:Gt,willCommit:!0,commitKey:Pt.commitKey,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}})),Dt(kt)}),(ct=this.data.actions)!=null&&ct.Keystroke&&Ve.addEventListener("beforeinput",kt=>{var Ct;Pt.lastCommittedValue=null;const{data:Gt,target:Qt}=kt,{value:er,selectionStart:rr,selectionEnd:ir}=Qt;let Lt=rr,et=ir;switch(kt.inputType){case"deleteWordBackward":{const zt=er.substring(0,rr).match(/\w*[^\w]*$/);zt&&(Lt-=zt[0].length);break}case"deleteWordForward":{const zt=er.substring(rr).match(/^[^\w]*\w*/);zt&&(et+=zt[0].length);break}case"deleteContentBackward":rr===ir&&(Lt-=1);break;case"deleteContentForward":rr===ir&&(et+=1);break}kt.preventDefault(),(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze,name:"Keystroke",value:er,change:Gt||"",willCommit:!1,selStart:Lt,selEnd:et}})}),this._setEventListeners(Ve,Pt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.value)}if(qt&&Ve.addEventListener("blur",qt),this.data.comb){const kt=(this.data.rect[2]-this.data.rect[0])/$t;Ve.classList.add("comb"),Ve.style.letterSpacing=`calc(${kt}px * var(--scale-factor) - 1ch)`}}else Ve=document.createElement("div"),Ve.textContent=this.data.fieldValue,Ve.style.verticalAlign="middle",Ve.style.display="table-cell";return this._setTextStyle(Ve),this._setBackgroundColor(Ve),this._setDefaultPropertiesFromJS(Ve),this.container.append(Ve),this.container}}class W extends z{constructor(Ue){super(Ue,{isRenderable:!!Ue.data.hasOwnCanvas})}}class H extends z{constructor(Ue){super(Ue,{isRenderable:Ue.renderForms})}render(){const Ue=this.annotationStorage,ze=this.data,Ve=ze.id;let lt=Ue.getValue(Ve,{value:ze.exportValue===ze.fieldValue}).value;typeof lt=="string"&&(lt=lt!=="Off",Ue.setValue(Ve,{value:lt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ct=document.createElement("input");return N.add(ct),ct.setAttribute("data-element-id",Ve),ct.disabled=ze.readOnly,this._setRequired(ct,this.data.required),ct.type="checkbox",ct.name=ze.fieldName,lt&&ct.setAttribute("checked",!0),ct.setAttribute("exportValue",ze.exportValue),ct.tabIndex=C,ct.addEventListener("change",ft=>{const{name:xt,checked:$t}=ft.target;for(const Mt of this._getElementsByName(xt,Ve)){const Pt=$t&&Mt.exportValue===ze.exportValue;Mt.domElement&&(Mt.domElement.checked=Pt),Ue.setValue(Mt.id,{value:Pt})}Ue.setValue(Ve,{value:$t})}),ct.addEventListener("resetform",ft=>{const xt=ze.defaultFieldValue||"Off";ft.target.checked=xt===ze.exportValue}),this.enableScripting&&this.hasJSActions&&(ct.addEventListener("updatefromsandbox",ft=>{const xt={value($t){$t.target.checked=$t.detail.value!=="Off",Ue.setValue(Ve,{value:$t.target.checked})}};this._dispatchEventFromSandbox(xt,ft)}),this._setEventListeners(ct,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ft=>ft.target.checked)),this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class B extends z{constructor(Ue){super(Ue,{isRenderable:Ue.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ue=this.annotationStorage,ze=this.data,Ve=ze.id;let lt=Ue.getValue(Ve,{value:ze.fieldValue===ze.buttonValue}).value;typeof lt=="string"&&(lt=lt!==ze.buttonValue,Ue.setValue(Ve,{value:lt}));const ct=document.createElement("input");if(N.add(ct),ct.setAttribute("data-element-id",Ve),ct.disabled=ze.readOnly,this._setRequired(ct,this.data.required),ct.type="radio",ct.name=ze.fieldName,lt&&ct.setAttribute("checked",!0),ct.tabIndex=C,ct.addEventListener("change",ft=>{const{name:xt,checked:$t}=ft.target;for(const Mt of this._getElementsByName(xt,Ve))Ue.setValue(Mt.id,{value:!1});Ue.setValue(Ve,{value:$t})}),ct.addEventListener("resetform",ft=>{const xt=ze.defaultFieldValue;ft.target.checked=xt!=null&&xt===ze.buttonValue}),this.enableScripting&&this.hasJSActions){const ft=ze.buttonValue;ct.addEventListener("updatefromsandbox",xt=>{const $t={value:Mt=>{const Pt=ft===Mt.detail.value;for(const qt of this._getElementsByName(Mt.target.name)){const Dt=Pt&&qt.id===Ve;qt.domElement&&(qt.domElement.checked=Dt),Ue.setValue(qt.id,{value:Dt})}}};this._dispatchEventFromSandbox($t,xt)}),this._setEventListeners(ct,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xt=>xt.target.checked)}return this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class U extends L{constructor(Ue){super(Ue,{ignoreBorder:Ue.data.hasAppearance})}render(){const Ue=super.render();Ue.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ue.title=this.data.alternativeText);const ze=Ue.lastChild;return this.enableScripting&&this.hasJSActions&&ze&&(this._setDefaultPropertiesFromJS(ze),ze.addEventListener("updatefromsandbox",Ve=>{this._dispatchEventFromSandbox({},Ve)})),Ue}}class G extends z{constructor(Ue){super(Ue,{isRenderable:Ue.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ue=this.annotationStorage,ze=this.data.id,Ve=Ue.getValue(ze,{value:this.data.fieldValue}),lt=document.createElement("select");N.add(lt),lt.setAttribute("data-element-id",ze),lt.disabled=this.data.readOnly,this._setRequired(lt,this.data.required),lt.name=this.data.fieldName,lt.tabIndex=C;let ct=this.data.combo&&this.data.options.length>0;this.data.combo||(lt.size=this.data.options.length,this.data.multiSelect&&(lt.multiple=!0)),lt.addEventListener("resetform",Pt=>{const qt=this.data.defaultFieldValue;for(const Dt of lt.options)Dt.selected=Dt.value===qt});for(const Pt of this.data.options){const qt=document.createElement("option");qt.textContent=Pt.displayValue,qt.value=Pt.exportValue,Ve.value.includes(Pt.exportValue)&&(qt.setAttribute("selected",!0),ct=!1),lt.append(qt)}let ft=null;if(ct){const Pt=document.createElement("option");Pt.value=" ",Pt.setAttribute("hidden",!0),Pt.setAttribute("selected",!0),lt.prepend(Pt),ft=()=>{Pt.remove(),lt.removeEventListener("input",ft),ft=null},lt.addEventListener("input",ft)}const xt=Pt=>{const qt=Pt?"value":"textContent",{options:Dt,multiple:kt}=lt;return kt?Array.prototype.filter.call(Dt,Gt=>Gt.selected).map(Gt=>Gt[qt]):Dt.selectedIndex===-1?null:Dt[Dt.selectedIndex][qt]};let $t=xt(!1);const Mt=Pt=>{const qt=Pt.target.options;return Array.prototype.map.call(qt,Dt=>({displayValue:Dt.textContent,exportValue:Dt.value}))};return this.enableScripting&&this.hasJSActions?(lt.addEventListener("updatefromsandbox",Pt=>{const qt={value(Dt){ft==null||ft();const kt=Dt.detail.value,Gt=new Set(Array.isArray(kt)?kt:[kt]);for(const Qt of lt.options)Qt.selected=Gt.has(Qt.value);Ue.setValue(ze,{value:xt(!0)}),$t=xt(!1)},multipleSelection(Dt){lt.multiple=!0},remove(Dt){const kt=lt.options,Gt=Dt.detail.remove;kt[Gt].selected=!1,lt.remove(Gt),kt.length>0&&Array.prototype.findIndex.call(kt,er=>er.selected)===-1&&(kt[0].selected=!0),Ue.setValue(ze,{value:xt(!0),items:Mt(Dt)}),$t=xt(!1)},clear(Dt){for(;lt.length!==0;)lt.remove(0);Ue.setValue(ze,{value:null,items:[]}),$t=xt(!1)},insert(Dt){const{index:kt,displayValue:Gt,exportValue:Qt}=Dt.detail.insert,er=lt.children[kt],rr=document.createElement("option");rr.textContent=Gt,rr.value=Qt,er?er.before(rr):lt.append(rr),Ue.setValue(ze,{value:xt(!0),items:Mt(Dt)}),$t=xt(!1)},items(Dt){const{items:kt}=Dt.detail;for(;lt.length!==0;)lt.remove(0);for(const Gt of kt){const{displayValue:Qt,exportValue:er}=Gt,rr=document.createElement("option");rr.textContent=Qt,rr.value=er,lt.append(rr)}lt.options.length>0&&(lt.options[0].selected=!0),Ue.setValue(ze,{value:xt(!0),items:Mt(Dt)}),$t=xt(!1)},indices(Dt){const kt=new Set(Dt.detail.indices);for(const Gt of Dt.target.options)Gt.selected=kt.has(Gt.index);Ue.setValue(ze,{value:xt(!0)}),$t=xt(!1)},editable(Dt){Dt.target.disabled=!Dt.detail.editable}};this._dispatchEventFromSandbox(qt,Pt)}),lt.addEventListener("input",Pt=>{var Dt;const qt=xt(!0);Ue.setValue(ze,{value:qt}),Pt.preventDefault(),(Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ze,name:"Keystroke",value:$t,changeEx:qt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(lt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Pt=>Pt.target.value)):lt.addEventListener("input",function(Pt){Ue.setValue(ze,{value:xt(!0)})}),this.data.combo&&this._setTextStyle(lt),this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class V extends D{constructor(Ue){const{data:ze,elements:Ve}=Ue;super(Ue,{isRenderable:D._hasPopupData(ze)}),this.elements=Ve}render(){this.container.classList.add("popupAnnotation");const Ue=new K({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ze=[];for(const Ve of this.elements)Ve.popup=Ue,ze.push(Ve.data.id),Ve.addHighlightArea();return this.container.setAttribute("aria-controls",ze.map(Ve=>`${_.AnnotationPrefix}${Ve}`).join(",")),this.container}}class K{constructor({container:Ue,color:ze,elements:Ve,titleObj:lt,modificationDate:ct,contentsObj:ft,richText:xt,parent:$t,rect:Mt,parentRect:Pt,open:qt}){ot(this,At);ot(this,Le,null);ot(this,He,Je(this,At,qn).bind(this));ot(this,We,Je(this,At,gn).bind(this));ot(this,rt,Je(this,At,hn).bind(this));ot(this,it,Je(this,At,Mr).bind(this));ot(this,dt,null);ot(this,Ke,null);ot(this,Xe,null);ot(this,Fe,null);ot(this,Ge,null);ot(this,Ye,null);ot(this,Qe,!1);ot(this,ut,null);ot(this,mt,null);ot(this,gt,null);ot(this,Ze,null);ot(this,Et,!1);var kt;st(this,Ke,Ue),st(this,Ze,lt),st(this,Xe,ft),st(this,gt,xt),st(this,Ge,$t),st(this,dt,ze),st(this,mt,Mt),st(this,Ye,Pt),st(this,Fe,Ve);const Dt=w.PDFDateString.toDateObject(ct);Dt&&st(this,Le,$t.l10n.get("annotation_date_string",{date:Dt.toLocaleDateString(),time:Dt.toLocaleTimeString()})),this.trigger=Ve.flatMap(Gt=>Gt.getElementsToTriggerPopup());for(const Gt of this.trigger)Gt.addEventListener("click",Ee(this,it)),Gt.addEventListener("mouseenter",Ee(this,rt)),Gt.addEventListener("mouseleave",Ee(this,We)),Gt.classList.add("popupTriggerArea");for(const Gt of Ve)(kt=Gt.container)==null||kt.addEventListener("keydown",Ee(this,He));Ee(this,Ke).hidden=!0,qt&&Je(this,At,Mr).call(this)}render(){if(Ee(this,ut))return;const{page:{view:Ue},viewport:{rawDims:{pageWidth:ze,pageHeight:Ve,pageX:lt,pageY:ct}}}=Ee(this,Ge),ft=st(this,ut,document.createElement("div"));if(ft.className="popup",Ee(this,dt)){const Lt=ft.style.outlineColor=_.Util.makeHexColor(...Ee(this,dt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ft.style.backgroundColor=`color-mix(in srgb, ${Lt} 30%, white)`:ft.style.backgroundColor=_.Util.makeHexColor(...Ee(this,dt).map(Ct=>Math.floor(.7*(255-Ct)+Ct)))}const xt=document.createElement("span");xt.className="header";const $t=document.createElement("h1");if(xt.append($t),{dir:$t.dir,str:$t.textContent}=Ee(this,Ze),ft.append(xt),Ee(this,Le)){const Lt=document.createElement("span");Lt.classList.add("popupDate"),Ee(this,Le).then(et=>{Lt.textContent=et}),xt.append(Lt)}const Mt=Ee(this,Xe),Pt=Ee(this,gt);if(Pt!=null&&Pt.str&&(!(Mt!=null&&Mt.str)||Mt.str===Pt.str))R.XfaLayer.render({xfaHtml:Pt.html,intent:"richText",div:ft}),ft.lastChild.classList.add("richText","popupContent");else{const Lt=this._formatContents(Mt);ft.append(Lt)}let qt=!!Ee(this,Ye),Dt=qt?Ee(this,Ye):Ee(this,mt);for(const Lt of Ee(this,Fe))if(!Dt||_.Util.intersect(Lt.data.rect,Dt)!==null){Dt=Lt.data.rect,qt=!0;break}const kt=_.Util.normalizeRect([Dt[0],Ue[3]-Dt[1]+Ue[1],Dt[2],Ue[3]-Dt[3]+Ue[1]]),Qt=qt?Dt[2]-Dt[0]+5:0,er=kt[0]+Qt,rr=kt[1],{style:ir}=Ee(this,Ke);ir.left=`${100*(er-lt)/ze}%`,ir.top=`${100*(rr-ct)/Ve}%`,Ee(this,Ke).append(ft)}_formatContents({str:Ue,dir:ze}){const Ve=document.createElement("p");Ve.classList.add("popupContent"),Ve.dir=ze;const lt=Ue.split(/(?:\r\n?|\n)/);for(let ct=0,ft=lt.length;ct<ft;++ct){const xt=lt[ct];Ve.append(document.createTextNode(xt)),ct<ft-1&&Ve.append(document.createElement("br"))}return Ve}forceHide(){st(this,Et,this.isVisible),Ee(this,Et)&&(Ee(this,Ke).hidden=!0)}maybeShow(){Ee(this,Et)&&(st(this,Et,!1),Ee(this,Ke).hidden=!1)}get isVisible(){return Ee(this,Ke).hidden===!1}}Le=new WeakMap,He=new WeakMap,We=new WeakMap,rt=new WeakMap,it=new WeakMap,dt=new WeakMap,Ke=new WeakMap,Xe=new WeakMap,Fe=new WeakMap,Ge=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,ut=new WeakMap,mt=new WeakMap,gt=new WeakMap,Ze=new WeakMap,Et=new WeakMap,At=new WeakSet,qn=function(Ue){Ue.altKey||Ue.shiftKey||Ue.ctrlKey||Ue.metaKey||(Ue.key==="Enter"||Ue.key==="Escape"&&Ee(this,Qe))&&Je(this,At,Mr).call(this)},Mr=function(){st(this,Qe,!Ee(this,Qe)),Ee(this,Qe)?(Je(this,At,hn).call(this),Ee(this,Ke).addEventListener("click",Ee(this,it)),Ee(this,Ke).addEventListener("keydown",Ee(this,He))):(Je(this,At,gn).call(this),Ee(this,Ke).removeEventListener("click",Ee(this,it)),Ee(this,Ke).removeEventListener("keydown",Ee(this,He)))},hn=function(){Ee(this,ut)||this.render(),this.isVisible?Ee(this,Qe)&&Ee(this,Ke).classList.add("focused"):(Ee(this,Ke).hidden=!1,Ee(this,Ke).style.zIndex=parseInt(Ee(this,Ke).style.zIndex)+1e3)},gn=function(){Ee(this,Ke).classList.remove("focused"),!(Ee(this,Qe)||!this.isVisible)&&(Ee(this,Ke).hidden=!0,Ee(this,Ke).style.zIndex=parseInt(Ee(this,Ke).style.zIndex)-1e3)};class je extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ue.data.textContent,this.textPosition=Ue.data.textPosition,this.annotationEditorType=_.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ue=document.createElement("div");Ue.classList.add("annotationTextContent"),Ue.setAttribute("role","comment");for(const ze of this.textContent){const Ve=document.createElement("span");Ve.textContent=ze,Ue.append(Ve)}this.container.append(Ue)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}o.FreeTextAnnotationElement=je;class Z extends D{constructor(ze){super(ze,{isRenderable:!0,ignoreBorder:!0});ot(this,Bt,null)}render(){this.container.classList.add("lineAnnotation");const ze=this.data,{width:Ve,height:lt}=O(ze.rect),ct=this.svgFactory.create(Ve,lt,!0),ft=st(this,Bt,this.svgFactory.createElement("svg:line"));return ft.setAttribute("x1",ze.rect[2]-ze.lineCoordinates[0]),ft.setAttribute("y1",ze.rect[3]-ze.lineCoordinates[1]),ft.setAttribute("x2",ze.rect[2]-ze.lineCoordinates[2]),ft.setAttribute("y2",ze.rect[3]-ze.lineCoordinates[3]),ft.setAttribute("stroke-width",ze.borderStyle.width||1),ft.setAttribute("stroke","transparent"),ft.setAttribute("fill","transparent"),ct.append(ft),this.container.append(ct),!ze.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ee(this,Bt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bt=new WeakMap;class fe extends D{constructor(ze){super(ze,{isRenderable:!0,ignoreBorder:!0});ot(this,Xt,null)}render(){this.container.classList.add("squareAnnotation");const ze=this.data,{width:Ve,height:lt}=O(ze.rect),ct=this.svgFactory.create(Ve,lt,!0),ft=ze.borderStyle.width,xt=st(this,Xt,this.svgFactory.createElement("svg:rect"));return xt.setAttribute("x",ft/2),xt.setAttribute("y",ft/2),xt.setAttribute("width",Ve-ft),xt.setAttribute("height",lt-ft),xt.setAttribute("stroke-width",ft||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),ct.append(xt),this.container.append(ct),!ze.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ee(this,Xt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xt=new WeakMap;class Ae extends D{constructor(ze){super(ze,{isRenderable:!0,ignoreBorder:!0});ot(this,Zt,null)}render(){this.container.classList.add("circleAnnotation");const ze=this.data,{width:Ve,height:lt}=O(ze.rect),ct=this.svgFactory.create(Ve,lt,!0),ft=ze.borderStyle.width,xt=st(this,Zt,this.svgFactory.createElement("svg:ellipse"));return xt.setAttribute("cx",Ve/2),xt.setAttribute("cy",lt/2),xt.setAttribute("rx",Ve/2-ft/2),xt.setAttribute("ry",lt/2-ft/2),xt.setAttribute("stroke-width",ft||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),ct.append(xt),this.container.append(ct),!ze.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ee(this,Zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zt=new WeakMap;class Oe extends D{constructor(ze){super(ze,{isRenderable:!0,ignoreBorder:!0});ot(this,ht,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ze=this.data,{width:Ve,height:lt}=O(ze.rect),ct=this.svgFactory.create(Ve,lt,!0);let ft=[];for(const $t of ze.vertices){const Mt=$t.x-ze.rect[0],Pt=ze.rect[3]-$t.y;ft.push(Mt+","+Pt)}ft=ft.join(" ");const xt=st(this,ht,this.svgFactory.createElement(this.svgElementName));return xt.setAttribute("points",ft),xt.setAttribute("stroke-width",ze.borderStyle.width||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),ct.append(xt),this.container.append(ct),!ze.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ee(this,ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}ht=new WeakMap;class Pe extends Oe{constructor(Ue){super(Ue),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ne extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ce extends D{constructor(ze){super(ze,{isRenderable:!0,ignoreBorder:!0});ot(this,nt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=_.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ze=this.data,{width:Ve,height:lt}=O(ze.rect),ct=this.svgFactory.create(Ve,lt,!0);for(const ft of ze.inkLists){let xt=[];for(const Mt of ft){const Pt=Mt.x-ze.rect[0],qt=ze.rect[3]-Mt.y;xt.push(`${Pt},${qt}`)}xt=xt.join(" ");const $t=this.svgFactory.createElement(this.svgElementName);Ee(this,nt).push($t),$t.setAttribute("points",xt),$t.setAttribute("stroke-width",ze.borderStyle.width||1),$t.setAttribute("stroke","transparent"),$t.setAttribute("fill","transparent"),!ze.popupRef&&this.hasPopupData&&this._createPopup(),ct.append($t)}return this.container.append(ct),this.container}getElementsToTriggerPopup(){return Ee(this,nt)}addHighlightArea(){this.container.classList.add("highlightArea")}}nt=new WeakMap,o.InkAnnotationElement=Ce;class Me extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Q extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Re extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ke extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class _e extends D{constructor(Ue){super(Ue,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}o.StampAnnotationElement=_e;class Y extends D{constructor(ze){var ct;super(ze,{isRenderable:!0});ot(this,Tt);ot(this,at,null);const{filename:Ve,content:lt}=this.data.file;this.filename=(0,w.getFilenameFromUrl)(Ve,!0),this.content=lt,(ct=this.linkService.eventBus)==null||ct.dispatch("fileattachmentannotation",{source:this,filename:Ve,content:lt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ze,data:Ve}=this;let lt;Ve.hasAppearance||Ve.fillAlpha===0?lt=document.createElement("div"):(lt=document.createElement("img"),lt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ve.name)?"paperclip":"pushpin"}.svg`,Ve.fillAlpha&&Ve.fillAlpha<1&&(lt.style=`filter: opacity(${Math.round(Ve.fillAlpha*100)}%);`)),lt.addEventListener("dblclick",Je(this,Tt,xn).bind(this)),st(this,at,lt);const{isMac:ct}=_.FeatureTest.platform;return ze.addEventListener("keydown",ft=>{ft.key==="Enter"&&(ct?ft.metaKey:ft.ctrlKey)&&Je(this,Tt,xn).call(this)}),!Ve.popupRef&&this.hasPopupData?this._createPopup():lt.classList.add("popupTriggerArea"),ze.append(lt),ze}getElementsToTriggerPopup(){return Ee(this,at)}addHighlightArea(){this.container.classList.add("highlightArea")}}at=new WeakMap,Tt=new WeakSet,xn=function(){var ze;(ze=this.downloadManager)==null||ze.openOrDownloadData(this.container,this.content,this.filename)};class J{constructor({div:Ue,accessibilityManager:ze,annotationCanvasMap:Ve,l10n:lt,page:ct,viewport:ft}){ot(this,Rt);ot(this,Vt,null);ot(this,qe,null);ot(this,pt,new Map);this.div=Ue,st(this,Vt,ze),st(this,qe,Ve),this.l10n=lt,this.page=ct,this.viewport=ft,this.zIndex=0,this.l10n||(this.l10n=A.NullL10n)}async render(Ue){const{annotations:ze}=Ue,Ve=this.div;(0,w.setLayerDimensions)(Ve,this.viewport);const lt=new Map,ct={data:null,layer:Ve,linkService:Ue.linkService,downloadManager:Ue.downloadManager,imageResourcesPath:Ue.imageResourcesPath||"",renderForms:Ue.renderForms!==!1,svgFactory:new w.DOMSVGFactory,annotationStorage:Ue.annotationStorage||new j.AnnotationStorage,enableScripting:Ue.enableScripting===!0,hasJSActions:Ue.hasJSActions,fieldObjects:Ue.fieldObjects,parent:this,elements:null};for(const ft of ze){if(ft.noHTML)continue;const xt=ft.annotationType===_.AnnotationType.POPUP;if(xt){const Pt=lt.get(ft.id);if(!Pt)continue;ct.elements=Pt}else{const{width:Pt,height:qt}=O(ft.rect);if(Pt<=0||qt<=0)continue}ct.data=ft;const $t=$.create(ct);if(!$t.isRenderable)continue;if(!xt&&ft.popupRef){const Pt=lt.get(ft.popupRef);Pt?Pt.push($t):lt.set(ft.popupRef,[$t])}$t.annotationEditorType>0&&Ee(this,pt).set($t.data.id,$t);const Mt=$t.render();ft.hidden&&(Mt.style.visibility="hidden"),Je(this,Rt,Vn).call(this,Mt,ft.id)}Je(this,Rt,vn).call(this),await this.l10n.translate(Ve)}update({viewport:Ue}){const ze=this.div;this.viewport=Ue,(0,w.setLayerDimensions)(ze,{rotation:Ue.rotation}),Je(this,Rt,vn).call(this),ze.hidden=!1}getEditableAnnotations(){return Array.from(Ee(this,pt).values())}getEditableAnnotation(Ue){return Ee(this,pt).get(Ue)}}Vt=new WeakMap,qe=new WeakMap,pt=new WeakMap,Rt=new WeakSet,Vn=function(Ue,ze){var lt;const Ve=Ue.firstChild||Ue;Ve.id=`${_.AnnotationPrefix}${ze}`,this.div.append(Ue),(lt=Ee(this,Vt))==null||lt.moveElementInDOM(this.div,Ue,Ve,!1)},vn=function(){if(!Ee(this,qe))return;const Ue=this.div;for(const[ze,Ve]of Ee(this,qe)){const lt=Ue.querySelector(`[data-annotation-id="${ze}"]`);if(!lt)continue;const{firstChild:ct}=lt;ct?ct.nodeName==="CANVAS"?ct.replaceWith(Ve):ct.before(Ve):lt.append(Ve)}Ee(this,qe).clear()},o.AnnotationLayer=J},(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function E(j){return Math.floor(Math.max(0,Math.min(1,j))*255).toString(16).padStart(2,"0")}function _(j){return Math.max(0,Math.min(255,255*j))}class w{static CMYK_G([S,A,R,C]){return["G",1-Math.min(1,.3*S+.59*R+.11*A+C)]}static G_CMYK([S]){return["CMYK",0,0,0,1-S]}static G_RGB([S]){return["RGB",S,S,S]}static G_rgb([S]){return S=_(S),[S,S,S]}static G_HTML([S]){const A=E(S);return`#${A}${A}${A}`}static RGB_G([S,A,R]){return["G",.3*S+.59*A+.11*R]}static RGB_rgb(S){return S.map(_)}static RGB_HTML(S){return`#${S.map(E).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([S,A,R,C]){return["RGB",1-Math.min(1,S+C),1-Math.min(1,R+C),1-Math.min(1,A+C)]}static CMYK_rgb([S,A,R,C]){return[_(1-Math.min(1,S+C)),_(1-Math.min(1,R+C)),_(1-Math.min(1,A+C))]}static CMYK_HTML(S){const A=this.CMYK_RGB(S).slice(1);return this.RGB_HTML(A)}static RGB_CMYK([S,A,R]){const C=1-S,T=1-A,N=1-R,O=Math.min(C,T,N);return["CMYK",C,T,N,O]}}o.ColorConverters=w},(i,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=_;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};E.print_progress_percent="{{progress}}%";function _(S,A){switch(S){case"find_match_count":S=`find_match_count[${A.total===1?"one":"other"}]`;break;case"find_match_count_limit":S=`find_match_count_limit[${A.limit===1?"one":"other"}]`;break}return E[S]||""}function w(S,A){return A?S.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(R,C)=>C in A?A[C]:"{{"+C+"}}"):S}const j={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(S,A=null,R=_(S,A)){return w(R,A)},async translate(S){}};o.NullL10n=j},(i,o,E)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var _=E(25);class w{static setupStorage(S,A,R,C,T){const N=C.getValue(A,{value:null});switch(R.name){case"textarea":if(N.value!==null&&(S.textContent=N.value),T==="print")break;S.addEventListener("input",O=>{C.setValue(A,{value:O.target.value})});break;case"input":if(R.attributes.type==="radio"||R.attributes.type==="checkbox"){if(N.value===R.attributes.xfaOn?S.setAttribute("checked",!0):N.value===R.attributes.xfaOff&&S.removeAttribute("checked"),T==="print")break;S.addEventListener("change",O=>{C.setValue(A,{value:O.target.checked?O.target.getAttribute("xfaOn"):O.target.getAttribute("xfaOff")})})}else{if(N.value!==null&&S.setAttribute("value",N.value),T==="print")break;S.addEventListener("input",O=>{C.setValue(A,{value:O.target.value})})}break;case"select":if(N.value!==null){S.setAttribute("value",N.value);for(const O of R.children)O.attributes.value===N.value?O.attributes.selected=!0:O.attributes.hasOwnProperty("selected")&&delete O.attributes.selected}S.addEventListener("input",O=>{const $=O.target.options,D=$.selectedIndex===-1?"":$[$.selectedIndex].value;C.setValue(A,{value:D})});break}}static setAttributes({html:S,element:A,storage:R=null,intent:C,linkService:T}){const{attributes:N}=A,O=S instanceof HTMLAnchorElement;N.type==="radio"&&(N.name=`${N.name}-${C}`);for(const[$,D]of Object.entries(N))if(D!=null)switch($){case"class":D.length&&S.setAttribute($,D.join(" "));break;case"dataId":break;case"id":S.setAttribute("data-element-id",D);break;case"style":Object.assign(S.style,D);break;case"textContent":S.textContent=D;break;default:(!O||$!=="href"&&$!=="newWindow")&&S.setAttribute($,D)}O&&T.addLinkAttributes(S,N.href,N.newWindow),R&&N.dataId&&this.setupStorage(S,N.dataId,A,R)}static render(S){var L;const A=S.annotationStorage,R=S.linkService,C=S.xfaHtml,T=S.intent||"display",N=document.createElement(C.name);C.attributes&&this.setAttributes({html:N,element:C,intent:T,linkService:R});const O=[[C,-1,N]],$=S.div;if($.append(N),S.viewport){const I=`matrix(${S.viewport.transform.join(",")})`;$.style.transform=I}T!=="richText"&&$.setAttribute("class","xfaLayer xfaFont");const D=[];for(;O.length>0;){const[I,z,F]=O.at(-1);if(z+1===I.children.length){O.pop();continue}const W=I.children[++O.at(-1)[1]];if(W===null)continue;const{name:H}=W;if(H==="#text"){const U=document.createTextNode(W.value);D.push(U),F.append(U);continue}const B=(L=W==null?void 0:W.attributes)!=null&&L.xmlns?document.createElementNS(W.attributes.xmlns,H):document.createElement(H);if(F.append(B),W.attributes&&this.setAttributes({html:B,element:W,storage:A,intent:T,linkService:R}),W.children&&W.children.length>0)O.push([W,-1,B]);else if(W.value){const U=document.createTextNode(W.value);_.XfaText.shouldBuildText(H)&&D.push(U),B.append(U)}}for(const I of $.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))I.setAttribute("readOnly",!0);return{textDivs:D}}static update(S){const A=`matrix(${S.viewport.transform.join(",")})`;S.div.style.transform=A,S.div.hidden=!1}}o.XfaLayer=w},(i,o,E)=>{var C,T,N,O,$,D,L,I,z,F,W,H,B,U,G,Kn,Yn,Xn,Zn,yn,Jn,bn,Qn,ei,ti,ri,ni,dr,En,Ir,Dr,gr,_n,Lr,$e,ii,wn,ai,oi,jn,Fr,xr;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0;var _=E(1),w=E(4),j=E(29),S=E(6),A=E(5);const dt=class dt extends w.AnnotationEditor{constructor(Fe){super({...Fe,name:"inkEditor"});ot(this,G);ot(this,C,0);ot(this,T,0);ot(this,N,this.canvasPointermove.bind(this));ot(this,O,this.canvasPointerleave.bind(this));ot(this,$,this.canvasPointerup.bind(this));ot(this,D,this.canvasPointerdown.bind(this));ot(this,L,new Path2D);ot(this,I,!1);ot(this,z,!1);ot(this,F,!1);ot(this,W,null);ot(this,H,0);ot(this,B,0);ot(this,U,null);this.color=Fe.color||null,this.thickness=Fe.thickness||null,this.opacity=Fe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Fe){w.AnnotationEditor.initialize(Fe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Fe,Ge){switch(Fe){case _.AnnotationEditorParamsType.INK_THICKNESS:dt._defaultThickness=Ge;break;case _.AnnotationEditorParamsType.INK_COLOR:dt._defaultColor=Ge;break;case _.AnnotationEditorParamsType.INK_OPACITY:dt._defaultOpacity=Ge/100;break}}updateParams(Fe,Ge){switch(Fe){case _.AnnotationEditorParamsType.INK_THICKNESS:Je(this,G,Kn).call(this,Ge);break;case _.AnnotationEditorParamsType.INK_COLOR:Je(this,G,Yn).call(this,Ge);break;case _.AnnotationEditorParamsType.INK_OPACITY:Je(this,G,Xn).call(this,Ge);break}}static get defaultPropertiesToUpdate(){return[[_.AnnotationEditorParamsType.INK_THICKNESS,dt._defaultThickness],[_.AnnotationEditorParamsType.INK_COLOR,dt._defaultColor||w.AnnotationEditor._defaultLineColor],[_.AnnotationEditorParamsType.INK_OPACITY,Math.round(dt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||dt._defaultThickness],[_.AnnotationEditorParamsType.INK_COLOR,this.color||dt._defaultColor||w.AnnotationEditor._defaultLineColor],[_.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??dt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Je(this,G,Ir).call(this),Je(this,G,Dr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Je(this,G,gr).call(this)),Je(this,G,xr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ee(this,W).disconnect(),st(this,W,null),super.remove())}setParent(Fe){!this.parent&&Fe?this._uiManager.removeShouldRescale(this):this.parent&&Fe===null&&this._uiManager.addShouldRescale(this),super.setParent(Fe)}onScaleChanging(){const[Fe,Ge]=this.parentDimensions,Ye=this.width*Fe,Qe=this.height*Ge;this.setDimensions(Ye,Qe)}enableEditMode(){Ee(this,I)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ee(this,D)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ee(this,D)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ee(this,I)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),st(this,I,!0),this.div.classList.add("disabled"),Je(this,G,xr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Fe){this._focusEventsAllowed&&(super.focusin(Fe),this.enableEditMode())}canvasPointerdown(Fe){Fe.button!==0||!this.isInEditMode()||Ee(this,I)||(this.setInForeground(),Fe.preventDefault(),Fe.type!=="mouse"&&this.div.focus(),Je(this,G,Jn).call(this,Fe.offsetX,Fe.offsetY))}canvasPointermove(Fe){Fe.preventDefault(),Je(this,G,bn).call(this,Fe.offsetX,Fe.offsetY)}canvasPointerup(Fe){Fe.preventDefault(),Je(this,G,En).call(this,Fe)}canvasPointerleave(Fe){Je(this,G,En).call(this,Fe)}get isResizable(){return!this.isEmpty()&&Ee(this,I)}render(){if(this.div)return this.div;let Fe,Ge;this.width&&(Fe=this.x,Ge=this.y),super.render(),w.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(gt=>{var Ze;return(Ze=this.div)==null?void 0:Ze.setAttribute("aria-label",gt)});const[Ye,Qe,ut,mt]=Je(this,G,Zn).call(this);if(this.setAt(Ye,Qe,0,0),this.setDims(ut,mt),Je(this,G,Ir).call(this),this.width){const[gt,Ze]=this.parentDimensions;this.setAspectRatio(this.width*gt,this.height*Ze),this.setAt(Fe*gt,Ge*Ze,this.width*gt,this.height*Ze),st(this,F,!0),Je(this,G,gr).call(this),this.setDims(this.width*gt,this.height*Ze),Je(this,G,dr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Je(this,G,Dr).call(this),this.div}setDimensions(Fe,Ge){const Ye=Math.round(Fe),Qe=Math.round(Ge);if(Ee(this,H)===Ye&&Ee(this,B)===Qe)return;st(this,H,Ye),st(this,B,Qe),this.canvas.style.visibility="hidden";const[ut,mt]=this.parentDimensions;this.width=Fe/ut,this.height=Ge/mt,this.fixAndSetPosition(),Ee(this,I)&&Je(this,G,_n).call(this,Fe,Ge),Je(this,G,gr).call(this),Je(this,G,dr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Fe,Ge,Ye){var Bt,Xt,Zt;if(Fe instanceof j.InkAnnotationElement)return null;const Qe=super.deserialize(Fe,Ge,Ye);Qe.thickness=Fe.thickness,Qe.color=_.Util.makeHexColor(...Fe.color),Qe.opacity=Fe.opacity;const[ut,mt]=Qe.pageDimensions,gt=Qe.width*ut,Ze=Qe.height*mt,Et=Qe.parentScale,At=Fe.thickness/2;st(Qe,I,!0),st(Qe,H,Math.round(gt)),st(Qe,B,Math.round(Ze));const{paths:Ht,rect:Ut,rotation:Kt}=Fe;for(let{bezier:ht}of Ht){ht=Je(Bt=dt,$e,ai).call(Bt,ht,Ut,Kt);const nt=[];Qe.paths.push(nt);let at=Et*(ht[0]-At),Tt=Et*(ht[1]-At);for(let Vt=2,qe=ht.length;Vt<qe;Vt+=6){const pt=Et*(ht[Vt]-At),Rt=Et*(ht[Vt+1]-At),It=Et*(ht[Vt+2]-At),vt=Et*(ht[Vt+3]-At),St=Et*(ht[Vt+4]-At),Ue=Et*(ht[Vt+5]-At);nt.push([[at,Tt],[pt,Rt],[It,vt],[St,Ue]]),at=St,Tt=Ue}const Jt=Je(this,$e,ii).call(this,nt);Qe.bezierPath2D.push(Jt)}const Nt=Je(Xt=Qe,G,jn).call(Xt);return st(Qe,T,Math.max(w.AnnotationEditor.MIN_SIZE,Nt[2]-Nt[0])),st(Qe,C,Math.max(w.AnnotationEditor.MIN_SIZE,Nt[3]-Nt[1])),Je(Zt=Qe,G,_n).call(Zt,gt,Ze),Qe}serialize(){if(this.isEmpty())return null;const Fe=this.getRect(0,0),Ge=w.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_.AnnotationEditorType.INK,color:Ge,thickness:this.thickness,opacity:this.opacity,paths:Je(this,G,oi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Fe),pageIndex:this.pageIndex,rect:Fe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};C=new WeakMap,T=new WeakMap,N=new WeakMap,O=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakMap,I=new WeakMap,z=new WeakMap,F=new WeakMap,W=new WeakMap,H=new WeakMap,B=new WeakMap,U=new WeakMap,G=new WeakSet,Kn=function(Fe){const Ge=this.thickness;this.addCommands({cmd:()=>{this.thickness=Fe,Je(this,G,xr).call(this)},undo:()=>{this.thickness=Ge,Je(this,G,xr).call(this)},mustExec:!0,type:_.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Yn=function(Fe){const Ge=this.color;this.addCommands({cmd:()=>{this.color=Fe,Je(this,G,dr).call(this)},undo:()=>{this.color=Ge,Je(this,G,dr).call(this)},mustExec:!0,type:_.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xn=function(Fe){Fe/=100;const Ge=this.opacity;this.addCommands({cmd:()=>{this.opacity=Fe,Je(this,G,dr).call(this)},undo:()=>{this.opacity=Ge,Je(this,G,dr).call(this)},mustExec:!0,type:_.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Zn=function(){const{parentRotation:Fe,parentDimensions:[Ge,Ye]}=this;switch(Fe){case 90:return[0,Ye,Ye,Ge];case 180:return[Ge,Ye,Ge,Ye];case 270:return[Ge,0,Ye,Ge];default:return[0,0,Ge,Ye]}},yn=function(){const{ctx:Fe,color:Ge,opacity:Ye,thickness:Qe,parentScale:ut,scaleFactor:mt}=this;Fe.lineWidth=Qe*ut/mt,Fe.lineCap="round",Fe.lineJoin="round",Fe.miterLimit=10,Fe.strokeStyle=`${Ge}${(0,A.opacityToHex)(Ye)}`},Jn=function(Fe,Ge){this.canvas.addEventListener("contextmenu",S.noContextMenu),this.canvas.addEventListener("pointerleave",Ee(this,O)),this.canvas.addEventListener("pointermove",Ee(this,N)),this.canvas.addEventListener("pointerup",Ee(this,$)),this.canvas.removeEventListener("pointerdown",Ee(this,D)),this.isEditing=!0,Ee(this,F)||(st(this,F,!0),Je(this,G,gr).call(this),this.thickness||(this.thickness=dt._defaultThickness),this.color||(this.color=dt._defaultColor||w.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=dt._defaultOpacity)),this.currentPath.push([Fe,Ge]),st(this,z,!1),Je(this,G,yn).call(this),st(this,U,()=>{Je(this,G,ti).call(this),Ee(this,U)&&window.requestAnimationFrame(Ee(this,U))}),window.requestAnimationFrame(Ee(this,U))},bn=function(Fe,Ge){const[Ye,Qe]=this.currentPath.at(-1);if(this.currentPath.length>1&&Fe===Ye&&Ge===Qe)return;const ut=this.currentPath;let mt=Ee(this,L);if(ut.push([Fe,Ge]),st(this,z,!0),ut.length<=2){mt.moveTo(...ut[0]),mt.lineTo(Fe,Ge);return}ut.length===3&&(st(this,L,mt=new Path2D),mt.moveTo(...ut[0])),Je(this,G,ri).call(this,mt,...ut.at(-3),...ut.at(-2),Fe,Ge)},Qn=function(){if(this.currentPath.length===0)return;const Fe=this.currentPath.at(-1);Ee(this,L).lineTo(...Fe)},ei=function(Fe,Ge){st(this,U,null),Fe=Math.min(Math.max(Fe,0),this.canvas.width),Ge=Math.min(Math.max(Ge,0),this.canvas.height),Je(this,G,bn).call(this,Fe,Ge),Je(this,G,Qn).call(this);let Ye;if(this.currentPath.length!==1)Ye=Je(this,G,ni).call(this);else{const Ze=[Fe,Ge];Ye=[[Ze,Ze.slice(),Ze.slice(),Ze]]}const Qe=Ee(this,L),ut=this.currentPath;this.currentPath=[],st(this,L,new Path2D);const mt=()=>{this.allRawPaths.push(ut),this.paths.push(Ye),this.bezierPath2D.push(Qe),this.rebuild()},gt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Je(this,G,Ir).call(this),Je(this,G,Dr).call(this)),Je(this,G,xr).call(this))};this.addCommands({cmd:mt,undo:gt,mustExec:!0})},ti=function(){if(!Ee(this,z))return;st(this,z,!1);const Fe=Math.ceil(this.thickness*this.parentScale),Ge=this.currentPath.slice(-3),Ye=Ge.map(mt=>mt[0]),Qe=Ge.map(mt=>mt[1]);Math.min(...Ye)-Fe,Math.max(...Ye)+Fe,Math.min(...Qe)-Fe,Math.max(...Qe)+Fe;const{ctx:ut}=this;ut.save(),ut.clearRect(0,0,this.canvas.width,this.canvas.height);for(const mt of this.bezierPath2D)ut.stroke(mt);ut.stroke(Ee(this,L)),ut.restore()},ri=function(Fe,Ge,Ye,Qe,ut,mt,gt){const Ze=(Ge+Qe)/2,Et=(Ye+ut)/2,At=(Qe+mt)/2,Ht=(ut+gt)/2;Fe.bezierCurveTo(Ze+2*(Qe-Ze)/3,Et+2*(ut-Et)/3,At+2*(Qe-At)/3,Ht+2*(ut-Ht)/3,At,Ht)},ni=function(){const Fe=this.currentPath;if(Fe.length<=2)return[[Fe[0],Fe[0],Fe.at(-1),Fe.at(-1)]];const Ge=[];let Ye,[Qe,ut]=Fe[0];for(Ye=1;Ye<Fe.length-2;Ye++){const[Ut,Kt]=Fe[Ye],[Nt,Bt]=Fe[Ye+1],Xt=(Ut+Nt)/2,Zt=(Kt+Bt)/2,ht=[Qe+2*(Ut-Qe)/3,ut+2*(Kt-ut)/3],nt=[Xt+2*(Ut-Xt)/3,Zt+2*(Kt-Zt)/3];Ge.push([[Qe,ut],ht,nt,[Xt,Zt]]),[Qe,ut]=[Xt,Zt]}const[mt,gt]=Fe[Ye],[Ze,Et]=Fe[Ye+1],At=[Qe+2*(mt-Qe)/3,ut+2*(gt-ut)/3],Ht=[Ze+2*(mt-Ze)/3,Et+2*(gt-Et)/3];return Ge.push([[Qe,ut],At,Ht,[Ze,Et]]),Ge},dr=function(){if(this.isEmpty()){Je(this,G,Lr).call(this);return}Je(this,G,yn).call(this);const{canvas:Fe,ctx:Ge}=this;Ge.setTransform(1,0,0,1,0,0),Ge.clearRect(0,0,Fe.width,Fe.height),Je(this,G,Lr).call(this);for(const Ye of this.bezierPath2D)Ge.stroke(Ye)},En=function(Fe){this.canvas.removeEventListener("pointerleave",Ee(this,O)),this.canvas.removeEventListener("pointermove",Ee(this,N)),this.canvas.removeEventListener("pointerup",Ee(this,$)),this.canvas.addEventListener("pointerdown",Ee(this,D)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",S.noContextMenu)},10),Je(this,G,ei).call(this,Fe.offsetX,Fe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ir=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",w.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Fe=>{var Ge;return(Ge=this.canvas)==null?void 0:Ge.setAttribute("aria-label",Fe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Dr=function(){st(this,W,new ResizeObserver(Fe=>{const Ge=Fe[0].contentRect;Ge.width&&Ge.height&&this.setDimensions(Ge.width,Ge.height)})),Ee(this,W).observe(this.div)},gr=function(){if(!Ee(this,F))return;const[Fe,Ge]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Fe),this.canvas.height=Math.ceil(this.height*Ge),Je(this,G,Lr).call(this)},_n=function(Fe,Ge){const Ye=Je(this,G,Fr).call(this),Qe=(Fe-Ye)/Ee(this,T),ut=(Ge-Ye)/Ee(this,C);this.scaleFactor=Math.min(Qe,ut)},Lr=function(){const Fe=Je(this,G,Fr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Fe,this.translationY*this.scaleFactor+Fe)},$e=new WeakSet,ii=function(Fe){const Ge=new Path2D;for(let Ye=0,Qe=Fe.length;Ye<Qe;Ye++){const[ut,mt,gt,Ze]=Fe[Ye];Ye===0&&Ge.moveTo(...ut),Ge.bezierCurveTo(mt[0],mt[1],gt[0],gt[1],Ze[0],Ze[1])}return Ge},wn=function(Fe,Ge,Ye){const[Qe,ut,mt,gt]=Ge;switch(Ye){case 0:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2)Fe[Ze]+=Qe,Fe[Ze+1]=gt-Fe[Ze+1];break;case 90:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2){const At=Fe[Ze];Fe[Ze]=Fe[Ze+1]+Qe,Fe[Ze+1]=At+ut}break;case 180:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2)Fe[Ze]=mt-Fe[Ze],Fe[Ze+1]+=ut;break;case 270:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2){const At=Fe[Ze];Fe[Ze]=mt-Fe[Ze+1],Fe[Ze+1]=gt-At}break;default:throw new Error("Invalid rotation")}return Fe},ai=function(Fe,Ge,Ye){const[Qe,ut,mt,gt]=Ge;switch(Ye){case 0:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2)Fe[Ze]-=Qe,Fe[Ze+1]=gt-Fe[Ze+1];break;case 90:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2){const At=Fe[Ze];Fe[Ze]=Fe[Ze+1]-ut,Fe[Ze+1]=At-Qe}break;case 180:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2)Fe[Ze]=mt-Fe[Ze],Fe[Ze+1]-=ut;break;case 270:for(let Ze=0,Et=Fe.length;Ze<Et;Ze+=2){const At=Fe[Ze];Fe[Ze]=gt-Fe[Ze+1],Fe[Ze+1]=mt-At}break;default:throw new Error("Invalid rotation")}return Fe},oi=function(Fe,Ge,Ye,Qe){var Et,At;const ut=[],mt=this.thickness/2,gt=Fe*Ge+mt,Ze=Fe*Ye+mt;for(const Ht of this.paths){const Ut=[],Kt=[];for(let Nt=0,Bt=Ht.length;Nt<Bt;Nt++){const[Xt,Zt,ht,nt]=Ht[Nt],at=Fe*Xt[0]+gt,Tt=Fe*Xt[1]+Ze,Jt=Fe*Zt[0]+gt,Vt=Fe*Zt[1]+Ze,qe=Fe*ht[0]+gt,pt=Fe*ht[1]+Ze,Rt=Fe*nt[0]+gt,It=Fe*nt[1]+Ze;Nt===0&&(Ut.push(at,Tt),Kt.push(at,Tt)),Ut.push(Jt,Vt,qe,pt,Rt,It),Kt.push(Jt,Vt),Nt===Bt-1&&Kt.push(Rt,It)}ut.push({bezier:Je(Et=dt,$e,wn).call(Et,Ut,Qe,this.rotation),points:Je(At=dt,$e,wn).call(At,Kt,Qe,this.rotation)})}return ut},jn=function(){let Fe=1/0,Ge=-1/0,Ye=1/0,Qe=-1/0;for(const ut of this.paths)for(const[mt,gt,Ze,Et]of ut){const At=_.Util.bezierBoundingBox(...mt,...gt,...Ze,...Et);Fe=Math.min(Fe,At[0]),Ye=Math.min(Ye,At[1]),Ge=Math.max(Ge,At[2]),Qe=Math.max(Qe,At[3])}return[Fe,Ye,Ge,Qe]},Fr=function(){return Ee(this,I)?Math.ceil(this.thickness*this.parentScale):0},xr=function(Fe=!1){if(this.isEmpty())return;if(!Ee(this,I)){Je(this,G,dr).call(this);return}const Ge=Je(this,G,jn).call(this),Ye=Je(this,G,Fr).call(this);st(this,T,Math.max(w.AnnotationEditor.MIN_SIZE,Ge[2]-Ge[0])),st(this,C,Math.max(w.AnnotationEditor.MIN_SIZE,Ge[3]-Ge[1]));const Qe=Math.ceil(Ye+Ee(this,T)*this.scaleFactor),ut=Math.ceil(Ye+Ee(this,C)*this.scaleFactor),[mt,gt]=this.parentDimensions;this.width=Qe/mt,this.height=ut/gt,this.setAspectRatio(Qe,ut);const Ze=this.translationX,Et=this.translationY;this.translationX=-Ge[0],this.translationY=-Ge[1],Je(this,G,gr).call(this),Je(this,G,dr).call(this),st(this,H,Qe),st(this,B,ut),this.setDims(Qe,ut);const At=Fe?Ye/this.scaleFactor/2:0;this.translate(Ze-this.translationX-At,Et-this.translationY-At)},ot(dt,$e),tr(dt,"_defaultColor",null),tr(dt,"_defaultOpacity",1),tr(dt,"_defaultThickness",1),tr(dt,"_type","ink");let R=dt;o.InkEditor=R},(i,o,E)=>{var R,C,T,N,O,$,D,L,I,z,F,Sr,Ar,Br,Sn,si,li,An,zr,ci;Object.defineProperty(o,"__esModule",{value:!0}),o.StampEditor=void 0;var _=E(1),w=E(4),j=E(6),S=E(29);const fe=class fe extends w.AnnotationEditor{constructor(Pe){super({...Pe,name:"stampEditor"});ot(this,F);ot(this,R,null);ot(this,C,null);ot(this,T,null);ot(this,N,null);ot(this,O,null);ot(this,$,null);ot(this,D,null);ot(this,L,null);ot(this,I,!1);ot(this,z,!1);st(this,N,Pe.bitmapUrl),st(this,O,Pe.bitmapFile)}static initialize(Pe){w.AnnotationEditor.initialize(Pe)}static get supportedTypes(){const Pe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,_.shadow)(this,"supportedTypes",Pe.map(Ne=>`image/${Ne}`))}static get supportedTypesStr(){return(0,_.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Pe){return this.supportedTypes.includes(Pe)}static paste(Pe,Ne){Ne.pasteEditor(_.AnnotationEditorType.STAMP,{bitmapFile:Pe.getAsFile()})}remove(){var Pe,Ne;Ee(this,C)&&(st(this,R,null),this._uiManager.imageManager.deleteId(Ee(this,C)),(Pe=Ee(this,$))==null||Pe.remove(),st(this,$,null),(Ne=Ee(this,D))==null||Ne.disconnect(),st(this,D,null)),super.remove()}rebuild(){if(!this.parent){Ee(this,C)&&Je(this,F,Br).call(this);return}super.rebuild(),this.div!==null&&(Ee(this,C)&&Je(this,F,Br).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ee(this,T)||Ee(this,R)||Ee(this,N)||Ee(this,O))}get isResizable(){return!0}render(){if(this.div)return this.div;let Pe,Ne;if(this.width&&(Pe=this.x,Ne=this.y),super.render(),this.div.hidden=!0,Ee(this,R)?Je(this,F,Sn).call(this):Je(this,F,Br).call(this),this.width){const[Ce,Me]=this.parentDimensions;this.setAt(Pe*Ce,Ne*Me,this.width*Ce,this.height*Me)}return this.div}static deserialize(Pe,Ne,Ce){if(Pe instanceof S.StampAnnotationElement)return null;const Me=super.deserialize(Pe,Ne,Ce),{rect:Q,bitmapUrl:Re,bitmapId:ke,isSvg:_e,accessibilityData:Y}=Pe;ke&&Ce.imageManager.isValidId(ke)?st(Me,C,ke):st(Me,N,Re),st(Me,I,_e);const[J,Se]=Me.pageDimensions;return Me.width=(Q[2]-Q[0])/J,Me.height=(Q[3]-Q[1])/Se,Y&&(Me.altTextData=Y),Me}serialize(Pe=!1,Ne=null){if(this.isEmpty())return null;const Ce={annotationType:_.AnnotationEditorType.STAMP,bitmapId:Ee(this,C),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ee(this,I),structTreeParentId:this._structTreeParentId};if(Pe)return Ce.bitmapUrl=Je(this,F,zr).call(this,!0),Ce.accessibilityData=this.altTextData,Ce;const{decorative:Me,altText:Q}=this.altTextData;if(!Me&&Q&&(Ce.accessibilityData={type:"Figure",alt:Q}),Ne===null)return Ce;Ne.stamps||(Ne.stamps=new Map);const Re=Ee(this,I)?(Ce.rect[2]-Ce.rect[0])*(Ce.rect[3]-Ce.rect[1]):null;if(!Ne.stamps.has(Ee(this,C)))Ne.stamps.set(Ee(this,C),{area:Re,serialized:Ce}),Ce.bitmap=Je(this,F,zr).call(this,!1);else if(Ee(this,I)){const ke=Ne.stamps.get(Ee(this,C));Re>ke.area&&(ke.area=Re,ke.serialized.bitmap.close(),ke.serialized.bitmap=Je(this,F,zr).call(this,!1))}return Ce}};R=new WeakMap,C=new WeakMap,T=new WeakMap,N=new WeakMap,O=new WeakMap,$=new WeakMap,D=new WeakMap,L=new WeakMap,I=new WeakMap,z=new WeakMap,F=new WeakSet,Sr=function(Pe,Ne=!1){if(!Pe){this.remove();return}st(this,R,Pe.bitmap),Ne||(st(this,C,Pe.id),st(this,I,Pe.isSvg)),Je(this,F,Sn).call(this)},Ar=function(){st(this,T,null),this._uiManager.enableWaiting(!1),Ee(this,$)&&this.div.focus()},Br=function(){if(Ee(this,C)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ee(this,C)).then(Ne=>Je(this,F,Sr).call(this,Ne,!0)).finally(()=>Je(this,F,Ar).call(this));return}if(Ee(this,N)){const Ne=Ee(this,N);st(this,N,null),this._uiManager.enableWaiting(!0),st(this,T,this._uiManager.imageManager.getFromUrl(Ne).then(Ce=>Je(this,F,Sr).call(this,Ce)).finally(()=>Je(this,F,Ar).call(this)));return}if(Ee(this,O)){const Ne=Ee(this,O);st(this,O,null),this._uiManager.enableWaiting(!0),st(this,T,this._uiManager.imageManager.getFromFile(Ne).then(Ce=>Je(this,F,Sr).call(this,Ce)).finally(()=>Je(this,F,Ar).call(this)));return}const Pe=document.createElement("input");Pe.type="file",Pe.accept=fe.supportedTypesStr,st(this,T,new Promise(Ne=>{Pe.addEventListener("change",async()=>{if(!Pe.files||Pe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ce=await this._uiManager.imageManager.getFromFile(Pe.files[0]);Je(this,F,Sr).call(this,Ce)}Ne()}),Pe.addEventListener("cancel",()=>{this.remove(),Ne()})}).finally(()=>Je(this,F,Ar).call(this))),Pe.click()},Sn=function(){const{div:Pe}=this;let{width:Ne,height:Ce}=Ee(this,R);const[Me,Q]=this.pageDimensions,Re=.75;if(this.width)Ne=this.width*Me,Ce=this.height*Q;else if(Ne>Re*Me||Ce>Re*Q){const J=Math.min(Re*Me/Ne,Re*Q/Ce);Ne*=J,Ce*=J}const[ke,_e]=this.parentDimensions;this.setDims(Ne*ke/Me,Ce*_e/Q),this._uiManager.enableWaiting(!1);const Y=st(this,$,document.createElement("canvas"));Pe.append(Y),Pe.hidden=!1,Je(this,F,An).call(this,Ne,Ce),Je(this,F,ci).call(this),Ee(this,z)||(this.parent.addUndoableEditor(this),st(this,z,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},si=function(Pe,Ne){var Re;const[Ce,Me]=this.parentDimensions;this.width=Pe/Ce,this.height=Ne/Me,this.setDims(Pe,Ne),(Re=this._initialOptions)!=null&&Re.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ee(this,L)!==null&&clearTimeout(Ee(this,L)),st(this,L,setTimeout(()=>{st(this,L,null),Je(this,F,An).call(this,Pe,Ne)},200))},li=function(Pe,Ne){const{width:Ce,height:Me}=Ee(this,R);let Q=Ce,Re=Me,ke=Ee(this,R);for(;Q>2*Pe||Re>2*Ne;){const _e=Q,Y=Re;Q>2*Pe&&(Q=Q>=16384?Math.floor(Q/2)-1:Math.ceil(Q/2)),Re>2*Ne&&(Re=Re>=16384?Math.floor(Re/2)-1:Math.ceil(Re/2));const J=new OffscreenCanvas(Q,Re);J.getContext("2d").drawImage(ke,0,0,_e,Y,0,0,Q,Re),ke=J.transferToImageBitmap()}return ke},An=function(Pe,Ne){Pe=Math.ceil(Pe),Ne=Math.ceil(Ne);const Ce=Ee(this,$);if(!Ce||Ce.width===Pe&&Ce.height===Ne)return;Ce.width=Pe,Ce.height=Ne;const Me=Ee(this,I)?Ee(this,R):Je(this,F,li).call(this,Pe,Ne),Q=Ce.getContext("2d");Q.filter=this._uiManager.hcmFilter,Q.drawImage(Me,0,0,Me.width,Me.height,0,0,Pe,Ne)},zr=function(Pe){if(Pe){if(Ee(this,I)){const Me=this._uiManager.imageManager.getSvgUrl(Ee(this,C));if(Me)return Me}const Ne=document.createElement("canvas");return{width:Ne.width,height:Ne.height}=Ee(this,R),Ne.getContext("2d").drawImage(Ee(this,R),0,0),Ne.toDataURL()}if(Ee(this,I)){const[Ne,Ce]=this.pageDimensions,Me=Math.round(this.width*Ne*j.PixelsPerInch.PDF_TO_CSS_UNITS),Q=Math.round(this.height*Ce*j.PixelsPerInch.PDF_TO_CSS_UNITS),Re=new OffscreenCanvas(Me,Q);return Re.getContext("2d").drawImage(Ee(this,R),0,0,Ee(this,R).width,Ee(this,R).height,0,0,Me,Q),Re.transferToImageBitmap()}return structuredClone(Ee(this,R))},ci=function(){st(this,D,new ResizeObserver(Pe=>{const Ne=Pe[0].contentRect;Ne.width&&Ne.height&&Je(this,F,si).call(this,Ne.width,Ne.height)})),Ee(this,D).observe(this.div)},tr(fe,"_type","stamp");let A=fe;o.StampEditor=A}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var o=__webpack_module_cache__[i];if(o!==void 0)return o.exports;var E=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](E,E.exports,__w_pdfjs_require__),E.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AbortException",{enumerable:!0,get:function(){return o.AbortException}}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return j.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return S.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return A.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(i,"DOMSVGFactory",{enumerable:!0,get:function(){return _.DOMSVGFactory}}),Object.defineProperty(i,"FeatureTest",{enumerable:!0,get:function(){return o.FeatureTest}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return R.GlobalWorkerOptions}}),Object.defineProperty(i,"ImageKind",{enumerable:!0,get:function(){return o.ImageKind}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return E.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return _.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return E.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return _.PixelsPerInch}}),Object.defineProperty(i,"PromiseCapability",{enumerable:!0,get:function(){return o.PromiseCapability}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return _.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return E.SVGGraphics}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return C.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return E.build}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return E.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return _.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return _.getXfaPageViewport}}),Object.defineProperty(i,"isDataScheme",{enumerable:!0,get:function(){return _.isDataScheme}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return _.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return _.loadScript}}),Object.defineProperty(i,"noContextMenu",{enumerable:!0,get:function(){return _.noContextMenu}}),Object.defineProperty(i,"normalizeUnicode",{enumerable:!0,get:function(){return o.normalizeUnicode}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return w.renderTextLayer}}),Object.defineProperty(i,"setLayerDimensions",{enumerable:!0,get:function(){return _.setLayerDimensions}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(i,"updateTextLayer",{enumerable:!0,get:function(){return w.updateTextLayer}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return E.version}});var o=__w_pdfjs_require__(1),E=__w_pdfjs_require__(2),_=__w_pdfjs_require__(6),w=__w_pdfjs_require__(26),j=__w_pdfjs_require__(27),S=__w_pdfjs_require__(5),A=__w_pdfjs_require__(29),R=__w_pdfjs_require__(14),C=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,runtime={exports:{}};(function(i){var o=function(E){var _=Object.prototype,w=_.hasOwnProperty,j=Object.defineProperty||function(Q,Re,ke){Q[Re]=ke.value},S,A=typeof Symbol=="function"?Symbol:{},R=A.iterator||"@@iterator",C=A.asyncIterator||"@@asyncIterator",T=A.toStringTag||"@@toStringTag";function N(Q,Re,ke){return Object.defineProperty(Q,Re,{value:ke,enumerable:!0,configurable:!0,writable:!0}),Q[Re]}try{N({},"")}catch{N=function(Re,ke,_e){return Re[ke]=_e}}function O(Q,Re,ke,_e){var Y=Re&&Re.prototype instanceof W?Re:W,J=Object.create(Y.prototype),Se=new Ne(_e||[]);return j(J,"_invoke",{value:fe(Q,ke,Se)}),J}E.wrap=O;function $(Q,Re,ke){try{return{type:"normal",arg:Q.call(Re,ke)}}catch(_e){return{type:"throw",arg:_e}}}var D="suspendedStart",L="suspendedYield",I="executing",z="completed",F={};function W(){}function H(){}function B(){}var U={};N(U,R,function(){return this});var G=Object.getPrototypeOf,V=G&&G(G(Ce([])));V&&V!==_&&w.call(V,R)&&(U=V);var K=B.prototype=W.prototype=Object.create(U);H.prototype=B,j(K,"constructor",{value:B,configurable:!0}),j(B,"constructor",{value:H,configurable:!0}),H.displayName=N(B,T,"GeneratorFunction");function je(Q){["next","throw","return"].forEach(function(Re){N(Q,Re,function(ke){return this._invoke(Re,ke)})})}E.isGeneratorFunction=function(Q){var Re=typeof Q=="function"&&Q.constructor;return Re?Re===H||(Re.displayName||Re.name)==="GeneratorFunction":!1},E.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,B):(Q.__proto__=B,N(Q,T,"GeneratorFunction")),Q.prototype=Object.create(K),Q},E.awrap=function(Q){return{__await:Q}};function Z(Q,Re){function ke(J,Se,Ie,$e){var De=$(Q[J],Q,Se);if(De.type==="throw")$e(De.arg);else{var Be=De.arg,Le=Be.value;return Le&&typeof Le=="object"&&w.call(Le,"__await")?Re.resolve(Le.__await).then(function(He){ke("next",He,Ie,$e)},function(He){ke("throw",He,Ie,$e)}):Re.resolve(Le).then(function(He){Be.value=He,Ie(Be)},function(He){return ke("throw",He,Ie,$e)})}}var _e;function Y(J,Se){function Ie(){return new Re(function($e,De){ke(J,Se,$e,De)})}return _e=_e?_e.then(Ie,Ie):Ie()}j(this,"_invoke",{value:Y})}je(Z.prototype),N(Z.prototype,C,function(){return this}),E.AsyncIterator=Z,E.async=function(Q,Re,ke,_e,Y){Y===void 0&&(Y=Promise);var J=new Z(O(Q,Re,ke,_e),Y);return E.isGeneratorFunction(Re)?J:J.next().then(function(Se){return Se.done?Se.value:J.next()})};function fe(Q,Re,ke){var _e=D;return function(J,Se){if(_e===I)throw new Error("Generator is already running");if(_e===z){if(J==="throw")throw Se;return Me()}for(ke.method=J,ke.arg=Se;;){var Ie=ke.delegate;if(Ie){var $e=Ae(Ie,ke);if($e){if($e===F)continue;return $e}}if(ke.method==="next")ke.sent=ke._sent=ke.arg;else if(ke.method==="throw"){if(_e===D)throw _e=z,ke.arg;ke.dispatchException(ke.arg)}else ke.method==="return"&&ke.abrupt("return",ke.arg);_e=I;var De=$(Q,Re,ke);if(De.type==="normal"){if(_e=ke.done?z:L,De.arg===F)continue;return{value:De.arg,done:ke.done}}else De.type==="throw"&&(_e=z,ke.method="throw",ke.arg=De.arg)}}}function Ae(Q,Re){var ke=Re.method,_e=Q.iterator[ke];if(_e===S)return Re.delegate=null,ke==="throw"&&Q.iterator.return&&(Re.method="return",Re.arg=S,Ae(Q,Re),Re.method==="throw")||ke!=="return"&&(Re.method="throw",Re.arg=new TypeError("The iterator does not provide a '"+ke+"' method")),F;var Y=$(_e,Q.iterator,Re.arg);if(Y.type==="throw")return Re.method="throw",Re.arg=Y.arg,Re.delegate=null,F;var J=Y.arg;if(!J)return Re.method="throw",Re.arg=new TypeError("iterator result is not an object"),Re.delegate=null,F;if(J.done)Re[Q.resultName]=J.value,Re.next=Q.nextLoc,Re.method!=="return"&&(Re.method="next",Re.arg=S);else return J;return Re.delegate=null,F}je(K),N(K,T,"Generator"),N(K,R,function(){return this}),N(K,"toString",function(){return"[object Generator]"});function Oe(Q){var Re={tryLoc:Q[0]};1 in Q&&(Re.catchLoc=Q[1]),2 in Q&&(Re.finallyLoc=Q[2],Re.afterLoc=Q[3]),this.tryEntries.push(Re)}function Pe(Q){var Re=Q.completion||{};Re.type="normal",delete Re.arg,Q.completion=Re}function Ne(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(Oe,this),this.reset(!0)}E.keys=function(Q){var Re=Object(Q),ke=[];for(var _e in Re)ke.push(_e);return ke.reverse(),function Y(){for(;ke.length;){var J=ke.pop();if(J in Re)return Y.value=J,Y.done=!1,Y}return Y.done=!0,Y}};function Ce(Q){if(Q){var Re=Q[R];if(Re)return Re.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length)){var ke=-1,_e=function Y(){for(;++ke<Q.length;)if(w.call(Q,ke))return Y.value=Q[ke],Y.done=!1,Y;return Y.value=S,Y.done=!0,Y};return _e.next=_e}}return{next:Me}}E.values=Ce;function Me(){return{value:S,done:!0}}return Ne.prototype={constructor:Ne,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=S,this.done=!1,this.delegate=null,this.method="next",this.arg=S,this.tryEntries.forEach(Pe),!Q)for(var Re in this)Re.charAt(0)==="t"&&w.call(this,Re)&&!isNaN(+Re.slice(1))&&(this[Re]=S)},stop:function(){this.done=!0;var Q=this.tryEntries[0],Re=Q.completion;if(Re.type==="throw")throw Re.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var Re=this;function ke($e,De){return J.type="throw",J.arg=Q,Re.next=$e,De&&(Re.method="next",Re.arg=S),!!De}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Y=this.tryEntries[_e],J=Y.completion;if(Y.tryLoc==="root")return ke("end");if(Y.tryLoc<=this.prev){var Se=w.call(Y,"catchLoc"),Ie=w.call(Y,"finallyLoc");if(Se&&Ie){if(this.prev<Y.catchLoc)return ke(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return ke(Y.finallyLoc)}else if(Se){if(this.prev<Y.catchLoc)return ke(Y.catchLoc,!0)}else if(Ie){if(this.prev<Y.finallyLoc)return ke(Y.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Q,Re){for(var ke=this.tryEntries.length-1;ke>=0;--ke){var _e=this.tryEntries[ke];if(_e.tryLoc<=this.prev&&w.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var Y=_e;break}}Y&&(Q==="break"||Q==="continue")&&Y.tryLoc<=Re&&Re<=Y.finallyLoc&&(Y=null);var J=Y?Y.completion:{};return J.type=Q,J.arg=Re,Y?(this.method="next",this.next=Y.finallyLoc,F):this.complete(J)},complete:function(Q,Re){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&Re&&(this.next=Re),F},finish:function(Q){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var ke=this.tryEntries[Re];if(ke.finallyLoc===Q)return this.complete(ke.completion,ke.afterLoc),Pe(ke),F}},catch:function(Q){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var ke=this.tryEntries[Re];if(ke.tryLoc===Q){var _e=ke.completion;if(_e.type==="throw"){var Y=_e.arg;Pe(ke)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(Q,Re,ke){return this.delegate={iterator:Ce(Q),resultName:Re,nextLoc:ke},this.method==="next"&&(this.arg=S),F}},E}(i.exports);try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}})(runtime);var getId$3=(i,o)=>`${i}-${o}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:i,action:o,payload:E={}})=>{let _=i;return typeof _>"u"&&(_=getId$2("Job",jobCounter),jobCounter+=1),{id:_,action:o,payload:E}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=i=>{logging=i};log$2.log=(...i)=>logging?console.log.apply(void 0,i):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const i=getId$1("Scheduler",schedulerCounter),o={},E={};let _=[];schedulerCounter+=1;const w=()=>_.length,j=()=>Object.keys(o).length,S=()=>{if(_.length!==0){const N=Object.keys(o);for(let O=0;O<N.length;O+=1)if(typeof E[N[O]]>"u"){_[0](o[N[O]]);break}}},A=(N,O)=>new Promise(($,D)=>{const L=createJob$1({action:N,payload:O});_.push(async I=>{_.shift(),E[I.id]=L;try{$(await I[N].apply(void 0,[...O,L.id]))}catch(z){D(z)}finally{delete E[I.id],S()}}),log$1(`[${i}]: Add ${L.id} to JobQueue`),log$1(`[${i}]: JobQueue length=${_.length}`),S()});return{addWorker:N=>(o[N.id]=N,log$1(`[${i}]: Add ${N.id}`),log$1(`[${i}]: Number of workers=${j()}`),S(),N.id),addJob:async(N,...O)=>{if(j()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return A(N,O)},terminate:async()=>{Object.keys(o).forEach(async N=>{await o[N].terminate()}),_=[]},getQueueLen:w,getNumWorkers:j}};function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1;var getEnvironment=i=>{const o={};return typeof WorkerGlobalScope<"u"?o.type="webworker":isElectron()?o.type="electron":typeof document=="object"?o.type="browser":typeof process=="object"&&typeof commonjsRequire=="function"&&(o.type="node"),typeof i>"u"?o:o[i]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?i=>new URL(i,window.location.href).href:i=>i;var resolvePaths$1=i=>{const o={...i};return["corePath","workerPath","langPath"].forEach(E=>{i[E]&&(o[E]=resolveURL(o[E]))}),o},circularize$1=i=>{const o=[],E=[],_=[],w=[],j=[];return i.blocks&&i.blocks.forEach(S=>{S.paragraphs.forEach(A=>{A.lines.forEach(R=>{R.words.forEach(C=>{C.symbols.forEach(T=>{j.push({...T,page:i,block:S,paragraph:A,line:R,word:C})}),w.push({...C,page:i,block:S,paragraph:A,line:R})}),_.push({...R,page:i,block:S,paragraph:A})}),E.push({...A,page:i,block:S})}),o.push({...S,page:i})}),{...i,blocks:o,paragraphs:E,lines:_,words:w,symbols:j}},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const version$1="5.1.1",require$$0={version:version$1};var defaultOptions$4={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$3=defaultOptions$4;var defaultOptions_1={...defaultOptions$3,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:i,workerBlobURL:o})=>{let E;if(Blob&&URL&&o){const _=new Blob([`importScripts("${i}");`],{type:"application/javascript"});E=new Worker(URL.createObjectURL(_))}else E=new Worker(i);return E},terminateWorker$2=i=>{i.terminate()},onMessage$2=(i,o)=>{i.onmessage=({data:E})=>{o(E)}},send$2=async(i,o)=>{i.postMessage(o)};const readFromBlobOrFile=i=>new Promise((o,E)=>{const _=new FileReader;_.onload=()=>{o(_.result)},_.onerror=({target:{error:{code:w}}})=>{E(Error(`File could not be read! Code=${w}`))},_.readAsArrayBuffer(i)}),loadImage$2=async i=>{let o=i;if(typeof i>"u")return"undefined";if(typeof i=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(i)?o=atob(i.split(",")[1]).split("").map(E=>E.charCodeAt(0)):o=await(await fetch(i)).arrayBuffer();else if(typeof HTMLElement<"u"&&i instanceof HTMLElement)i.tagName==="IMG"&&(o=await loadImage$2(i.src)),i.tagName==="VIDEO"&&(o=await loadImage$2(i.poster)),i.tagName==="CANVAS"&&await new Promise(E=>{i.toBlob(async _=>{o=await readFromBlobOrFile(_),E()})});else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas){const E=await i.convertToBlob();o=await readFromBlobOrFile(E)}else(i instanceof File||i instanceof Blob)&&(o=await readFromBlobOrFile(i));return new Uint8Array(o)};var loadImage_1=loadImage$2;const defaultOptions$2=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser={defaultOptions:defaultOptions$2,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,circularize=circularize$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions:defaultOptions$1,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser;let workerCounter=0;var createWorker$2=async(i="eng",o=OEM$1.LSTM_ONLY,E={},_={})=>{const w=getId("Worker",workerCounter),{logger:j,errorHandler:S,...A}=resolvePaths({...defaultOptions$1,...E}),R={},C={},T=typeof i=="string"?i.split("+"):i;let N=o,O=_;const $=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(o)&&!A.legacyCore;let D,L;const I=new Promise((Y,J)=>{L=Y,D=J}),z=Y=>{D(Y.message)};let F=spawnWorker(A);F.onerror=z,workerCounter+=1;const W=(Y,J)=>{R[Y]=J},H=(Y,J)=>{C[Y]=J},B=({id:Y,action:J,payload:Se})=>new Promise((Ie,$e)=>{log(`[${w}]: Start ${Y}, action=${J}`);const De=`${J}-${Y}`;W(De,Ie),H(De,$e),send(F,{workerId:w,jobId:Y,action:J,payload:Se})}),U=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),G=Y=>B(createJob({id:Y,action:"load",payload:{options:{lstmOnly:$,corePath:A.corePath,logging:A.logging}}})),V=(Y,J,Se)=>B(createJob({id:Se,action:"FS",payload:{method:"writeFile",args:[Y,J]}})),K=(Y,J)=>B(createJob({id:J,action:"FS",payload:{method:"readFile",args:[Y,{encoding:"utf8"}]}})),je=(Y,J)=>B(createJob({id:J,action:"FS",payload:{method:"unlink",args:[Y]}})),Z=(Y,J,Se)=>B(createJob({id:Se,action:"FS",payload:{method:Y,args:J}})),fe=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Ae=(Y,J)=>B(createJob({id:J,action:"loadLanguage",payload:{langs:Y,options:{langPath:A.langPath,dataPath:A.dataPath,cachePath:A.cachePath,cacheMethod:A.cacheMethod,gzip:A.gzip,lstmOnly:[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(N)&&!A.legacyLang}}})),Oe=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),Pe=(Y,J,Se,Ie)=>B(createJob({id:Ie,action:"initialize",payload:{langs:Y,oem:J,config:Se}})),Ne=(Y="eng",J,Se,Ie)=>{if($&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(J))throw Error("Legacy model requested but code missing.");const $e=J||N;N=$e;const De=Se||O;O=De;const Le=(typeof Y=="string"?Y.split("+"):Y).filter(He=>!T.includes(He));return T.push(...Le),Le.length>0?Ae(Le,Ie).then(()=>Pe(Y,$e,De,Ie)):Pe(Y,$e,De,Ie)},Ce=(Y={},J)=>B(createJob({id:J,action:"setParameters",payload:{params:Y}})),Me=async(Y,J={},Se={blocks:!0,text:!0,hocr:!0,tsv:!0},Ie)=>B(createJob({id:Ie,action:"recognize",payload:{image:await loadImage(Y),options:J,output:Se}})),Q=(Y="Tesseract OCR Result",J=!1,Se)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),B(createJob({id:Se,action:"getPDF",payload:{title:Y,textonly:J}}))),Re=async(Y,J)=>{if($)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return B(createJob({id:J,action:"detect",payload:{image:await loadImage(Y)}}))},ke=async()=>(F!==null&&(terminateWorker(F),F=null),Promise.resolve());onMessage(F,({workerId:Y,jobId:J,status:Se,action:Ie,data:$e})=>{const De=`${Ie}-${J}`;if(Se==="resolve"){log(`[${Y}]: Complete ${J}`);let Be=$e;Ie==="recognize"?Be=circularize($e):Ie==="getPDF"&&(Be=Array.from({...$e,length:Object.keys($e).length})),R[De]({jobId:J,data:Be})}else if(Se==="reject")if(C[De]($e),Ie==="load"&&D($e),S)S($e);else throw Error($e);else Se==="progress"&&j({...$e,userJobId:J})});const _e={id:w,worker:F,setResolve:W,setReject:H,load:U,writeText:V,readText:K,removeFile:je,FS:Z,loadLanguage:fe,initialize:Oe,reinitialize:Ne,setParameters:Ce,recognize:Me,getPDF:Q,detect:Re,terminate:ke};return G().then(()=>Ae(i)).then(()=>Pe(i,o,_)).then(()=>L(_e)).catch(()=>{}),I};const createWorker$1=createWorker$2,recognize=async(i,o,E)=>{const _=await createWorker$1(o,1,E);return _.recognize(i).finally(async()=>{await _.terminate()})},detect=async(i,o)=>{const E=await createWorker$1("osd",0,o);return E.detect(i).finally(async()=>{await E.terminate()})};var Tesseract$1={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$1,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract};try{pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.min.js`}catch(i){console.warn("PDF.js CDN non disponibile, usando fallback locale"),pdfExports.GlobalWorkerOptions.workerSrc="/pdf.worker.min.js"}const DEBUG_ANALYSIS=env.DEBUG_MODE,RX={setsReps1:/^(?<name>[\p{L}\d .,'()\/\-]+?)\s*[-–:]?\s*(?<sets>\d{1,2})\s*x\s*(?<reps_lo>\d{1,3})(?:\s*[-–]\s*(?<reps_hi>\d{1,3}))?(?:\s*(?:reps?|rip(?:etizioni)?))?(?:.*?(?:rec(?:upero)?|rest|pausa)\s*(?<rest_val>\d{1,3})\s*(?<rest_unit>["s]|sec|min))?(?:.*?(?<notes>\((?:[^)]+)\)|per gamba|per lato|totali|assistite|negativa|lenta|manubri|bilanciere))?$/u,setsReps2:/^(?<name>[\p{L}\d .,'()\/\-]+?)\s*[-–:]?\s*(?<sets>\d{1,2})\s*(?:serie|set)\s*(?:da|x)\s*(?<reps_lo>\d{1,3})(?:\s*[-–]\s*(?<reps_hi>\d{1,3}))?(?:.*?(?:rec(?:upero)?|rest|pausa)\s*(?<rest_val>\d{1,3})\s*(?<rest_unit>["s]|sec|min))?(?:.*?(?<notes>\((?:[^)]+)\)|per gamba|per lato|totali|assistite|negativa|lenta|manubri|bilanciere))?$/u,setsTime:/^(?<name>[\p{L}\d .,'()\/\-]+?)\s*[-–:]?\s*(?<sets>\d{1,2})\s*x\s*(?<dur_val>\d{1,3})\s*(?<dur_unit>["s]|sec|min)(?:.*?(?:rec(?:upero)?|rest|pausa)\s*(?<rest_val>\d{1,3})\s*(?<rest_unit>["s]|sec|min))?(?:.*?(?<notes>\((?:[^)]+)\)|per gamba|per lato|totali|assistite))?$/u,timeOnly:/^(?<name>[\p{L}\d .,'()\/\-]+?)\s*[-–:]?\s*(?<dur_val>\d{1,3})\s*(?<dur_unit>["s]|sec|min)(?:.*?(?:rec(?:upero)?|rest|pausa)\s*(?<rest_val>\d{1,3})\s*(?<rest_unit>["s]|sec|min))?(?:.*?(?<notes>\((?:[^)]+)\)|per gamba|per lato|totali|assistite))?$/u,repsLoose:/^(?<name>[\p{L}\d .,'()\/\-]+?)\s*[-–:]?\s*(?<reps_lo>\d{1,3})\s*[-–]\s*(?<reps_hi>\d{1,3})(?:\s*(?:rip|ripetizioni|reps))?(?:.*?(?:rec(?:upero)?|rest|pausa)\s*(?<rest_val>\d{1,3})\s*(?<rest_unit>["s]|sec|min))?(?:.*?(?<notes>\((?:[^)]+)\)|per gamba|per lato|totali|assistite))?$/u,restOnly:/^(?:rec(?:upero)?|rest|pausa)\s*(?<rest_val>\d{1,3})\s*(?<rest_unit>["s]|sec|min)$/iu};class AdvancedWorkoutAnalyzer{static async analyzeWorkoutFile(o){var _,w,j;const E=Date.now();this.log("[ANALYSIS]",`File ricevuto → ${typeof o=="string"?"URL":"File"}: ${typeof o=="string"?o:o.name} (${typeof o=="string"?"N/A":o.size} bytes)`);try{const S=await this.handleInput(o),A=await this.extractText(S);if(A.extractionStatus==="EMPTY_TEXT"||A.extractionStatus==="EMPTY_TEXT_AFTER_OCR")return this.log("[EXTRACT]","⚠ Nessun testo estratto"),this.createEmptyResult(A);this.log("[EXTRACT]",`→ ${A.source}, lunghezza: ${A.text.length} caratteri`);const R=await this.parseWorkoutStructure(A.text);this.log("[PARSE]",`→ ${R.riscaldamento.length} riscaldamento, ${R.scheda.length} esercizi, ${R.stretching.length} stretching`);const C=this.calculateConfidence(A,R);return this.log("[CONF]",`→ Punteggio: ${C}/100`),{riscaldamento:R.riscaldamento,giorno:this.detectDayNumber(A.text),esercizi:R.scheda,stretching:R.stretching,multiDay:R.multiDay,daysFound:R.daysFound,metadata:{extractionSource:A.source,extractionStatus:A.extractionStatus,confidence:C,warnings:this.generateWarnings(A,R),...DEBUG_ANALYSIS&&{debug:{textPreview:A.text.slice(0,600),extractionSource:A.source,extractionStatus:A.extractionStatus,reason:`Analisi completata in ${Date.now()-E}ms`,linesTried:(_=R.metadata)==null?void 0:_.linesTried,matches:(w=R.metadata)==null?void 0:w.matches,reasons:(j=R.metadata)==null?void 0:j.reasons}}}}}catch(S){return this.log("[ERROR]",`Errore durante l'analisi: ${S}`),this.createErrorResult(S)}}static async handleInput(o){if(typeof o=="string")return o;if(o.name.includes("supabase")||o.type==="application/octet-stream")try{const{data:E,error:_}=await supabase.storage.from("workout-files").createSignedUrl(o.name,3600);if(_)throw _;return E.signedUrl}catch(E){this.log("[URL]",`Errore generazione URL firmato: ${E}`)}return URL.createObjectURL(o)}static async extractText(o){try{const E=await this.extractPDFText(o);if(E.text.trim().length>=20)return this.log("[EXTRACT]",`PDF text extraction → ${E.text.length} caratteri`),{text:E.text,source:"pdf-text",extractionStatus:"SUCCESS",confidence:E.confidence};this.log("[EXTRACT]",`PDF text troppo corto (${E.text.length} caratteri), prova OCR...`);const _=await this.extractOCRText(o);return _.text.trim().length>=20?(this.log("[EXTRACT]",`OCR extraction → ${_.text.length} caratteri`),{text:_.text,source:"ocr",extractionStatus:"SUCCESS",confidence:_.confidence}):(this.log("[EXTRACT]","⚠ OCR non ha estratto testo sufficiente"),{text:_.text,source:"ocr",extractionStatus:"EMPTY_TEXT_AFTER_OCR",confidence:0})}catch(E){return this.log("[EXTRACT]",`Errore estrazione: ${E}`),{text:"",source:"pdf-text",extractionStatus:"ERROR",confidence:0}}}static async extractPDFText(o){try{const _=await pdfExports.getDocument(o).promise;let w="",j=_.numPages;for(let A=1;A<=j;A++){const T=(await(await _.getPage(A)).getTextContent()).items.map(N=>N.str).join(" ");w+=T+`
`}const S=this.normalizeText(w);return{text:S,confidence:S.length>100?80:40}}catch(E){return this.log("[PDF]",`Errore estrazione PDF: ${E}`),{text:"",confidence:0}}}static async extractOCRText(o){try{const E=await src.createWorker("ita+eng",1,{logger:DEBUG_ANALYSIS?S=>this.log("[OCR]",typeof S=="string"?S:JSON.stringify(S)):()=>{}}),{data:{text:_,confidence:w}}=await E.recognize(o);return await E.terminate(),{text:this.normalizeText(_),confidence:w/100}}catch(E){return this.log("[OCR]",`Errore OCR: ${E}`),{text:"",confidence:0}}}static normalizeText(o){return o.normalize("NFKC").replace(/×/g,"x").replace(/[–—]/g,"-").replace(/[''`]/g,"'").replace(/[""]/g,'"').replace(/…/g,"...").replace(/ﬀ/g,"ff").replace(/ﬁ/g,"fi").replace(/ﬂ/g,"fl").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"").replace(/^[•\-]\s*/gm,"").replace(/\s+/g," ").trim()}static async parseWorkoutStructure(o){var D,L;const E=env.DEBUG_MODE;o.replace(/×/g,"x").replace(/–/g,"-").replace(/•/g,"").replace(/\r\n/g,`
`).replace(/\s{2,}/g," ").trim().split(`
`).map(I=>I.trim()).filter(Boolean).forEach((I,z)=>{});const j=this.preprocessLines(o);let S="scheda",A=!1,R=[];const C={riscaldamento:[],scheda:[],stretching:[]};let T=0,N=0;const O=[];let $=null;for(let I=0;I<j.length;I++){const z=j[I].trim();if(!z)continue;T++;const F=this.detectSection(z);if(F){S=F;continue}if(this.detectDay(z)){R.length>0&&(A=!0),R.push(z);continue}const H=this.parseExerciseLine(z);if(H){switch(N++,$=H,S){case"riscaldamento":C.riscaldamento.push(H);break;case"scheda":C.scheda.push(H);break;case"stretching":C.stretching.push(H);break}continue}const B=z.match(RX.restOnly);if(B&&$&&!$.rest){const U=(D=B.groups)==null?void 0:D.rest_val,G=(L=B.groups)==null?void 0:L.rest_unit;if(U&&G){$.rest=`${U}${G==='"'?"s":G}`;continue}}O.push(`Linea ${I+1}: "${z}" - nessun pattern match`)}return C.riscaldamento.length===0&&(C.riscaldamento=this.suggestRiscaldamento(C.scheda)),C.stretching.length===0&&(C.stretching=this.suggestStretching(C.scheda)),{...C,multiDay:A,daysFound:R,metadata:E?{linesTried:T,matches:N,reasons:O}:void 0}}static preprocessLines(o){const E=o.split(`
`),_=[];for(let w=0;w<E.length;w++){let j=E[w].trim();if(w<E.length-1){const S=E[w+1].trim();(j.endsWith(":")||!/\d/.test(j))&&/\d+\s*x\s*\d+/.test(S)&&(j=`${j} ${S}`,w++)}j&&_.push(j)}return _}static detectSection(o){const E=o.toLowerCase();return E.includes("riscaldamento")||E.includes("warm-up")||E.includes("warm up")?"riscaldamento":E.includes("stretching")||E.includes("defaticamento")||E.includes("cool-down")?"stretching":E.includes("esercizi")||E.includes("allenamento")||E.includes("main")?"scheda":null}static detectDay(o){const E=[/giorno\s*(\d+)/i,/day\s*(\d+)/i,/sessione\s*(\d+)/i,/session\s*(\d+)/i,/(lunedì|martedì|mercoledì|giovedì|venerdì|sabato|domenica)/i,/(monday|tuesday|wednesday|thursday|friday|saturday|sunday)/i];for(const _ of E)if(o.match(_))return o;return null}static detectDayNumber(o){const E=this.detectDay(o);if(E){const _=E.match(/\d+/);if(_)return parseInt(_[0],10)}return 1}static parseExerciseLine(o){var _;const E=[{name:"setsReps1",regex:RX.setsReps1},{name:"setsReps2",regex:RX.setsReps2},{name:"setsTime",regex:RX.setsTime},{name:"timeOnly",regex:RX.timeOnly},{name:"repsLoose",regex:RX.repsLoose}];for(const w of E){const j=o.match(w.regex);if(j&&j.groups){const S=j.groups,A={name:((_=S.name)==null?void 0:_.trim())||"",_sourceLine:o};if(S.sets&&(A.sets=S.sets),S.reps_lo&&(A.reps=S.reps_hi?`${S.reps_lo}-${S.reps_hi}`:S.reps_lo),S.dur_val&&S.dur_unit){const R=S.dur_unit==='"'?"s":S.dur_unit;A.duration=`${S.dur_val}${R}`}if(S.rest_val&&S.rest_unit){const R=S.rest_unit==='"'?"s":S.rest_unit;A.rest=`${S.rest_val}${R}`}return S.notes&&(A.notes=S.notes),A.name?A:null}}return null}static suggestRiscaldamento(o){return[{name:"Mobilità articolare generale",sets:"1",duration:"5min",notes:"(Proposto dal programma)",_sourceLine:"Suggerito automaticamente"}]}static suggestStretching(o){return[{name:"Stretching generale",sets:"1",duration:"5min",notes:"(Proposto dal programma)",_sourceLine:"Suggerito automaticamente"}]}static calculateConfidence(o,E){if(o.text.length===0)return 0;const _=E.riscaldamento.length+E.scheda.length+E.stretching.length;if(_===0)return 20;let w=60;return _>3&&(w+=10),_>5&&(w+=10),E.riscaldamento.length>0&&(w+=5),E.stretching.length>0&&(w+=5),o.source==="pdf-text"&&(w+=5),Math.min(w,90)}static generateWarnings(o,E){const _=[];return o.extractionStatus==="EMPTY_TEXT_AFTER_OCR"&&_.push("PDF non contiene testo leggibile, usare OCR"),E.scheda.length===0&&o.text.length>0&&_.push("Regex non hanno trovato match per gli esercizi"),_}static createEmptyResult(o){return{riscaldamento:[],giorno:1,esercizi:[],stretching:[],metadata:{extractionSource:o.source,extractionStatus:o.extractionStatus,confidence:0,warnings:["Nessun testo estratto dal file"]}}}static createErrorResult(o){return{riscaldamento:[],giorno:1,esercizi:[],stretching:[],metadata:{extractionSource:"error",extractionStatus:"ERROR",confidence:0,warnings:[`Errore durante l'analisi: ${o.message}`]}}}static log(o,E){}}class FileAnalyzer{static async analyzeFile(o){try{if(o instanceof File&&o.size>10*1024*1024)throw new Error("File troppo grande (max 10MB)");const E=await AdvancedWorkoutAnalyzer.analyzeWorkoutFile(o);return this.convertToFileAnalysisResult(E)}catch(E){return console.error("Errore analisi file:",E),{exercises:[],workoutTitle:"Errore analisi",duration:"0 min",sections:[],metadata:{source:"error",confidence:0,warnings:[`Errore durante l'analisi: ${E instanceof Error?E.message:"Errore sconosciuto"}`]}}}}static convertToFileAnalysisResult(o){const E=[...o.riscaldamento,...o.esercizi,...o.stretching],_=E.map(j=>this.convertExercise(j)),w=[];return o.riscaldamento.length>0&&w.push({name:"Riscaldamento",exercises:o.riscaldamento.map(this.convertExercise)}),o.esercizi.length>0&&w.push({name:"Esercizi Principali",exercises:o.esercizi.map(this.convertExercise)}),o.stretching.length>0&&w.push({name:"Stretching",exercises:o.stretching.map(this.convertExercise)}),{exercises:_,workoutTitle:this.generateWorkoutTitle(o),duration:this.estimateDuration(E),sections:w,multiDay:o.multiDay,daysFound:o.daysFound,metadata:{source:o.metadata.extractionSource,confidence:o.metadata.confidence,warnings:o.metadata.warnings,debug:o.metadata.debug}}}static convertExercise(o){return{name:o.name,sets:o.sets?parseInt(o.sets):1,reps:o.reps||o.duration||"N/A",rest:o.rest||"",notes:o.notes||void 0,confidence:80}}static generateWorkoutTitle(o){const E=o.giorno>1?` - Giorno ${o.giorno}`:"",_=o.esercizi.length;return o.multiDay&&o.daysFound&&o.daysFound.length>0?`Allenamento Multi-Giorno (${o.daysFound.length} giorni trovati)`:_===0?`Allenamento${E}`:`Allenamento${E} (${_} esercizi)`}static estimateDuration(o){if(o.length===0)return"0 min";const E=o.length*3;if(E<60)return`${E} min`;{const _=Math.floor(E/60),w=E%60;return w>0?`${_}h ${w}min`:`${_}h`}}}const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:i,variant:o,...E}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:o}),i),...E})}const DebugPanel=({debugInfo:i,warnings:o,confidence:E,extractionSource:_})=>{const[w,j]=reactExports.useState(!1);if(!i)return null;const S=R=>R>=80?"bg-green-100 text-green-800":R>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",A=R=>{switch(R){case"SUCCESS":return"bg-green-100 text-green-800";case"EMPTY_TEXT":return"bg-red-100 text-red-800";case"EMPTY_TEXT_AFTER_OCR":return"bg-orange-100 text-orange-800";case"ERROR":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return jsxRuntimeExports.jsxs(Card,{className:"mt-4 border-orange-200 bg-orange-50",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Info,{className:"h-4 w-4"}),"Debug Analysis"]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>j(!w),className:"h-6 w-6 p-0",children:w?jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})})]})}),w&&jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Source:"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"ml-2",children:_})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Status:"}),jsxRuntimeExports.jsx(Badge,{className:`ml-2 ${A(i.extractionStatus)}`,children:i.extractionStatus})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Confidence:"}),jsxRuntimeExports.jsxs(Badge,{className:`ml-2 ${S(E)}`,children:[E,"%"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-600",children:i.reason})]})]}),o.length>0&&jsxRuntimeExports.jsxs(Alert,{className:"border-yellow-200 bg-yellow-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-yellow-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-yellow-800",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:o.map((R,C)=>jsxRuntimeExports.jsxs("div",{className:"text-sm",children:["• ",R]},C))})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:"Text Preview (first 600 chars):"})]}),jsxRuntimeExports.jsx("div",{className:"bg-white border rounded-md p-3 text-xs font-mono max-h-32 overflow-y-auto",children:i.textPreview||"No text extracted"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Extraction Source:"})," ",i.extractionSource]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Extraction Status:"})," ",i.extractionStatus]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Processing Time:"})," ",i.reason]})]})]})]})},FileAnalysisResults=({result:i,onClose:o})=>{const E=R=>{switch(R.toLowerCase()){case"riscaldamento":return jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"});case"esercizi principali":return jsxRuntimeExports.jsx(Dumbbell,{className:"h-4 w-4"});case"stretching":return jsxRuntimeExports.jsx(Coffee,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"})}},_=R=>{switch(R.toLowerCase()){case"riscaldamento":return"bg-blue-100 text-blue-800";case"esercizi principali":return"bg-green-100 text-green-800";case"stretching":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},w=R=>R>=80?"bg-green-100 text-green-800":R>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",j=(R,C)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:R.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Repeat,{className:"h-3 w-3"}),R.sets," x ",R.reps]}),R.rest&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Coffee,{className:"h-3 w-3"}),R.rest]})]}),R.notes&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1 italic",children:R.notes})]}),jsxRuntimeExports.jsxs(Badge,{className:w(R.confidence),children:[R.confidence,"%"]})]},C),S=R=>jsxRuntimeExports.jsxs(Card,{className:"mb-4",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[E(R.name),jsxRuntimeExports.jsx("span",{children:R.name}),jsxRuntimeExports.jsxs(Badge,{className:_(R.name),children:[R.exercises.length," esercizi"]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-2",children:R.exercises.map((C,T)=>j(C,T))})]},R.name),A=i.metadata.warnings.some(R=>R.includes("PDF non contiene testo")||R.includes("Regex non hanno trovato match"));return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}),i.workoutTitle]}),jsxRuntimeExports.jsxs(Badge,{className:w(i.metadata.confidence),children:[i.metadata.confidence,"% accuratezza"]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("span",{children:["Durata stimata: ",i.duration]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Dumbbell,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsxs("span",{children:[i.exercises.length," esercizi totali"]})]})]}),i.multiDay&&i.daysFound&&i.daysFound.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-4 w-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:"Multi-Giorno Rilevato"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("p",{children:"Giorni trovati nel file:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mt-1",children:i.daysFound.map((R,C)=>jsxRuntimeExports.jsx("li",{children:R},C))}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-blue-600",children:[jsxRuntimeExports.jsx("strong",{children:"Nota:"})," Viene mostrato solo il primo giorno. Per visualizzare altri giorni, carica il file specifico per quel giorno."]})]})]})]})]}),A&&jsxRuntimeExports.jsxs(Alert,{className:"border-red-200 bg-red-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-red-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-red-800",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:i.metadata.warnings.filter(R=>R.includes("PDF non contiene testo")||R.includes("Regex non hanno trovato match")).map((R,C)=>jsxRuntimeExports.jsxs("div",{className:"text-sm",children:["• ",R]},C))})})]}),i.metadata.warnings.length>0&&!A&&jsxRuntimeExports.jsxs(Alert,{className:"border-yellow-200 bg-yellow-50",children:[jsxRuntimeExports.jsx(Info,{className:"h-4 w-4 text-yellow-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-yellow-800",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:i.metadata.warnings.map((R,C)=>jsxRuntimeExports.jsxs("div",{className:"text-sm",children:["• ",R]},C))})})]}),i.sections.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:i.sections.map(S)}):jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nessun esercizio trovato nel file"})]})}),i.metadata.debug&&jsxRuntimeExports.jsx(DebugPanel,{debugInfo:i.metadata.debug,warnings:i.metadata.warnings,confidence:i.metadata.confidence,extractionSource:i.metadata.source})]})},workoutTypes$1=[{id:"cardio",name:"Cardio",color:"#38B6FF"},{id:"forza",name:"Forza",color:"#BC1823"},{id:"hiit",name:"HIIT",color:"#FF5757"},{id:"mobilita",name:"Mobilità",color:"#8C52FF"},{id:"personalizzato",name:"Il tuo allenamento",color:"#c89116"}],WorkoutCreationModal=({isOpen:i,onClose:o,selectedDate:E,onWorkoutCreated:_})=>{const[w,j]=reactExports.useState(""),[S,A]=reactExports.useState(""),[R,C]=reactExports.useState([{name:"",sets:"",reps:"",rest:""}]),[T,N]=reactExports.useState(""),[O,$]=reactExports.useState(!1),[D,L]=reactExports.useState(null),[I,z]=reactExports.useState(null),[F,W]=reactExports.useState(null),[H,B]=reactExports.useState(!1),U=useNavigate(),{hasConsent:G}=useFileAccess();reactExports.useEffect(()=>{i&&(j(""),A(""),C([{name:"",sets:"",reps:"",rest:""}]),N(""),L(null),z(null),W(null),B(!1))},[i,E]);const V=()=>{C([...R,{name:"",sets:"",reps:"",rest:""}])},K=(Q,Re,ke)=>{const _e=R.map((Y,J)=>J===Q?{...Y,[Re]:ke}:Y);C(_e)},je=Q=>{R.length>1&&C(R.filter((Re,ke)=>ke!==Q))},Z=async Q=>{var ke;const Re=(ke=Q.target.files)==null?void 0:ke[0];if(Re){const Y=["image/jpeg","image/png","application/pdf"];if(Re.size>10485760){alert("File troppo grande. Massimo 10MB consentiti.");return}if(!Y.includes(Re.type)){alert("Tipo file non supportato. Usa JPEG, PNG o PDF.");return}z(Re),B(!0);try{const J=await FileAnalyzer.analyzeFile(Re);W(J)}catch(J){console.error("Errore analisi file:",J),alert("Errore nell'analisi del file. Riprova.")}finally{B(!1)}}},fe=()=>{L("manual")},Ae=()=>{L("file")},Oe=(Q,Re,ke)=>{const _e=Q.map(Y=>({name:Y.name,sets:Y.sets||"3",reps:Y.reps||"10",rest:Y.rest||"2 min"}));C(_e),Re&&A(Re),ke&&N(ke),L("manual"),j("personalizzato"),W(null)},Pe=()=>{W(null),z(null)},Ne=()=>{F&&Oe(F.exercises,F.workoutTitle,F.duration)},Ce=async()=>{var Q;if(!(D==="manual"&&!w||D==="file"&&!I)){$(!0);try{const{data:{user:Re}}=await supabase.auth.getUser();if(!Re)return;let ke="",_e="",Y=[];D==="manual"?(ke=w==="personalizzato"?S:((Q=workoutTypes$1.find(Ie=>Ie.id===w))==null?void 0:Q.name)||"",_e=w,Y=R.filter(Ie=>Ie.name.trim()!=="")):D==="file"&&(ke=(I==null?void 0:I.name.split(".")[0])||"Allenamento da File",_e="personalizzato",Y=[]);const{data:J,error:Se}=await supabase.from("custom_workouts").insert({user_id:Re.id,title:ke,workout_type:_e,scheduled_date:E.toISOString().split("T")[0],exercises:Y,total_duration:T?parseInt(T):null}).select().single();if(Se)throw Se;if(D==="file"&&I&&J){const Ie=I.name.split(".").pop(),$e=`${Date.now()}-${Math.random().toString(36).substring(2)}.${Ie}`,De=`workout-attachments/${J.id}/${$e}`,{error:Be}=await supabase.storage.from("workout-files").upload(De,I);Be||await supabase.from("workout_attachments").insert({workout_id:J.id,user_id:Re.id,file_name:I.name,file_path:De,file_size:I.size,file_type:I.type,mime_type:I.type})}o(),_&&_()}catch(Re){console.error("Error saving workout:",Re)}finally{$(!1)}}},Me=async()=>{var Q;if(!(D==="manual"&&!w||D==="file"&&!I)){$(!0);try{const{data:{user:Re}}=await supabase.auth.getUser();if(!Re)return;let ke="",_e="",Y=[];D==="manual"?(ke=w==="personalizzato"?S:((Q=workoutTypes$1.find(De=>De.id===w))==null?void 0:Q.name)||"",_e=w,Y=R.filter(De=>De.name.trim()!=="")):D==="file"&&(ke=(I==null?void 0:I.name.split(".")[0])||"Allenamento da File",_e="personalizzato",Y=[]);const Se=new Date().toISOString().split("T")[0],{data:Ie,error:$e}=await supabase.from("custom_workouts").insert({user_id:Re.id,title:ke,workout_type:_e,scheduled_date:Se,exercises:Y,total_duration:T?parseInt(T):null}).select().single();if($e)throw $e;if(D==="file"&&I&&Ie){const De=I.name.split(".").pop(),Be=`${Date.now()}-${Math.random().toString(36).substring(2)}.${De}`,Le=`workout-attachments/${Ie.id}/${Be}`,{error:He}=await supabase.storage.from("workout-files").upload(Le,I);He||await supabase.from("workout_attachments").insert({workout_id:Ie.id,user_id:Re.id,file_name:I.name,file_path:Le,file_size:I.size,file_type:I.type,mime_type:I.type})}o(),_&&_(),U("/workouts",{state:{startCustomWorkout:Ie.id}})}catch(Re){console.error("Error creating workout:",Re)}finally{$(!1)}}};return i?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[45]",onClick:o,children:jsxRuntimeExports.jsxs("div",{className:"bg-black border-2 border-[#c89116] rounded-2xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto mb-24",onClick:Q=>Q.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-pp-gold",children:"Crea Allenamento"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"text-white hover:text-pp-gold",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]}),!D&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-4",children:"Come vuoi creare il tuo allenamento?"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Card,{className:"bg-black border-2 border-[#c89116] hover:border-[#c89116]/80 cursor-pointer transition-all",onClick:fe,children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(PenLine,{className:"h-6 w-6 text-[#c89116]"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium",children:"Inserimento Manuale"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Crea il tuo allenamento passo dopo passo"})]})]})})}),jsxRuntimeExports.jsx(Card,{className:`border-2 transition-all ${G===!1?"bg-gray-800 border-gray-600 cursor-not-allowed opacity-50":"bg-black border-[#c89116] hover:border-[#c89116]/80 cursor-pointer"}`,onClick:G!==!1?Ae:void 0,children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Upload,{className:`h-6 w-6 ${G===!1?"text-gray-500":"text-[#c89116]"}`}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium",children:"Carica File"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:G===!1?"Consenso accesso file richiesto nelle impostazioni":"Carica un'immagine o PDF del tuo allenamento"}),G===!1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-2 text-orange-400 text-xs",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Vai in Impostazioni → Privacy"})]})]})]})})})]})]}),D==="manual"&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Tipo di allenamento"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:workoutTypes$1.map(Q=>jsxRuntimeExports.jsx("button",{onClick:()=>j(Q.id),className:`p-3 rounded-lg border-2 text-sm font-medium transition-all ${w===Q.id?"border-[#c89116] bg-[#c89116]/20 text-pp-gold":"border-white/20 text-white hover:border-white/40"}`,children:Q.name},Q.id))})]}),D==="manual"&&w==="personalizzato"&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Nome del tuo allenamento"}),jsxRuntimeExports.jsx("input",{type:"text",value:S,onChange:Q=>A(Q.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-lg text-white",placeholder:"Inserisci il nome..."})]}),D==="file"&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-4",children:"Carica il tuo allenamento"}),F?jsxRuntimeExports.jsx(FileAnalysisResults,{result:F,onAccept:Oe,onReject:Pe,onEdit:Ne}):jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-[#c89116]/50 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:Z,className:"hidden",id:"workout-file-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"workout-file-upload",className:"cursor-pointer block",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx(Upload,{className:"h-12 w-12 text-[#c89116] mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-white font-medium mb-2",children:"Clicca per caricare un file"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Supporta JPEG, PNG e PDF (max 10MB)"}),jsxRuntimeExports.jsx(Button$1,{type:"button",className:"bg-[#c89116] text-black hover:bg-[#c89116]/80",onClick:Q=>{var Re;Q.preventDefault(),(Re=document.getElementById("workout-file-upload"))==null||Re.click()},children:"Sfoglia File"})]})})]}),H&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-4 bg-blue-500/20 border border-blue-500/50 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-5 w-5 text-blue-400 animate-spin"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-blue-400 font-medium",children:"Analizzando il file..."}),jsxRuntimeExports.jsx("p",{className:"text-blue-400/70 text-sm",children:"Riconoscendo esercizi e informazioni"})]})]})}),I&&!F&&!H&&jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/50 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-green-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-green-400 font-medium",children:I.name}),jsxRuntimeExports.jsxs("p",{className:"text-green-400/70 text-sm",children:[(I.size/1024/1024).toFixed(2)," MB"]})]})]})})]}),D==="manual"&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium",children:"Esercizi"}),jsxRuntimeExports.jsxs("button",{onClick:V,className:"text-pp-gold hover:text-pp-gold/80 flex items-center",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),"Aggiungi"]})]}),R.map((Q,Re)=>jsxRuntimeExports.jsxs("div",{className:"mb-3 p-3 border border-white/20 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-white text-sm",children:["Esercizio ",Re+1]}),R.length>1&&jsxRuntimeExports.jsx("button",{onClick:()=>je(Re),className:"text-red-400 hover:text-red-300",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("input",{type:"text",value:Q.name,onChange:ke=>K(Re,"name",ke.target.value),placeholder:"Nome esercizio",className:"w-full p-2 mb-2 bg-black border border-white/20 rounded text-white text-sm"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Q.sets,onChange:ke=>K(Re,"sets",ke.target.value),placeholder:"Serie",className:"p-2 bg-black border border-white/20 rounded text-white text-sm"}),jsxRuntimeExports.jsx("input",{type:"text",value:Q.reps,onChange:ke=>K(Re,"reps",ke.target.value),placeholder:"Rip.",className:"p-2 bg-black border border-white/20 rounded text-white text-sm"}),jsxRuntimeExports.jsx("input",{type:"text",value:Q.rest,onChange:ke=>K(Re,"rest",ke.target.value),placeholder:"Rec.",className:"p-2 bg-black border border-white/20 rounded text-white text-sm"})]})]},Re))]}),D==="manual"&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Durata (minuti)"}),jsxRuntimeExports.jsx("input",{type:"number",value:T,onChange:Q=>N(Q.target.value),className:"w-full p-3 bg-black border border-white/20 rounded-lg text-white",placeholder:"Es. 45"})]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-3",children:D==="manual"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{onClick:Ce,disabled:!w||O,className:"flex-1 bg-green-600 hover:bg-green-700 text-black font-medium",children:"Salva"}),jsxRuntimeExports.jsx(Button$1,{onClick:Me,disabled:!w||O,className:"flex-1 bg-[#c89116] hover:bg-[#c89116]/80 text-black font-medium",children:"Inizia Allenamento"})]}):D==="file"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{onClick:Ce,disabled:!I||O,className:"flex-1 bg-green-600 hover:bg-green-700 text-black font-medium",children:"Salva con File"}),jsxRuntimeExports.jsx(Button$1,{onClick:Me,disabled:!I||O,className:"flex-1 bg-[#c89116] hover:bg-[#c89116]/80 text-black font-medium",children:"Inizia con File"})]}):null})]})}):null},workoutTypes=[{id:"cardio",name:"Cardio",color:"#38B6FF"},{id:"forza",name:"Forza",color:"#BC1823"},{id:"hiit",name:"HIIT",color:"#FF5757"},{id:"mobilita",name:"Mobilità",color:"#8C52FF"},{id:"personalizzato",name:"Il tuo allenamento",color:"#c89116"}],WorkoutViewModal=({isOpen:i,onClose:o,workout:E,onWorkoutDeleted:_})=>{const w=useNavigate(),{toast:j}=useToast();if(!i||!E)return null;const S=workoutTypes.find(C=>C.id===E.workout_type),A=()=>{o(),w("/workouts",{state:{startCustomWorkout:E.id}})},R=async()=>{try{const{error:C}=await supabase.from("custom_workouts").delete().eq("id",E.id);if(C)throw C;j({title:"Allenamento eliminato",description:"L'allenamento è stato eliminato con successo."}),o(),_&&_()}catch(C){console.error("Error deleting workout:",C),j({title:"Errore",description:"Si è verificato un errore durante l'eliminazione dell'allenamento.",variant:"destructive"})}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[45]",onClick:o,children:jsxRuntimeExports.jsxs("div",{className:"bg-black border-2 border-[#c89116] rounded-2xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-pp-gold",children:"Allenamento Salvato"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"text-white hover:text-pp-gold",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:E.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded-full text-sm text-white",style:{backgroundColor:(S==null?void 0:S.color)||"#c89116"},children:(S==null?void 0:S.name)||E.workout_type}),E.total_duration&&jsxRuntimeExports.jsxs("span",{className:"text-white/70 text-sm",children:[E.total_duration," min"]})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("p",{className:"text-white/70 text-sm",children:["Programmato per: ",new Date(E.scheduled_date).toLocaleDateString("it-IT")]})}),E.exercises&&E.exercises.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h5",{className:"text-white font-medium mb-3",children:"Esercizi:"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:E.exercises.map((C,T)=>jsxRuntimeExports.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[jsxRuntimeExports.jsx("h6",{className:"text-white font-medium",children:C.name}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 mt-1 text-sm text-white/70",children:[C.sets&&jsxRuntimeExports.jsxs("span",{children:["Serie: ",C.sets]}),C.reps&&jsxRuntimeExports.jsxs("span",{children:["Rip: ",C.reps]}),C.rest&&jsxRuntimeExports.jsxs("span",{children:["Rec: ",C.rest]})]})]},T))})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:R,className:"flex-1 bg-red-600 hover:bg-red-700 text-black font-medium",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Elimina"]}),jsxRuntimeExports.jsx(Button$1,{onClick:A,className:"flex-1 bg-[#c89116] hover:bg-[#c89116]/80 text-black font-medium",children:"Inizia Allenamento"})]})]})})},Schedule=()=>{const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(null),[w,j]=reactExports.useState(0),S=T=>{o(T),_(null)},A=T=>{_(T),o(null)},R=()=>{o(null),j(T=>T+1)},C=()=>{o(null),_(null)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-pp-gold",children:"Calendario"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Gestisci i tuoi appuntamenti"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(AppointmentCalendar,{onDateSelect:S,onWorkoutSelect:A,refreshTrigger:w}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx(UpcomingAppointments,{})}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx(ProfessionalsList,{})})]})]}),i&&jsxRuntimeExports.jsx(WorkoutCreationModal,{isOpen:!!i,selectedDate:i,onClose:C,onWorkoutCreated:R}),E&&jsxRuntimeExports.jsx(WorkoutViewModal,{isOpen:!!E,workout:E,onClose:C,onWorkoutDeleted:R})]})},APP_FEATURES={dashboard:{path:"/dashboard",description:"Panoramica generale dei tuoi progressi",features:["grafici performance","statistiche","obiettivi"]},workouts:{path:"/workouts",description:"Libreria esercizi e programmi di allenamento",features:["crea workout","cerca esercizi","salva preferiti"]},nutrition:{path:"/nutrition",description:"Piani alimentari e tracking nutrizione",features:["calcolo calorie","ricette","diario alimentare"]},profile:{path:"/profile",description:"Impostazioni personali e obiettivi",features:["modifica dati","obiettivi","preferenze"]},analytics:{path:"/analytics",description:"Analisi dettagliate dei tuoi progressi",features:["grafici avanzati","trend","previsioni"]}};class PrimeBotContext{constructor(){tr(this,"currentPage","");tr(this,"userHistory",[]);tr(this,"knowledgeBase",new Map)}updateContext(o,E){this.currentPage=o,E&&this.userHistory.push({timestamp:new Date,page:o,...E})}getContextualHelp(){const o=Object.entries(APP_FEATURES).find(([E])=>this.currentPage.includes(E));if(o){const[E,_]=o;return`Sei nella sezione ${_.description}. Qui puoi: ${_.features.join(", ")}.`}return""}suggestNavigation(o){const E=(o||"").toString().toLowerCase().trim();if(isWorkoutIntent(E))return{suggestion:"Per creare un allenamento, vai alla sezione workouts",path:"/workouts",action:"navigate_to_workouts",label:"➜ Vai alla sezione Workouts"};if(E.includes("dove")&&(E.includes("creare")||E.includes("allenamento")))return{suggestion:"Per creare un allenamento, vai alla sezione workouts",path:"/workouts",action:"navigate_to_workouts",label:"➜ Vai alla sezione Workouts"};if(isNutritionIntent(E))return{suggestion:"Per gestire la nutrizione, vai alla sezione nutrition",path:"/nutrition",action:"navigate_to_nutrition",label:"➜ Vai alla sezione Nutrition"};if(E.includes("progressi")||E.includes("dashboard")||E.includes("statistiche")||E.includes("grafici"))return{suggestion:"Per vedere i tuoi progressi, vai alla sezione dashboard",path:"/dashboard",action:"navigate_to_dashboard",label:"➜ Vai alla Dashboard"};if(E.includes("profilo")||E.includes("impostazioni")||E.includes("settings")||E.includes("account"))return{suggestion:"Per gestire il profilo, vai alla sezione profile",path:"/profile",action:"navigate_to_profile",label:"➜ Vai al Profilo"};if(E.includes("dove")&&(E.includes("progressi")||E.includes("dashboard")||E.includes("statistiche")))return{suggestion:"Per vedere i tuoi progressi, vai alla sezione dashboard",path:"/dashboard",action:"navigate_to_dashboard",label:"➜ Vai alla Dashboard"};if(E.includes("dove")&&(E.includes("nutrizione")||E.includes("dieta")||E.includes("alimentazione")))return{suggestion:"Per gestire la nutrizione, vai alla sezione nutrition",path:"/nutrition",action:"navigate_to_nutrition",label:"➜ Vai alla sezione Nutrition"};if(E.includes("dove")&&(E.includes("profilo")||E.includes("impostazioni")||E.includes("settings")))return{suggestion:"Per gestire il profilo, vai alla sezione profile",path:"/profile",action:"navigate_to_profile",label:"➜ Vai al Profilo"};for(const[_,w]of Object.entries(APP_FEATURES))if(w.features.some(j=>E.includes(j.split(" ")[0])))return{suggestion:`Per ${o}, vai alla sezione ${_}`,path:w.path,action:`navigate_to_${_}`};return null}}const botContext=new PrimeBotContext,interact=async(i,o,E=[])=>{var w,j;let _="";if(typeof o=="string"?_=o:o!=null&&o.message?_=o.message:o!=null&&o.text?_=o.text:o!=null&&o.payload&&(_=typeof o.payload=="string"?o.payload:((w=o.payload)==null?void 0:w.message)||((j=o.payload)==null?void 0:j.text)||""),!_||_.trim()==="")return{message:"Non ho ricevuto il tuo messaggio. Puoi ripetere?",suggestions:["Come creo un workout?","Chi è Mattia?"],confidence:.2};try{const S=analyzeAdvancedIntent(_,E),A=botContext.suggestNavigation(_),R=generateIntelligentResponse(_,S,A,E),C=generateContextualSuggestions(S.category,R.message,A);return await saveLearningData(i,o,R,S),{message:R.message,suggestions:C,navigation:A,confidence:calculateConfidence(S)}}catch(S){console.error("PrimeBot error:",S);const A=typeof o=="string"?o:(o==null?void 0:o.message)||(o==null?void 0:o.text)||"";return handleFallback(A)}};function generateIntelligentResponse(i,o,E,_){const w=(i||"").toString().toLowerCase().trim();return o.category==="WORKOUT"||w.includes("workout")||w.includes("esercizio")||w.includes("allenamento")||w.includes("creo")||w.includes("creare")?generateFitnessResponse(i,w):o.category==="APP_NAVIGATION"?generateNavigationResponse(i,E):o.category==="NUTRITION"||w.includes("nutrizione")||w.includes("dieta")||w.includes("calorie")?generateNutritionResponse(i,w):o.category==="TEAM_INFO"||w.includes("mattia")||w.includes("fondatore")||w.includes("performance prime")?generateTeamResponse(i,w):o.category==="GENERAL_KNOWLEDGE"||w.includes("capitale")||w.includes("storia")||w.includes("cos'è")?generateGeneralKnowledgeResponse(i,w):o.category==="HELP"||w.includes("aiuto")||w.includes("problema")||w.includes("non riesco")?generateHelpResponse():w.includes("ciao")||w.includes("salve")||w.includes("buongiorno")||w.includes("buonasera")?generateGreetingResponse():generateGeneralResponse()}function generateNavigationResponse(i,o){return o?{message:`Perfetto! ${o.suggestion}. Ti guido subito alla sezione giusta. Clicca il pulsante qui sotto per navigare direttamente!`,confidence:.9}:{message:`Posso guidarti in qualsiasi sezione dell'app! Ecco le principali funzionalità:

📊 Dashboard - Monitora i tuoi progressi
💪 Workouts - Crea e gestisci allenamenti
🍎 Nutrition - Piani alimentari e ricette
👤 Profile - Impostazioni personali
📈 Analytics - Analisi dettagliate

Cosa ti interessa esplorare?`,confidence:.8}}function generateFitnessResponse(i,o){return o.includes("squat")?{message:`🏋️‍♀️ SQUAT - Tecnica Corretta

Posizione iniziale:
• Piedi larghezza spalle
• Punte leggermente in fuori
• Peso sui talloni

Esecuzione:
• Scendi piegando le ginocchia
• Mantieni la schiena dritta
• Ginocchia in linea con i piedi
• Scendi fino a cosce parallele al suolo

Risalita:
• Spingi sui talloni
• Estendi ginocchia e anche
• Mantieni il core contratto

Varianti:
• Squat con salto (avanzato)
• Squat sumo (glutei)
• Squat bulgaro (unilaterale)

Se vuoi, posso mostrarti altri esercizi o creare un workout completo!`,confidence:.95}:o.includes("push up")||o.includes("flessioni")?{message:`💪 PUSH-UP - Tecnica Corretta

Posizione iniziale:
• Pancia in giù, mani a terra
• Mani larghezza spalle
• Corpo in linea retta
• Core contratto

Esecuzione:
• Scendi controllando il movimento
• Petto quasi a terra
• Gomiti a 45° dal corpo
• Mantieni la linea del corpo

Risalita:
• Spingi con braccia e petto
• Estendi completamente
• Mantieni la tensione

Varianti:
• Push-up sulle ginocchia (principiante)
• Push-up inclinato (più facile)
• Push-up declinato (più difficile)
• Push-up con pausa (avanzato)

Posso crearti un programma di push-up progressivo!`,confidence:.95}:o.includes("resistenza")||o.includes("migliorare la resistenza")?{message:`🏃‍♂️ MIGLIORARE LA RESISTENZA - GUIDA COMPLETA

TRAINING CARDIOVASCOLARE:
• Corsa: 3-4x/settimana, 20-45 min
• Interval Training: 1:1 (30s veloce, 30s lento)
• Fartlek: Variazione ritmo durante la corsa
• Nuoto: 2-3x/settimana, 30-60 min
• Ciclismo: 2-3x/settimana, 45-90 min

TRAINING FUNZIONALE:
• Burpees: 3 serie x 10-15 rip
• Mountain Climbers: 3 serie x 20-30 rip
• Jumping Jacks: 3 serie x 30-50 rip
• High Knees: 3 serie x 30-60 sec
• Plank Jacks: 3 serie x 15-25 rip

PROGRESSIONE:
• Settimana 1-2: 60% intensità
• Settimana 3-4: 70% intensità
• Settimana 5-6: 80% intensità
• Settimana 7-8: 85% intensità

NUTRIZIONE:
• Carboidrati: 50-60% delle calorie
• Proteine: 1.2-1.6g per kg peso
• Idratazione: 35ml per kg peso
• Pre-workout: Banana + caffè
• Post-workout: Proteine + carboidrati

Vuoi un programma specifico per la tua resistenza?`,confidence:.95}:o.includes("workout")&&(o.includes("oggi")||o.includes("meglio"))?{message:`🎯 WORKOUT PERFETTO PER OGGI

Basandomi sui tuoi obiettivi, ti consiglio:

🔥 HIIT TOTAL BODY (30 min)
• Riscaldamento: 5 min
• Circuito 1: 4 esercizi x 3 round
  - Burpees x 30s
  - Mountain Climbers x 30s
  - Jump Squats x 30s
  - Plank x 30s
• Circuito 2: 4 esercizi x 3 round
  - Push-ups x 30s
  - Lunges x 30s
  - High Knees x 30s
  - Russian Twists x 30s
• Defaticamento: 5 min

💪 FORZA UPPER BODY (45 min)
• Riscaldamento: 5 min
• Push-ups: 3x12-15
• Pike Push-ups: 3x8-12
• Tricep Dips: 3x10-15
• Plank: 3x30-60s
• Superman: 3x12-15
• Cool-down: 5 min

🏃‍♂️ CARDIO LISS (25 min)
• Camminata veloce o corsa leggera
• Mantieni 60-70% frequenza cardiaca
• Respirazione costante

Quale preferisci? Posso personalizzarlo per te!`,confidence:.9}:o.includes("nutrizione")&&(o.includes("pre")||o.includes("allenamento"))?{message:`🍌 NUTRIZIONE PRE-ALLENAMENTO - GUIDA COMPLETA

⏰ TIMING:
• 2-3 ore prima: Pasto completo
• 30-60 min prima: Spuntino leggero
• 15-30 min prima: Carboidrati rapidi

🍎 SPUNTINI PRE-WORKOUT:
• Banana + caffè (30 min prima)
• Toast con miele (45 min prima)
• Yogurt greco + frutti di bosco (1 ora prima)
• Avena + latte (2 ore prima)

💧 IDRATAZIONE:
• 500ml acqua 2 ore prima
• 250ml acqua 30 min prima
• Sorsi durante l'allenamento

🚫 DA EVITARE:
• Cibi grassi (digestione lenta)
• Fibre eccessive (gonfiore)
• Alcol (disidratazione)
• Cibi piccanti (reflusso)

⚡ INTEGRATORI (opzionali):
• Caffeina: 100-200mg
• Beta-alanina: 2-3g
• Creatina: 3-5g

Vuoi un piano nutrizionale personalizzato?`,confidence:.9}:o.includes("raggiungere")&&o.includes("obiettivi")?{message:`🎯 COME RAGGIUNGERE I TUOI OBIETTIVI - STRATEGIA COMPLETA

📊 STEP 1: DEFINISCI OBIETTIVI SMART
• Specifici: Cosa vuoi ottenere?
• Misurabili: Come misuri il progresso?
• Raggiungibili: Sono realistici?
• Rilevanti: Ti motivano davvero?
• Temporali: Quando li vuoi raggiungere?

📅 STEP 2: PIANIFICAZIONE
• Obiettivi a lungo termine (6-12 mesi)
• Obiettivi a medio termine (1-3 mesi)
• Obiettivi a breve termine (1-4 settimane)
• Azioni quotidiane concrete

📈 STEP 3: TRACKING
• Misura i progressi settimanalmente
• Foto prima/dopo
• Metriche (peso, misure, performance)
• Diario allenamenti
• App di tracking

🧠 STEP 4: MINDSET
• Visualizza il successo
• Celebra piccole vittorie
• Impara dagli errori
• Mantieni costanza
• Chiedi supporto quando serve

💪 STEP 5: AZIONE
• Inizia oggi, non domani
• Fai il primo passo
• Costruisci abitudini
• Sii paziente ma persistente

Quali sono i tuoi obiettivi specifici? Ti aiuto a creare un piano!`,confidence:.9}:o.includes("programma")||o.includes("piano")?{message:`📋 PROGRAMMA ALLENAMENTO PERSONALIZZATO

Per principianti (3x/settimana):
• LUN: Upper Body (petto, spalle, braccia)
• MER: Lower Body (gambe, glutei)
• VEN: Full Body + Cardio

Per intermedi (4x/settimana):
• LUN: Petto + Tricipiti
• MAR: Gambe + Glutei
• GIO: Schiena + Bicipiti
• SAB: Spalle + Core

Per avanzati (5x/settimana):
• LUN: Petto + Tricipiti
• MAR: Gambe + Glutei
• MER: Schiena + Bicipiti
• GIO: Spalle + Core
• VEN: Full Body + HIIT

Durata: 45-60 minuti per sessione
Riposo: 1-2 minuti tra le serie

Vuoi che ti crei un programma specifico per i tuoi obiettivi?`,confidence:.9}:o.includes("dove")&&(o.includes("creare")||o.includes("workout")||o.includes("allenamento"))?{message:"Per creare un allenamento, vai alla sezione Workouts. Ti guido subito alla sezione giusta. Clicca il pulsante qui sotto per navigare direttamente!",confidence:.95}:o.includes("come creo")||o.includes("come creare")?{message:"Per creare un allenamento, vai alla sezione Workouts. Ti guido subito alla sezione giusta. Clicca il pulsante qui sotto per navigare direttamente!",confidence:.95}:{message:`💪 FITNESS E ALLENAMENTI

Posso aiutarti con:
• Tecniche esercizi (squat, push-up, plank, etc.)
• Programmi personalizzati per ogni livello
• Consigli nutrizionali per il fitness
• Obiettivi specifici (forza, resistenza, dimagrimento)
• Attrezzature (casa, palestra, outdoor)

Esempi di domande:
• "Come si fa lo squat?"
• "Programma per principianti"
• "Esercizi per glutei"
• "Workout HIIT"

Cosa ti interessa sapere?`,confidence:.8}}function generateNutritionResponse(i,o){return o.includes("calorie")?{message:`🍎 CALCOLO CALORIE PERSONALIZZATO

Formula base (Harris-Benedict):
• Uomini: BMR = 88.362 + (13.397 × peso) + (4.799 × altezza) - (5.677 × età)
• Donne: BMR = 447.593 + (9.247 × peso) + (3.098 × altezza) - (4.330 × età)

Fattori di attività:
• Sedentario: BMR × 1.2
• Leggero: BMR × 1.375
• Moderato: BMR × 1.55
• Intenso: BMR × 1.725
• Molto intenso: BMR × 1.9

Per dimagrire: -300/500 calorie
Per massa: +300/500 calorie

Macronutrienti:
• Proteine: 1.6-2.2g per kg peso
• Carboidrati: 45-65% delle calorie
• Grassi: 20-35% delle calorie

Vuoi che calcoli le tue calorie specifiche?`,confidence:.9}:{message:`🍎 NUTRIZIONE E ALIMENTAZIONE

Posso aiutarti con:
• Calcolo calorie personalizzato
• Macronutrienti (proteine, carboidrati, grassi)
• Ricette salutari per ogni obiettivo
• Meal prep e organizzazione
• Integratori e supplementi
• Idratazione e timing

Esempi di domande:
• "Quante calorie devo mangiare?"
• "Ricette per massa muscolare"
• "Cosa mangiare pre-allenamento"
• "Meal prep per la settimana"

Cosa ti interessa sapere?`,confidence:.8}}function generateTeamResponse(i,o){return o.includes("mattia")?{message:`👨‍💼 MATTIA SILVESTRELLI - FONDATORE

Chi è Mattia:
• Fondatore e CEO di Performance Prime
• Esperto di fitness e performance sportive
• Imprenditore nel settore wellness
• Appassionato di innovazione tecnologica

La sua visione:
• Rendere il fitness accessibile a tutti
• Combinare tecnologia e benessere
• Creare una community di appassionati
• Sviluppare soluzioni personalizzate

Performance Prime:
• Nata dalla passione per il fitness
• Focus su risultati concreti
• Approccio scientifico e pratico
• Community di supporto

Vuoi sapere di più sulla nostra mission o sui prossimi sviluppi?`,confidence:.95}:{message:`🏢 PERFORMANCE PRIME - IL NOSTRO TEAM

La nostra mission:
• Rendere il fitness accessibile a tutti
• Combinare tecnologia e benessere
• Creare una community di supporto
• Sviluppare soluzioni personalizzate

Il nostro team:
• Mattia Silvestrelli - Fondatore e CEO
• Co-fondatore - [Nome da aggiungere]
• Sviluppatori - Team tecnico specializzato
• Esperti fitness - Consulenti e trainer

I nostri valori:
• Disciplina e costanza
• Risultati concreti
• Approccio scientifico
• Supporto continuo

Vuoi sapere di più su di noi o sui nostri servizi?`,confidence:.9}}function generateGeneralKnowledgeResponse(i,o){return o.includes("capitale")&&o.includes("francia")?{message:`🇫🇷 La capitale della Francia è Parigi!

Curiosità su Parigi:
• Popolazione: ~2.1 milioni
• Soprannome: "Città della Luce"
• Simbolo: Torre Eiffel
• Fiume: Senna

Collegamento fitness:
• Parigi è famosa per la sua cultura del wellness
• Molti parchi per correre (Bois de Boulogne)
• Caffè e pasticcerie (attenzione alle calorie!)
• Stile di vita attivo e salutare

Se vuoi, posso consigliarti workout ispirati alla cultura francese o ricette salutari della cucina parigina!`,confidence:.95}:o.includes("capitale")&&o.includes("giappone")?{message:`🇯🇵 La capitale del Giappone è Tokyo!

Curiosità su Tokyo:
• Popolazione: ~14 milioni
• Tecnologia all'avanguardia
• Cultura del rispetto e disciplina
• Cibo sano e bilanciato

Collegamento fitness:
• Tokyo è una delle città più attive al mondo
• Molti parchi per esercizi all'aperto
• Cultura del benessere e longevità
• Cucina giapponese molto salutare

Posso consigliarti workout ispirati alla disciplina giapponese o ricette salutari della cucina nipponica!`,confidence:.95}:{message:`🌍 CONOSCENZA GENERALE

Posso rispondere a domande su:
• Geografia (capitali, paesi, città)
• Storia (eventi, personaggi, epoche)
• Scienza (fisica, chimica, biologia)
• Cultura (arte, musica, letteratura)
• Tecnologia (innovazioni, trend)
• Attualità (notizie, eventi recenti)

E sempre con un collegamento al fitness!

Cosa ti interessa sapere?`,confidence:.8}}function generateHelpResponse(i,o){return{message:`🆘 AIUTO E SUPPORTO

Come posso aiutarti:
• Navigazione app - Ti guido in ogni sezione
• Fitness - Consigli su esercizi e programmi
• Nutrizione - Piani alimentari e ricette
• Tecnologia - Risoluzione problemi tecnici
• Account - Gestione profilo e impostazioni

Sezioni principali:
• 📊 Dashboard - I tuoi progressi
• 💪 Workouts - Allenamenti personalizzati
• 🍎 Nutrition - Piani alimentari
• 👤 Profile - Impostazioni personali

Non riesco a trovare qualcosa?
Dimmi cosa stai cercando e ti guido passo passo!

Cosa ti serve?`,confidence:.9}}function generateGreetingResponse(i,o){const E=["Ciao! 👋 Sono PrimeBot, il tuo assistente AI personale di Performance Prime!","Salve! 🚀 Benvenuto in Performance Prime! Sono qui per aiutarti!","Buongiorno! ☀️ Pronto per una giornata di fitness e benessere?","Buonasera! 🌙 Come posso aiutarti con i tuoi obiettivi fitness?"];return{message:`${E[Math.floor(Math.random()*E.length)]}

Cosa posso fare per te:
• 🏋️‍♀️ Fitness - Esercizi, programmi, tecniche
• 🍎 Nutrizione - Calorie, ricette, piani alimentari
• 🧭 Navigazione - Ti guido in ogni sezione dell'app
• 🌍 Conoscenza - Rispondo a qualsiasi domanda
• 👥 Team - Info su Performance Prime e Mattia

Prova a chiedermi:
• "Come si fa lo squat?"
• "Quante calorie devo mangiare?"
• "Mostrami la Dashboard"
• "Chi è Mattia?"

Sono qui per te! 💪`,confidence:.95}}function generateGeneralResponse(i,o){return{message:`🤔 Non sono sicuro di aver capito perfettamente la tua domanda.

Ma posso aiutarti con:
• 🏋️‍♀️ Fitness - Esercizi, programmi, tecniche
• 🍎 Nutrizione - Calorie, ricette, piani alimentari
• 🧭 Navigazione - Ti guido nell'app
• 🌍 Conoscenza - Rispondo a qualsiasi domanda
• 👥 Team - Info su Performance Prime

Prova a riformulare la domanda o chiedi:
• "Come posso creare un workout?"
• "Mostrami la sezione nutrizione"
• "Chi è il fondatore di Performance Prime?"
• "Cosa significa HIIT?"

Sono qui per aiutarti! 💪`,confidence:.6}}function analyzeAdvancedIntent(i,o){const E=(i||"").toString().toLowerCase().trim();return isWorkoutIntent(E)?{category:"WORKOUT",intent:"workout_related",confidence:.9}:isNutritionIntent(E)?{category:"NUTRITION",intent:"nutrition_related",confidence:.9}:isNavigationIntent(E)?{category:"APP_NAVIGATION",intent:"navigation_related",confidence:.9}:isTeamIntent(E)?{category:"TEAM_INFO",intent:"team_related",confidence:.9}:isGeneralKnowledgeIntent(E)?{category:"GENERAL_KNOWLEDGE",intent:"general_knowledge",confidence:.8}:isHelpIntent(E)?{category:"HELP",intent:"help_related",confidence:.9}:{category:"GENERAL",intent:"general_query",confidence:.5}}function isWorkoutIntent(i){const o=["allenamento","workout","esercizio","esercizi","allenarsi","allenarmi","creare","creo","fare","faccio","programmare","programmo","squat","push up","flessioni","plank","burpees","forza","resistenza","cardio","hiit","muscoli","palestra","casa","outdoor","pesi","dumbbell","serie","ripetizioni","rip","set","circuito","riscaldamento","defaticamento","stretching","massa","dimagrire","perdere peso","tonificare","pettorali","bicipiti","tricipiti","spalle","schiena","gambe","glutei","addominali","core","polpacci"],E=["come","dove","quando","quale","quali","perché"],_=["creare","fare","iniziare","cominciare","programmare","organizzare"],w=o.some(R=>i.includes(R)),j=E.some(R=>_.some(C=>i.includes(R)&&i.includes(C)&&(i.includes("allenamento")||i.includes("workout")||i.includes("esercizio")))),A=["come mi alleno","dove mi alleno","come faccio esercizi","dove vado per allenarmi","come programmo allenamenti","dove trovo esercizi","come creo workout","dove creo workout","come faccio workout","dove faccio workout","come mi alleno","dove mi alleno","come inizio ad allenarmi","dove inizio ad allenarmi"].some(R=>i.includes(R));return w||j||A}function isNutritionIntent(i){const o=["nutrizione","alimentazione","dieta","cibo","mangiare","calorie","proteine","carboidrati","grassi","macro","ricetta","ricette","pasto","colazione","pranzo","cena","snack","spuntino","idratazione","acqua","bevande","vitamine","minerali","integratori","supplementi","dimagrire","perdere peso","aumentare peso","massa muscolare","metabolismo","digestione","intestino","stomaco"],E=["come","dove","quando","quale","quali","quanto"],_=["mangiare","bere","cucinare","preparare","calcolare"],w=o.some(S=>i.includes(S)),j=E.some(S=>_.some(A=>i.includes(S)&&i.includes(A)&&(i.includes("nutrizione")||i.includes("dieta")||i.includes("cibo"))));return w||j}function isNavigationIntent(i){const o=["dove","come","trovare","andare","aprire","mostra","vai","sezione","pagina","menu","navigazione","accedere","entrare"],E=["dashboard","workouts","nutrizione","nutrition","profilo","profile","impostazioni","settings","statistiche","progressi","analytics","calendario","schedule","timer","cronometro"],_=o.some(j=>i.includes(j)),w=E.some(j=>i.includes(j));return isWorkoutIntent(i)?!1:_&&(w||i.includes("app")||i.includes("sezione"))}function isTeamIntent(i){return["mattia","fondatore","team","chi è","performance prime","azienda","società","startup","imprenditore","ceo","storia","mission","valori","chi ha creato","chi ha fatto"].some(E=>i.includes(E))}function isGeneralKnowledgeIntent(i){return["capitale","storia","quando","perché","cos'è","dove si trova","scienza","tecnologia","cultura","arte","musica","letteratura","geografia","fisica","chimica","biologia","matematica"].some(E=>i.includes(E))}function isHelpIntent(i){return["aiuto","problema","non riesco","errore","bug","come funziona","non capisco","spiegami","tutorial","guida","istruzioni","supporto","assistenza","difficoltà","bloccato","stuck"].some(E=>i.includes(E))}function generateContextualSuggestions(i,o,E){const _={APP_NAVIGATION:["Vuoi che ti mostri un tutorial completo?","Posso guidarti passo passo","Ti mostro altre funzionalità della sezione?"],WORKOUT:["Vuoi vedere esercizi simili?","Posso crearti un programma completo","Ti interessa la versione avanzata?",E?`Vai a ${E.path} per iniziare`:null].filter(Boolean),NUTRITION:["Vuoi il calcolo personalizzato delle calorie?","Posso suggerirti ricette correlate","Ti creo un piano settimanale?"],TEAM_INFO:["Vuoi conoscere la nostra mission?","Ti racconto la storia di Performance Prime?","Posso presentarti gli altri membri del team"],GENERAL_KNOWLEDGE:["Posso approfondire questo argomento","Vuoi informazioni correlate?","Ti interessa sapere come questo si collega al fitness?"],HELP:["Posso guidarti passo passo","Vuoi che contatti il supporto?","Ti mostro soluzioni alternative?"],GENERAL:["Come posso aiutarti con il tuo fitness?","Hai domande sull'app?","Vuoi esplorare le funzionalità?"]};return _[i]||_.GENERAL}function handleFallback(i){const o=(i||"").toString().toLowerCase().trim();return o.includes("workout")||o.includes("esercizio")?{message:"Per vedere tutti gli esercizi, vai nella sezione Workouts dal menu principale. Lì trovi video tutorial e puoi creare i tuoi allenamenti personalizzati.",suggestions:["Vai a Workouts","Mostrami esercizi base","Crea workout"],navigation:{path:"/workouts"},confidence:.7}:{message:"Sono qui per aiutarti! Posso guidarti nell'app, rispondere a domande su fitness e nutrizione, o parlare di qualsiasi argomento. Cosa ti interessa?",suggestions:["Tour dell'app","Domande fitness","Inizia allenamento"],confidence:.5}}function calculateConfidence(i){return i.confidence||.7}async function saveLearningData(i,o,E,_){if(typeof window<"u"){const w={sessionID:i,timestamp:new Date().toISOString(),input:o,output:E.message,analysis:_,success:!0},j=localStorage.getItem("primebot_learning")||"[]",S=JSON.parse(j);S.push(w),S.length>200&&S.shift(),localStorage.setItem("primebot_learning",JSON.stringify(S))}}const vfPatchState=async(i,o)=>({success:!0}),vfInteract=async(i,o)=>await interact(i,o),parseVF=i=>({texts:[i.message||"Risposta generata localmente"],choices:i.suggestions||[],navigation:i.navigation||null});function PrimeChat({isModal:i=!1}){const o=useNavigate(),[E,_]=reactExports.useState([]),[w,j]=reactExports.useState(""),[S,A]=reactExports.useState(!1),R=reactExports.useRef(null),[C,T]=reactExports.useState("guest-"+crypto.randomUUID()),[N,O]=reactExports.useState("Performance Prime User"),[$,D]=reactExports.useState("");reactExports.useEffect(()=>{},[]);const[L,I]=reactExports.useState(!1);reactExports.useEffect(()=>{R.current&&R.current.scrollTo({top:R.current.scrollHeight,behavior:"smooth"})},[E,S]),reactExports.useEffect(()=>{(async()=>{const{data:{user:B}}=await supabase.auth.getUser(),U=(B==null?void 0:B.id)||C,G=await fetchUserProfile(),V=(G==null?void 0:G.name)||"Utente",K=(B==null?void 0:B.email)||"";T(U),O(V),D(K);const je=localStorage.getItem(`user_onboarded_${U}`),Z=!sessionStorage.getItem(`first_visit_${U}`);if(!je&&Z){I(!0),sessionStorage.setItem(`first_visit_${U}`,"true");const fe={id:"welcome",role:"bot",text:`Ciao ${V} 👋

Benvenuto in Performance Prime! Sono il tuo PrimeBot personale e ti guiderò attraverso l'app.

🎯 COSA PUOI FARE:
• 📊 Dashboard - Monitora i tuoi progressi
• 💪 Allenamenti - Crea e gestisci workout
• 📅 Appuntamenti - Prenota sessioni
• 🤖 PrimeBot - Chiedi consigli personalizzati
• 👤 Profilo - Gestisci il tuo account

Vuoi che ti spieghi una sezione specifica o hai domande?`};_([fe])}else _([{id:"welcome",role:"bot",text:`Ciao ${V} 👋! Sono PrimeBot, il tuo AI Coach personale. Come posso aiutarti oggi con il tuo allenamento?`}]);try{await vfPatchState(U,{user_name:V,user_id:U,user_contact:K})}catch(fe){console.warn("Voiceflow state patch error",fe)}})()},[]);async function z(B){const U=B.trim();if(!(!U||S)){_(G=>[...G,{id:crypto.randomUUID(),role:"user",text:U}]),j(""),A(!0),L&&(localStorage.setItem(`user_onboarded_${C}`,"true"),I(!1));try{const G=await vfInteract(C,U),{texts:V,choices:K,navigation:je}=parseVF(G);_(Z=>[...Z,...V.map(fe=>({id:crypto.randomUUID(),role:"bot",text:fe,navigation:je||void 0})),...K.length?[{id:crypto.randomUUID(),role:"bot",text:K.map(fe=>`• ${fe}`).join(`
`)}]:[]])}catch{_(V=>[...V,{id:crypto.randomUUID(),role:"bot",text:"Ops, connessione instabile. Riprova tra qualche secondo."}])}finally{A(!1)}}}const H=L?["Mostrami la Dashboard","Come creare un allenamento?","Spiegami le funzionalità premium","Come tracciare i progressi?","Quali sono i prossimi passi?"]:["Come posso migliorare la mia resistenza?","Quale workout è meglio per oggi?","Consigli per la nutrizione pre-allenamento","Come posso raggiungere i miei obiettivi?"];return E.length===0?jsxRuntimeExports.jsx("div",{className:`w-full h-full flex flex-col rounded-2xl border border-[#DAA520] bg-black text-white ${i?"min-h-[700px]":"min-h-[600px] mb-4 pb-2"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-[#EEBA2B] rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-[#EEBA2B]",children:"PrimeBot"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300",children:"Il tuo coach fitness AI personalizzato"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{const B={id:"welcome",role:"bot",text:`Ciao ${N} 👋! Sono PrimeBot, il tuo AI Coach personale. Come posso aiutarti oggi con il tuo allenamento?`};_([B])},className:"px-8 py-4 bg-[#EEBA2B] hover:bg-[#d4a527] text-black font-bold rounded-xl transition-colors text-lg",children:"Inizia Chat con PrimeBot"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:"💪"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-[#EEBA2B] mb-1",children:"Allenamenti"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Workout personalizzati"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-[#EEBA2B] mb-1",children:"Obiettivi"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Raggiungi i tuoi goal"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-xl p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:"📊"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-[#EEBA2B] mb-1",children:"Progressi"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Monitora i risultati"})]})]})]})}):jsxRuntimeExports.jsxs("div",{className:`w-full h-full flex flex-col rounded-2xl border border-[#DAA520] bg-black text-white ${i?"min-h-[700px]":"min-h-[600px] mb-4 pb-2"}`,children:[jsxRuntimeExports.jsxs("header",{className:"px-6 py-4 bg-gradient-to-r from-[#DAA520] to-[#B8860B] rounded-t-2xl text-black font-semibold",children:["PrimeBot ",jsxRuntimeExports.jsx("span",{className:"text-sm",children:"• Online • Sempre disponibile"})]}),jsxRuntimeExports.jsxs("div",{ref:R,className:`flex-1 overflow-y-auto p-6 space-y-4 ${i?"bg-black":"bg-gray-300"} min-h-[400px] max-h-[400px]`,children:[E.map(B=>jsxRuntimeExports.jsxs("div",{className:`max-w-[85%] ${B.role==="user"?"ml-auto":"mr-auto"}`,children:[jsxRuntimeExports.jsxs("div",{className:`px-4 py-3 rounded-2xl ${B.role==="user"?"bg-[#EEBA2B] text-black":i?"bg-gray-800 text-white border border-gray-600":"bg-white text-black"}`,children:[jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap",children:B.text}),jsxRuntimeExports.jsx("div",{className:`text-xs mt-2 ${B.role==="user"?"text-black/70":i?"text-gray-400":"text-gray-500"}`,children:new Date().toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]}),B.role==="bot"&&B.navigation&&jsxRuntimeExports.jsx("button",{onClick:()=>o(B.navigation.path),className:"mt-3 px-4 py-2 bg-[#EEBA2B] text-black font-semibold rounded-lg hover:bg-[#d4a527] transition-colors",children:B.navigation.label})]},B.id)),S&&jsxRuntimeExports.jsx("div",{className:`mr-auto px-4 py-3 rounded-2xl animate-pulse ${i?"bg-gray-800 text-white border border-gray-600":"bg-white text-black"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-[#EEBA2B] rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-[#EEBA2B] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-[#EEBA2B] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),jsxRuntimeExports.jsx("span",{children:"PrimeBot sta scrivendo…"})]})})]}),jsxRuntimeExports.jsxs("div",{className:`p-6 border-t ${i?"border-[#EEBA2B]/30":"border-[#DAA520]"}`,children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:H.map(B=>jsxRuntimeExports.jsx("button",{onClick:()=>{j(B),z(B)},className:`border transition-colors ${i?"border-[#EEBA2B]/50 hover:bg-[#EEBA2B]/10 bg-gray-800 text-white text-xs px-2 py-2 rounded-lg":"border-[#DAA520] hover:bg-gray-50 bg-white text-black text-sm px-4 py-3 rounded-2xl"}`,children:B},B))}),jsxRuntimeExports.jsxs("div",{className:`flex gap-3 sticky bottom-0 z-50 p-2 rounded-lg border-t-2 ${i?"bg-black border-[#EEBA2B]/30":"bg-black border-[#DAA520]"}`,children:[jsxRuntimeExports.jsx("input",{"aria-label":"Scrivi la tua domanda",value:w,onChange:B=>j(B.target.value),onKeyDown:B=>{B.key==="Enter"&&z(w)},placeholder:"Scrivi la tua domanda…",className:`flex-1 px-4 py-3 rounded-2xl border focus:outline-none focus:ring-2 ${i?"bg-gray-800 border-gray-600 focus:ring-[#EEBA2B] text-white placeholder-gray-400":"bg-white border-[#DAA520] focus:ring-[#DAA520] text-black placeholder-gray-500"}`}),jsxRuntimeExports.jsx("button",{onClick:()=>z(w),className:"px-6 py-3 rounded-2xl bg-[#EEBA2B] hover:bg-[#d4a527] text-black font-semibold disabled:opacity-50 transition-colors",disabled:S,title:"Invia",children:"➤"})]})]})]})}const AICoachPrime=({onRequestPlan:i,chatInterfaceRef:o})=>{const[E,_]=reactExports.useState(!1),w=()=>{_(!0)},j=()=>{_(!1)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 relative",children:jsxRuntimeExports.jsx("div",{className:"cursor-pointer hover:opacity-90 transition-opacity",onClick:w,children:jsxRuntimeExports.jsx(PrimeChat,{isModal:!1})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-black border border-gray-500 rounded-2xl p-6 quick-actions relative",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-[#EEBA2B] mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Target,{className:"h-5 w-5"}),"Azioni Rapide"]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsxs(Button$1,{onClick:i,className:"w-full btn-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"Crea Piano Personalizzato"]})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-2xl z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Funzionalità in arrivo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:"Le azioni rapide saranno disponibili presto!"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-black border border-gray-500 rounded-2xl p-6 ai-suggestions relative",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-[#EEBA2B] mb-4",children:"Suggerimenti AI"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm text-white",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gradient-to-r from-black to-[#C89116] rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"💡 Consiglio del giorno"}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 opacity-90",children:"Aumenta l'intensità gradualmente per evitare infortuni"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gradient-to-r from-black to-[#C89116] rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"🎯 Focus della settimana"}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 opacity-90",children:"Concentrati sui movimenti funzionali"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-2xl z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Funzionalità in arrivo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:"I suggerimenti AI saranno disponibili presto!"})]})})]})]})]}),E&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[45] bg-black",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#EEBA2B]/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#EEBA2B] rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-[#EEBA2B]",children:"PrimeBot"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Il tuo coach fitness AI"})]})]}),jsxRuntimeExports.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",title:"Chiudi chat",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsx("div",{className:"h-[calc(100vh-80px)] flex flex-col",children:jsxRuntimeExports.jsx(PrimeChat,{isModal:!0})})]})]})},insights=[{icon:TrendingUp,title:"Progressi in Crescita",description:"La tua costanza negli ultimi 7 giorni è aumentata del 23%",color:"text-green-600",bgColor:"bg-green-100"},{icon:Target,title:"Obiettivo Vicino",description:"Sei al 78% del tuo obiettivo mensile di allenamenti",color:"text-blue-600",bgColor:"bg-blue-100"},{icon:Lightbulb,title:"Consiglio del Giorno",description:"Aggiungi 5 minuti di stretching dopo ogni workout",color:"text-orange-600",bgColor:"bg-orange-100"}],AIInsights=()=>jsxRuntimeExports.jsxs("div",{className:"bg-black rounded-2xl shadow-sm border border-gray-500 p-6 insights-ai relative",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-[#EEBA2B] mb-4",children:"Insights AI"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:insights.map((i,o)=>{const E=i.icon;return jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl border border-[#EEBA2B]",style:{background:"linear-gradient(135deg, #000000 0%, #C89116 100%)"},children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${i.bgColor}`,children:jsxRuntimeExports.jsx(E,{className:`h-4 w-4 ${i.color}`})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-white text-sm",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white mt-1",children:i.description})]})]})},o)})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-2xl z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Funzionalità in arrivo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:"Gli insights AI saranno disponibili presto!"})]})})]}),Dialog=Root$2,DialogPortal=Portal$1,DialogOverlay=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Overlay,{ref:E,className:cn("fixed inset-0 z-[45] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...o}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:i,children:o,...E},_)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{ref:_,className:cn("fixed left-[50%] top-[50%] z-[45] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...E,children:[o,jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$1.displayName;const DialogHeader=({className:i,...o})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",i),...o});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:i,...o})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",i),...o});DialogFooter.displayName="DialogFooter";const DialogTitle=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Title$1,{ref:E,className:cn("text-lg font-semibold leading-none tracking-tight",i),...o}));DialogTitle.displayName=Title$1.displayName;const DialogDescription=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Description$1,{ref:E,className:cn("text-sm text-muted-foreground",i),...o}));DialogDescription.displayName=Description$1.displayName;const Textarea=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:E,...o}));Textarea.displayName="Textarea";function clamp(i,[o,E]){return Math.min(E,Math.max(o,i))}function usePrevious(i){const o=reactExports.useRef({value:i,previous:i});return reactExports.useMemo(()=>(o.current.value!==i&&(o.current.previous=o.current.value,o.current.value=i),o.current.previous),[i])}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((i,o)=>jsxRuntimeExports.jsx(Primitive.span,{...i,ref:o,style:{...VISUALLY_HIDDEN_STYLES,...i.style}}));VisuallyHidden.displayName=NAME;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=i=>{const{__scopeSelect:o,children:E,open:_,defaultOpen:w,onOpenChange:j,value:S,defaultValue:A,onValueChange:R,dir:C,name:T,autoComplete:N,disabled:O,required:$,form:D}=i,L=usePopperScope(o),[I,z]=reactExports.useState(null),[F,W]=reactExports.useState(null),[H,B]=reactExports.useState(!1),U=useDirection(C),[G,V]=useControllableState({prop:_,defaultProp:w??!1,onChange:j,caller:SELECT_NAME}),[K,je]=useControllableState({prop:S,defaultProp:A,onChange:R,caller:SELECT_NAME}),Z=reactExports.useRef(null),fe=I?D||!!I.closest("form"):!0,[Ae,Oe]=reactExports.useState(new Set),Pe=Array.from(Ae).map(Ne=>Ne.props.value).join(";");return jsxRuntimeExports.jsx(Root2$6,{...L,children:jsxRuntimeExports.jsxs(SelectProvider,{required:$,scope:o,trigger:I,onTriggerChange:z,valueNode:F,onValueNodeChange:W,valueNodeHasChildren:H,onValueNodeHasChildrenChange:B,contentId:useId$1(),value:K,onValueChange:je,open:G,onOpenChange:V,dir:U,triggerPointerDownPosRef:Z,disabled:O,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:o,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:i.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Ne=>{Oe(Ce=>new Set(Ce).add(Ne))},[]),onNativeOptionRemove:reactExports.useCallback(Ne=>{Oe(Ce=>{const Me=new Set(Ce);return Me.delete(Ne),Me})},[]),children:E})}),fe?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:$,tabIndex:-1,name:T,autoComplete:N,value:K,onChange:Ne=>je(Ne.target.value),disabled:O,form:D,children:[K===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Ae)]},Pe):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,disabled:_=!1,...w}=i,j=usePopperScope(E),S=useSelectContext(TRIGGER_NAME,E),A=S.disabled||_,R=useComposedRefs(o,S.onTriggerChange),C=useCollection$1(E),T=reactExports.useRef("touch"),[N,O,$]=useTypeaheadSearch(L=>{const I=C().filter(W=>!W.disabled),z=I.find(W=>W.value===S.value),F=findNextItem(I,L,z);F!==void 0&&S.onValueChange(F.value)}),D=L=>{A||(S.onOpenChange(!0),$()),L&&(S.triggerPointerDownPosRef.current={x:Math.round(L.pageX),y:Math.round(L.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...j,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":S.contentId,"aria-expanded":S.open,"aria-required":S.required,"aria-autocomplete":"none",dir:S.dir,"data-state":S.open?"open":"closed",disabled:A,"data-disabled":A?"":void 0,"data-placeholder":shouldShowPlaceholder(S.value)?"":void 0,...w,ref:R,onClick:composeEventHandlers(w.onClick,L=>{L.currentTarget.focus(),T.current!=="mouse"&&D(L)}),onPointerDown:composeEventHandlers(w.onPointerDown,L=>{T.current=L.pointerType;const I=L.target;I.hasPointerCapture(L.pointerId)&&I.releasePointerCapture(L.pointerId),L.button===0&&L.ctrlKey===!1&&L.pointerType==="mouse"&&(D(L),L.preventDefault())}),onKeyDown:composeEventHandlers(w.onKeyDown,L=>{const I=N.current!=="";!(L.ctrlKey||L.altKey||L.metaKey)&&L.key.length===1&&O(L.key),!(I&&L.key===" ")&&OPEN_KEYS.includes(L.key)&&(D(),L.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,className:_,style:w,children:j,placeholder:S="",...A}=i,R=useSelectContext(VALUE_NAME,E),{onValueNodeHasChildrenChange:C}=R,T=j!==void 0,N=useComposedRefs(o,R.onValueNodeChange);return useLayoutEffect2(()=>{C(T)},[C,T]),jsxRuntimeExports.jsx(Primitive.span,{...A,ref:N,style:{pointerEvents:"none"},children:shouldShowPlaceholder(R.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:S}):j})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,children:_,...w}=i;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...w,ref:o,children:_||"▼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=i=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...i});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME="SelectContent",SelectContent$1=reactExports.forwardRef((i,o)=>{const E=useSelectContext(CONTENT_NAME,i.__scopeSelect),[_,w]=reactExports.useState();if(useLayoutEffect2(()=>{w(new DocumentFragment)},[]),!E.open){const j=_;return j?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:i.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:i.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:i.children})})}),j):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...i,ref:o})});SelectContent$1.displayName=CONTENT_NAME;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,position:_="item-aligned",onCloseAutoFocus:w,onEscapeKeyDown:j,onPointerDownOutside:S,side:A,sideOffset:R,align:C,alignOffset:T,arrowPadding:N,collisionBoundary:O,collisionPadding:$,sticky:D,hideWhenDetached:L,avoidCollisions:I,...z}=i,F=useSelectContext(CONTENT_NAME,E),[W,H]=reactExports.useState(null),[B,U]=reactExports.useState(null),G=useComposedRefs(o,$e=>H($e)),[V,K]=reactExports.useState(null),[je,Z]=reactExports.useState(null),fe=useCollection$1(E),[Ae,Oe]=reactExports.useState(!1),Pe=reactExports.useRef(!1);reactExports.useEffect(()=>{if(W)return hideOthers(W)},[W]),useFocusGuards();const Ne=reactExports.useCallback($e=>{const[De,...Be]=fe().map(We=>We.ref.current),[Le]=Be.slice(-1),He=document.activeElement;for(const We of $e)if(We===He||(We==null||We.scrollIntoView({block:"nearest"}),We===De&&B&&(B.scrollTop=0),We===Le&&B&&(B.scrollTop=B.scrollHeight),We==null||We.focus(),document.activeElement!==He))return},[fe,B]),Ce=reactExports.useCallback(()=>Ne([V,W]),[Ne,V,W]);reactExports.useEffect(()=>{Ae&&Ce()},[Ae,Ce]);const{onOpenChange:Me,triggerPointerDownPosRef:Q}=F;reactExports.useEffect(()=>{if(W){let $e={x:0,y:0};const De=Le=>{var He,We;$e={x:Math.abs(Math.round(Le.pageX)-(((He=Q.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((We=Q.current)==null?void 0:We.y)??0))}},Be=Le=>{$e.x<=10&&$e.y<=10?Le.preventDefault():W.contains(Le.target)||Me(!1),document.removeEventListener("pointermove",De),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Be,{capture:!0})}}},[W,Me,Q]),reactExports.useEffect(()=>{const $e=()=>Me(!1);return window.addEventListener("blur",$e),window.addEventListener("resize",$e),()=>{window.removeEventListener("blur",$e),window.removeEventListener("resize",$e)}},[Me]);const[Re,ke]=useTypeaheadSearch($e=>{const De=fe().filter(He=>!He.disabled),Be=De.find(He=>He.ref.current===document.activeElement),Le=findNextItem(De,$e,Be);Le&&setTimeout(()=>Le.ref.current.focus())}),_e=reactExports.useCallback(($e,De,Be)=>{const Le=!Pe.current&&!Be;(F.value!==void 0&&F.value===De||Le)&&(K($e),Le&&(Pe.current=!0))},[F.value]),Y=reactExports.useCallback(()=>W==null?void 0:W.focus(),[W]),J=reactExports.useCallback(($e,De,Be)=>{const Le=!Pe.current&&!Be;(F.value!==void 0&&F.value===De||Le)&&Z($e)},[F.value]),Se=_==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Ie=Se===SelectPopperPosition?{side:A,sideOffset:R,align:C,alignOffset:T,arrowPadding:N,collisionBoundary:O,collisionPadding:$,sticky:D,hideWhenDetached:L,avoidCollisions:I}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:E,content:W,viewport:B,onViewportChange:U,itemRefCallback:_e,selectedItem:V,onItemLeave:Y,itemTextRefCallback:J,focusSelectedItem:Ce,selectedItemText:je,position:_,isPositioned:Ae,searchRef:Re,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:F.open,onMountAutoFocus:$e=>{$e.preventDefault()},onUnmountAutoFocus:composeEventHandlers(w,$e=>{var De;(De=F.trigger)==null||De.focus({preventScroll:!0}),$e.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:j,onPointerDownOutside:S,onFocusOutside:$e=>$e.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:jsxRuntimeExports.jsx(Se,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:$e=>$e.preventDefault(),...z,...Ie,onPlaced:()=>Oe(!0),ref:G,style:{display:"flex",flexDirection:"column",outline:"none",...z.style},onKeyDown:composeEventHandlers(z.onKeyDown,$e=>{const De=$e.ctrlKey||$e.altKey||$e.metaKey;if($e.key==="Tab"&&$e.preventDefault(),!De&&$e.key.length===1&&ke($e.key),["ArrowUp","ArrowDown","Home","End"].includes($e.key)){let Le=fe().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes($e.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes($e.key)){const He=$e.target,We=Le.indexOf(He);Le=Le.slice(We+1)}setTimeout(()=>Ne(Le)),$e.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,onPlaced:_,...w}=i,j=useSelectContext(CONTENT_NAME,E),S=useSelectContentContext(CONTENT_NAME,E),[A,R]=reactExports.useState(null),[C,T]=reactExports.useState(null),N=useComposedRefs(o,G=>T(G)),O=useCollection$1(E),$=reactExports.useRef(!1),D=reactExports.useRef(!0),{viewport:L,selectedItem:I,selectedItemText:z,focusSelectedItem:F}=S,W=reactExports.useCallback(()=>{if(j.trigger&&j.valueNode&&A&&C&&L&&I&&z){const G=j.trigger.getBoundingClientRect(),V=C.getBoundingClientRect(),K=j.valueNode.getBoundingClientRect(),je=z.getBoundingClientRect();if(j.dir!=="rtl"){const He=je.left-V.left,We=K.left-He,rt=G.left-We,it=G.width+rt,dt=Math.max(it,V.width),Ke=window.innerWidth-CONTENT_MARGIN,Xe=clamp(We,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Ke-dt)]);A.style.minWidth=it+"px",A.style.left=Xe+"px"}else{const He=V.right-je.right,We=window.innerWidth-K.right-He,rt=window.innerWidth-G.right-We,it=G.width+rt,dt=Math.max(it,V.width),Ke=window.innerWidth-CONTENT_MARGIN,Xe=clamp(We,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Ke-dt)]);A.style.minWidth=it+"px",A.style.right=Xe+"px"}const Z=O(),fe=window.innerHeight-CONTENT_MARGIN*2,Ae=L.scrollHeight,Oe=window.getComputedStyle(C),Pe=parseInt(Oe.borderTopWidth,10),Ne=parseInt(Oe.paddingTop,10),Ce=parseInt(Oe.borderBottomWidth,10),Me=parseInt(Oe.paddingBottom,10),Q=Pe+Ne+Ae+Me+Ce,Re=Math.min(I.offsetHeight*5,Q),ke=window.getComputedStyle(L),_e=parseInt(ke.paddingTop,10),Y=parseInt(ke.paddingBottom,10),J=G.top+G.height/2-CONTENT_MARGIN,Se=fe-J,Ie=I.offsetHeight/2,$e=I.offsetTop+Ie,De=Pe+Ne+$e,Be=Q-De;if(De<=J){const He=Z.length>0&&I===Z[Z.length-1].ref.current;A.style.bottom="0px";const We=C.clientHeight-L.offsetTop-L.offsetHeight,rt=Math.max(Se,Ie+(He?Y:0)+We+Ce),it=De+rt;A.style.height=it+"px"}else{const He=Z.length>0&&I===Z[0].ref.current;A.style.top="0px";const rt=Math.max(J,Pe+L.offsetTop+(He?_e:0)+Ie)+Be;A.style.height=rt+"px",L.scrollTop=De-J+L.offsetTop}A.style.margin=`${CONTENT_MARGIN}px 0`,A.style.minHeight=Re+"px",A.style.maxHeight=fe+"px",_==null||_(),requestAnimationFrame(()=>$.current=!0)}},[O,j.trigger,j.valueNode,A,C,L,I,z,j.dir,_]);useLayoutEffect2(()=>W(),[W]);const[H,B]=reactExports.useState();useLayoutEffect2(()=>{C&&B(window.getComputedStyle(C).zIndex)},[C]);const U=reactExports.useCallback(G=>{G&&D.current===!0&&(W(),F==null||F(),D.current=!1)},[W,F]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:E,contentWrapper:A,shouldExpandOnScrollRef:$,onScrollButtonChange:U,children:jsxRuntimeExports.jsx("div",{ref:R,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:jsxRuntimeExports.jsx(Primitive.div,{...w,ref:N,style:{boxSizing:"border-box",maxHeight:"100%",...w.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,align:_="start",collisionPadding:w=CONTENT_MARGIN,...j}=i,S=usePopperScope(E);return jsxRuntimeExports.jsx(Content$2,{...S,...j,ref:o,align:_,collisionPadding:w,style:{boxSizing:"border-box",...j.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,nonce:_,...w}=i,j=useSelectContentContext(VIEWPORT_NAME$1,E),S=useSelectViewportContext(VIEWPORT_NAME$1,E),A=useComposedRefs(o,j.onViewportChange),R=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:_}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:E,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...w,ref:A,style:{position:"relative",flex:1,overflow:"hidden auto",...w.style},onScroll:composeEventHandlers(w.onScroll,C=>{const T=C.currentTarget,{contentWrapper:N,shouldExpandOnScrollRef:O}=S;if(O!=null&&O.current&&N){const $=Math.abs(R.current-T.scrollTop);if($>0){const D=window.innerHeight-CONTENT_MARGIN*2,L=parseFloat(N.style.minHeight),I=parseFloat(N.style.height),z=Math.max(L,I);if(z<D){const F=z+$,W=Math.min(D,F),H=F-W;N.style.height=W+"px",N.style.bottom==="0px"&&(T.scrollTop=H>0?H:0,N.style.justifyContent="flex-end")}}}R.current=T.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,..._}=i,w=useId$1();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:E,id:w,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":w,..._,ref:o})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,..._}=i,w=useSelectGroupContext(LABEL_NAME,E);return jsxRuntimeExports.jsx(Primitive.div,{id:w.id,..._,ref:o})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,value:_,disabled:w=!1,textValue:j,...S}=i,A=useSelectContext(ITEM_NAME,E),R=useSelectContentContext(ITEM_NAME,E),C=A.value===_,[T,N]=reactExports.useState(j??""),[O,$]=reactExports.useState(!1),D=useComposedRefs(o,F=>{var W;return(W=R.itemRefCallback)==null?void 0:W.call(R,F,_,w)}),L=useId$1(),I=reactExports.useRef("touch"),z=()=>{w||(A.onValueChange(_),A.onOpenChange(!1))};if(_==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:E,value:_,disabled:w,textId:L,isSelected:C,onItemTextChange:reactExports.useCallback(F=>{N(W=>W||((F==null?void 0:F.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:E,value:_,disabled:w,textValue:T,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":L,"data-highlighted":O?"":void 0,"aria-selected":C&&O,"data-state":C?"checked":"unchecked","aria-disabled":w||void 0,"data-disabled":w?"":void 0,tabIndex:w?void 0:-1,...S,ref:D,onFocus:composeEventHandlers(S.onFocus,()=>$(!0)),onBlur:composeEventHandlers(S.onBlur,()=>$(!1)),onClick:composeEventHandlers(S.onClick,()=>{I.current!=="mouse"&&z()}),onPointerUp:composeEventHandlers(S.onPointerUp,()=>{I.current==="mouse"&&z()}),onPointerDown:composeEventHandlers(S.onPointerDown,F=>{I.current=F.pointerType}),onPointerMove:composeEventHandlers(S.onPointerMove,F=>{var W;I.current=F.pointerType,w?(W=R.onItemLeave)==null||W.call(R):I.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(S.onPointerLeave,F=>{var W;F.currentTarget===document.activeElement&&((W=R.onItemLeave)==null||W.call(R))}),onKeyDown:composeEventHandlers(S.onKeyDown,F=>{var H;((H=R.searchRef)==null?void 0:H.current)!==""&&F.key===" "||(SELECTION_KEYS.includes(F.key)&&z(),F.key===" "&&F.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,className:_,style:w,...j}=i,S=useSelectContext(ITEM_TEXT_NAME,E),A=useSelectContentContext(ITEM_TEXT_NAME,E),R=useSelectItemContext(ITEM_TEXT_NAME,E),C=useSelectNativeOptionsContext(ITEM_TEXT_NAME,E),[T,N]=reactExports.useState(null),O=useComposedRefs(o,z=>N(z),R.onItemTextChange,z=>{var F;return(F=A.itemTextRefCallback)==null?void 0:F.call(A,z,R.value,R.disabled)}),$=T==null?void 0:T.textContent,D=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:R.value,disabled:R.disabled,children:$},R.value),[R.disabled,R.value,$]),{onNativeOptionAdd:L,onNativeOptionRemove:I}=C;return useLayoutEffect2(()=>(L(D),()=>I(D)),[L,I,D]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:R.textId,...j,ref:O}),R.isSelected&&S.valueNode&&!S.valueNodeHasChildren?reactDomExports.createPortal(j.children,S.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,..._}=i;return useSelectItemContext(ITEM_INDICATOR_NAME,E).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,..._,ref:o}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((i,o)=>{const E=useSelectContentContext(SCROLL_UP_BUTTON_NAME,i.__scopeSelect),_=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,i.__scopeSelect),[w,j]=reactExports.useState(!1),S=useComposedRefs(o,_.onScrollButtonChange);return useLayoutEffect2(()=>{if(E.viewport&&E.isPositioned){let A=function(){const C=R.scrollTop>0;j(C)};const R=E.viewport;return A(),R.addEventListener("scroll",A),()=>R.removeEventListener("scroll",A)}},[E.viewport,E.isPositioned]),w?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...i,ref:S,onAutoScroll:()=>{const{viewport:A,selectedItem:R}=E;A&&R&&(A.scrollTop=A.scrollTop-R.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((i,o)=>{const E=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,i.__scopeSelect),_=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,i.__scopeSelect),[w,j]=reactExports.useState(!1),S=useComposedRefs(o,_.onScrollButtonChange);return useLayoutEffect2(()=>{if(E.viewport&&E.isPositioned){let A=function(){const C=R.scrollHeight-R.clientHeight,T=Math.ceil(R.scrollTop)<C;j(T)};const R=E.viewport;return A(),R.addEventListener("scroll",A),()=>R.removeEventListener("scroll",A)}},[E.viewport,E.isPositioned]),w?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...i,ref:S,onAutoScroll:()=>{const{viewport:A,selectedItem:R}=E;A&&R&&(A.scrollTop=A.scrollTop+R.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,onAutoScroll:_,...w}=i,j=useSelectContentContext("SelectScrollButton",E),S=reactExports.useRef(null),A=useCollection$1(E),R=reactExports.useCallback(()=>{S.current!==null&&(window.clearInterval(S.current),S.current=null)},[]);return reactExports.useEffect(()=>()=>R(),[R]),useLayoutEffect2(()=>{var T;const C=A().find(N=>N.ref.current===document.activeElement);(T=C==null?void 0:C.ref.current)==null||T.scrollIntoView({block:"nearest"})},[A]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...w,ref:o,style:{flexShrink:0,...w.style},onPointerDown:composeEventHandlers(w.onPointerDown,()=>{S.current===null&&(S.current=window.setInterval(_,50))}),onPointerMove:composeEventHandlers(w.onPointerMove,()=>{var C;(C=j.onItemLeave)==null||C.call(j),S.current===null&&(S.current=window.setInterval(_,50))}),onPointerLeave:composeEventHandlers(w.onPointerLeave,()=>{R()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,..._}=i;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,..._,ref:o})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((i,o)=>{const{__scopeSelect:E,..._}=i,w=usePopperScope(E),j=useSelectContext(ARROW_NAME,E),S=useSelectContentContext(ARROW_NAME,E);return j.open&&S.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...w,..._,ref:o}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:i,value:o,...E},_)=>{const w=reactExports.useRef(null),j=useComposedRefs(_,w),S=usePrevious(o);return reactExports.useEffect(()=>{const A=w.current;if(!A)return;const R=window.HTMLSelectElement.prototype,T=Object.getOwnPropertyDescriptor(R,"value").set;if(S!==o&&T){const N=new Event("change",{bubbles:!0});T.call(A,o),A.dispatchEvent(N)}},[S,o]),jsxRuntimeExports.jsx(Primitive.select,{...E,style:{...VISUALLY_HIDDEN_STYLES,...E.style},ref:j,defaultValue:o})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME;function shouldShowPlaceholder(i){return i===""||i===void 0}function useTypeaheadSearch(i){const o=useCallbackRef$1(i),E=reactExports.useRef(""),_=reactExports.useRef(0),w=reactExports.useCallback(S=>{const A=E.current+S;o(A),function R(C){E.current=C,window.clearTimeout(_.current),C!==""&&(_.current=window.setTimeout(()=>R(""),1e3))}(A)},[o]),j=reactExports.useCallback(()=>{E.current="",window.clearTimeout(_.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(_.current),[]),[E,w,j]}function findNextItem(i,o,E){const w=o.length>1&&Array.from(o).every(C=>C===o[0])?o[0]:o,j=E?i.indexOf(E):-1;let S=wrapArray(i,Math.max(j,0));w.length===1&&(S=S.filter(C=>C!==E));const R=S.find(C=>C.textValue.toLowerCase().startsWith(w.toLowerCase()));return R!==E?R:void 0}function wrapArray(i,o){return i.map((E,_)=>i[(o+_)%i.length])}var Root2$1=Select$1,Trigger=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal=SelectPortal,Content2=SelectContent$1,Viewport$1=SelectViewport,Label=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator=SelectSeparator$1;const Select=Root2$1,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:i,children:o,...E},_)=>jsxRuntimeExports.jsxs(Trigger,{ref:_,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...E,children:[o,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:E,className:cn("flex cursor-default items-center justify-center py-1",i),...o,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:E,className:cn("flex cursor-default items-center justify-center py-1",i),...o,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:i,children:o,position:E="popper",..._},w)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{ref:w,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",E==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:E,..._,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",E==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2.displayName;const SelectLabel=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Label,{ref:E,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",i),...o}));SelectLabel.displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:i,children:o,...E},_)=>jsxRuntimeExports.jsxs(Item,{ref:_,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...E,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:o})]}));SelectItem.displayName=Item.displayName;const SelectSeparator=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Separator,{ref:E,className:cn("-mx-1 my-1 h-px bg-muted",i),...o}));SelectSeparator.displayName=Separator.displayName;const CustomPlanModal=({onClose:i,onSave:o})=>{const[E,_]=reactExports.useState({title:"",goal:"",details:""}),w=()=>{E.goal&&o(E)};return jsxRuntimeExports.jsx(Dialog,{open:!0,onOpenChange:i,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl bg-black border-[#EEBA2B]",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{className:"text-[#EEBA2B] text-xl",children:"Crea Piano Personalizzato"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 mt-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"plan-title",className:"text-[#EEBA2B]",children:"Titolo Allenamento (opzionale)"}),jsxRuntimeExports.jsx(Input,{id:"plan-title",value:E.title,onChange:j=>_({...E,title:j.target.value}),placeholder:"Es. Allenamento Forza Base",className:"bg-[#333333] border-[#EEBA2B] text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"goal",className:"text-[#EEBA2B]",children:"Cosa vuoi migliorare? *"}),jsxRuntimeExports.jsxs(Select,{onValueChange:j=>_({...E,goal:j}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"bg-[#333333] border-[#EEBA2B] text-white",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Seleziona il tuo obiettivo"})}),jsxRuntimeExports.jsxs(SelectContent,{className:"bg-[#333333] border-[#EEBA2B]",children:[jsxRuntimeExports.jsx(SelectItem,{value:"forza",children:"Aumentare la Forza"}),jsxRuntimeExports.jsx(SelectItem,{value:"resistenza",children:"Migliorare la Resistenza"}),jsxRuntimeExports.jsx(SelectItem,{value:"perdita-peso",children:"Perdita di Peso"}),jsxRuntimeExports.jsx(SelectItem,{value:"massa-muscolare",children:"Aumento Massa Muscolare"}),jsxRuntimeExports.jsx(SelectItem,{value:"tonificazione",children:"Tonificazione"}),jsxRuntimeExports.jsx(SelectItem,{value:"flessibilita",children:"Migliorare la Flessibilità"}),jsxRuntimeExports.jsx(SelectItem,{value:"condizionamento",children:"Condizionamento Generale"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"details",className:"text-[#EEBA2B]",children:"Dettagli aggiuntivi (opzionale)"}),jsxRuntimeExports.jsx(Textarea,{id:"details",value:E.details,onChange:j=>_({...E,details:j.target.value}),placeholder:"Aggiungi dettagli specifici come tempo disponibile, attrezzature, preferenze...",className:"bg-[#333333] border-[#EEBA2B] text-white",rows:3})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:i,className:"border-brand-primary text-text-primary hover:bg-surface-secondary hover:text-text-primary",children:"Annulla"}),jsxRuntimeExports.jsx(Button$1,{onClick:w,className:"btn-primary",disabled:!E.goal,children:"Genera Piano"})]})]})})},AICoach=()=>{const[i,o]=reactExports.useState("prime"),[E,_]=reactExports.useState(!1),w=reactExports.useRef(null),j=A=>{const R=S(A);w.current&&w.current.sendMessage(R),_(!1)},S=A=>{let C=`Crea un piano di allenamento personalizzato per ${{forza:"aumentare la forza",resistenza:"migliorare la resistenza cardiovascolare","perdita-peso":"perdere peso","massa-muscolare":"aumentare la massa muscolare",tonificazione:"tonificare il corpo",flessibilita:"migliorare la flessibilità",condizionamento:"migliorare il condizionamento fisico generale"}[A.goal]||A.goal}`;return A.title&&(C+=` con il titolo "${A.title}"`),A.details&&(C+=`. Dettagli aggiuntivi: ${A.details}`),C+=". Fornisci un piano dettagliato con esercizi specifici, serie, ripetizioni e consigli.",C};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-pp-gold",children:"PrimeBot"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Il tuo assistente personale per l'allenamento"})]})}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsxs("div",{className:"grid w-full grid-cols-2 bg-[#333333] mb-6 p-1 rounded-lg",style:{padding:"4px",borderRadius:"8px"},children:[jsxRuntimeExports.jsx("button",{onClick:()=>o("prime"),className:`text-white rounded-md px-4 py-2 text-sm font-medium transition-all duration-200 flex items-center justify-center ${i==="prime"?"bg-[#EEBA2B] text-black":"bg-transparent"}`,style:{borderRadius:"6px",padding:"8px 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PrimeBot"}),jsxRuntimeExports.jsx("button",{onClick:()=>o("insights"),className:`text-white rounded-md px-4 py-2 text-sm font-medium transition-all duration-200 flex items-center justify-center ${i==="insights"?"bg-[#EEBA2B] text-black":"bg-transparent"}`,style:{borderRadius:"6px",padding:"8px 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:["Insights AI",jsxRuntimeExports.jsx("span",{className:"text-xs",children:"🔒"})]})})]}),i==="prime"&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(AICoachPrime,{onRequestPlan:()=>_(!0),chatInterfaceRef:w})}),i==="insights"&&jsxRuntimeExports.jsx("div",{className:"insights-ai",children:jsxRuntimeExports.jsx(AIInsights,{})})]}),E&&jsxRuntimeExports.jsx(CustomPlanModal,{onClose:()=>_(!1),onSave:j})]})},Subscriptions=()=>{const i=[{id:"basic",name:"BASIC",price:"!!!",period:"/mese",originalPrice:"€9,99/mese",icon:Shield,features:["Tutte le funzioni gratuite","5 allenamenti salvati","1 consulenza mensile gratuita","Accesso diretto ai professionisti","Offerte limitate su palestre"],popular:!1,color:"from-blue-500 to-blue-600"},{id:"advanced",name:"ADVANCED",price:"!!!",period:"/mese",originalPrice:"€19,99/mese",icon:Star,features:["Tutte le funzioni Basic","Workout illimitati","Tracciamento avanzato","Sconti esclusivi su palestre","Rimozione completa pubblicità","Supporto prioritario"],popular:!0,color:"from-pp-gold to-yellow-500"},{id:"pro",name:"PRO",price:"!!!",period:"/mese",originalPrice:"€29,99/mese",icon:Crown,features:["Tutte le funzioni Advanced","Analisi IA delle performance","Suggerimenti personalizzati","Accesso esclusivo eventi live","Coaching personalizzato 1:1","Piano nutrizionale personalizzato"],popular:!1,color:"from-purple-500 to-purple-600"}];return jsxRuntimeExports.jsx(AppLayout,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pp-gold/10 via-transparent to-pp-gold/5"}),jsxRuntimeExports.jsx("div",{className:"relative container mx-auto px-4 py-16 text-center",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-pp-gold mb-6",children:"ABBONAMENTI"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:"Scegli il piano perfetto per superare ogni limite"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 text-pp-gold/80",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Nessun impegno"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Disdici quando vuoi"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Supporto 24/7"})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:i.map(o=>{const E=o.icon;return jsxRuntimeExports.jsxs("div",{className:`relative group ${o.popular?"md:-mt-8":""}`,children:[o.popular&&jsxRuntimeExports.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 z-20",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg",children:"⭐ PIÙ POPOLARE"})}),jsxRuntimeExports.jsxs(Card,{className:`
                    h-full bg-gradient-to-br from-gray-900 to-black border-2 transition-all duration-500 group-hover:scale-105
                    ${o.popular?"border-pp-gold shadow-2xl shadow-pp-gold/30":"border-gray-700 hover:border-pp-gold/50 hover:shadow-lg hover:shadow-pp-gold/20"}
                  `,children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center pb-6 pt-8",children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${o.color} flex items-center justify-center`,children:jsxRuntimeExports.jsx(E,{className:"h-8 w-8 text-white"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-white mb-2",children:o.name}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-4xl font-bold text-pp-gold",children:o.price}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:o.period})]})})]}),jsxRuntimeExports.jsxs(CardContent,{className:"px-6 pb-8",children:[jsxRuntimeExports.jsx("div",{className:"space-y-4 mb-8",children:o.features.map((_,w)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 rounded-full bg-pp-gold/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 text-pp-gold"})}),jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-sm leading-relaxed",children:_})]},w))}),jsxRuntimeExports.jsx(Button$1,{className:`
                          w-full py-3 text-base font-bold rounded-xl transition-all duration-300
                          ${o.popular?"bg-gradient-to-r from-pp-gold to-yellow-500 text-black hover:from-yellow-400 hover:to-pp-gold shadow-lg shadow-pp-gold/30":"bg-gradient-to-r from-gray-700 to-gray-600 text-white hover:from-gray-600 hover:to-gray-500"}
                        `,children:o.popular?"🚀 INIZIA ORA":"Scegli Piano"})]})]})]},o.id)})})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-black py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-pp-gold mb-4",children:"Perché scegliere Performance Prime?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg",children:"La piattaforma di fitness più avanzata per raggiungere i tuoi obiettivi"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-pp-gold/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Zap,{className:"h-8 w-8 text-pp-gold"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"AI Avanzata"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Algoritmi di intelligenza artificiale per personalizzare il tuo allenamento"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-pp-gold/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Shield,{className:"h-8 w-8 text-pp-gold"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sicurezza Totale"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"I tuoi dati sono protetti con crittografia di livello militare"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-pp-gold/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Crown,{className:"h-8 w-8 text-pp-gold"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Risultati Garantiti"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Supporto continuo e strumenti digitali per raggiungere i tuoi obiettivi"})]})]})]})})]})})},UserProfile=()=>{const{toast:i}=useToast(),[o,E]=reactExports.useState(null),[_,w]=reactExports.useState({total_workouts:0,total_hours:0}),[j,S]=reactExports.useState(!1),[A,R]=reactExports.useState({name:"",surname:"",birthPlace:""}),[C,T]=reactExports.useState(!0),[N,O]=reactExports.useState(null),[$,D]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{T(!0);try{const W=await fetchUserProfile();W&&(E(W),R({name:W.name,surname:W.surname,birthPlace:W.birth_place}));const H=await fetchWorkoutStats();w(H)}catch(W){console.error("Error loading profile data:",W)}finally{T(!1)}})()},[]);const L=async()=>{if(o)try{let F=o.avatarUrl;$?F=await uploadAvatar($):N&&(F=N),await updateUserProfile({name:A.name,surname:A.surname,birthPlace:A.birthPlace,avatarUrl:F});const W=await fetchUserProfile();W&&(E(W),R({name:W.name,surname:W.surname,birthPlace:W.birth_place})),S(!1),D(null),O(null),i({title:"Profilo aggiornato con successo!",duration:2e3})}catch(F){console.error("❌ Errore durante il salvataggio:",F),i({title:"Errore nell'aggiornamento del profilo",variant:"destructive",duration:3e3})}},I=()=>{o&&R({name:o.name,surname:o.surname,birthPlace:o.birth_place}),S(!1),D(null),O(null)},z=()=>{const F=document.createElement("input");F.type="file",F.accept="image/*",F.onchange=W=>{var B;const H=(B=W.target.files)==null?void 0:B[0];if(H){D(H);const U=new FileReader;U.onload=G=>{var V;O((V=G.target)==null?void 0:V.result)},U.readAsDataURL(H)}},F.click()};return C?jsxRuntimeExports.jsx("div",{className:"bg-black rounded-2xl shadow-sm border-2 border-[#EEBA2B] p-6",children:jsxRuntimeExports.jsx("div",{className:"text-center text-white",children:"Caricamento profilo..."})}):o?jsxRuntimeExports.jsxs("div",{className:"bg-black rounded-2xl shadow-sm border-2 border-[#EEBA2B] overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"h-32",style:{background:"linear-gradient(135deg, #000000 0%, #C89116 100%)"}}),jsxRuntimeExports.jsxs("div",{className:"relative px-6 pb-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-12 left-6",children:jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 bg-white rounded-2xl border-4 border-white shadow-lg flex items-center justify-center text-4xl overflow-hidden",children:[N?jsxRuntimeExports.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}):o.avatarUrl&&(o.avatarUrl.startsWith("http")||o.avatarUrl.startsWith("data:image/"))?jsxRuntimeExports.jsx("img",{src:o.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("span",{children:o.avatarUrl||"👨‍💼"}),j&&jsxRuntimeExports.jsx("button",{onClick:z,className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white opacity-0 hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(Camera,{className:"h-6 w-6"})})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-4",children:j?jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:I,variant:"outline",size:"sm",className:"border-border-primary text-text-primary hover:bg-surface-secondary hover:text-text-primary",children:"Annulla"}),jsxRuntimeExports.jsx(Button$1,{onClick:L,variant:"outline",size:"sm",className:"bg-[#EEBA2B] text-black border-[#EEBA2B] hover:bg-[#EEBA2B]/90",children:"Salva"})]}):jsxRuntimeExports.jsxs(Button$1,{onClick:()=>S(!0),variant:"outline",size:"sm",className:"bg-[#EEBA2B] text-black border-[#EEBA2B] hover:bg-[#EEBA2B]/90",children:[jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4 mr-2 text-black"}),"Modifica"]})}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:j?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Nome"}),jsxRuntimeExports.jsx(Input,{value:A.name,onChange:F=>R({...A,name:F.target.value}),placeholder:"Nome",className:"bg-gray-800 border-gray-600 text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Cognome"}),jsxRuntimeExports.jsx(Input,{value:A.surname,onChange:F=>R({...A,surname:F.target.value}),placeholder:"Cognome",className:"bg-gray-800 border-gray-600 text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Luogo di nascita"}),jsxRuntimeExports.jsx(Input,{value:A.birthPlace,onChange:F=>R({...A,birthPlace:F.target.value}),placeholder:"Luogo di nascita",className:"bg-gray-800 border-gray-600 text-white"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-[#EEBA2B]",children:[o.name," ",o.surname]}),jsxRuntimeExports.jsx("p",{className:"text-white mb-4",children:o.bio}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.total_workouts}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white",children:"Allenamenti"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[_.total_hours,"h"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white",children:"Ore totali"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-white",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 mr-2 text-white"}),jsxRuntimeExports.jsx("span",{children:o.birth_place})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-white",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-4 w-4 mr-2 text-white"}),jsxRuntimeExports.jsx("span",{children:"Membro da Gennaio 2024"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-white",children:[jsxRuntimeExports.jsx(Trophy,{className:"h-4 w-4 mr-2 text-white"}),jsxRuntimeExports.jsx("span",{children:"Livello: Intermedio"})]})]})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"bg-black rounded-2xl shadow-sm border-2 border-[#EEBA2B] p-6",children:jsxRuntimeExports.jsx("div",{className:"text-center text-white",children:"Errore nel caricamento del profilo"})})},AchievementsBoard=()=>jsxRuntimeExports.jsxs("div",{className:"bg-black rounded-2xl shadow-sm border border-gray-600 p-6 relative achievement-board",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-[#EEBA2B]",children:"Albo delle Medaglie"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-white",children:"0 di 6 conquistate"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{title:"Settimana Perfetta",icon:Calendar$1,color:"bg-blue-600"},{title:"Brucia Grassi",icon:Zap,color:"bg-orange-600"},{title:"Resistenza Pro",icon:Heart,color:"bg-red-600"},{title:"Forza Massima",icon:Dumbbell,color:"bg-purple-600"},{title:"Costanza Mensile",icon:Target,color:"bg-green-600"},{title:"Campione Performance",icon:Award,color:"bg-yellow-600"}].map((i,o)=>{const E=i.icon;return jsxRuntimeExports.jsx("div",{className:"p-4 rounded-xl border-2 border-slate-200 bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-3 bg-slate-300",children:jsxRuntimeExports.jsx(E,{className:"h-6 w-6 text-slate-500"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1 text-black",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Descrizione obiettivo"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"h-2 rounded-full bg-slate-300 w-0"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-500",children:"0%"})]})]})},o)})})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-600/40 backdrop-blur-sm rounded-2xl z-10 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Funzionalità in arrivo"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-200",children:"L'albo delle medaglie sarà disponibile presto!"})]})})]}),fetchProgressStats=async i=>{try{const{data:{user:o}}=await supabase.auth.getUser();if(!o)return[];const E=new Date;let _;switch(i){case"week":_=new Date(E.getTime()-7*24*60*60*1e3);break;case"month":_=new Date(E.getTime()-30*24*60*60*1e3);break;case"6months":_=new Date(E.getTime()-180*24*60*60*1e3);break;case"year":_=new Date(E.getTime()-365*24*60*60*1e3);break;case"all":default:_=new Date("2020-01-01");break}const w=_.toISOString().split("T")[0],{data:j,error:S}=await supabase.from("custom_workouts").select("scheduled_date, total_duration, completed_at").eq("user_id",o.id).eq("completed",!0).gte("scheduled_date",w).order("scheduled_date",{ascending:!0});if(S)return console.error("Error fetching progress stats:",S),[];const A=new Map;return j==null||j.forEach(C=>{const T=C.scheduled_date,N=C.total_duration||0;if(A.has(T)){const O=A.get(T);A.set(T,{workouts:O.workouts+1,hours:O.hours+N/60})}else A.set(T,{workouts:1,hours:N/60})}),Array.from(A.entries()).map(([C,T])=>({date:C,workouts:T.workouts,hours:Math.round(T.hours*10)/10})).sort((C,T)=>C.date.localeCompare(T.date))}catch(o){return console.error("Error in fetchProgressStats:",o),[]}},ProgressChart=({data:i})=>{if(!i||i.length===0)return jsxRuntimeExports.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Nessun dato disponibile per il periodo selezionato"});const o=i.map(E=>({...E,displayDate:new Date(E.date).toLocaleDateString("it-IT",{day:"2-digit",month:"short"})}));return jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(LineChart,{data:o,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"displayDate",tick:{fill:"#9CA3AF",fontSize:12},axisLine:{stroke:"#374151"},tickLine:{stroke:"#374151"}}),jsxRuntimeExports.jsx(YAxis,{tick:{fill:"#9CA3AF",fontSize:12},axisLine:{stroke:"#374151"},tickLine:{stroke:"#374151"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"},labelStyle:{color:"#EEBA2B"}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"workouts",stroke:"#EEBA2B",strokeWidth:3,dot:{fill:"#EEBA2B",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#EEBA2B",strokeWidth:2},name:"Allenamenti"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"hours",stroke:"#f59e0b",strokeWidth:3,dot:{fill:"#f59e0b",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#f59e0b",strokeWidth:2},name:"Ore"})]})})})},PERIOD_OPTIONS=[{label:"progressHistory.lastWeek",key:"week"},{label:"progressHistory.lastMonth",key:"month"}],ProgressHistory=()=>{const{t:i}=useTranslation(),[o,E]=reactExports.useState("month"),[_,w]=reactExports.useState(null),[j,S]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{S(!0);try{const C=await fetchProgressStats(o);w(C)}catch(C){console.error("Error loading progress stats:",C),w([])}finally{S(!1)}})()},[o]);const A=_?{workouts:_.reduce((R,C)=>R+C.workouts,0),hours:Math.round(_.reduce((R,C)=>R+C.hours,0)*10)/10}:{workouts:0,hours:0};return jsxRuntimeExports.jsxs("div",{className:"bg-black rounded-2xl shadow-sm border border-[#EEBA2B] p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-[#EEBA2B]",children:i("progressHistory.title")}),jsxRuntimeExports.jsx("div",{className:"hidden lg:flex gap-2",children:PERIOD_OPTIONS.map(R=>jsxRuntimeExports.jsx("button",{className:`px-3 py-1 text-sm rounded-lg transition-colors ${o===R.key?"bg-[#EEBA2B] text-black font-medium":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,onClick:()=>E(R.key),children:i(R.label)},R.key))}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-[#EEBA2B] mb-1",children:"Periodo"}),jsxRuntimeExports.jsx("select",{value:o,onChange:R=>E(R.target.value),className:"bg-black border border-[#EEBA2B] text-[#EEBA2B] px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#EEBA2B]",children:PERIOD_OPTIONS.map(R=>jsxRuntimeExports.jsx("option",{value:R.key,className:"bg-black text-[#EEBA2B]",children:i(R.label)},R.key))})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:j?jsxRuntimeExports.jsx("div",{className:"h-64 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"Caricamento dati..."})}):jsxRuntimeExports.jsx(ProgressChart,{data:_||[]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-[#EEBA2B]/20 to-transparent rounded-xl border border-[#EEBA2B]/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-[#EEBA2B] rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white",children:i("progressHistory.workouts")})]}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-[#EEBA2B]",children:A.workouts}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:i("progressHistory.inPeriod")})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-orange-500/20 to-transparent rounded-xl border border-orange-500/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white",children:i("progressHistory.totalHours")})]}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[A.hours,"h"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:i("progressHistory.inPeriod")})]})]})]})},settingsSections=[{title:"Account",items:[{icon:User,label:"Informazioni personali",action:"/settings/personal-info"},{icon:Lock,label:"Password e sicurezza",action:"/settings/security"},{icon:Bell,label:"Notifiche",action:"/settings/notifications"}]},{title:"Preferenze",items:[{icon:Globe,label:"Lingua e regione",action:"/settings/language"},{icon:Shield,label:"Privacy",action:"/settings/privacy"}]},{title:"Supporto",items:[{icon:CircleHelp,label:"Centro assistenza",action:"/settings/help"}]}],Settings=()=>{const i=useNavigate();reactExports.useEffect(()=>{const E=sessionStorage.getItem("settingsScrollPosition");if(E){const _=setTimeout(()=>{window.scrollTo(0,parseInt(E)),sessionStorage.removeItem("settingsScrollPosition")},100);return()=>clearTimeout(_)}},[]);const o=E=>{sessionStorage.setItem("settingsScrollPosition",window.scrollY.toString()),i(E)};return jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary rounded-2xl shadow-sm border-2 border-brand-primary p-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-6",children:"Impostazioni"}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:settingsSections.map((E,_)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-brand-primary mb-3 uppercase tracking-wide",children:E.title}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:settingsSections[_].items.map((w,j)=>{const S=w.icon;return jsxRuntimeExports.jsxs("button",{onClick:()=>o(w.action),className:"w-full flex items-center space-x-3 p-3 rounded-xl hover:bg-surface-secondary hover:bg-opacity-80 focus:bg-surface-secondary focus:bg-opacity-80 focus:outline-none transition-colors text-left group",children:[jsxRuntimeExports.jsx(S,{className:"h-5 w-5 text-text-primary group-hover:text-brand-primary transition-colors"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-text-primary group-hover:text-brand-primary transition-colors",children:w.label})]},j)})})]},_))})]})},Profile=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-brand-primary",children:"Il Tuo Profilo"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary",children:"Monitora i tuoi progressi e risultati"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsx(UserProfile,{}),jsxRuntimeExports.jsx(AchievementsBoard,{}),jsxRuntimeExports.jsx(ProgressHistory,{})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Settings,{})})]})]});function toDate(i){const o=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&o==="[object Date]"?new i.constructor(+i):typeof i=="number"||o==="[object Number]"||typeof i=="string"||o==="[object String]"?new Date(i):new Date(NaN)}function constructFrom(i,o){return i instanceof Date?new i.constructor(o):new Date(o)}function addDays(i,o){const E=toDate(i);return isNaN(o)?constructFrom(i,NaN):(o&&E.setDate(E.getDate()+o),E)}function addMonths(i,o){const E=toDate(i);if(isNaN(o))return constructFrom(i,NaN);if(!o)return E;const _=E.getDate(),w=constructFrom(i,E.getTime());w.setMonth(E.getMonth()+o+1,0);const j=w.getDate();return _>=j?w:(E.setFullYear(w.getFullYear(),w.getMonth(),_),E)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(i,o){var A,R,C,T;const E=getDefaultOptions(),_=(o==null?void 0:o.weekStartsOn)??((R=(A=o==null?void 0:o.locale)==null?void 0:A.options)==null?void 0:R.weekStartsOn)??E.weekStartsOn??((T=(C=E.locale)==null?void 0:C.options)==null?void 0:T.weekStartsOn)??0,w=toDate(i),j=w.getDay(),S=(j<_?7:0)+j-_;return w.setDate(w.getDate()-S),w.setHours(0,0,0,0),w}function startOfISOWeek(i){return startOfWeek(i,{weekStartsOn:1})}function getISOWeekYear(i){const o=toDate(i),E=o.getFullYear(),_=constructFrom(i,0);_.setFullYear(E+1,0,4),_.setHours(0,0,0,0);const w=startOfISOWeek(_),j=constructFrom(i,0);j.setFullYear(E,0,4),j.setHours(0,0,0,0);const S=startOfISOWeek(j);return o.getTime()>=w.getTime()?E+1:o.getTime()>=S.getTime()?E:E-1}function startOfDay(i){const o=toDate(i);return o.setHours(0,0,0,0),o}function getTimezoneOffsetInMilliseconds(i){const o=toDate(i),E=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return E.setUTCFullYear(o.getFullYear()),+i-+E}function differenceInCalendarDays(i,o){const E=startOfDay(i),_=startOfDay(o),w=+E-getTimezoneOffsetInMilliseconds(E),j=+_-getTimezoneOffsetInMilliseconds(_);return Math.round((w-j)/millisecondsInDay)}function startOfISOWeekYear(i){const o=getISOWeekYear(i),E=constructFrom(i,0);return E.setFullYear(o,0,4),E.setHours(0,0,0,0),startOfISOWeek(E)}function addWeeks(i,o){const E=o*7;return addDays(i,E)}function addYears(i,o){return addMonths(i,o*12)}function max(i){let o;return i.forEach(function(E){const _=toDate(E);(o===void 0||o<_||isNaN(Number(_)))&&(o=_)}),o||new Date(NaN)}function min(i){let o;return i.forEach(E=>{const _=toDate(E);(!o||o>_||isNaN(+_))&&(o=_)}),o||new Date(NaN)}function isSameDay(i,o){const E=startOfDay(i),_=startOfDay(o);return+E==+_}function isDate(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function isValid(i){if(!isDate(i)&&typeof i!="number")return!1;const o=toDate(i);return!isNaN(Number(o))}function differenceInCalendarMonths(i,o){const E=toDate(i),_=toDate(o),w=E.getFullYear()-_.getFullYear(),j=E.getMonth()-_.getMonth();return w*12+j}function differenceInCalendarWeeks(i,o,E){const _=startOfWeek(i,E),w=startOfWeek(o,E),j=+_-getTimezoneOffsetInMilliseconds(_),S=+w-getTimezoneOffsetInMilliseconds(w);return Math.round((j-S)/millisecondsInWeek)}function endOfMonth(i){const o=toDate(i),E=o.getMonth();return o.setFullYear(o.getFullYear(),E+1,0),o.setHours(23,59,59,999),o}function startOfMonth(i){const o=toDate(i);return o.setDate(1),o.setHours(0,0,0,0),o}function startOfYear(i){const o=toDate(i),E=constructFrom(i,0);return E.setFullYear(o.getFullYear(),0,1),E.setHours(0,0,0,0),E}function endOfWeek(i,o){var A,R,C,T;const E=getDefaultOptions(),_=(o==null?void 0:o.weekStartsOn)??((R=(A=o==null?void 0:o.locale)==null?void 0:A.options)==null?void 0:R.weekStartsOn)??E.weekStartsOn??((T=(C=E.locale)==null?void 0:C.options)==null?void 0:T.weekStartsOn)??0,w=toDate(i),j=w.getDay(),S=(j<_?-7:0)+6-(j-_);return w.setDate(w.getDate()+S),w.setHours(23,59,59,999),w}function endOfISOWeek(i){return endOfWeek(i,{weekStartsOn:1})}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(i,o,E)=>{let _;const w=formatDistanceLocale[i];return typeof w=="string"?_=w:o===1?_=w.one:_=w.other.replace("{{count}}",o.toString()),E!=null&&E.addSuffix?E.comparison&&E.comparison>0?"in "+_:_+" ago":_};function buildFormatLongFn(i){return(o={})=>{const E=o.width?String(o.width):i.defaultWidth;return i.formats[E]||i.formats[i.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(i,o,E,_)=>formatRelativeLocale[i];function buildLocalizeFn(i){return(o,E)=>{const _=E!=null&&E.context?String(E.context):"standalone";let w;if(_==="formatting"&&i.formattingValues){const S=i.defaultFormattingWidth||i.defaultWidth,A=E!=null&&E.width?String(E.width):S;w=i.formattingValues[A]||i.formattingValues[S]}else{const S=i.defaultWidth,A=E!=null&&E.width?String(E.width):i.defaultWidth;w=i.values[A]||i.values[S]}const j=i.argumentCallback?i.argumentCallback(o):o;return w[j]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(i,o)=>{const E=Number(i),_=E%100;if(_>20||_<10)switch(_%10){case 1:return E+"st";case 2:return E+"nd";case 3:return E+"rd"}return E+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:i=>i-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(i){return(o,E={})=>{const _=E.width,w=_&&i.matchPatterns[_]||i.matchPatterns[i.defaultMatchWidth],j=o.match(w);if(!j)return null;const S=j[0],A=_&&i.parsePatterns[_]||i.parsePatterns[i.defaultParseWidth],R=Array.isArray(A)?findIndex(A,N=>N.test(S)):findKey(A,N=>N.test(S));let C;C=i.valueCallback?i.valueCallback(R):R,C=E.valueCallback?E.valueCallback(C):C;const T=o.slice(S.length);return{value:C,rest:T}}}function findKey(i,o){for(const E in i)if(Object.prototype.hasOwnProperty.call(i,E)&&o(i[E]))return E}function findIndex(i,o){for(let E=0;E<i.length;E++)if(o(i[E]))return E}function buildMatchPatternFn(i){return(o,E={})=>{const _=o.match(i.matchPattern);if(!_)return null;const w=_[0],j=o.match(i.parsePattern);if(!j)return null;let S=i.valueCallback?i.valueCallback(j[0]):j[0];S=E.valueCallback?E.valueCallback(S):S;const A=o.slice(w.length);return{value:S,rest:A}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:i=>parseInt(i,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:i=>i+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(i){const o=toDate(i);return differenceInCalendarDays(o,startOfYear(o))+1}function getISOWeek(i){const o=toDate(i),E=+startOfISOWeek(o)-+startOfISOWeekYear(o);return Math.round(E/millisecondsInWeek)+1}function getWeekYear(i,o){var T,N,O,$;const E=toDate(i),_=E.getFullYear(),w=getDefaultOptions(),j=(o==null?void 0:o.firstWeekContainsDate)??((N=(T=o==null?void 0:o.locale)==null?void 0:T.options)==null?void 0:N.firstWeekContainsDate)??w.firstWeekContainsDate??(($=(O=w.locale)==null?void 0:O.options)==null?void 0:$.firstWeekContainsDate)??1,S=constructFrom(i,0);S.setFullYear(_+1,0,j),S.setHours(0,0,0,0);const A=startOfWeek(S,o),R=constructFrom(i,0);R.setFullYear(_,0,j),R.setHours(0,0,0,0);const C=startOfWeek(R,o);return E.getTime()>=A.getTime()?_+1:E.getTime()>=C.getTime()?_:_-1}function startOfWeekYear(i,o){var A,R,C,T;const E=getDefaultOptions(),_=(o==null?void 0:o.firstWeekContainsDate)??((R=(A=o==null?void 0:o.locale)==null?void 0:A.options)==null?void 0:R.firstWeekContainsDate)??E.firstWeekContainsDate??((T=(C=E.locale)==null?void 0:C.options)==null?void 0:T.firstWeekContainsDate)??1,w=getWeekYear(i,o),j=constructFrom(i,0);return j.setFullYear(w,0,_),j.setHours(0,0,0,0),startOfWeek(j,o)}function getWeek(i,o){const E=toDate(i),_=+startOfWeek(E,o)-+startOfWeekYear(E,o);return Math.round(_/millisecondsInWeek)+1}function addLeadingZeros(i,o){const E=i<0?"-":"",_=Math.abs(i).toString().padStart(o,"0");return E+_}const lightFormatters={y(i,o){const E=i.getFullYear(),_=E>0?E:1-E;return addLeadingZeros(o==="yy"?_%100:_,o.length)},M(i,o){const E=i.getMonth();return o==="M"?String(E+1):addLeadingZeros(E+1,2)},d(i,o){return addLeadingZeros(i.getDate(),o.length)},a(i,o){const E=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return E.toUpperCase();case"aaa":return E;case"aaaaa":return E[0];case"aaaa":default:return E==="am"?"a.m.":"p.m."}},h(i,o){return addLeadingZeros(i.getHours()%12||12,o.length)},H(i,o){return addLeadingZeros(i.getHours(),o.length)},m(i,o){return addLeadingZeros(i.getMinutes(),o.length)},s(i,o){return addLeadingZeros(i.getSeconds(),o.length)},S(i,o){const E=o.length,_=i.getMilliseconds(),w=Math.trunc(_*Math.pow(10,E-3));return addLeadingZeros(w,o.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters$1={G:function(i,o,E){const _=i.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return E.era(_,{width:"abbreviated"});case"GGGGG":return E.era(_,{width:"narrow"});case"GGGG":default:return E.era(_,{width:"wide"})}},y:function(i,o,E){if(o==="yo"){const _=i.getFullYear(),w=_>0?_:1-_;return E.ordinalNumber(w,{unit:"year"})}return lightFormatters.y(i,o)},Y:function(i,o,E,_){const w=getWeekYear(i,_),j=w>0?w:1-w;if(o==="YY"){const S=j%100;return addLeadingZeros(S,2)}return o==="Yo"?E.ordinalNumber(j,{unit:"year"}):addLeadingZeros(j,o.length)},R:function(i,o){const E=getISOWeekYear(i);return addLeadingZeros(E,o.length)},u:function(i,o){const E=i.getFullYear();return addLeadingZeros(E,o.length)},Q:function(i,o,E){const _=Math.ceil((i.getMonth()+1)/3);switch(o){case"Q":return String(_);case"QQ":return addLeadingZeros(_,2);case"Qo":return E.ordinalNumber(_,{unit:"quarter"});case"QQQ":return E.quarter(_,{width:"abbreviated",context:"formatting"});case"QQQQQ":return E.quarter(_,{width:"narrow",context:"formatting"});case"QQQQ":default:return E.quarter(_,{width:"wide",context:"formatting"})}},q:function(i,o,E){const _=Math.ceil((i.getMonth()+1)/3);switch(o){case"q":return String(_);case"qq":return addLeadingZeros(_,2);case"qo":return E.ordinalNumber(_,{unit:"quarter"});case"qqq":return E.quarter(_,{width:"abbreviated",context:"standalone"});case"qqqqq":return E.quarter(_,{width:"narrow",context:"standalone"});case"qqqq":default:return E.quarter(_,{width:"wide",context:"standalone"})}},M:function(i,o,E){const _=i.getMonth();switch(o){case"M":case"MM":return lightFormatters.M(i,o);case"Mo":return E.ordinalNumber(_+1,{unit:"month"});case"MMM":return E.month(_,{width:"abbreviated",context:"formatting"});case"MMMMM":return E.month(_,{width:"narrow",context:"formatting"});case"MMMM":default:return E.month(_,{width:"wide",context:"formatting"})}},L:function(i,o,E){const _=i.getMonth();switch(o){case"L":return String(_+1);case"LL":return addLeadingZeros(_+1,2);case"Lo":return E.ordinalNumber(_+1,{unit:"month"});case"LLL":return E.month(_,{width:"abbreviated",context:"standalone"});case"LLLLL":return E.month(_,{width:"narrow",context:"standalone"});case"LLLL":default:return E.month(_,{width:"wide",context:"standalone"})}},w:function(i,o,E,_){const w=getWeek(i,_);return o==="wo"?E.ordinalNumber(w,{unit:"week"}):addLeadingZeros(w,o.length)},I:function(i,o,E){const _=getISOWeek(i);return o==="Io"?E.ordinalNumber(_,{unit:"week"}):addLeadingZeros(_,o.length)},d:function(i,o,E){return o==="do"?E.ordinalNumber(i.getDate(),{unit:"date"}):lightFormatters.d(i,o)},D:function(i,o,E){const _=getDayOfYear(i);return o==="Do"?E.ordinalNumber(_,{unit:"dayOfYear"}):addLeadingZeros(_,o.length)},E:function(i,o,E){const _=i.getDay();switch(o){case"E":case"EE":case"EEE":return E.day(_,{width:"abbreviated",context:"formatting"});case"EEEEE":return E.day(_,{width:"narrow",context:"formatting"});case"EEEEEE":return E.day(_,{width:"short",context:"formatting"});case"EEEE":default:return E.day(_,{width:"wide",context:"formatting"})}},e:function(i,o,E,_){const w=i.getDay(),j=(w-_.weekStartsOn+8)%7||7;switch(o){case"e":return String(j);case"ee":return addLeadingZeros(j,2);case"eo":return E.ordinalNumber(j,{unit:"day"});case"eee":return E.day(w,{width:"abbreviated",context:"formatting"});case"eeeee":return E.day(w,{width:"narrow",context:"formatting"});case"eeeeee":return E.day(w,{width:"short",context:"formatting"});case"eeee":default:return E.day(w,{width:"wide",context:"formatting"})}},c:function(i,o,E,_){const w=i.getDay(),j=(w-_.weekStartsOn+8)%7||7;switch(o){case"c":return String(j);case"cc":return addLeadingZeros(j,o.length);case"co":return E.ordinalNumber(j,{unit:"day"});case"ccc":return E.day(w,{width:"abbreviated",context:"standalone"});case"ccccc":return E.day(w,{width:"narrow",context:"standalone"});case"cccccc":return E.day(w,{width:"short",context:"standalone"});case"cccc":default:return E.day(w,{width:"wide",context:"standalone"})}},i:function(i,o,E){const _=i.getDay(),w=_===0?7:_;switch(o){case"i":return String(w);case"ii":return addLeadingZeros(w,o.length);case"io":return E.ordinalNumber(w,{unit:"day"});case"iii":return E.day(_,{width:"abbreviated",context:"formatting"});case"iiiii":return E.day(_,{width:"narrow",context:"formatting"});case"iiiiii":return E.day(_,{width:"short",context:"formatting"});case"iiii":default:return E.day(_,{width:"wide",context:"formatting"})}},a:function(i,o,E){const w=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return E.dayPeriod(w,{width:"abbreviated",context:"formatting"});case"aaa":return E.dayPeriod(w,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return E.dayPeriod(w,{width:"narrow",context:"formatting"});case"aaaa":default:return E.dayPeriod(w,{width:"wide",context:"formatting"})}},b:function(i,o,E){const _=i.getHours();let w;switch(_===12?w=dayPeriodEnum.noon:_===0?w=dayPeriodEnum.midnight:w=_/12>=1?"pm":"am",o){case"b":case"bb":return E.dayPeriod(w,{width:"abbreviated",context:"formatting"});case"bbb":return E.dayPeriod(w,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return E.dayPeriod(w,{width:"narrow",context:"formatting"});case"bbbb":default:return E.dayPeriod(w,{width:"wide",context:"formatting"})}},B:function(i,o,E){const _=i.getHours();let w;switch(_>=17?w=dayPeriodEnum.evening:_>=12?w=dayPeriodEnum.afternoon:_>=4?w=dayPeriodEnum.morning:w=dayPeriodEnum.night,o){case"B":case"BB":case"BBB":return E.dayPeriod(w,{width:"abbreviated",context:"formatting"});case"BBBBB":return E.dayPeriod(w,{width:"narrow",context:"formatting"});case"BBBB":default:return E.dayPeriod(w,{width:"wide",context:"formatting"})}},h:function(i,o,E){if(o==="ho"){let _=i.getHours()%12;return _===0&&(_=12),E.ordinalNumber(_,{unit:"hour"})}return lightFormatters.h(i,o)},H:function(i,o,E){return o==="Ho"?E.ordinalNumber(i.getHours(),{unit:"hour"}):lightFormatters.H(i,o)},K:function(i,o,E){const _=i.getHours()%12;return o==="Ko"?E.ordinalNumber(_,{unit:"hour"}):addLeadingZeros(_,o.length)},k:function(i,o,E){let _=i.getHours();return _===0&&(_=24),o==="ko"?E.ordinalNumber(_,{unit:"hour"}):addLeadingZeros(_,o.length)},m:function(i,o,E){return o==="mo"?E.ordinalNumber(i.getMinutes(),{unit:"minute"}):lightFormatters.m(i,o)},s:function(i,o,E){return o==="so"?E.ordinalNumber(i.getSeconds(),{unit:"second"}):lightFormatters.s(i,o)},S:function(i,o){return lightFormatters.S(i,o)},X:function(i,o,E){const _=i.getTimezoneOffset();if(_===0)return"Z";switch(o){case"X":return formatTimezoneWithOptionalMinutes(_);case"XXXX":case"XX":return formatTimezone(_);case"XXXXX":case"XXX":default:return formatTimezone(_,":")}},x:function(i,o,E){const _=i.getTimezoneOffset();switch(o){case"x":return formatTimezoneWithOptionalMinutes(_);case"xxxx":case"xx":return formatTimezone(_);case"xxxxx":case"xxx":default:return formatTimezone(_,":")}},O:function(i,o,E){const _=i.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(_,":");case"OOOO":default:return"GMT"+formatTimezone(_,":")}},z:function(i,o,E){const _=i.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(_,":");case"zzzz":default:return"GMT"+formatTimezone(_,":")}},t:function(i,o,E){const _=Math.trunc(i.getTime()/1e3);return addLeadingZeros(_,o.length)},T:function(i,o,E){const _=i.getTime();return addLeadingZeros(_,o.length)}};function formatTimezoneShort(i,o=""){const E=i>0?"-":"+",_=Math.abs(i),w=Math.trunc(_/60),j=_%60;return j===0?E+String(w):E+String(w)+o+addLeadingZeros(j,2)}function formatTimezoneWithOptionalMinutes(i,o){return i%60===0?(i>0?"-":"+")+addLeadingZeros(Math.abs(i)/60,2):formatTimezone(i,o)}function formatTimezone(i,o=""){const E=i>0?"-":"+",_=Math.abs(i),w=addLeadingZeros(Math.trunc(_/60),2),j=addLeadingZeros(_%60,2);return E+w+o+j}const dateLongFormatter=(i,o)=>{switch(i){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},timeLongFormatter=(i,o)=>{switch(i){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},dateTimeLongFormatter=(i,o)=>{const E=i.match(/(P+)(p+)?/)||[],_=E[1],w=E[2];if(!w)return dateLongFormatter(i,o);let j;switch(_){case"P":j=o.dateTime({width:"short"});break;case"PP":j=o.dateTime({width:"medium"});break;case"PPP":j=o.dateTime({width:"long"});break;case"PPPP":default:j=o.dateTime({width:"full"});break}return j.replace("{{date}}",dateLongFormatter(_,o)).replace("{{time}}",timeLongFormatter(w,o))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(i){return dayOfYearTokenRE.test(i)}function isProtectedWeekYearToken(i){return weekYearTokenRE.test(i)}function warnOrThrowProtectedError(i,o,E){const _=message(i,o,E);if(console.warn(_),throwTokens.includes(i))throw new RangeError(_)}function message(i,o,E){const _=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${o}\`) for formatting ${_} to the input \`${E}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(i,o,E){var T,N,O,$,D,L,I,z;const _=getDefaultOptions(),w=(E==null?void 0:E.locale)??_.locale??enUS,j=(E==null?void 0:E.firstWeekContainsDate)??((N=(T=E==null?void 0:E.locale)==null?void 0:T.options)==null?void 0:N.firstWeekContainsDate)??_.firstWeekContainsDate??(($=(O=_.locale)==null?void 0:O.options)==null?void 0:$.firstWeekContainsDate)??1,S=(E==null?void 0:E.weekStartsOn)??((L=(D=E==null?void 0:E.locale)==null?void 0:D.options)==null?void 0:L.weekStartsOn)??_.weekStartsOn??((z=(I=_.locale)==null?void 0:I.options)==null?void 0:z.weekStartsOn)??0,A=toDate(i);if(!isValid(A))throw new RangeError("Invalid time value");let R=o.match(longFormattingTokensRegExp).map(F=>{const W=F[0];if(W==="p"||W==="P"){const H=longFormatters[W];return H(F,w.formatLong)}return F}).join("").match(formattingTokensRegExp).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const W=F[0];if(W==="'")return{isToken:!1,value:cleanEscapedString(F)};if(formatters$1[W])return{isToken:!0,value:F};if(W.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:F}});w.localize.preprocessor&&(R=w.localize.preprocessor(A,R));const C={firstWeekContainsDate:j,weekStartsOn:S,locale:w};return R.map(F=>{if(!F.isToken)return F.value;const W=F.value;(!(E!=null&&E.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(W)||!(E!=null&&E.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(W))&&warnOrThrowProtectedError(W,o,String(i));const H=formatters$1[W[0]];return H(A,W,w.localize,C)}).join("")}function cleanEscapedString(i){const o=i.match(escapedStringRegExp);return o?o[1].replace(doubleQuoteRegExp,"'"):i}function getDaysInMonth(i){const o=toDate(i),E=o.getFullYear(),_=o.getMonth(),w=constructFrom(i,0);return w.setFullYear(E,_+1,0),w.setHours(0,0,0,0),w.getDate()}function getUnixTime(i){return Math.trunc(+toDate(i)/1e3)}function lastDayOfMonth(i){const o=toDate(i),E=o.getMonth();return o.setFullYear(o.getFullYear(),E+1,0),o.setHours(0,0,0,0),o}function getWeeksInMonth(i,o){return differenceInCalendarWeeks(lastDayOfMonth(i),startOfMonth(i),o)+1}function isAfter(i,o){const E=toDate(i),_=toDate(o);return E.getTime()>_.getTime()}function isBefore(i,o){const E=toDate(i),_=toDate(o);return+E<+_}function isSameMonth(i,o){const E=toDate(i),_=toDate(o);return E.getFullYear()===_.getFullYear()&&E.getMonth()===_.getMonth()}function isSameYear(i,o){const E=toDate(i),_=toDate(o);return E.getFullYear()===_.getFullYear()}function subDays(i,o){return addDays(i,-o)}function setMonth(i,o){const E=toDate(i),_=E.getFullYear(),w=E.getDate(),j=constructFrom(i,0);j.setFullYear(_,o,15),j.setHours(0,0,0,0);const S=getDaysInMonth(j);return E.setMonth(o,Math.min(w,S)),E}function setYear(i,o){const E=toDate(i);return isNaN(+E)?constructFrom(i,NaN):(E.setFullYear(o),E)}var __assign=function(){return __assign=Object.assign||function(o){for(var E,_=1,w=arguments.length;_<w;_++){E=arguments[_];for(var j in E)Object.prototype.hasOwnProperty.call(E,j)&&(o[j]=E[j])}return o},__assign.apply(this,arguments)};function __rest(i,o){var E={};for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&o.indexOf(_)<0&&(E[_]=i[_]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,_=Object.getOwnPropertySymbols(i);w<_.length;w++)o.indexOf(_[w])<0&&Object.prototype.propertyIsEnumerable.call(i,_[w])&&(E[_[w]]=i[_[w]]);return E}function __spreadArray(i,o,E){for(var _=0,w=o.length,j;_<w;_++)(j||!(_ in o))&&(j||(j=Array.prototype.slice.call(o,0,_)),j[_]=o[_]);return i.concat(j||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;function isDayPickerMultiple(i){return i.mode==="multiple"}function isDayPickerRange(i){return i.mode==="range"}function isDayPickerSingle(i){return i.mode==="single"}var defaultClassNames={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function formatCaption(i,o){return format(i,"LLLL y",o)}function formatDay(i,o){return format(i,"d",o)}function formatMonthCaption(i,o){return format(i,"LLLL",o)}function formatWeekNumber(i){return"".concat(i)}function formatWeekdayName(i,o){return format(i,"cccccc",o)}function formatYearCaption(i,o){return format(i,"yyyy",o)}var formatters=Object.freeze({__proto__:null,formatCaption,formatDay,formatMonthCaption,formatWeekNumber,formatWeekdayName,formatYearCaption}),labelDay=function(i,o,E){return format(i,"do MMMM (EEEE)",E)},labelMonthDropdown=function(){return"Month: "},labelNext=function(){return"Go to next month"},labelPrevious=function(){return"Go to previous month"},labelWeekday=function(i,o){return format(i,"cccc",o)},labelWeekNumber=function(i){return"Week n. ".concat(i)},labelYearDropdown=function(){return"Year: "},labels=Object.freeze({__proto__:null,labelDay,labelMonthDropdown,labelNext,labelPrevious,labelWeekNumber,labelWeekday,labelYearDropdown});function getDefaultContextValues(){var i="buttons",o=defaultClassNames,E=enUS,_={},w={},j=1,S={},A=new Date;return{captionLayout:i,classNames:o,formatters,labels,locale:E,modifiersClassNames:_,modifiers:w,numberOfMonths:j,styles:S,today:A,mode:"default"}}function parseFromToProps(i){var o=i.fromYear,E=i.toYear,_=i.fromMonth,w=i.toMonth,j=i.fromDate,S=i.toDate;return _?j=startOfMonth(_):o&&(j=new Date(o,0,1)),w?S=endOfMonth(w):E&&(S=new Date(E,11,31)),{fromDate:j?startOfDay(j):void 0,toDate:S?startOfDay(S):void 0}}var DayPickerContext=reactExports.createContext(void 0);function DayPickerProvider(i){var o,E=i.initialProps,_=getDefaultContextValues(),w=parseFromToProps(E),j=w.fromDate,S=w.toDate,A=(o=E.captionLayout)!==null&&o!==void 0?o:_.captionLayout;A!=="buttons"&&(!j||!S)&&(A="buttons");var R;(isDayPickerSingle(E)||isDayPickerMultiple(E)||isDayPickerRange(E))&&(R=E.onSelect);var C=__assign(__assign(__assign({},_),E),{captionLayout:A,classNames:__assign(__assign({},_.classNames),E.classNames),components:__assign({},E.components),formatters:__assign(__assign({},_.formatters),E.formatters),fromDate:j,labels:__assign(__assign({},_.labels),E.labels),mode:E.mode||_.mode,modifiers:__assign(__assign({},_.modifiers),E.modifiers),modifiersClassNames:__assign(__assign({},_.modifiersClassNames),E.modifiersClassNames),onSelect:R,styles:__assign(__assign({},_.styles),E.styles),toDate:S});return jsxRuntimeExports.jsx(DayPickerContext.Provider,{value:C,children:i.children})}function useDayPicker(){var i=reactExports.useContext(DayPickerContext);if(!i)throw new Error("useDayPicker must be used within a DayPickerProvider.");return i}function CaptionLabel(i){var o=useDayPicker(),E=o.locale,_=o.classNames,w=o.styles,j=o.formatters.formatCaption;return jsxRuntimeExports.jsx("div",{className:_.caption_label,style:w.caption_label,"aria-live":"polite",role:"presentation",id:i.id,children:j(i.displayMonth,{locale:E})})}function IconDropdown(i){return jsxRuntimeExports.jsx("svg",__assign({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},i,{children:jsxRuntimeExports.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dropdown(i){var o,E,_=i.onChange,w=i.value,j=i.children,S=i.caption,A=i.className,R=i.style,C=useDayPicker(),T=(E=(o=C.components)===null||o===void 0?void 0:o.IconDropdown)!==null&&E!==void 0?E:IconDropdown;return jsxRuntimeExports.jsxs("div",{className:A,style:R,children:[jsxRuntimeExports.jsx("span",{className:C.classNames.vhidden,children:i["aria-label"]}),jsxRuntimeExports.jsx("select",{name:i.name,"aria-label":i["aria-label"],className:C.classNames.dropdown,style:C.styles.dropdown,value:w,onChange:_,children:j}),jsxRuntimeExports.jsxs("div",{className:C.classNames.caption_label,style:C.styles.caption_label,"aria-hidden":"true",children:[S,jsxRuntimeExports.jsx(T,{className:C.classNames.dropdown_icon,style:C.styles.dropdown_icon})]})]})}function MonthsDropdown(i){var o,E=useDayPicker(),_=E.fromDate,w=E.toDate,j=E.styles,S=E.locale,A=E.formatters.formatMonthCaption,R=E.classNames,C=E.components,T=E.labels.labelMonthDropdown;if(!_)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!w)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var N=[];if(isSameYear(_,w))for(var O=startOfMonth(_),$=_.getMonth();$<=w.getMonth();$++)N.push(setMonth(O,$));else for(var O=startOfMonth(new Date),$=0;$<=11;$++)N.push(setMonth(O,$));var D=function(I){var z=Number(I.target.value),F=setMonth(startOfMonth(i.displayMonth),z);i.onChange(F)},L=(o=C==null?void 0:C.Dropdown)!==null&&o!==void 0?o:Dropdown;return jsxRuntimeExports.jsx(L,{name:"months","aria-label":T(),className:R.dropdown_month,style:j.dropdown_month,onChange:D,value:i.displayMonth.getMonth(),caption:A(i.displayMonth,{locale:S}),children:N.map(function(I){return jsxRuntimeExports.jsx("option",{value:I.getMonth(),children:A(I,{locale:S})},I.getMonth())})})}function YearsDropdown(i){var o,E=i.displayMonth,_=useDayPicker(),w=_.fromDate,j=_.toDate,S=_.locale,A=_.styles,R=_.classNames,C=_.components,T=_.formatters.formatYearCaption,N=_.labels.labelYearDropdown,O=[];if(!w)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!j)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});for(var $=w.getFullYear(),D=j.getFullYear(),L=$;L<=D;L++)O.push(setYear(startOfYear(new Date),L));var I=function(F){var W=setYear(startOfMonth(E),Number(F.target.value));i.onChange(W)},z=(o=C==null?void 0:C.Dropdown)!==null&&o!==void 0?o:Dropdown;return jsxRuntimeExports.jsx(z,{name:"years","aria-label":N(),className:R.dropdown_year,style:A.dropdown_year,onChange:I,value:E.getFullYear(),caption:T(E,{locale:S}),children:O.map(function(F){return jsxRuntimeExports.jsx("option",{value:F.getFullYear(),children:T(F,{locale:S})},F.getFullYear())})})}function useControlledValue(i,o){var E=reactExports.useState(i),_=E[0],w=E[1],j=o===void 0?_:o;return[j,w]}function getInitialMonth(i){var o=i.month,E=i.defaultMonth,_=i.today,w=o||E||_||new Date,j=i.toDate,S=i.fromDate,A=i.numberOfMonths,R=A===void 0?1:A;if(j&&differenceInCalendarMonths(j,w)<0){var C=-1*(R-1);w=addMonths(j,C)}return S&&differenceInCalendarMonths(w,S)<0&&(w=S),startOfMonth(w)}function useNavigationState(){var i=useDayPicker(),o=getInitialMonth(i),E=useControlledValue(o,i.month),_=E[0],w=E[1],j=function(S){var A;if(!i.disableNavigation){var R=startOfMonth(S);w(R),(A=i.onMonthChange)===null||A===void 0||A.call(i,R)}};return[_,j]}function getDisplayMonths(i,o){for(var E=o.reverseMonths,_=o.numberOfMonths,w=startOfMonth(i),j=startOfMonth(addMonths(w,_)),S=differenceInCalendarMonths(j,w),A=[],R=0;R<S;R++){var C=addMonths(w,R);A.push(C)}return E&&(A=A.reverse()),A}function getNextMonth(i,o){if(!o.disableNavigation){var E=o.toDate,_=o.pagedNavigation,w=o.numberOfMonths,j=w===void 0?1:w,S=_?j:1,A=startOfMonth(i);if(!E)return addMonths(A,S);var R=differenceInCalendarMonths(E,i);if(!(R<j))return addMonths(A,S)}}function getPreviousMonth(i,o){if(!o.disableNavigation){var E=o.fromDate,_=o.pagedNavigation,w=o.numberOfMonths,j=w===void 0?1:w,S=_?j:1,A=startOfMonth(i);if(!E)return addMonths(A,-S);var R=differenceInCalendarMonths(A,E);if(!(R<=0))return addMonths(A,-S)}}var NavigationContext=reactExports.createContext(void 0);function NavigationProvider(i){var o=useDayPicker(),E=useNavigationState(),_=E[0],w=E[1],j=getDisplayMonths(_,o),S=getNextMonth(_,o),A=getPreviousMonth(_,o),R=function(N){return j.some(function(O){return isSameMonth(N,O)})},C=function(N,O){R(N)||(O&&isBefore(N,O)?w(addMonths(N,1+o.numberOfMonths*-1)):w(N))},T={currentMonth:_,displayMonths:j,goToMonth:w,goToDate:C,previousMonth:A,nextMonth:S,isDateDisplayed:R};return jsxRuntimeExports.jsx(NavigationContext.Provider,{value:T,children:i.children})}function useNavigation(){var i=reactExports.useContext(NavigationContext);if(!i)throw new Error("useNavigation must be used within a NavigationProvider");return i}function CaptionDropdowns(i){var o,E=useDayPicker(),_=E.classNames,w=E.styles,j=E.components,S=useNavigation().goToMonth,A=function(T){S(addMonths(T,i.displayIndex?-i.displayIndex:0))},R=(o=j==null?void 0:j.CaptionLabel)!==null&&o!==void 0?o:CaptionLabel,C=jsxRuntimeExports.jsx(R,{id:i.id,displayMonth:i.displayMonth});return jsxRuntimeExports.jsxs("div",{className:_.caption_dropdowns,style:w.caption_dropdowns,children:[jsxRuntimeExports.jsx("div",{className:_.vhidden,children:C}),jsxRuntimeExports.jsx(MonthsDropdown,{onChange:A,displayMonth:i.displayMonth}),jsxRuntimeExports.jsx(YearsDropdown,{onChange:A,displayMonth:i.displayMonth})]})}function IconLeft(i){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},i,{children:jsxRuntimeExports.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IconRight(i){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},i,{children:jsxRuntimeExports.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Button=reactExports.forwardRef(function(i,o){var E=useDayPicker(),_=E.classNames,w=E.styles,j=[_.button_reset,_.button];i.className&&j.push(i.className);var S=j.join(" "),A=__assign(__assign({},w.button_reset),w.button);return i.style&&Object.assign(A,i.style),jsxRuntimeExports.jsx("button",__assign({},i,{ref:o,type:"button",className:S,style:A}))});function Navigation(i){var o,E,_=useDayPicker(),w=_.dir,j=_.locale,S=_.classNames,A=_.styles,R=_.labels,C=R.labelPrevious,T=R.labelNext,N=_.components;if(!i.nextMonth&&!i.previousMonth)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var O=C(i.previousMonth,{locale:j}),$=[S.nav_button,S.nav_button_previous].join(" "),D=T(i.nextMonth,{locale:j}),L=[S.nav_button,S.nav_button_next].join(" "),I=(o=N==null?void 0:N.IconRight)!==null&&o!==void 0?o:IconRight,z=(E=N==null?void 0:N.IconLeft)!==null&&E!==void 0?E:IconLeft;return jsxRuntimeExports.jsxs("div",{className:S.nav,style:A.nav,children:[!i.hidePrevious&&jsxRuntimeExports.jsx(Button,{name:"previous-month","aria-label":O,className:$,style:A.nav_button_previous,disabled:!i.previousMonth,onClick:i.onPreviousClick,children:w==="rtl"?jsxRuntimeExports.jsx(I,{className:S.nav_icon,style:A.nav_icon}):jsxRuntimeExports.jsx(z,{className:S.nav_icon,style:A.nav_icon})}),!i.hideNext&&jsxRuntimeExports.jsx(Button,{name:"next-month","aria-label":D,className:L,style:A.nav_button_next,disabled:!i.nextMonth,onClick:i.onNextClick,children:w==="rtl"?jsxRuntimeExports.jsx(z,{className:S.nav_icon,style:A.nav_icon}):jsxRuntimeExports.jsx(I,{className:S.nav_icon,style:A.nav_icon})})]})}function CaptionNavigation(i){var o=useDayPicker().numberOfMonths,E=useNavigation(),_=E.previousMonth,w=E.nextMonth,j=E.goToMonth,S=E.displayMonths,A=S.findIndex(function(D){return isSameMonth(i.displayMonth,D)}),R=A===0,C=A===S.length-1,T=o>1&&(R||!C),N=o>1&&(C||!R),O=function(){_&&j(_)},$=function(){w&&j(w)};return jsxRuntimeExports.jsx(Navigation,{displayMonth:i.displayMonth,hideNext:T,hidePrevious:N,nextMonth:w,previousMonth:_,onPreviousClick:O,onNextClick:$})}function Caption(i){var o,E=useDayPicker(),_=E.classNames,w=E.disableNavigation,j=E.styles,S=E.captionLayout,A=E.components,R=(o=A==null?void 0:A.CaptionLabel)!==null&&o!==void 0?o:CaptionLabel,C;return w?C=jsxRuntimeExports.jsx(R,{id:i.id,displayMonth:i.displayMonth}):S==="dropdown"?C=jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:i.displayMonth,id:i.id}):S==="dropdown-buttons"?C=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:i.displayMonth,displayIndex:i.displayIndex,id:i.id}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:i.displayMonth,displayIndex:i.displayIndex,id:i.id})]}):C=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(R,{id:i.id,displayMonth:i.displayMonth,displayIndex:i.displayIndex}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:i.displayMonth,id:i.id})]}),jsxRuntimeExports.jsx("div",{className:_.caption,style:j.caption,children:C})}function Footer(i){var o=useDayPicker(),E=o.footer,_=o.styles,w=o.classNames.tfoot;return E?jsxRuntimeExports.jsx("tfoot",{className:w,style:_.tfoot,children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:8,children:E})})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function getWeekdays(i,o,E){for(var _=E?startOfISOWeek(new Date):startOfWeek(new Date,{locale:i,weekStartsOn:o}),w=[],j=0;j<7;j++){var S=addDays(_,j);w.push(S)}return w}function HeadRow(){var i=useDayPicker(),o=i.classNames,E=i.styles,_=i.showWeekNumber,w=i.locale,j=i.weekStartsOn,S=i.ISOWeek,A=i.formatters.formatWeekdayName,R=i.labels.labelWeekday,C=getWeekdays(w,j,S);return jsxRuntimeExports.jsxs("tr",{style:E.head_row,className:o.head_row,children:[_&&jsxRuntimeExports.jsx("td",{style:E.head_cell,className:o.head_cell}),C.map(function(T,N){return jsxRuntimeExports.jsx("th",{scope:"col",className:o.head_cell,style:E.head_cell,"aria-label":R(T,{locale:w}),children:A(T,{locale:w})},N)})]})}function Head(){var i,o=useDayPicker(),E=o.classNames,_=o.styles,w=o.components,j=(i=w==null?void 0:w.HeadRow)!==null&&i!==void 0?i:HeadRow;return jsxRuntimeExports.jsx("thead",{style:_.head,className:E.head,children:jsxRuntimeExports.jsx(j,{})})}function DayContent(i){var o=useDayPicker(),E=o.locale,_=o.formatters.formatDay;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_(i.date,{locale:E})})}var SelectMultipleContext=reactExports.createContext(void 0);function SelectMultipleProvider(i){if(!isDayPickerMultiple(i.initialProps)){var o={selected:void 0,modifiers:{disabled:[]}};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:o,children:i.children})}return jsxRuntimeExports.jsx(SelectMultipleProviderInternal,{initialProps:i.initialProps,children:i.children})}function SelectMultipleProviderInternal(i){var o=i.initialProps,E=i.children,_=o.selected,w=o.min,j=o.max,S=function(C,T,N){var O,$;(O=o.onDayClick)===null||O===void 0||O.call(o,C,T,N);var D=!!(T.selected&&w&&(_==null?void 0:_.length)===w);if(!D){var L=!!(!T.selected&&j&&(_==null?void 0:_.length)===j);if(!L){var I=_?__spreadArray([],_):[];if(T.selected){var z=I.findIndex(function(F){return isSameDay(C,F)});I.splice(z,1)}else I.push(C);($=o.onSelect)===null||$===void 0||$.call(o,I,C,T,N)}}},A={disabled:[]};_&&A.disabled.push(function(C){var T=j&&_.length>j-1,N=_.some(function(O){return isSameDay(O,C)});return!!(T&&!N)});var R={selected:_,onDayClick:S,modifiers:A};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:R,children:E})}function useSelectMultiple(){var i=reactExports.useContext(SelectMultipleContext);if(!i)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return i}function addToRange(i,o){var E=o||{},_=E.from,w=E.to;return _&&w?isSameDay(w,i)&&isSameDay(_,i)?void 0:isSameDay(w,i)?{from:w,to:void 0}:isSameDay(_,i)?void 0:isAfter(_,i)?{from:i,to:w}:{from:_,to:i}:w?isAfter(i,w)?{from:w,to:i}:{from:i,to:w}:_?isBefore(i,_)?{from:i,to:_}:{from:_,to:i}:{from:i,to:void 0}}var SelectRangeContext=reactExports.createContext(void 0);function SelectRangeProvider(i){if(!isDayPickerRange(i.initialProps)){var o={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:o,children:i.children})}return jsxRuntimeExports.jsx(SelectRangeProviderInternal,{initialProps:i.initialProps,children:i.children})}function SelectRangeProviderInternal(i){var o=i.initialProps,E=i.children,_=o.selected,w=_||{},j=w.from,S=w.to,A=o.min,R=o.max,C=function($,D,L){var I,z;(I=o.onDayClick)===null||I===void 0||I.call(o,$,D,L);var F=addToRange($,_);(z=o.onSelect)===null||z===void 0||z.call(o,F,$,D,L)},T={range_start:[],range_end:[],range_middle:[],disabled:[]};if(j?(T.range_start=[j],S?(T.range_end=[S],isSameDay(j,S)||(T.range_middle=[{after:j,before:S}])):T.range_end=[j]):S&&(T.range_start=[S],T.range_end=[S]),A&&(j&&!S&&T.disabled.push({after:subDays(j,A-1),before:addDays(j,A-1)}),j&&S&&T.disabled.push({after:j,before:addDays(j,A-1)}),!j&&S&&T.disabled.push({after:subDays(S,A-1),before:addDays(S,A-1)})),R){if(j&&!S&&(T.disabled.push({before:addDays(j,-R+1)}),T.disabled.push({after:addDays(j,R-1)})),j&&S){var N=differenceInCalendarDays(S,j)+1,O=R-N;T.disabled.push({before:subDays(j,O)}),T.disabled.push({after:addDays(S,O)})}!j&&S&&(T.disabled.push({before:addDays(S,-R+1)}),T.disabled.push({after:addDays(S,R-1)}))}return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:{selected:_,onDayClick:C,modifiers:T},children:E})}function useSelectRange(){var i=reactExports.useContext(SelectRangeContext);if(!i)throw new Error("useSelectRange must be used within a SelectRangeProvider");return i}function matcherToArray(i){return Array.isArray(i)?__spreadArray([],i):i!==void 0?[i]:[]}function getCustomModifiers(i){var o={};return Object.entries(i).forEach(function(E){var _=E[0],w=E[1];o[_]=matcherToArray(w)}),o}var InternalModifier;(function(i){i.Outside="outside",i.Disabled="disabled",i.Selected="selected",i.Hidden="hidden",i.Today="today",i.RangeStart="range_start",i.RangeEnd="range_end",i.RangeMiddle="range_middle"})(InternalModifier||(InternalModifier={}));var Selected=InternalModifier.Selected,Disabled=InternalModifier.Disabled,Hidden=InternalModifier.Hidden,Today=InternalModifier.Today,RangeEnd=InternalModifier.RangeEnd,RangeMiddle=InternalModifier.RangeMiddle,RangeStart=InternalModifier.RangeStart,Outside=InternalModifier.Outside;function getInternalModifiers(i,o,E){var _,w=(_={},_[Selected]=matcherToArray(i.selected),_[Disabled]=matcherToArray(i.disabled),_[Hidden]=matcherToArray(i.hidden),_[Today]=[i.today],_[RangeEnd]=[],_[RangeMiddle]=[],_[RangeStart]=[],_[Outside]=[],_);return i.fromDate&&w[Disabled].push({before:i.fromDate}),i.toDate&&w[Disabled].push({after:i.toDate}),isDayPickerMultiple(i)?w[Disabled]=w[Disabled].concat(o.modifiers[Disabled]):isDayPickerRange(i)&&(w[Disabled]=w[Disabled].concat(E.modifiers[Disabled]),w[RangeStart]=E.modifiers[RangeStart],w[RangeMiddle]=E.modifiers[RangeMiddle],w[RangeEnd]=E.modifiers[RangeEnd]),w}var ModifiersContext=reactExports.createContext(void 0);function ModifiersProvider(i){var o=useDayPicker(),E=useSelectMultiple(),_=useSelectRange(),w=getInternalModifiers(o,E,_),j=getCustomModifiers(o.modifiers),S=__assign(__assign({},w),j);return jsxRuntimeExports.jsx(ModifiersContext.Provider,{value:S,children:i.children})}function useModifiers(){var i=reactExports.useContext(ModifiersContext);if(!i)throw new Error("useModifiers must be used within a ModifiersProvider");return i}function isDateInterval(i){return!!(i&&typeof i=="object"&&"before"in i&&"after"in i)}function isDateRange(i){return!!(i&&typeof i=="object"&&"from"in i)}function isDateAfterType(i){return!!(i&&typeof i=="object"&&"after"in i)}function isDateBeforeType(i){return!!(i&&typeof i=="object"&&"before"in i)}function isDayOfWeekType(i){return!!(i&&typeof i=="object"&&"dayOfWeek"in i)}function isDateInRange(i,o){var E,_=o.from,w=o.to;if(_&&w){var j=differenceInCalendarDays(w,_)<0;j&&(E=[w,_],_=E[0],w=E[1]);var S=differenceInCalendarDays(i,_)>=0&&differenceInCalendarDays(w,i)>=0;return S}return w?isSameDay(w,i):_?isSameDay(_,i):!1}function isDateType(i){return isDate(i)}function isArrayOfDates(i){return Array.isArray(i)&&i.every(isDate)}function isMatch(i,o){return o.some(function(E){if(typeof E=="boolean")return E;if(isDateType(E))return isSameDay(i,E);if(isArrayOfDates(E))return E.includes(i);if(isDateRange(E))return isDateInRange(i,E);if(isDayOfWeekType(E))return E.dayOfWeek.includes(i.getDay());if(isDateInterval(E)){var _=differenceInCalendarDays(E.before,i),w=differenceInCalendarDays(E.after,i),j=_>0,S=w<0,A=isAfter(E.before,E.after);return A?S&&j:j||S}return isDateAfterType(E)?differenceInCalendarDays(i,E.after)>0:isDateBeforeType(E)?differenceInCalendarDays(E.before,i)>0:typeof E=="function"?E(i):!1})}function getActiveModifiers(i,o,E){var _=Object.keys(o).reduce(function(j,S){var A=o[S];return isMatch(i,A)&&j.push(S),j},[]),w={};return _.forEach(function(j){return w[j]=!0}),E&&!isSameMonth(i,E)&&(w.outside=!0),w}function getInitialFocusTarget(i,o){for(var E=startOfMonth(i[0]),_=endOfMonth(i[i.length-1]),w,j,S=E;S<=_;){var A=getActiveModifiers(S,o),R=!A.disabled&&!A.hidden;if(!R){S=addDays(S,1);continue}if(A.selected)return S;A.today&&!j&&(j=S),w||(w=S),S=addDays(S,1)}return j||w}var MAX_RETRY=365;function getNextFocus(i,o){var E=o.moveBy,_=o.direction,w=o.context,j=o.modifiers,S=o.retry,A=S===void 0?{count:0,lastFocused:i}:S,R=w.weekStartsOn,C=w.fromDate,T=w.toDate,N=w.locale,O={day:addDays,week:addWeeks,month:addMonths,year:addYears,startOfWeek:function(I){return w.ISOWeek?startOfISOWeek(I):startOfWeek(I,{locale:N,weekStartsOn:R})},endOfWeek:function(I){return w.ISOWeek?endOfISOWeek(I):endOfWeek(I,{locale:N,weekStartsOn:R})}},$=O[E](i,_==="after"?1:-1);_==="before"&&C?$=max([C,$]):_==="after"&&T&&($=min([T,$]));var D=!0;if(j){var L=getActiveModifiers($,j);D=!L.disabled&&!L.hidden}return D?$:A.count>MAX_RETRY?A.lastFocused:getNextFocus($,{moveBy:E,direction:_,context:w,modifiers:j,retry:__assign(__assign({},A),{count:A.count+1})})}var FocusContext=reactExports.createContext(void 0);function FocusProvider(i){var o=useNavigation(),E=useModifiers(),_=reactExports.useState(),w=_[0],j=_[1],S=reactExports.useState(),A=S[0],R=S[1],C=getInitialFocusTarget(o.displayMonths,E),T=w??(A&&o.isDateDisplayed(A))?A:C,N=function(){R(w),j(void 0)},O=function(I){j(I)},$=useDayPicker(),D=function(I,z){if(w){var F=getNextFocus(w,{moveBy:I,direction:z,context:$,modifiers:E});isSameDay(w,F)||(o.goToDate(F,w),O(F))}},L={focusedDay:w,focusTarget:T,blur:N,focus:O,focusDayAfter:function(){return D("day","after")},focusDayBefore:function(){return D("day","before")},focusWeekAfter:function(){return D("week","after")},focusWeekBefore:function(){return D("week","before")},focusMonthBefore:function(){return D("month","before")},focusMonthAfter:function(){return D("month","after")},focusYearBefore:function(){return D("year","before")},focusYearAfter:function(){return D("year","after")},focusStartOfWeek:function(){return D("startOfWeek","before")},focusEndOfWeek:function(){return D("endOfWeek","after")}};return jsxRuntimeExports.jsx(FocusContext.Provider,{value:L,children:i.children})}function useFocusContext(){var i=reactExports.useContext(FocusContext);if(!i)throw new Error("useFocusContext must be used within a FocusProvider");return i}function useActiveModifiers(i,o){var E=useModifiers(),_=getActiveModifiers(i,E,o);return _}var SelectSingleContext=reactExports.createContext(void 0);function SelectSingleProvider(i){if(!isDayPickerSingle(i.initialProps)){var o={selected:void 0};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:o,children:i.children})}return jsxRuntimeExports.jsx(SelectSingleProviderInternal,{initialProps:i.initialProps,children:i.children})}function SelectSingleProviderInternal(i){var o=i.initialProps,E=i.children,_=function(j,S,A){var R,C,T;if((R=o.onDayClick)===null||R===void 0||R.call(o,j,S,A),S.selected&&!o.required){(C=o.onSelect)===null||C===void 0||C.call(o,void 0,j,S,A);return}(T=o.onSelect)===null||T===void 0||T.call(o,j,j,S,A)},w={selected:o.selected,onDayClick:_};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:w,children:E})}function useSelectSingle(){var i=reactExports.useContext(SelectSingleContext);if(!i)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return i}function useDayEventHandlers(i,o){var E=useDayPicker(),_=useSelectSingle(),w=useSelectMultiple(),j=useSelectRange(),S=useFocusContext(),A=S.focusDayAfter,R=S.focusDayBefore,C=S.focusWeekAfter,T=S.focusWeekBefore,N=S.blur,O=S.focus,$=S.focusMonthBefore,D=S.focusMonthAfter,L=S.focusYearBefore,I=S.focusYearAfter,z=S.focusStartOfWeek,F=S.focusEndOfWeek,W=function(Ce){var Me,Q,Re,ke;isDayPickerSingle(E)?(Me=_.onDayClick)===null||Me===void 0||Me.call(_,i,o,Ce):isDayPickerMultiple(E)?(Q=w.onDayClick)===null||Q===void 0||Q.call(w,i,o,Ce):isDayPickerRange(E)?(Re=j.onDayClick)===null||Re===void 0||Re.call(j,i,o,Ce):(ke=E.onDayClick)===null||ke===void 0||ke.call(E,i,o,Ce)},H=function(Ce){var Me;O(i),(Me=E.onDayFocus)===null||Me===void 0||Me.call(E,i,o,Ce)},B=function(Ce){var Me;N(),(Me=E.onDayBlur)===null||Me===void 0||Me.call(E,i,o,Ce)},U=function(Ce){var Me;(Me=E.onDayMouseEnter)===null||Me===void 0||Me.call(E,i,o,Ce)},G=function(Ce){var Me;(Me=E.onDayMouseLeave)===null||Me===void 0||Me.call(E,i,o,Ce)},V=function(Ce){var Me;(Me=E.onDayPointerEnter)===null||Me===void 0||Me.call(E,i,o,Ce)},K=function(Ce){var Me;(Me=E.onDayPointerLeave)===null||Me===void 0||Me.call(E,i,o,Ce)},je=function(Ce){var Me;(Me=E.onDayTouchCancel)===null||Me===void 0||Me.call(E,i,o,Ce)},Z=function(Ce){var Me;(Me=E.onDayTouchEnd)===null||Me===void 0||Me.call(E,i,o,Ce)},fe=function(Ce){var Me;(Me=E.onDayTouchMove)===null||Me===void 0||Me.call(E,i,o,Ce)},Ae=function(Ce){var Me;(Me=E.onDayTouchStart)===null||Me===void 0||Me.call(E,i,o,Ce)},Oe=function(Ce){var Me;(Me=E.onDayKeyUp)===null||Me===void 0||Me.call(E,i,o,Ce)},Pe=function(Ce){var Me;switch(Ce.key){case"ArrowLeft":Ce.preventDefault(),Ce.stopPropagation(),E.dir==="rtl"?A():R();break;case"ArrowRight":Ce.preventDefault(),Ce.stopPropagation(),E.dir==="rtl"?R():A();break;case"ArrowDown":Ce.preventDefault(),Ce.stopPropagation(),C();break;case"ArrowUp":Ce.preventDefault(),Ce.stopPropagation(),T();break;case"PageUp":Ce.preventDefault(),Ce.stopPropagation(),Ce.shiftKey?L():$();break;case"PageDown":Ce.preventDefault(),Ce.stopPropagation(),Ce.shiftKey?I():D();break;case"Home":Ce.preventDefault(),Ce.stopPropagation(),z();break;case"End":Ce.preventDefault(),Ce.stopPropagation(),F();break}(Me=E.onDayKeyDown)===null||Me===void 0||Me.call(E,i,o,Ce)},Ne={onClick:W,onFocus:H,onBlur:B,onKeyDown:Pe,onKeyUp:Oe,onMouseEnter:U,onMouseLeave:G,onPointerEnter:V,onPointerLeave:K,onTouchCancel:je,onTouchEnd:Z,onTouchMove:fe,onTouchStart:Ae};return Ne}function useSelectedDays(){var i=useDayPicker(),o=useSelectSingle(),E=useSelectMultiple(),_=useSelectRange(),w=isDayPickerSingle(i)?o.selected:isDayPickerMultiple(i)?E.selected:isDayPickerRange(i)?_.selected:void 0;return w}function isInternalModifier(i){return Object.values(InternalModifier).includes(i)}function getDayClassNames(i,o){var E=[i.classNames.day];return Object.keys(o).forEach(function(_){var w=i.modifiersClassNames[_];if(w)E.push(w);else if(isInternalModifier(_)){var j=i.classNames["day_".concat(_)];j&&E.push(j)}}),E}function getDayStyle(i,o){var E=__assign({},i.styles.day);return Object.keys(o).forEach(function(_){var w;E=__assign(__assign({},E),(w=i.modifiersStyles)===null||w===void 0?void 0:w[_])}),E}function useDayRender(i,o,E){var _,w,j,S=useDayPicker(),A=useFocusContext(),R=useActiveModifiers(i,o),C=useDayEventHandlers(i,R),T=useSelectedDays(),N=!!(S.onDayClick||S.mode!=="default");reactExports.useEffect(function(){var U;R.outside||A.focusedDay&&N&&isSameDay(A.focusedDay,i)&&((U=E.current)===null||U===void 0||U.focus())},[A.focusedDay,i,E,N,R.outside]);var O=getDayClassNames(S,R).join(" "),$=getDayStyle(S,R),D=!!(R.outside&&!S.showOutsideDays||R.hidden),L=(j=(w=S.components)===null||w===void 0?void 0:w.DayContent)!==null&&j!==void 0?j:DayContent,I=jsxRuntimeExports.jsx(L,{date:i,displayMonth:o,activeModifiers:R}),z={style:$,className:O,children:I,role:"gridcell"},F=A.focusTarget&&isSameDay(A.focusTarget,i)&&!R.outside,W=A.focusedDay&&isSameDay(A.focusedDay,i),H=__assign(__assign(__assign({},z),(_={disabled:R.disabled,role:"gridcell"},_["aria-selected"]=R.selected,_.tabIndex=W||F?0:-1,_)),C),B={isButton:N,isHidden:D,activeModifiers:R,selectedDays:T,buttonProps:H,divProps:z};return B}function Day(i){var o=reactExports.useRef(null),E=useDayRender(i.date,i.displayMonth,o);return E.isHidden?jsxRuntimeExports.jsx("div",{role:"gridcell"}):E.isButton?jsxRuntimeExports.jsx(Button,__assign({name:"day",ref:o},E.buttonProps)):jsxRuntimeExports.jsx("div",__assign({},E.divProps))}function WeekNumber(i){var o=i.number,E=i.dates,_=useDayPicker(),w=_.onWeekNumberClick,j=_.styles,S=_.classNames,A=_.locale,R=_.labels.labelWeekNumber,C=_.formatters.formatWeekNumber,T=C(Number(o),{locale:A});if(!w)return jsxRuntimeExports.jsx("span",{className:S.weeknumber,style:j.weeknumber,children:T});var N=R(Number(o),{locale:A}),O=function($){w(o,E,$)};return jsxRuntimeExports.jsx(Button,{name:"week-number","aria-label":N,className:S.weeknumber,style:j.weeknumber,onClick:O,children:T})}function Row(i){var o,E,_=useDayPicker(),w=_.styles,j=_.classNames,S=_.showWeekNumber,A=_.components,R=(o=A==null?void 0:A.Day)!==null&&o!==void 0?o:Day,C=(E=A==null?void 0:A.WeekNumber)!==null&&E!==void 0?E:WeekNumber,T;return S&&(T=jsxRuntimeExports.jsx("td",{className:j.cell,style:w.cell,children:jsxRuntimeExports.jsx(C,{number:i.weekNumber,dates:i.dates})})),jsxRuntimeExports.jsxs("tr",{className:j.row,style:w.row,children:[T,i.dates.map(function(N){return jsxRuntimeExports.jsx("td",{className:j.cell,style:w.cell,role:"presentation",children:jsxRuntimeExports.jsx(R,{displayMonth:i.displayMonth,date:N})},getUnixTime(N))})]})}function daysToMonthWeeks(i,o,E){for(var _=E!=null&&E.ISOWeek?endOfISOWeek(o):endOfWeek(o,E),w=E!=null&&E.ISOWeek?startOfISOWeek(i):startOfWeek(i,E),j=differenceInCalendarDays(_,w),S=[],A=0;A<=j;A++)S.push(addDays(w,A));var R=S.reduce(function(C,T){var N=E!=null&&E.ISOWeek?getISOWeek(T):getWeek(T,E),O=C.find(function($){return $.weekNumber===N});return O?(O.dates.push(T),C):(C.push({weekNumber:N,dates:[T]}),C)},[]);return R}function getMonthWeeks(i,o){var E=daysToMonthWeeks(startOfMonth(i),endOfMonth(i),o);if(o!=null&&o.useFixedWeeks){var _=getWeeksInMonth(i,o);if(_<6){var w=E[E.length-1],j=w.dates[w.dates.length-1],S=addWeeks(j,6-_),A=daysToMonthWeeks(addWeeks(j,1),S,o);E.push.apply(E,A)}}return E}function Table(i){var o,E,_,w=useDayPicker(),j=w.locale,S=w.classNames,A=w.styles,R=w.hideHead,C=w.fixedWeeks,T=w.components,N=w.weekStartsOn,O=w.firstWeekContainsDate,$=w.ISOWeek,D=getMonthWeeks(i.displayMonth,{useFixedWeeks:!!C,ISOWeek:$,locale:j,weekStartsOn:N,firstWeekContainsDate:O}),L=(o=T==null?void 0:T.Head)!==null&&o!==void 0?o:Head,I=(E=T==null?void 0:T.Row)!==null&&E!==void 0?E:Row,z=(_=T==null?void 0:T.Footer)!==null&&_!==void 0?_:Footer;return jsxRuntimeExports.jsxs("table",{id:i.id,className:S.table,style:A.table,role:"grid","aria-labelledby":i["aria-labelledby"],children:[!R&&jsxRuntimeExports.jsx(L,{}),jsxRuntimeExports.jsx("tbody",{className:S.tbody,style:A.tbody,children:D.map(function(F){return jsxRuntimeExports.jsx(I,{displayMonth:i.displayMonth,dates:F.dates,weekNumber:F.weekNumber},F.weekNumber)})}),jsxRuntimeExports.jsx(z,{displayMonth:i.displayMonth})]})}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var useIsomorphicLayoutEffect=canUseDOM()?reactExports.useLayoutEffect:reactExports.useEffect,serverHandoffComplete=!1,id=0;function genId(){return"react-day-picker-".concat(++id)}function useId(i){var o,E=i??(serverHandoffComplete?genId():null),_=reactExports.useState(E),w=_[0],j=_[1];return useIsomorphicLayoutEffect(function(){w===null&&j(genId())},[]),reactExports.useEffect(function(){serverHandoffComplete===!1&&(serverHandoffComplete=!0)},[]),(o=i??w)!==null&&o!==void 0?o:void 0}function Month(i){var o,E,_=useDayPicker(),w=_.dir,j=_.classNames,S=_.styles,A=_.components,R=useNavigation().displayMonths,C=useId(_.id?"".concat(_.id,"-").concat(i.displayIndex):void 0),T=_.id?"".concat(_.id,"-grid-").concat(i.displayIndex):void 0,N=[j.month],O=S.month,$=i.displayIndex===0,D=i.displayIndex===R.length-1,L=!$&&!D;w==="rtl"&&(o=[$,D],D=o[0],$=o[1]),$&&(N.push(j.caption_start),O=__assign(__assign({},O),S.caption_start)),D&&(N.push(j.caption_end),O=__assign(__assign({},O),S.caption_end)),L&&(N.push(j.caption_between),O=__assign(__assign({},O),S.caption_between));var I=(E=A==null?void 0:A.Caption)!==null&&E!==void 0?E:Caption;return jsxRuntimeExports.jsxs("div",{className:N.join(" "),style:O,children:[jsxRuntimeExports.jsx(I,{id:C,displayMonth:i.displayMonth,displayIndex:i.displayIndex}),jsxRuntimeExports.jsx(Table,{id:T,"aria-labelledby":C,displayMonth:i.displayMonth})]},i.displayIndex)}function Months(i){var o=useDayPicker(),E=o.classNames,_=o.styles;return jsxRuntimeExports.jsx("div",{className:E.months,style:_.months,children:i.children})}function Root(i){var o,E,_=i.initialProps,w=useDayPicker(),j=useFocusContext(),S=useNavigation(),A=reactExports.useState(!1),R=A[0],C=A[1];reactExports.useEffect(function(){w.initialFocus&&j.focusTarget&&(R||(j.focus(j.focusTarget),C(!0)))},[w.initialFocus,R,j.focus,j.focusTarget,j]);var T=[w.classNames.root,w.className];w.numberOfMonths>1&&T.push(w.classNames.multiple_months),w.showWeekNumber&&T.push(w.classNames.with_weeknumber);var N=__assign(__assign({},w.styles.root),w.style),O=Object.keys(_).filter(function(D){return D.startsWith("data-")}).reduce(function(D,L){var I;return __assign(__assign({},D),(I={},I[L]=_[L],I))},{}),$=(E=(o=_.components)===null||o===void 0?void 0:o.Months)!==null&&E!==void 0?E:Months;return jsxRuntimeExports.jsx("div",__assign({className:T.join(" "),style:N,dir:w.dir,id:w.id,nonce:_.nonce,title:_.title,lang:_.lang},O,{children:jsxRuntimeExports.jsx($,{children:S.displayMonths.map(function(D,L){return jsxRuntimeExports.jsx(Month,{displayIndex:L,displayMonth:D},L)})})}))}function RootProvider(i){var o=i.children,E=__rest(i,["children"]);return jsxRuntimeExports.jsx(DayPickerProvider,{initialProps:E,children:jsxRuntimeExports.jsx(NavigationProvider,{children:jsxRuntimeExports.jsx(SelectSingleProvider,{initialProps:E,children:jsxRuntimeExports.jsx(SelectMultipleProvider,{initialProps:E,children:jsxRuntimeExports.jsx(SelectRangeProvider,{initialProps:E,children:jsxRuntimeExports.jsx(ModifiersProvider,{children:jsxRuntimeExports.jsx(FocusProvider,{children:o})})})})})})})}function DayPicker(i){return jsxRuntimeExports.jsx(RootProvider,__assign({},i,{children:jsxRuntimeExports.jsx(Root,{initialProps:i})}))}function Calendar({className:i,classNames:o,showOutsideDays:E=!0,..._}){return jsxRuntimeExports.jsx(DayPicker,{showOutsideDays:E,className:cn("p-3",i),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:cn(buttonVariants({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:cn(buttonVariants({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...o},components:{IconLeft:({...w})=>jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),IconRight:({...w})=>jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})},..._})}Calendar.displayName="Calendar";function FastDatePicker({date:i,onDateChange:o,disabled:E,placeholder:_="Seleziona data"}){const[w,j]=reactExports.useState(i?i.getMonth():0),[S,A]=reactExports.useState(i?i.getFullYear():1990),[R,C]=reactExports.useState(!1),T=new Date().getFullYear(),N=Array.from({length:T-1900+1},(I,z)=>1900+z).reverse(),O=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],$=I=>{const z=parseInt(I);j(z)},D=I=>{const z=parseInt(I);A(z)},L=new Date(S,w);return jsxRuntimeExports.jsxs(Popover,{open:R,onOpenChange:C,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-full justify-start text-left font-normal bg-black border-gray-500 text-white hover:bg-gray-900 hover:text-white",!i&&"text-gray-400"),disabled:E,children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),i?format(i,"dd/MM/yyyy"):jsxRuntimeExports.jsx("span",{children:_})]})}),jsxRuntimeExports.jsxs(PopoverContent,{className:"w-auto p-0 bg-black border-[#EEBA2B]",align:"start",children:[jsxRuntimeExports.jsx("div",{className:"p-3 border-b border-[#EEBA2B]/20",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Select,{value:w.toString(),onValueChange:$,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"flex-1 bg-black border-[#EEBA2B]/30 text-white",children:[jsxRuntimeExports.jsx(SelectValue,{}),jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})]}),jsxRuntimeExports.jsx(SelectContent,{className:"bg-black border-[#EEBA2B] text-white max-h-60",children:O.map((I,z)=>jsxRuntimeExports.jsx(SelectItem,{value:z.toString(),className:"text-white hover:bg-[#EEBA2B]/20",children:I},z))})]}),jsxRuntimeExports.jsxs(Select,{value:S.toString(),onValueChange:D,children:[jsxRuntimeExports.jsxs(SelectTrigger,{className:"flex-1 bg-black border-[#EEBA2B]/30 text-white",children:[jsxRuntimeExports.jsx(SelectValue,{}),jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})]}),jsxRuntimeExports.jsx(SelectContent,{className:"bg-black border-[#EEBA2B] text-white max-h-60",children:N.map(I=>jsxRuntimeExports.jsx(SelectItem,{value:I.toString(),className:"text-white hover:bg-[#EEBA2B]/20",children:I},I))})]})]})}),jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:i,onSelect:I=>{o(I),C(!1)},month:L,onMonthChange:I=>{j(I.getMonth()),A(I.getFullYear())},disabled:I=>I>new Date||I<new Date("1900-01-01"),initialFocus:!0,className:cn("p-3 pointer-events-auto"),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center text-white",caption_label:"text-sm font-medium text-white",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 bg-transparent p-0 hover:bg-[#EEBA2B]/20 text-white hover:text-[#EEBA2B]",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-gray-400 rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"text-center text-sm p-0 relative [&:has([aria-selected])]:bg-[#EEBA2B] first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-9 w-9 p-0 font-normal text-white hover:bg-[#EEBA2B]/20 hover:text-[#EEBA2B] aria-selected:opacity-100",day_selected:"bg-[#EEBA2B] text-black hover:bg-[#EEBA2B] hover:text-black focus:bg-[#EEBA2B] focus:text-black",day_today:"bg-gray-800 text-white",day_outside:"text-gray-600 opacity-50",day_disabled:"text-gray-600 opacity-50",day_range_middle:"aria-selected:bg-[#EEBA2B] aria-selected:text-black",day_hidden:"invisible"}})]})]})}const PersonalInfo=()=>{const i=useNavigate(),{toast:o}=useToast(),[E,_]=reactExports.useState(!0),[w,j]=reactExports.useState({nome:"",cognome:"",luogoNascita:"",dataNascita:null,telefono:"",avatarUrl:""}),[S,A]=reactExports.useState(null),[R,C]=reactExports.useState(""),T=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{const L=await fetchUserProfile();L&&(j({nome:L.name||"",cognome:L.surname||"",luogoNascita:L.birth_place||"",dataNascita:L.birth_date||null,telefono:L.phone||"",avatarUrl:L.avatarUrl||""}),C(L.avatarUrl||""))}catch(L){console.error("Error loading profile:",L)}finally{_(!1)}})(),analytics.trackSettings("view","personal_info")},[]);const N=async()=>{try{let D=w.avatarUrl;S&&(D=await uploadAvatar(S)),await updateUserProfile({name:w.nome,surname:w.cognome,birthPlace:w.luogoNascita,phone:w.telefono,birthDate:w.dataNascita?format(w.dataNascita,"yyyy-MM-dd"):void 0,avatarUrl:D}),analytics.trackSettings("update","personal_info"),o({title:"Informazioni personali aggiornate con successo.",duration:3e3}),i("/profile")}catch(D){console.error("Error updating profile:",D),analytics.trackError("profile_update_error",{error:D instanceof Error?D.message:"Unknown error",section:"personal_info"}),o({title:"Errore nell'aggiornamento delle informazioni.",variant:"destructive",duration:3e3})}},O=D=>{var I;const L=(I=D.target.files)==null?void 0:I[0];if(L){A(L);const z=new FileReader;z.onload=F=>{var W;C((W=F.target)==null?void 0:W.result)},z.readAsDataURL(L),analytics.trackUserAction("avatar_upload",{file_size:L.size,file_type:L.type})}},$=()=>{A(null),C(""),j({...w,avatarUrl:""}),T.current&&(T.current.value=""),analytics.trackUserAction("avatar_remove")};return E?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto",children:jsxRuntimeExports.jsx("div",{className:"text-white text-center",children:"Caricamento..."})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black p-6 pb-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"text-[#EEBA2B] hover:bg-[#EEBA2B]/10",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Indietro"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-6",children:"Informazioni personali"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:R?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:R,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-2 border-[#EEBA2B]"}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:$,className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-red-500 hover:bg-red-600 text-white p-0",children:jsxRuntimeExports.jsx(X,{className:"h-3 w-3"})})]}):jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-800 border-2 border-[#EEBA2B] flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-[#EEBA2B] text-2xl",children:"👤"})})}),jsxRuntimeExports.jsx("input",{ref:T,type:"file",accept:"image/*",onChange:O,className:"hidden"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{var D;return(D=T.current)==null?void 0:D.click()},className:"bg-black border-[#EEBA2B] text-[#EEBA2B] hover:bg-[#EEBA2B] hover:text-black",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Carica foto profilo"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"nome",className:"text-white",children:"Nome"}),jsxRuntimeExports.jsx(Input,{id:"nome",type:"text",className:"bg-black border-gray-500 text-white",placeholder:"Inserisci il tuo nome",value:w.nome,onChange:D=>j({...w,nome:D.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"cognome",className:"text-white",children:"Cognome"}),jsxRuntimeExports.jsx(Input,{id:"cognome",type:"text",className:"bg-black border-gray-500 text-white",placeholder:"Inserisci il tuo cognome",value:w.cognome,onChange:D=>j({...w,cognome:D.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"data-nascita",className:"text-white",children:"Data di nascita"}),jsxRuntimeExports.jsx(FastDatePicker,{date:w.dataNascita,onDateChange:D=>j({...w,dataNascita:D}),placeholder:"Seleziona data di nascita"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"luogo-nascita",className:"text-white",children:"Luogo di nascita"}),jsxRuntimeExports.jsx(Input,{id:"luogo-nascita",type:"text",className:"bg-black border-gray-500 text-white",placeholder:"Inserisci il luogo di nascita",value:w.luogoNascita,onChange:D=>j({...w,luogoNascita:D.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"telefono",className:"text-white",children:"Numero di telefono"}),jsxRuntimeExports.jsx(Input,{id:"telefono",type:"tel",className:"bg-black border-gray-500 text-white",placeholder:"Inserisci il numero di telefono",value:w.telefono,onChange:D=>j({...w,telefono:D.target.value})})]}),jsxRuntimeExports.jsx(Button$1,{onClick:N,className:"w-full bg-[#EEBA2B] hover:bg-[#d4a61a] text-black",children:"Salva modifiche"})]})]})]})})};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(o){return o});seal||(seal=function(o){return o});apply||(apply=function(o,E,_){return o.apply(E,_)});construct||(construct=function(o,E){return new o(...E)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(i){return function(o){o instanceof RegExp&&(o.lastIndex=0);for(var E=arguments.length,_=new Array(E>1?E-1:0),w=1;w<E;w++)_[w-1]=arguments[w];return apply(i,o,_)}}function unconstruct(i){return function(){for(var o=arguments.length,E=new Array(o),_=0;_<o;_++)E[_]=arguments[_];return construct(i,E)}}function addToSet(i,o){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(i,null);let _=o.length;for(;_--;){let w=o[_];if(typeof w=="string"){const j=E(w);j!==w&&(isFrozen(o)||(o[_]=j),w=j)}i[w]=!0}return i}function cleanArray(i){for(let o=0;o<i.length;o++)objectHasOwnProperty(i,o)||(i[o]=null);return i}function clone(i){const o=create(null);for(const[E,_]of entries(i))objectHasOwnProperty(i,E)&&(Array.isArray(_)?o[E]=cleanArray(_):_&&typeof _=="object"&&_.constructor===Object?o[E]=clone(_):o[E]=_);return o}function lookupGetter(i,o){for(;i!==null;){const _=getOwnPropertyDescriptor(i,o);if(_){if(_.get)return unapply(_.get);if(typeof _.value=="function")return unapply(_.value)}i=getPrototypeOf(i)}function E(){return null}return E}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function i(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function i(o,E){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let _=null;const w="data-tt-policy-suffix";E&&E.hasAttribute(w)&&(_=E.getAttribute(w));const j="dompurify"+(_?"#"+_:"");try{return o.createPolicy(j,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+j+" could not be created."),null}},_createHooksMap=function i(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const o=Lt=>createDOMPurify(Lt);if(o.version="3.2.6",o.removed=[],!i||!i.document||i.document.nodeType!==NODE_TYPE.document||!i.Element)return o.isSupported=!1,o;let{document:E}=i;const _=E,w=_.currentScript,{DocumentFragment:j,HTMLTemplateElement:S,Node:A,Element:R,NodeFilter:C,NamedNodeMap:T=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:N,DOMParser:O,trustedTypes:$}=i,D=R.prototype,L=lookupGetter(D,"cloneNode"),I=lookupGetter(D,"remove"),z=lookupGetter(D,"nextSibling"),F=lookupGetter(D,"childNodes"),W=lookupGetter(D,"parentNode");if(typeof S=="function"){const Lt=E.createElement("template");Lt.content&&Lt.content.ownerDocument&&(E=Lt.content.ownerDocument)}let H,B="";const{implementation:U,createNodeIterator:G,createDocumentFragment:V,getElementsByTagName:K}=E,{importNode:je}=_;let Z=_createHooksMap();o.isSupported=typeof entries=="function"&&typeof W=="function"&&U&&U.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:fe,ERB_EXPR:Ae,TMPLIT_EXPR:Oe,DATA_ATTR:Pe,ARIA_ATTR:Ne,IS_SCRIPT_OR_DATA:Ce,ATTR_WHITESPACE:Me,CUSTOM_ELEMENT:Q}=EXPRESSIONS;let{IS_ALLOWED_URI:Re}=EXPRESSIONS,ke=null;const _e=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Y=null;const J=addToSet({},[...html,...svg,...mathMl,...xml]);let Se=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,$e=null,De=!0,Be=!0,Le=!1,He=!0,We=!1,rt=!0,it=!1,dt=!1,Ke=!1,Xe=!1,Fe=!1,Ge=!1,Ye=!0,Qe=!1;const ut="user-content-";let mt=!0,gt=!1,Ze={},Et=null;const At=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ht=null;const Ut=addToSet({},["audio","video","img","source","image","track"]);let Kt=null;const Nt=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bt="http://www.w3.org/1998/Math/MathML",Xt="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml";let ht=Zt,nt=!1,at=null;const Tt=addToSet({},[Bt,Xt,Zt],stringToString);let Jt=addToSet({},["mi","mo","mn","ms","mtext"]),Vt=addToSet({},["annotation-xml"]);const qe=addToSet({},["title","style","font","a","script"]);let pt=null;const Rt=["application/xhtml+xml","text/html"],It="text/html";let vt=null,St=null;const Ue=E.createElement("form"),ze=function(et){return et instanceof RegExp||et instanceof Function},Ve=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(St&&St===et)){if((!et||typeof et!="object")&&(et={}),et=clone(et),pt=Rt.indexOf(et.PARSER_MEDIA_TYPE)===-1?It:et.PARSER_MEDIA_TYPE,vt=pt==="application/xhtml+xml"?stringToString:stringToLowerCase,ke=objectHasOwnProperty(et,"ALLOWED_TAGS")?addToSet({},et.ALLOWED_TAGS,vt):_e,Y=objectHasOwnProperty(et,"ALLOWED_ATTR")?addToSet({},et.ALLOWED_ATTR,vt):J,at=objectHasOwnProperty(et,"ALLOWED_NAMESPACES")?addToSet({},et.ALLOWED_NAMESPACES,stringToString):Tt,Kt=objectHasOwnProperty(et,"ADD_URI_SAFE_ATTR")?addToSet(clone(Nt),et.ADD_URI_SAFE_ATTR,vt):Nt,Ht=objectHasOwnProperty(et,"ADD_DATA_URI_TAGS")?addToSet(clone(Ut),et.ADD_DATA_URI_TAGS,vt):Ut,Et=objectHasOwnProperty(et,"FORBID_CONTENTS")?addToSet({},et.FORBID_CONTENTS,vt):At,Ie=objectHasOwnProperty(et,"FORBID_TAGS")?addToSet({},et.FORBID_TAGS,vt):clone({}),$e=objectHasOwnProperty(et,"FORBID_ATTR")?addToSet({},et.FORBID_ATTR,vt):clone({}),Ze=objectHasOwnProperty(et,"USE_PROFILES")?et.USE_PROFILES:!1,De=et.ALLOW_ARIA_ATTR!==!1,Be=et.ALLOW_DATA_ATTR!==!1,Le=et.ALLOW_UNKNOWN_PROTOCOLS||!1,He=et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=et.SAFE_FOR_TEMPLATES||!1,rt=et.SAFE_FOR_XML!==!1,it=et.WHOLE_DOCUMENT||!1,Xe=et.RETURN_DOM||!1,Fe=et.RETURN_DOM_FRAGMENT||!1,Ge=et.RETURN_TRUSTED_TYPE||!1,Ke=et.FORCE_BODY||!1,Ye=et.SANITIZE_DOM!==!1,Qe=et.SANITIZE_NAMED_PROPS||!1,mt=et.KEEP_CONTENT!==!1,gt=et.IN_PLACE||!1,Re=et.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,ht=et.NAMESPACE||Zt,Jt=et.MATHML_TEXT_INTEGRATION_POINTS||Jt,Vt=et.HTML_INTEGRATION_POINTS||Vt,Se=et.CUSTOM_ELEMENT_HANDLING||{},et.CUSTOM_ELEMENT_HANDLING&&ze(et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),et.CUSTOM_ELEMENT_HANDLING&&ze(et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),et.CUSTOM_ELEMENT_HANDLING&&typeof et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Se.allowCustomizedBuiltInElements=et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(Be=!1),Fe&&(Xe=!0),Ze&&(ke=addToSet({},text),Y=[],Ze.html===!0&&(addToSet(ke,html$1),addToSet(Y,html)),Ze.svg===!0&&(addToSet(ke,svg$1),addToSet(Y,svg),addToSet(Y,xml)),Ze.svgFilters===!0&&(addToSet(ke,svgFilters),addToSet(Y,svg),addToSet(Y,xml)),Ze.mathMl===!0&&(addToSet(ke,mathMl$1),addToSet(Y,mathMl),addToSet(Y,xml))),et.ADD_TAGS&&(ke===_e&&(ke=clone(ke)),addToSet(ke,et.ADD_TAGS,vt)),et.ADD_ATTR&&(Y===J&&(Y=clone(Y)),addToSet(Y,et.ADD_ATTR,vt)),et.ADD_URI_SAFE_ATTR&&addToSet(Kt,et.ADD_URI_SAFE_ATTR,vt),et.FORBID_CONTENTS&&(Et===At&&(Et=clone(Et)),addToSet(Et,et.FORBID_CONTENTS,vt)),mt&&(ke["#text"]=!0),it&&addToSet(ke,["html","head","body"]),ke.table&&(addToSet(ke,["tbody"]),delete Ie.tbody),et.TRUSTED_TYPES_POLICY){if(typeof et.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');H=et.TRUSTED_TYPES_POLICY,B=H.createHTML("")}else H===void 0&&(H=_createTrustedTypesPolicy($,w)),H!==null&&typeof B=="string"&&(B=H.createHTML(""));freeze&&freeze(et),St=et}},lt=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),ct=addToSet({},[...mathMl$1,...mathMlDisallowed]),ft=function(et){let Ct=W(et);(!Ct||!Ct.tagName)&&(Ct={namespaceURI:ht,tagName:"template"});const zt=stringToLowerCase(et.tagName),nr=stringToLowerCase(Ct.tagName);return at[et.namespaceURI]?et.namespaceURI===Xt?Ct.namespaceURI===Zt?zt==="svg":Ct.namespaceURI===Bt?zt==="svg"&&(nr==="annotation-xml"||Jt[nr]):!!lt[zt]:et.namespaceURI===Bt?Ct.namespaceURI===Zt?zt==="math":Ct.namespaceURI===Xt?zt==="math"&&Vt[nr]:!!ct[zt]:et.namespaceURI===Zt?Ct.namespaceURI===Xt&&!Vt[nr]||Ct.namespaceURI===Bt&&!Jt[nr]?!1:!ct[zt]&&(qe[zt]||!lt[zt]):!!(pt==="application/xhtml+xml"&&at[et.namespaceURI]):!1},xt=function(et){arrayPush(o.removed,{element:et});try{W(et).removeChild(et)}catch{I(et)}},$t=function(et,Ct){try{arrayPush(o.removed,{attribute:Ct.getAttributeNode(et),from:Ct})}catch{arrayPush(o.removed,{attribute:null,from:Ct})}if(Ct.removeAttribute(et),et==="is")if(Xe||Fe)try{xt(Ct)}catch{}else try{Ct.setAttribute(et,"")}catch{}},Mt=function(et){let Ct=null,zt=null;if(Ke)et="<remove></remove>"+et;else{const ar=stringMatch(et,/^[\r\n\t ]+/);zt=ar&&ar[0]}pt==="application/xhtml+xml"&&ht===Zt&&(et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+et+"</body></html>");const nr=H?H.createHTML(et):et;if(ht===Zt)try{Ct=new O().parseFromString(nr,pt)}catch{}if(!Ct||!Ct.documentElement){Ct=U.createDocument(ht,"template",null);try{Ct.documentElement.innerHTML=nt?B:nr}catch{}}const or=Ct.body||Ct.documentElement;return et&&zt&&or.insertBefore(E.createTextNode(zt),or.childNodes[0]||null),ht===Zt?K.call(Ct,it?"html":"body")[0]:it?Ct.documentElement:or},Pt=function(et){return G.call(et.ownerDocument||et,et,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT|C.SHOW_PROCESSING_INSTRUCTION|C.SHOW_CDATA_SECTION,null)},qt=function(et){return et instanceof N&&(typeof et.nodeName!="string"||typeof et.textContent!="string"||typeof et.removeChild!="function"||!(et.attributes instanceof T)||typeof et.removeAttribute!="function"||typeof et.setAttribute!="function"||typeof et.namespaceURI!="string"||typeof et.insertBefore!="function"||typeof et.hasChildNodes!="function")},Dt=function(et){return typeof A=="function"&&et instanceof A};function kt(Lt,et,Ct){arrayForEach(Lt,zt=>{zt.call(o,et,Ct,St)})}const Gt=function(et){let Ct=null;if(kt(Z.beforeSanitizeElements,et,null),qt(et))return xt(et),!0;const zt=vt(et.nodeName);if(kt(Z.uponSanitizeElement,et,{tagName:zt,allowedTags:ke}),rt&&et.hasChildNodes()&&!Dt(et.firstElementChild)&&regExpTest(/<[/\w!]/g,et.innerHTML)&&regExpTest(/<[/\w!]/g,et.textContent)||et.nodeType===NODE_TYPE.progressingInstruction||rt&&et.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,et.data))return xt(et),!0;if(!ke[zt]||Ie[zt]){if(!Ie[zt]&&er(zt)&&(Se.tagNameCheck instanceof RegExp&&regExpTest(Se.tagNameCheck,zt)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(zt)))return!1;if(mt&&!Et[zt]){const nr=W(et)||et.parentNode,or=F(et)||et.childNodes;if(or&&nr){const ar=or.length;for(let lr=ar-1;lr>=0;--lr){const ur=L(or[lr],!0);ur.__removalCount=(et.__removalCount||0)+1,nr.insertBefore(ur,z(et))}}}return xt(et),!0}return et instanceof R&&!ft(et)||(zt==="noscript"||zt==="noembed"||zt==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,et.innerHTML)?(xt(et),!0):(We&&et.nodeType===NODE_TYPE.text&&(Ct=et.textContent,arrayForEach([fe,Ae,Oe],nr=>{Ct=stringReplace(Ct,nr," ")}),et.textContent!==Ct&&(arrayPush(o.removed,{element:et.cloneNode()}),et.textContent=Ct)),kt(Z.afterSanitizeElements,et,null),!1)},Qt=function(et,Ct,zt){if(Ye&&(Ct==="id"||Ct==="name")&&(zt in E||zt in Ue))return!1;if(!(Be&&!$e[Ct]&&regExpTest(Pe,Ct))){if(!(De&&regExpTest(Ne,Ct))){if(!Y[Ct]||$e[Ct]){if(!(er(et)&&(Se.tagNameCheck instanceof RegExp&&regExpTest(Se.tagNameCheck,et)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(et))&&(Se.attributeNameCheck instanceof RegExp&&regExpTest(Se.attributeNameCheck,Ct)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(Ct))||Ct==="is"&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&regExpTest(Se.tagNameCheck,zt)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(zt))))return!1}else if(!Kt[Ct]){if(!regExpTest(Re,stringReplace(zt,Me,""))){if(!((Ct==="src"||Ct==="xlink:href"||Ct==="href")&&et!=="script"&&stringIndexOf(zt,"data:")===0&&Ht[et])){if(!(Le&&!regExpTest(Ce,stringReplace(zt,Me,"")))){if(zt)return!1}}}}}}return!0},er=function(et){return et!=="annotation-xml"&&stringMatch(et,Q)},rr=function(et){kt(Z.beforeSanitizeAttributes,et,null);const{attributes:Ct}=et;if(!Ct||qt(et))return;const zt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let nr=Ct.length;for(;nr--;){const or=Ct[nr],{name:ar,namespaceURI:lr,value:ur}=or,vr=vt(ar),Ur=ur;let sr=ar==="value"?Ur:stringTrim(Ur);if(zt.attrName=vr,zt.attrValue=sr,zt.keepAttr=!0,zt.forceKeepAttr=void 0,kt(Z.uponSanitizeAttribute,et,zt),sr=zt.attrValue,Qe&&(vr==="id"||vr==="name")&&($t(ar,et),sr=ut+sr),rt&&regExpTest(/((--!?|])>)|<\/(style|title)/i,sr)){$t(ar,et);continue}if(zt.forceKeepAttr)continue;if(!zt.keepAttr){$t(ar,et);continue}if(!He&&regExpTest(/\/>/i,sr)){$t(ar,et);continue}We&&arrayForEach([fe,Ae,Oe],Cn=>{sr=stringReplace(sr,Cn," ")});const Rn=vt(et.nodeName);if(!Qt(Rn,vr,sr)){$t(ar,et);continue}if(H&&typeof $=="object"&&typeof $.getAttributeType=="function"&&!lr)switch($.getAttributeType(Rn,vr)){case"TrustedHTML":{sr=H.createHTML(sr);break}case"TrustedScriptURL":{sr=H.createScriptURL(sr);break}}if(sr!==Ur)try{lr?et.setAttributeNS(lr,ar,sr):et.setAttribute(ar,sr),qt(et)?xt(et):arrayPop(o.removed)}catch{$t(ar,et)}}kt(Z.afterSanitizeAttributes,et,null)},ir=function Lt(et){let Ct=null;const zt=Pt(et);for(kt(Z.beforeSanitizeShadowDOM,et,null);Ct=zt.nextNode();)kt(Z.uponSanitizeShadowNode,Ct,null),Gt(Ct),rr(Ct),Ct.content instanceof j&&Lt(Ct.content);kt(Z.afterSanitizeShadowDOM,et,null)};return o.sanitize=function(Lt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ct=null,zt=null,nr=null,or=null;if(nt=!Lt,nt&&(Lt="<!-->"),typeof Lt!="string"&&!Dt(Lt))if(typeof Lt.toString=="function"){if(Lt=Lt.toString(),typeof Lt!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!o.isSupported)return Lt;if(dt||Ve(et),o.removed=[],typeof Lt=="string"&&(gt=!1),gt){if(Lt.nodeName){const ur=vt(Lt.nodeName);if(!ke[ur]||Ie[ur])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof A)Ct=Mt("<!---->"),zt=Ct.ownerDocument.importNode(Lt,!0),zt.nodeType===NODE_TYPE.element&&zt.nodeName==="BODY"||zt.nodeName==="HTML"?Ct=zt:Ct.appendChild(zt);else{if(!Xe&&!We&&!it&&Lt.indexOf("<")===-1)return H&&Ge?H.createHTML(Lt):Lt;if(Ct=Mt(Lt),!Ct)return Xe?null:Ge?B:""}Ct&&Ke&&xt(Ct.firstChild);const ar=Pt(gt?Lt:Ct);for(;nr=ar.nextNode();)Gt(nr),rr(nr),nr.content instanceof j&&ir(nr.content);if(gt)return Lt;if(Xe){if(Fe)for(or=V.call(Ct.ownerDocument);Ct.firstChild;)or.appendChild(Ct.firstChild);else or=Ct;return(Y.shadowroot||Y.shadowrootmode)&&(or=je.call(_,or,!0)),or}let lr=it?Ct.outerHTML:Ct.innerHTML;return it&&ke["!doctype"]&&Ct.ownerDocument&&Ct.ownerDocument.doctype&&Ct.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Ct.ownerDocument.doctype.name)&&(lr="<!DOCTYPE "+Ct.ownerDocument.doctype.name+`>
`+lr),We&&arrayForEach([fe,Ae,Oe],ur=>{lr=stringReplace(lr,ur," ")}),H&&Ge?H.createHTML(lr):lr},o.setConfig=function(){let Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ve(Lt),dt=!0},o.clearConfig=function(){St=null,dt=!1},o.isValidAttribute=function(Lt,et,Ct){St||Ve({});const zt=vt(Lt),nr=vt(et);return Qt(zt,nr,Ct)},o.addHook=function(Lt,et){typeof et=="function"&&arrayPush(Z[Lt],et)},o.removeHook=function(Lt,et){if(et!==void 0){const Ct=arrayLastIndexOf(Z[Lt],et);return Ct===-1?void 0:arraySplice(Z[Lt],Ct,1)[0]}return arrayPop(Z[Lt])},o.removeHooks=function(Lt){Z[Lt]=[]},o.removeAllHooks=function(){Z=_createHooksMap()},o}var purify=createDOMPurify();const validateInput={email:i=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)&&i.length<=254,password:i=>{const o=[];return i.length<8&&o.push("La password deve essere di almeno 8 caratteri"),/(?=.*[a-z])/.test(i)||o.push("La password deve contenere almeno una lettera minuscola"),/(?=.*[A-Z])/.test(i)||o.push("La password deve contenere almeno una lettera maiuscola"),/(?=.*\d)/.test(i)||o.push("La password deve contenere almeno un numero"),/(?=.*[!@#$%^&*])/.test(i)||o.push("La password deve contenere almeno un carattere speciale (!@#$%^&*)"),{isValid:o.length===0,errors:o}},textLength:(i,o)=>i.length<=o,noScriptTags:i=>!/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi.test(i)},sanitizeText=i=>purify.sanitize(i,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),Security=()=>{const i=useNavigate(),{user:o}=useAuth(),{toast:E}=useToast(),[_,w]=reactExports.useState({email:"",password:"",confirmPassword:""}),[j,S]=reactExports.useState([]),[A,R]=reactExports.useState(!1),[C,T]=reactExports.useState(!1),[N,O]=reactExports.useState(!1);reactExports.useEffect(()=>{o&&w({email:o.email||"",password:"••••••••••",confirmPassword:""})},[o]);const $=I=>{if(w({..._,password:I}),I&&I!=="••••••••••"){const z=validateInput.password(I);S(z.errors)}else S([])},D=I=>{w({..._,confirmPassword:I})},L=async()=>{O(!0);try{if(_.email!==(o==null?void 0:o.email)){if(!validateInput.email(_.email))throw new Error("Email non valida");const I=sanitizeText(_.email),{error:z}=await supabase.auth.updateUser({email:I});if(z)throw z}if(_.password!=="••••••••••"&&_.password.length>0){const I=validateInput.password(_.password);if(!I.isValid)throw new Error("Password non sicura: "+I.errors.join(", "));if(_.password!==_.confirmPassword)throw new Error("Le password non corrispondono");const{error:z}=await supabase.auth.updateUser({password:_.password});if(z)throw z}E({title:"Credenziali aggiornate con successo.",duration:3e3}),w({..._,password:"••••••••••",confirmPassword:""}),S([])}catch(I){E({title:I.message||"Errore nell'aggiornamento delle credenziali.",variant:"destructive",duration:3e3})}finally{O(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black p-6 pb-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"text-[#EEBA2B] hover:bg-[#EEBA2B]/10",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Indietro"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-6",children:"Password e sicurezza"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",className:"text-white",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",className:"bg-surface-secondary border-gray-500 text-white",value:_.email,onChange:I=>w({..._,email:I.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",className:"text-white",children:"Nuova Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"password",type:A?"text":"password",className:"bg-surface-secondary border-gray-500 text-white pr-10",placeholder:"Inserisci nuova password",value:_.password,onChange:I=>$(I.target.value)}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white",onClick:()=>R(!A),children:A?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),j.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-1",children:j.map((I,z)=>jsxRuntimeExports.jsx("p",{className:"text-sm text-red-400",children:I},z))})]}),_.password!=="••••••••••"&&_.password.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"confirmPassword",className:"text-white",children:"Conferma Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:C?"text":"password",className:"bg-surface-secondary border-gray-500 text-white pr-10",placeholder:"Conferma la nuova password",value:_.confirmPassword,onChange:I=>D(I.target.value)}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white",onClick:()=>T(!C),children:C?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),_.password!==_.confirmPassword&&_.confirmPassword.length>0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-400 mt-1",children:"Le password non corrispondono"})]}),jsxRuntimeExports.jsx(Button$1,{onClick:L,disabled:N||j.length>0||_.password!=="••••••••••"&&_.password!==_.confirmPassword,className:"w-full bg-[#EEBA2B] hover:bg-[#d4a61a] text-black disabled:opacity-50",children:N?"Salvando...":"Modifica credenziali"})]})]})]})})},Notifications=()=>{const i=useNavigate(),[o,E]=reactExports.useState(!1),{isSupported:_,isActive:w,canAskPermission:j,closeModal:S,handlePermissionGranted:A}=usePushNotifications(),R=()=>{j&&E(!0)},C=()=>{pushNotificationService.clearNotificationData(),console.log("Notifications deactivated"),window.location.reload()};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black pb-20",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-6 pt-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("button",{onClick:()=>i("/settings"),className:"text-pp-gold/80 hover:text-pp-gold text-sm mb-4",children:"← Torna alle Impostazioni"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-pp-gold mb-2",children:"Notifiche"}),jsxRuntimeExports.jsx("p",{className:"text-pp-gold/80",children:"Gestisci i promemoria e le notifiche push"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 border border-pp-gold/20 rounded-xl p-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-pp-gold",children:"Stato Notifiche"}),jsxRuntimeExports.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${w?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:w?"Attive":"Disattive"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:w?"Ricevi promemoria personalizzati per mantenere la costanza nei tuoi allenamenti.":"Attiva le notifiche per ricevere promemoria intelligenti e motivazione quotidiana."})]}),!_&&jsxRuntimeExports.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),jsxRuntimeExports.jsx("h3",{className:"text-red-400 font-semibold",children:"Notifiche Non Supportate"})]}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm",children:"Il tuo browser non supporta le notifiche push. Aggiorna il browser o usa un dispositivo compatibile."})]}),_&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:w?jsxRuntimeExports.jsx("button",{onClick:C,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-xl transition-colors duration-200",children:"Disattiva Notifiche"}):jsxRuntimeExports.jsx("button",{onClick:R,disabled:!j,className:"w-full bg-pp-gold hover:bg-pp-gold/90 disabled:bg-gray-600 disabled:text-gray-400 text-black font-bold py-4 px-6 rounded-xl transition-colors duration-200",children:j?"Attiva Notifiche":"Notifiche Già Richieste"})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-pp-gold mb-3",children:"Cosa riceverai"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Promemoria personalizzati per i tuoi allenamenti"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Massimo 1 notifica al giorno"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Zero spam, solo motivazione"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-pp-gold mb-3",children:"Privacy"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:"Le tue notifiche sono gestite localmente e non condividiamo i tuoi dati personali. Puoi disattivare le notifiche in qualsiasi momento."})]})]})]})}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(PushPermissionModal,{isOpen:o,onClose:S,onPermissionGranted:A,trigger:"manual"})]})},Language=()=>{const i=useNavigate(),{t:o,language:E,changeLanguage:_}=useTranslation(),[w,j]=reactExports.useState(!1),S=R=>{_(R),ue.success(R==="it"?"Lingua cambiata in Italiano":"Language changed to English")},A=async()=>{j(!0);try{await new Promise(R=>setTimeout(R,500)),ue.success("Impostazioni lingua salvate con successo"),i("/profile")}catch{ue.error("Errore nel salvataggio delle impostazioni lingua")}finally{j(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black p-6 pb-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"text-[#EEBA2B] hover:bg-[#EEBA2B]/10",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),o("common.back")]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-6",children:o("settings.language")}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"language",className:"text-white",children:"Lingua / Language"}),jsxRuntimeExports.jsxs(Select,{value:E,onValueChange:S,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"bg-surface-secondary border-gray-500 text-white",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{className:"bg-surface-secondary border-gray-500",children:[jsxRuntimeExports.jsx(SelectItem,{value:"it",className:"text-white hover:bg-gray-800 focus:bg-gray-800",children:"Italiano"}),jsxRuntimeExports.jsx(SelectItem,{value:"en",className:"text-white hover:bg-gray-800 focus:bg-gray-800",children:"English"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"region",className:"text-white",children:"Regione / Region"}),jsxRuntimeExports.jsx("input",{id:"region",type:"text",className:"w-full h-10 px-3 py-2 bg-surface-secondary border border-gray-500 text-white rounded-md",value:E==="it"?"Italia":"Italy",readOnly:!0})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:A,disabled:w,className:"w-full bg-[#EEBA2B] hover:bg-[#d4a61a] text-black disabled:opacity-50",children:w?"Salvando...":"Salva impostazioni"})]})]})]})})},Privacy=()=>{const i=useNavigate(),{toast:o}=useToast(),[E,_]=reactExports.useState(!1),[w,j]=reactExports.useState(!0),{hasConsent:S,acceptFileAccess:A,declineFileAccess:R,resetFileAccess:C}=useFileAccess();reactExports.useEffect(()=>{const O=analytics.isAnalyticsEnabled();j(O),analytics.trackSettings("view","privacy")},[]);const T=async()=>{_(!0);try{await new Promise(O=>setTimeout(O,500)),analytics.setEnabled(w),analytics.trackSettings("update","privacy"),o({title:"Impostazioni privacy salvate con successo.",duration:3e3}),i("/profile")}catch{o({title:"Errore nel salvataggio delle impostazioni privacy.",variant:"destructive",duration:3e3})}finally{_(!1)}},N=()=>{j(!w),analytics.trackUserAction("analytics_toggle",{enabled:!w})};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black p-6 pb-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"text-[#EEBA2B] hover:bg-[#EEBA2B]/10",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Indietro"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-6",children:"Privacy"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-5 w-5 text-[#EEBA2B]"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Plausible Analytics"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-secondary rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-medium",children:"Analytics Privacy-Friendly"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm",children:"Aiutaci a migliorare l'app con dati anonimi"})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:N,className:`p-2 rounded-full ${w?"bg-interactive-success text-white":"bg-surface-tertiary text-text-secondary"}`,children:w?jsxRuntimeExports.jsx(ToggleRight,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ToggleLeft,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-text-muted space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"• Zero cookie di profilazione"}),jsxRuntimeExports.jsx("p",{children:"• Dati completamente anonimi"}),jsxRuntimeExports.jsx("p",{children:"• GDPR compliant di default"}),jsxRuntimeExports.jsx("p",{children:"• Outbound links tracking"}),jsxRuntimeExports.jsx("p",{children:"• Script ufficiale Plausible"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-[#EEBA2B]"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Accesso ai File"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-secondary rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-medium",children:"Consenso Accesso File"}),jsxRuntimeExports.jsx("p",{className:"text-text-secondary text-sm",children:S===!0?"Consentito - Puoi caricare allegati agli allenamenti":S===!1?"Non consentito - Funzionalità allegati disabilitata":"Non ancora deciso"})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",onClick:N,className:`p-2 rounded-full ${S===!0?"bg-interactive-success text-white":"bg-surface-tertiary text-text-secondary"}`,children:S===!0?jsxRuntimeExports.jsx(ToggleRight,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ToggleLeft,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-text-muted space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"• Accesso solo ai file selezionati manualmente"}),jsxRuntimeExports.jsx("p",{children:"• Nessun accesso automatico al sistema"}),jsxRuntimeExports.jsx("p",{children:"• File utilizzati solo per allegati allenamenti"}),jsxRuntimeExports.jsx("p",{children:"• Supporta JPEG, PNG e PDF (max 10MB)"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 pt-2",children:S===null?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{onClick:A,className:"flex-1 bg-[#EEBA2B] hover:bg-[#d4a61a] text-black text-sm",children:"Accetta"}),jsxRuntimeExports.jsx(Button$1,{onClick:R,variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800 text-sm",children:"Rifiuta"})]}):jsxRuntimeExports.jsxs(Button$1,{onClick:C,className:"w-full bg-gray-600 hover:bg-gray-700 text-white text-sm",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Cambia Decisione"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5 text-[#EEBA2B]"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Documenti Privacy"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button$1,{onClick:()=>i("/privacy-policy"),className:"w-full bg-[#EEBA2B] hover:bg-[#d4a61a] text-black",children:"Informativa sulla privacy"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>i("/terms-and-conditions"),variant:"outline",className:"w-full border-[#EEBA2B] text-[#EEBA2B] hover:bg-[#EEBA2B] hover:text-black",children:"Termini e condizioni"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:T,disabled:E,className:"w-full bg-[#EEBA2B] hover:bg-[#d4a61a] text-black disabled:opacity-50",children:E?"Salvando...":"Salva impostazioni"})]})]})]})})},Help=()=>{const i=useNavigate(),{toast:o}=useToast(),[E,_]=reactExports.useState(!1),w=async()=>{_(!0);try{await new Promise(j=>setTimeout(j,500)),o({title:"Grazie per aver visitato il centro assistenza.",duration:3e3}),i("/profile")}catch{o({title:"Errore nell'operazione.",variant:"destructive",duration:3e3})}finally{_(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black p-6 pb-24",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-6",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"text-[#EEBA2B] hover:bg-[#EEBA2B]/10",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4 mr-2"}),"Indietro"]})}),jsxRuntimeExports.jsxs("div",{className:"bg-surface-primary border-2 border-[#EEBA2B] rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#EEBA2B] mb-6",children:"Centro assistenza"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-surface-secondary rounded-lg",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5 text-[#EEBA2B]"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white text-sm",children:"Contattaci via email:"}),jsxRuntimeExports.jsx("a",{href:"mailto:primeassistenza@gmail.com",className:"text-[#EEBA2B] font-medium hover:underline",children:"primeassistenza@gmail.com"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:w,disabled:E,className:"w-full bg-[#EEBA2B] hover:bg-[#d4a61a] text-black disabled:opacity-50",children:E?"Confermando...":"Conferma"})]})]})]})})};function ProtectedRoute({session:i,children:o}){return i?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:o}):jsxRuntimeExports.jsx(Navigate,{to:"/auth/login",replace:!0})}var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider$1=i=>{const{__scopeToast:o,label:E="Notification",duration:_=5e3,swipeDirection:w="right",swipeThreshold:j=50,children:S}=i,[A,R]=reactExports.useState(null),[C,T]=reactExports.useState(0),N=reactExports.useRef(!1),O=reactExports.useRef(!1);return E.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:o,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:o,label:E,duration:_,swipeDirection:w,swipeThreshold:j,toastCount:C,viewport:A,onViewportChange:R,onToastAdd:reactExports.useCallback(()=>T($=>$+1),[]),onToastRemove:reactExports.useCallback(()=>T($=>$-1),[]),isFocusedToastEscapeKeyDownRef:N,isClosePausedRef:O,children:S})})};ToastProvider$1.displayName=PROVIDER_NAME;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,hotkey:_=VIEWPORT_DEFAULT_HOTKEY,label:w="Notifications ({hotkey})",...j}=i,S=useToastProviderContext(VIEWPORT_NAME,E),A=useCollection(E),R=reactExports.useRef(null),C=reactExports.useRef(null),T=reactExports.useRef(null),N=reactExports.useRef(null),O=useComposedRefs(o,N,S.onViewportChange),$=_.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=S.toastCount>0;reactExports.useEffect(()=>{const I=z=>{var W;_.length!==0&&_.every(H=>z[H]||z.code===H)&&((W=N.current)==null||W.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[_]),reactExports.useEffect(()=>{const I=R.current,z=N.current;if(D&&I&&z){const F=()=>{if(!S.isClosePausedRef.current){const U=new CustomEvent(VIEWPORT_PAUSE);z.dispatchEvent(U),S.isClosePausedRef.current=!0}},W=()=>{if(S.isClosePausedRef.current){const U=new CustomEvent(VIEWPORT_RESUME);z.dispatchEvent(U),S.isClosePausedRef.current=!1}},H=U=>{!I.contains(U.relatedTarget)&&W()},B=()=>{I.contains(document.activeElement)||W()};return I.addEventListener("focusin",F),I.addEventListener("focusout",H),I.addEventListener("pointermove",F),I.addEventListener("pointerleave",B),window.addEventListener("blur",F),window.addEventListener("focus",W),()=>{I.removeEventListener("focusin",F),I.removeEventListener("focusout",H),I.removeEventListener("pointermove",F),I.removeEventListener("pointerleave",B),window.removeEventListener("blur",F),window.removeEventListener("focus",W)}}},[D,S.isClosePausedRef]);const L=reactExports.useCallback(({tabbingDirection:I})=>{const F=A().map(W=>{const H=W.ref.current,B=[H,...getTabbableCandidates(H)];return I==="forwards"?B:B.reverse()});return(I==="forwards"?F.reverse():F).flat()},[A]);return reactExports.useEffect(()=>{const I=N.current;if(I){const z=F=>{var B,U,G;const W=F.altKey||F.ctrlKey||F.metaKey;if(F.key==="Tab"&&!W){const V=document.activeElement,K=F.shiftKey;if(F.target===I&&K){(B=C.current)==null||B.focus();return}const fe=L({tabbingDirection:K?"backwards":"forwards"}),Ae=fe.findIndex(Oe=>Oe===V);focusFirst(fe.slice(Ae+1))?F.preventDefault():K?(U=C.current)==null||U.focus():(G=T.current)==null||G.focus()}};return I.addEventListener("keydown",z),()=>I.removeEventListener("keydown",z)}},[A,L]),jsxRuntimeExports.jsxs(Branch,{ref:R,role:"region","aria-label":w.replace("{hotkey}",$),tabIndex:-1,style:{pointerEvents:D?void 0:"none"},children:[D&&jsxRuntimeExports.jsx(FocusProxy,{ref:C,onFocusFromOutsideViewport:()=>{const I=L({tabbingDirection:"forwards"});focusFirst(I)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:E,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...j,ref:O})}),D&&jsxRuntimeExports.jsx(FocusProxy,{ref:T,onFocusFromOutsideViewport:()=>{const I=L({tabbingDirection:"backwards"});focusFirst(I)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,onFocusFromOutsideViewport:_,...w}=i,j=useToastProviderContext(FOCUS_PROXY_NAME,E);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...w,ref:o,style:{position:"fixed"},onFocus:S=>{var C;const A=S.relatedTarget;!((C=j.viewport)!=null&&C.contains(A))&&_()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((i,o)=>{const{forceMount:E,open:_,defaultOpen:w,onOpenChange:j,...S}=i,[A,R]=useControllableState({prop:_,defaultProp:w??!0,onChange:j,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:E||A,children:jsxRuntimeExports.jsx(ToastImpl,{open:A,...S,ref:o,onClose:()=>R(!1),onPause:useCallbackRef$1(i.onPause),onResume:useCallbackRef$1(i.onResume),onSwipeStart:composeEventHandlers(i.onSwipeStart,C=>{C.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(i.onSwipeMove,C=>{const{x:T,y:N}=C.detail.delta;C.currentTarget.setAttribute("data-swipe","move"),C.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${T}px`),C.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${N}px`)}),onSwipeCancel:composeEventHandlers(i.onSwipeCancel,C=>{C.currentTarget.setAttribute("data-swipe","cancel"),C.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),C.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),C.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),C.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(i.onSwipeEnd,C=>{const{x:T,y:N}=C.detail.delta;C.currentTarget.setAttribute("data-swipe","end"),C.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),C.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),C.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${T}px`),C.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${N}px`),R(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,type:_="foreground",duration:w,open:j,onClose:S,onEscapeKeyDown:A,onPause:R,onResume:C,onSwipeStart:T,onSwipeMove:N,onSwipeCancel:O,onSwipeEnd:$,...D}=i,L=useToastProviderContext(TOAST_NAME,E),[I,z]=reactExports.useState(null),F=useComposedRefs(o,Oe=>z(Oe)),W=reactExports.useRef(null),H=reactExports.useRef(null),B=w||L.duration,U=reactExports.useRef(0),G=reactExports.useRef(B),V=reactExports.useRef(0),{onToastAdd:K,onToastRemove:je}=L,Z=useCallbackRef$1(()=>{var Pe;(I==null?void 0:I.contains(document.activeElement))&&((Pe=L.viewport)==null||Pe.focus()),S()}),fe=reactExports.useCallback(Oe=>{!Oe||Oe===1/0||(window.clearTimeout(V.current),U.current=new Date().getTime(),V.current=window.setTimeout(Z,Oe))},[Z]);reactExports.useEffect(()=>{const Oe=L.viewport;if(Oe){const Pe=()=>{fe(G.current),C==null||C()},Ne=()=>{const Ce=new Date().getTime()-U.current;G.current=G.current-Ce,window.clearTimeout(V.current),R==null||R()};return Oe.addEventListener(VIEWPORT_PAUSE,Ne),Oe.addEventListener(VIEWPORT_RESUME,Pe),()=>{Oe.removeEventListener(VIEWPORT_PAUSE,Ne),Oe.removeEventListener(VIEWPORT_RESUME,Pe)}}},[L.viewport,B,R,C,fe]),reactExports.useEffect(()=>{j&&!L.isClosePausedRef.current&&fe(B)},[j,B,L.isClosePausedRef,fe]),reactExports.useEffect(()=>(K(),()=>je()),[K,je]);const Ae=reactExports.useMemo(()=>I?getAnnounceTextContent(I):null,[I]);return L.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ae&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:E,role:"status","aria-live":_==="foreground"?"assertive":"polite",children:Ae}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:E,onClose:Z,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:E,children:jsxRuntimeExports.jsx(Root$5,{asChild:!0,onEscapeKeyDown:composeEventHandlers(A,()=>{L.isFocusedToastEscapeKeyDownRef.current||Z(),L.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{tabIndex:0,"data-state":j?"open":"closed","data-swipe-direction":L.swipeDirection,...D,ref:F,style:{userSelect:"none",touchAction:"none",...i.style},onKeyDown:composeEventHandlers(i.onKeyDown,Oe=>{Oe.key==="Escape"&&(A==null||A(Oe.nativeEvent),Oe.nativeEvent.defaultPrevented||(L.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:composeEventHandlers(i.onPointerDown,Oe=>{Oe.button===0&&(W.current={x:Oe.clientX,y:Oe.clientY})}),onPointerMove:composeEventHandlers(i.onPointerMove,Oe=>{if(!W.current)return;const Pe=Oe.clientX-W.current.x,Ne=Oe.clientY-W.current.y,Ce=!!H.current,Me=["left","right"].includes(L.swipeDirection),Q=["left","up"].includes(L.swipeDirection)?Math.min:Math.max,Re=Me?Q(0,Pe):0,ke=Me?0:Q(0,Ne),_e=Oe.pointerType==="touch"?10:2,Y={x:Re,y:ke},J={originalEvent:Oe,delta:Y};Ce?(H.current=Y,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,N,J,{discrete:!1})):isDeltaInDirection(Y,L.swipeDirection,_e)?(H.current=Y,handleAndDispatchCustomEvent(TOAST_SWIPE_START,T,J,{discrete:!1}),Oe.target.setPointerCapture(Oe.pointerId)):(Math.abs(Pe)>_e||Math.abs(Ne)>_e)&&(W.current=null)}),onPointerUp:composeEventHandlers(i.onPointerUp,Oe=>{const Pe=H.current,Ne=Oe.target;if(Ne.hasPointerCapture(Oe.pointerId)&&Ne.releasePointerCapture(Oe.pointerId),H.current=null,W.current=null,Pe){const Ce=Oe.currentTarget,Me={originalEvent:Oe,delta:Pe};isDeltaInDirection(Pe,L.swipeDirection,L.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,$,Me,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,O,Me,{discrete:!0}),Ce.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),L.viewport)})]}):null}),ToastAnnounce=i=>{const{__scopeToast:o,children:E,..._}=i,w=useToastProviderContext(TOAST_NAME,o),[j,S]=reactExports.useState(!1),[A,R]=reactExports.useState(!1);return useNextFrame(()=>S(!0)),reactExports.useEffect(()=>{const C=window.setTimeout(()=>R(!0),1e3);return()=>window.clearTimeout(C)},[]),A?null:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{..._,children:j&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[w.label," ",E]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,..._}=i;return jsxRuntimeExports.jsx(Primitive.div,{..._,ref:o})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,..._}=i;return jsxRuntimeExports.jsx(Primitive.div,{..._,ref:o})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((i,o)=>{const{altText:E,..._}=i;return E.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:E,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{..._,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,..._}=i,w=useToastInteractiveContext(CLOSE_NAME,E);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._,ref:o,onClick:composeEventHandlers(i.onClick,w.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((i,o)=>{const{__scopeToast:E,altText:_,...w}=i;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":_||void 0,...w,ref:o})});function getAnnounceTextContent(i){const o=[];return Array.from(i.childNodes).forEach(_=>{if(_.nodeType===_.TEXT_NODE&&_.textContent&&o.push(_.textContent),isHTMLElement(_)){const w=_.ariaHidden||_.hidden||_.style.display==="none",j=_.dataset.radixToastAnnounceExclude==="";if(!w)if(j){const S=_.dataset.radixToastAnnounceAlt;S&&o.push(S)}else o.push(...getAnnounceTextContent(_))}}),o}function handleAndDispatchCustomEvent(i,o,E,{discrete:_}){const w=E.originalEvent.currentTarget,j=new CustomEvent(i,{bubbles:!0,cancelable:!0,detail:E});o&&w.addEventListener(i,o,{once:!0}),_?dispatchDiscreteCustomEvent(w,j):w.dispatchEvent(j)}var isDeltaInDirection=(i,o,E=0)=>{const _=Math.abs(i.x),w=Math.abs(i.y),j=_>w;return o==="left"||o==="right"?j&&_>E:!j&&w>E};function useNextFrame(i=()=>{}){const o=useCallbackRef$1(i);useLayoutEffect2(()=>{let E=0,_=0;return E=window.requestAnimationFrame(()=>_=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(E),window.cancelAnimationFrame(_)}},[o])}function isHTMLElement(i){return i.nodeType===i.ELEMENT_NODE}function getTabbableCandidates(i){const o=[],E=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:_=>{const w=_.tagName==="INPUT"&&_.type==="hidden";return _.disabled||_.hidden||w?NodeFilter.FILTER_SKIP:_.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;E.nextNode();)o.push(E.currentNode);return o}function focusFirst(i){const o=document.activeElement;return i.some(E=>E===o?!0:(E.focus(),document.activeElement!==o))}var Provider=ToastProvider$1,Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;const ToastProvider=Provider,ToastViewport=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Viewport,{ref:E,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...o}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:i,variant:o,...E},_)=>jsxRuntimeExports.jsx(Root2,{ref:_,className:cn(toastVariants({variant:o}),i),...E}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Action,{ref:E,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...o}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Close,{ref:E,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...o,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Title,{ref:E,className:cn("text-sm font-semibold",i),...o}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:i,...o},E)=>jsxRuntimeExports.jsx(Description,{ref:E,className:cn("text-sm opacity-90",i),...o}));ToastDescription.displayName=Description.displayName;function Toaster(){const{toasts:i}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[i.map(function({id:o,title:E,description:_,action:w,...j}){return jsxRuntimeExports.jsxs(Toast,{...j,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[E&&jsxRuntimeExports.jsx(ToastTitle,{children:E}),_&&jsxRuntimeExports.jsx(ToastDescription,{children:_})]}),w,jsxRuntimeExports.jsx(ToastClose,{})]},o)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}function FeedbackWidget(){return jsxRuntimeExports.jsx("button",{"data-tally-open":"mDL24Z","data-tally-emoji-text":"💪","data-tally-emoji-animation":"wave",className:"fixed z-[60] bg-blue-600 hover:bg-blue-700 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg transition-all hover:scale-110 feedback-widget",style:{position:"fixed",bottom:"96px",right:"16px",left:"auto"},"aria-label":"Dai il tuo feedback",children:jsxRuntimeExports.jsx(MessageCircle,{size:20})})}const supabaseUrl="https://kfxoyucatvvcgmqalxsg.supabase.co",supabaseServiceKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmeG95dWNhdHZ2Y2dtcWFseHNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxODQ5MTIsImV4cCI6MjA1MTc2MDkxMn0.oNdK-3-eeIOYPytoUCvMbfGGtSEPwOoGg62JQwXfTjI",supabaseAdmin=createClient(supabaseUrl,supabaseServiceKey,{auth:{autoRefreshToken:!1,persistSession:!1}});function useAdminAuthBypass(){const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(null),[w,j]=reactExports.useState(!0);reactExports.useEffect(()=>{S()},[]),reactExports.useEffect(()=>(i?document.body.classList.add("admin-panel"):document.body.classList.remove("admin-panel"),()=>{document.body.classList.remove("admin-panel")}),[i]);const S=async()=>{try{const T=localStorage.getItem("admin_session");if(!T){j(!1);return}try{const $=JSON.parse(T);if($.role==="super_admin"){console.log("✅ Sessione SuperAdmin trovata:",$),o({id:$.admin_id||$.id,email:$.email,name:$.full_name||"Super Admin",role:"super_admin",status:"active",created_at:$.created_at||new Date().toISOString()}),j(!1);return}}catch{console.log("Sessione non in formato JSON, provo formato legacy...")}const{data:N,error:O}=await supabase.from("admin_sessions").select(`
          *,
          profiles!inner(
            id,
            email,
            first_name,
            last_name,
            role,
            created_at
          )
        `).eq("token",T).gt("expires_at",new Date().toISOString()).single();if(O||!N){localStorage.removeItem("admin_session"),j(!1);return}N.profiles.role==="super_admin"?(_(N),o({id:N.profiles.id,email:N.profiles.email,name:`${N.profiles.first_name} ${N.profiles.last_name}`,role:"super_admin",status:"active",created_at:N.profiles.created_at||new Date().toISOString()})):localStorage.removeItem("admin_session")}catch(T){console.error("Error verifying admin session:",T),localStorage.removeItem("admin_session")}finally{j(!1)}},A=async T=>{console.log("🔐 Tentativo login SuperAdmin:",T.email);try{const N="PP_SUPERADMIN_2025_SECURE_KEY_CHANGE_ME";if(console.log("🔑 Verifica secret key...",{provided:T.secretKey,expected:N}),T.secretKey!==N)throw console.error("❌ Secret key non valida"),new Error("Chiave segreta non valida");console.log("📊 Cerco profilo per:",T.email);try{console.log("🔍 DEBUG LOGIN - Cercando:",T.email);const{data:O,error:$}=await supabaseAdmin.from("profiles").select("*").eq("email",T.email).single();console.log("🔍 Profile test result:",{testProfile:O,testError:$});const{count:D,error:L}=await supabaseAdmin.from("profiles").select("*",{count:"exact",head:!0});console.log("🔍 Total profiles count:",{totalProfiles:D,countError:L});const{data:I,error:z}=await supabaseAdmin.from("profiles").select("*").limit(5);console.log("🔍 Sample profiles:",{sampleProfiles:I,sampleError:z}),I&&I[0]&&console.log("📋 Colonne tabella profiles:",Object.keys(I[0]));const{data:F,error:W}=await supabase.from("profiles").select("id, email, role, first_name, last_name, created_at").eq("email",T.email);if(console.log("Query result:",{profiles:F,error:W}),W)throw console.error("Database error:",W),new Error(`Errore database: ${W.message}`);const H=F==null?void 0:F[0];if(!H){console.log("👤 Account non trovato, creo automaticamente...");const{data:G,error:V}=await supabaseAdmin.from("profiles").insert({email:T.email,full_name:"Super Admin",role:"super_admin",is_active:!0,created_at:new Date().toISOString()}).select().single();if(console.log("👤 Account creato:",{newProfile:G,createError:V}),V)throw console.error("❌ Errore creazione account:",V),new Error(`Errore creazione account: ${V.message}`);const K=G;if(K.role!=="super_admin")throw console.error("Ruolo non autorizzato:",K.role),new Error("Account non autorizzato");if(T.password!=="SuperAdmin2025!")throw console.error("❌ Password non valida"),new Error("Password non valida");console.log("✅ SuperAdmin verificato (nuovo account):",K);const Z={admin_id:K.id,email:K.email,role:K.role,logged_at:new Date().toISOString()};return localStorage.setItem("admin_session",JSON.stringify(Z)),o({id:K.id,email:K.email,name:K.full_name||"Super Admin",role:"super_admin",status:"active",created_at:K.created_at||new Date().toISOString()}),{success:!0}}if(H.role!=="super_admin")throw console.error("Ruolo non autorizzato:",H.role),new Error("Account non autorizzato");if(T.password!=="SuperAdmin2025!")throw console.error("❌ Password non valida"),new Error("Password non valida");console.log("✅ SuperAdmin verificato:",H);const U={admin_id:H.id,email:H.email,role:H.role,logged_at:new Date().toISOString()};localStorage.setItem("admin_session",JSON.stringify(U)),o({id:H.id,email:H.email,name:`${H.first_name||""} ${H.last_name||""}`.trim()||"Super Admin",role:"super_admin",status:"active",created_at:H.created_at||new Date().toISOString()});try{await supabase.from("admin_audit_logs").insert({admin_id:H.id,action:"login",details:{email:H.email}}),console.log("✅ Audit log creato")}catch(G){console.warn("⚠️ Audit log failed:",G)}return{success:!0}}catch(O){if(console.error("❌ Login fallito:",O),console.log("🚨 ATTIVAZIONE EMERGENCY BYPASS"),T.email==="mattiasilvester@gmail.com"&&T.password==="SuperAdmin2025!"&&T.secretKey===N){console.log("🔓 BYPASS LOGIN - Accesso diretto");const $={id:"admin-bypass-001",email:"mattiasilvester@gmail.com",role:"super_admin",full_name:"Super Admin"},D={admin_id:$.id,email:$.email,role:$.role,logged_at:new Date().toISOString()};return localStorage.setItem("admin_session",JSON.stringify(D)),o({id:$.id,email:$.email,name:$.full_name,role:"super_admin",status:"active",created_at:new Date().toISOString()}),console.log("✅ EMERGENCY BYPASS ACTIVATED"),{success:!0}}throw O}}catch(N){throw console.error("❌ Login fallito:",N),N}},R=async()=>{try{const T=localStorage.getItem("admin_session");T&&await supabase.from("admin_sessions").delete().eq("token",T),localStorage.removeItem("admin_session"),o(null),_(null)}catch(T){console.error("Admin logout error:",T)}},C=(i==null?void 0:i.role)==="super_admin";return{admin:i,session:E,loading:w,isAuthorized:C,login:A,logout:R,verifyAdminSession:S}}function SuperAdminLogin(){const[i,o]=reactExports.useState({email:"",password:"",secretKey:""}),[E,_]=reactExports.useState(!1),w=useNavigate(),{login:j}=useAdminAuthBypass(),S=async A=>{A.preventDefault(),_(!0);try{await j(i),ue.success("Accesso autorizzato"),w("/nexus-prime-control/dashboard")}catch(R){console.error("Admin login error:",R),ue.error(R.message||"Accesso negato")}finally{_(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg w-96 border border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Nexus Control"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Super Admin Access"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:S,className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:A=>o({...i,email:A.target.value}),className:"w-full p-3 bg-gray-800 text-white rounded border border-gray-600 focus:border-red-500 focus:outline-none",required:!0})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",value:i.password,onChange:A=>o({...i,password:A.target.value}),className:"w-full p-3 bg-gray-800 text-white rounded border border-gray-600 focus:border-red-500 focus:outline-none",required:!0})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Secret Key",value:i.secretKey,onChange:A=>o({...i,secretKey:A.target.value}),className:"w-full p-3 bg-gray-800 text-white rounded border border-gray-600 focus:border-red-500 focus:outline-none",required:!0})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:E,className:"w-full p-3 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?"Verificando...":"Accedi"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Accesso riservato a Super Admin autorizzati"})})]})})}function AdminStatsCards({stats:i,loading:o}){const[E,_]=reactExports.useState({totalUsers:0,activeUsers:0,inactiveUsers:0,totalWorkouts:0,totalPT:0,weeklyGrowth:0,activationD0Rate:0,retentionD7:0}),[w,j]=reactExports.useState(!0),[S,A]=reactExports.useState(0);reactExports.useEffect(()=>{i&&(_(i),j(!1))},[i]),reactExports.useEffect(()=>{!i&&!o&&console.log("⚠️ AdminStatsCards: Nessun props stats fornito, usando stato locale")},[i,o]),reactExports.useEffect(()=>{if(E.totalUsers>S&&S>0){console.log("🎉 NUOVO UTENTE!",E.totalUsers);const N=document.querySelector('[data-card="objective"]');N&&(N.style.boxShadow="0 0 20px #00ff00",N.style.transform="scale(1.05)",setTimeout(()=>{N.style.boxShadow="",N.style.transform=""},3e3))}A(E.totalUsers)},[E.totalUsers,S]);const R=[{title:"OBIETTIVO: 500 UTENTI",value:`${E.totalUsers}/500`,percentage:Math.round(E.totalUsers/500*100*10)/10,subtitle:`${E.activeUsers} online • Aggiornato: ${new Date().toLocaleTimeString("it-IT")}`,icon:E.totalUsers>=500?"🎉":"🎯",color:E.totalUsers>=500?"green":E.totalUsers>=250?"yellow":"red","data-card":"objective"},{title:"UTENTI ONLINE ORA",value:E.activeUsers,subtitle:"Connessi negli ultimi 5 min",icon:"🟢",color:"green"},{title:"ACTIVATION D0 RATE",value:`${E.activationD0Rate}%`,subtitle:E.activationD0Rate>=40?"✅ Target raggiunto":"⚠️ Sotto target 40%",icon:"🚀",color:E.activationD0Rate>=40?"green":"red"},{title:"RETENTION D7",value:`${E.retentionD7}%`,subtitle:E.retentionD7>=20?"✅ Target raggiunto":"⚠️ Sotto target 20%",icon:"🔄",color:E.retentionD7>=20?"green":"orange"},{title:"WEEKLY GROWTH",value:`+${E.weeklyGrowth}`,subtitle:"Nuovi utenti/settimana",icon:"📈",color:"blue"},{title:"Personal Trainer",value:E.totalPT,subtitle:"PT registrati",icon:"🏋️‍♂️",color:"indigo"}],C=N=>{const O={green:"bg-green-600 border-green-500",yellow:"bg-yellow-600 border-yellow-500",red:"bg-red-600 border-red-500",blue:"bg-blue-600 border-blue-500",purple:"bg-purple-600 border-purple-500",orange:"bg-orange-600 border-orange-500",indigo:"bg-indigo-600 border-indigo-500"};return O[N]||O.blue};return(o!==void 0?o:w)?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((N,O)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-600 rounded w-3/4 mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-600 rounded w-1/2"})]},O))}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:R.map((N,O)=>jsxRuntimeExports.jsxs("div",{className:`p-6 rounded-lg border-2 ${C(N.color)}`,"data-card":N["data-card"]||"",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold text-sm uppercase tracking-wide",children:N.title}),jsxRuntimeExports.jsx("span",{className:"text-2xl",children:N.icon})]}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:N.value}),N.percentage&&jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(N.percentage,100)}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:[N.percentage,"% completato"]})]}),N.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:N.subtitle})]},O))})}function SuperAdminDashboard(){var W,H,B,U,G;const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState([]),[w,j]=reactExports.useState(!0),[S,A]=reactExports.useState(null),[R,C]=reactExports.useState(null),[T,N]=reactExports.useState(!1),[O,$]=reactExports.useState(null),[D,L]=reactExports.useState(0);reactExports.useEffect(()=>{z(),F()},[]),reactExports.useEffect(()=>{const K=setInterval(async()=>{N(!0),console.log("🔄 Auto-refresh dashboard...");try{await Promise.all([z(),F()]),console.log("✅ Auto-refresh completato")}catch(je){console.error("❌ Errore durante auto-refresh:",je)}finally{N(!1)}},6e4);return()=>clearInterval(K)},[]);const I=async(V,K=3)=>{for(let je=0;je<K;je++)try{return await V()}catch(Z){if(je===K-1)throw Z;const fe=Math.pow(2,je)*1e3;console.log(`⏳ Retry ${je+1}/${K} in ${fe}ms...`),await new Promise(Ae=>setTimeout(Ae,fe))}},z=async()=>{console.log("📈 Fetching REAL Performance Prime stats with ADMIN client..."),j(!0),$(null);try{const{count:V,error:K}=await I(async()=>{const Se=await supabaseAdmin.from("profiles").select("*",{count:"exact",head:!0});if(Se.error)throw new Error(`Profiles query failed: ${Se.error.message}`);return Se});console.log("👥 Profiles query result:",{totalUsers:V,profilesError:K});const je=new Date;je.setDate(je.getDate()-30);const{count:Z,error:fe}=await supabaseAdmin.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",je.toISOString());console.log("🔥 Active users (30 days):",{activeUsers:Z,activeError:fe});const Ae=new Date;Ae.setDate(Ae.getDate()-7);const{count:Oe,error:Pe}=await supabaseAdmin.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",Ae.toISOString());console.log("📈 Weekly new users:",{weeklyNewUsers:Oe,weeklyError:Pe});let Ne=0;try{const{data:Se,error:Ie}=await supabaseAdmin.from("custom_workouts").select("user_id, created_at").not("user_id","is",null);if(!Ie&&Se){const $e=new Set,De=new Map;Se.forEach(Le=>{De.has(Le.user_id)||De.set(Le.user_id,Le.created_at)});let Be=0;for(const[Le,He]of De){const We=Y==null?void 0:Y.find(rt=>rt.id===Le);if(We){const rt=new Date(We.created_at);(new Date(He).getTime()-rt.getTime())/(1e3*60*60)<=24&&Be++}}Ne=Me>0?Math.round(Be/Me*100):0}}catch(Se){console.warn("⚠️ Errore calcolo Activation D0 Rate:",Se)}let Ce=0;try{const Se=new Date;Se.setDate(Se.getDate()-7);const{data:Ie,error:$e}=await supabaseAdmin.from("profiles").select("id, created_at, last_login").lt("created_at",Se.toISOString());if(!$e&&Ie&&Ie.length>0){const De=new Date,Be=new Date;Be.setDate(Be.getDate()-7);const Le=Ie.filter(He=>He.last_login?new Date(He.last_login)>=Be:!1);Ce=Ie.length>0?Math.round(Le.length/Ie.length*100):0,console.log("📊 Retention D7 calcolata:",{totalOldUsers:Ie.length,activeOldUsers:Le.length,retentionD7:Ce})}}catch(Se){console.warn("⚠️ Errore calcolo Retention D7:",Se)}const Me=V||0,Q=Z||0,Re=Me-Q,ke=Me?(Oe||0)/Me*100:0,_e={totalUsers:Me,activeUsers:Q,inactiveUsers:Re,totalWorkouts:0,monthlyWorkouts:0,professionals:0,activeObjectives:0,totalNotes:0,growth:parseFloat(ke.toFixed(1)),engagement:Me?parseFloat((Q/Me*100).toFixed(1)):0,newUsersThisMonth:Oe||0,activationD0Rate:Ne,retentionD7:Ce,weeklyGrowth:Oe||0};console.log("📊 REAL Performance Prime stats with ADMIN:",_e),console.log("🔄 METRICHE ACTIVATION REAL-TIME:",{activationD0Rate:`${Ne}%`,retentionD7:`${Ce}%`,weeklyGrowth:`+${Oe||0}`,timestamp:new Date().toISOString()}),o(_e);const{data:Y,error:J}=await supabaseAdmin.from("profiles").select("*").order("created_at",{ascending:!1}).limit(10);if(J)throw console.error("❌ Profiles data error:",J),J;if(Y){const Se=Y.map(Ie=>({id:Ie.id,email:Ie.email||"",name:Ie.full_name||Ie.name||"N/A",role:Ie.role||"user",status:Ie.status||"active",subscription_status:Ie.subscription_status,created_at:Ie.created_at,last_login:Ie.last_login,total_workouts:Ie.total_workouts||0,total_minutes:Ie.total_minutes||0}));console.log(`✅ Processed ${Se.length} users for dashboard`),_(Se)}}catch(V){console.error("❌ Error loading dashboard:",V);const K=(V==null?void 0:V.message)||"Errore sconosciuto durante il caricamento";$(K),L(je=>je+1),o({totalUsers:0,activeUsers:0,totalWorkouts:0,monthlyWorkouts:0,professionals:0,activeObjectives:0,totalNotes:0,growth:0,engagement:0,newUsersThisMonth:0}),_([]),D<3&&!K.includes("permission denied")&&(console.log("🔄 Scheduling auto-retry in 30 seconds..."),setTimeout(()=>{console.log("🔄 Auto-retry triggered..."),z()},3e4))}finally{j(!1)}},F=async()=>{try{console.log("🏃‍♂️ Verificando tabella custom_workouts...");const{data:V,error:K,count:je}=await supabaseAdmin.from("custom_workouts").select("*",{count:"exact"}).limit(5);if(console.log("📊 Custom Workouts Analysis:",{exists:!K,error:K==null?void 0:K.message,count:je,sampleData:(V==null?void 0:V.length)||0}),K){console.error("❌ Tabella custom_workouts non accessibile:",K),C({topTypes:{},recentCount:0,message:`❌ Tabella custom_workouts non accessibile: ${K.message}`,hasData:!1,tableExists:!1});return}let Z={};V&&V.length>0&&(Z={columns:Object.keys(V[0]),sampleRecord:V[0]},console.log("📋 Struttura custom_workouts:",Z));const fe=je||0,Ae=fe>0;C({topTypes:{},recentCount:fe,message:Ae?`✅ Tabella custom_workouts popolata con ${fe} record`:"⚠️ Tabella custom_workouts vuota - nessun workout registrato",hasData:Ae,tableExists:!0,structure:Z,totalWorkouts:fe}),console.log("✅ Workout analytics loaded:",{hasData:Ae,totalWorkouts:fe,tableExists:!0})}catch(V){console.error("❌ Workout analytics error:",V),C({topTypes:{},recentCount:0,message:`❌ Errore verifica custom_workouts: ${V}`,hasData:!1,tableExists:!1})}};return w?jsxRuntimeExports.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-700 rounded w-1/4 mb-8"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((V,K)=>jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-700 rounded"},K))})]})}):jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Super Admin Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Gestione completa del sistema Performance Prime Pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:async()=>{console.log("🔄 Manual refresh..."),z(),F()},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium",children:"🔄 Aggiorna Ora"}),jsxRuntimeExports.jsx("button",{onClick:async()=>{console.log("Database inspection non più disponibile"),alert("Database inspection non più disponibile")},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"🔍 Inspect Database"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${O?"bg-red-500 animate-pulse":T?"bg-yellow-500 animate-spin":"bg-green-500 animate-pulse"}`}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium ${O?"text-red-400":T?"text-yellow-400":"text-green-400"}`,children:O?`❌ Errore: ${O}`:T?"🔄 Aggiornamento in corso...":`Live Monitoring • Ultimo aggiornamento: ${new Date().toLocaleTimeString("it-IT")}`}),D>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:["(Tentativi: ",D,")"]})]}),S&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg mb-6 border border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-yellow-400 font-bold mb-4",children:"🗄️ Database Discovery Results:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 p-4 rounded",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold",children:"Auth Users"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-green-400",children:S.authUsers||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 p-4 rounded",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold",children:"Profiles"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-blue-400",children:((W=S.profiles)==null?void 0:W.count)||0})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 p-4 rounded",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold",children:"Tables Found"}),jsxRuntimeExports.jsx("p",{className:"text-2xl text-purple-400",children:((H=S.customTables)==null?void 0:H.length)||0})]})]}),S.customTables&&S.customTables.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2",children:"Existing Tables:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:S.customTables.map((V,K)=>jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:[V.name," (",V.count,")"]},K))})]}),((B=S.profiles)==null?void 0:B.columns)&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-semibold mb-2",children:"Profile Columns:"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:S.profiles.columns.join(", ")})]})]})]}),jsxRuntimeExports.jsx(AdminStatsCards,{stats:i,loading:w}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"🏃‍♂️ Workout Analytics"}),R?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Allenamenti ultimi 7 giorni:"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-400",children:R.recentCount})]}),R.message&&jsxRuntimeExports.jsxs("div",{className:`rounded-lg p-3 mb-4 ${R.hasData?"bg-green-600/20 border border-green-500/50":"bg-yellow-600/20 border border-yellow-500/50"}`,children:[jsxRuntimeExports.jsx("p",{className:`text-sm ${R.hasData?"text-green-300":"text-yellow-300"}`,children:R.message}),R.structure&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Colonne disponibili:"})," ",(U=R.structure.columns)==null?void 0:U.join(", ")]}),R.totalWorkouts>0&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Workouts:"})," ",R.totalWorkouts]})]})]}),R.topTypes&&Object.keys(R.topTypes).length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-2",children:"Top Tipologie:"}),Object.entries(R.topTypes).slice(0,5).map(([V,K])=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-white",children:V||"N/A"}),jsxRuntimeExports.jsx("span",{className:"text-blue-400",children:K})]},V))]})]}):jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Caricamento analytics..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"🎯 Obiettivi Overview"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Obiettivi attivi totali:"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-400",children:(i==null?void 0:i.activeObjectives)||0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Note utenti totali:"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-orange-400",children:(i==null?void 0:i.totalNotes)||0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Professionisti attivi:"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:(i==null?void 0:i.professionals)||0})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Panoramica Sistema"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Utenti Recenti"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:E.length>0?`Ultimo utente: ${((G=E[0])==null?void 0:G.name)||"N/A"}`:"Nessun utente registrato"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Stato Sistema"}),jsxRuntimeExports.jsx("p",{className:"text-green-400",children:"● Tutti i servizi operativi"})]})]})]})]})}const UserActions=({user:i,onUserUpdate:o})=>{const[E,_]=reactExports.useState(!1),w=async()=>{_(!0);try{const{error:S}=await supabaseAdmin.from("profiles").update({is_active:!i.is_active}).eq("id",i.id);if(S)throw S;ue.success(`Utente ${i.is_active?"sospeso":"riattivato"}`),o()}catch{ue.error("Errore nell'aggiornamento")}finally{_(!1)}},j=async()=>{if(confirm(`Eliminare definitivamente ${i.email}?`)){_(!0);try{const{error:S}=await supabaseAdmin.from("profiles").delete().eq("id",i.id);if(S)throw S;ue.success("Utente eliminato"),o()}catch{ue.error("Errore nell'eliminazione")}finally{_(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:w,disabled:E,className:`px-3 py-1 rounded text-xs font-medium ${i.is_active?"bg-orange-600 hover:bg-orange-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:i.is_active?"⏸️ Sospendi":"▶️ Riattiva"}),jsxRuntimeExports.jsx("button",{onClick:j,disabled:E,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-xs font-medium",children:"🗑️ Elimina"})]})};function UserManagementTable({users:i,onAction:o,onUserUpdate:E}){var $;const[_,w]=reactExports.useState(""),[j,S]=reactExports.useState("all"),[A,R]=reactExports.useState(!1),C=[{value:"all",label:"Tutti gli utenti",count:i.length},{value:"active",label:"Solo attivi",count:i.filter(D=>D.is_active_user).length},{value:"inactive",label:"Solo inattivi",count:i.filter(D=>!D.is_active_user).length},{value:"suspended",label:"Sospesi",count:i.filter(D=>!D.is_active).length}],N=(()=>{let D=i;switch(j){case"active":D=i.filter(L=>L.is_active_user);break;case"inactive":D=i.filter(L=>!L.is_active_user);break;case"suspended":D=i.filter(L=>!L.is_active);break;default:D=i}return _&&(D=D.filter(L=>{var I,z;return((I=L.email)==null?void 0:I.toLowerCase().includes(_.toLowerCase()))||((z=L.full_name)==null?void 0:z.toLowerCase().includes(_.toLowerCase()))})),D})(),O=[{key:"email",label:"Email",className:"text-left"},{key:"full_name",label:"Nome",render:D=>D.full_name||"Senza nome"},{key:"status",label:"Stato Online",render:D=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D.is_active_user?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:D.is_active_user?"🟢 ONLINE ORA":"🔴 OFFLINE"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:D.minutes_since_login!==null?`${D.minutes_since_login}min fa`:"Mai connesso"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs ${D.is_active?"bg-blue-600 text-white":"bg-red-600 text-white"}`,children:D.is_active?"✅ Abilitato":"❌ Sospeso"})]})},{key:"workouts",label:"Allenamenti",render:D=>jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-white",children:D.total_workouts||0}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:D.last_workout_date?`Ultimo: ${new Date(D.last_workout_date).toLocaleDateString("it-IT")}`:"Nessuno"})]})},{key:"created_at",label:"Iscritto",render:D=>new Date(D.created_at).toLocaleDateString("it-IT")},{key:"actions",label:"Azioni",render:D=>jsxRuntimeExports.jsx(UserActions,{user:D,onUserUpdate:E})}];return jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"🔍 Cerca per email o nome...",value:_,onChange:D=>w(D.target.value),className:"w-full md:w-96 px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(D=>jsxRuntimeExports.jsxs("button",{onClick:()=>S(D.value),className:`px-4 py-2 rounded-lg font-medium text-sm ${j===D.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[D.label," (",D.count,")"]},D.value))})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-700",children:jsxRuntimeExports.jsx("tr",{children:O.map(D=>jsxRuntimeExports.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider ${D.className||""}`,children:D.label},D.key))})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-700",children:N.map(D=>jsxRuntimeExports.jsx("tr",{className:"hover:bg-gray-700/50",children:O.map(L=>jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.render?L.render(D):D[L.key]},L.key))},D.id))})]})}),jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:["Mostrando ",N.length," di ",i.length," utenti",j!=="all"&&` (filtro: ${($=C.find(D=>D.value===j))==null?void 0:$.label})`]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:[i.filter(D=>D.is_active_user).length," attivi • ",i.filter(D=>!D.is_active_user).length," inattivi"]})]})})]})}function AdminUsers(){const[i,o]=reactExports.useState([]),[E,_]=reactExports.useState(!1);reactExports.useEffect(()=>{w()},[]);const w=async()=>{console.log("📊 Loading users with ADMIN client..."),_(!0);try{const{data:S,error:A,count:R}=await supabaseAdmin.from("profiles").select("*",{count:"exact"}).order("created_at",{ascending:!1});if(console.log("Users query with ADMIN:",{count:R,error:A,sample:S==null?void 0:S[0]}),A)throw console.error("❌ Users error:",A),A;if(!S||S.length===0){console.warn("⚠️ No users found"),o([]);return}const C=await Promise.all(S.map(async T=>{try{const{count:N}=await supabaseAdmin.from("custom_workouts").select("*",{count:"exact",head:!0}).eq("user_id",T.id),{data:O}=await supabaseAdmin.from("custom_workouts").select("created_at").eq("user_id",T.id).order("created_at",{ascending:!1}).limit(1).single(),$=new Date;$.setMinutes($.getMinutes()-5);const D=T.last_login&&new Date(T.last_login)>$,L=T.last_login?new Date(T.last_login):null,I=L?Math.floor((new Date-L)/(1e3*60)):null;return console.log(`👤 ${T.email}: Last login: ${T.last_login}, Online ORA: ${D}, Minuti fa: ${I}`),{id:T.id,email:T.email||"N/A",full_name:T.full_name||T.name||"Senza nome",name:T.full_name||T.name||"Senza nome",role:T.role||"user",status:T.status||"active",subscription_status:T.subscription_status||"free",created_at:T.created_at,last_login:T.last_login,total_workouts:N||0,total_minutes:0,user_workouts:N||0,is_active_user:D,is_active:T.is_active!==!1,last_workout_date:O==null?void 0:O.created_at,minutes_since_login:I,last_login_formatted:L?L.toLocaleString("it-IT"):"Mai",...T}}catch(N){return console.log("Enrich error for user:",T.id,N),{id:T.id,email:T.email||"N/A",full_name:T.full_name||T.name||"Senza nome",name:T.full_name||T.name||"Senza nome",role:T.role||"user",status:T.status||"active",subscription_status:T.subscription_status||"free",created_at:T.created_at,last_login:T.last_login,total_workouts:0,total_minutes:0,user_workouts:0,last_workout_date:null,is_active_user:!1,is_active:T.is_active!==!1,...T}}}));console.log(`✅ Loaded ${C.length} users with fitness data`),o(C)}catch(S){console.error("❌ Error loading users:",S),o([])}finally{_(!1)}},j=async(S,A)=>{try{console.log(`🔧 Executing action: ${A} for user: ${S}`);const{error:R}=await supabaseAdmin.from("admin_audit_logs").insert({admin_id:"system",action:A,target_user_id:S,details:`Action: ${A}`,created_at:new Date().toISOString()});R&&console.warn("⚠️ Could not log action:",R),await w()}catch(R){console.error("❌ Error executing action:",R)}};return E?jsxRuntimeExports.jsx("div",{className:"p-8",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"text-white",children:"Caricamento utenti..."})})}):jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Gestione Utenti"}),jsxRuntimeExports.jsx(UserManagementTable,{users:i,onAction:j,onUserUpdate:w})]})}function TestConnection(){const[i,o]=reactExports.useState({});return reactExports.useEffect(()=>{async function E(){console.log("🧪 Test Connessione Database...");try{console.log("Test 1: Connessione base...");const{data:_,error:w}=await supabase.from("profiles").select("count").limit(1);console.log("Test 2: Cerco super_admin...");const{data:j,error:S}=await supabase.from("profiles").select("email, role").eq("role","super_admin");console.log("Test 3: Cerco tutti i profili...");const{data:A,error:R}=await supabase.from("profiles").select("email, role").limit(5);console.log("Test 4: Cerco email specifica...");const{data:C,error:T}=await supabase.from("profiles").select("email, role").eq("email","mattiasilvester@gmail.com");o({connection:_?"✅":"❌",connectionError:w==null?void 0:w.message,superAdmins:j,superAdminsError:S==null?void 0:S.message,allProfiles:A,allProfilesError:R==null?void 0:R.message,specificEmail:C,specificEmailError:T==null?void 0:T.message,timestamp:new Date().toISOString()}),console.log("✅ Test completato:",i)}catch(_){console.error("❌ Errore durante test:",_),o({error:_ instanceof Error?_.message:"Errore sconosciuto",timestamp:new Date().toISOString()})}}E()},[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Test Connessione Database"}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Risultati Test"}),jsxRuntimeExports.jsx("pre",{className:"bg-gray-800 p-4 rounded text-sm overflow-auto",children:JSON.stringify(i,null,2)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 bg-gray-900 p-6 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Credenziali Test"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," mattiasilvester@gmail.com"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Password:"})," SuperAdmin2025!"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Secret Key:"})," PP_SUPERADMIN_2025_SECURE_KEY_CHANGE_ME"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 bg-gray-900 p-6 rounded-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Variabili Ambiente"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"VITE_SUPABASE_URL:"})," ","✅"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"VITE_SUPABASE_ANON_KEY:"})," ","✅"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"VITE_ADMIN_SECRET_KEY:"})," ","✅"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"VITE_ADMIN_EMAIL:"})," ","mattiasilvester@gmail.com"]})]})]})]})})}function DatabaseDiagnostic(){var S,A,R,C,T;const[i,o]=reactExports.useState({}),[E,_]=reactExports.useState(!0);reactExports.useEffect(()=>{w()},[]);const w=async()=>{var O;console.log("🔍 DIAGNOSTIC: Starting full database check...");const N={};try{const{data:$,error:D}=await supabase.from("profiles").select("*");N.profiles={success:!D,count:($==null?void 0:$.length)||0,error:D==null?void 0:D.message,sample:$==null?void 0:$[0]};const{data:L,error:I}=await supabase.rpc("get_user_count",{});N.authUsers={error:(I==null?void 0:I.message)||"RPC may not exist"};const{data:z,error:F}=await supabase.rpc("exec_sql",{query:"SELECT COUNT(*) FROM profiles"});N.directSQL={error:(F==null?void 0:F.message)||"Direct SQL not available"};const{data:W,error:H}=await supabase.from("profiles").select("id").limit(1);N.permissions={canRead:!H,error:H==null?void 0:H.message}}catch($){N.generalError=$.message}o(N),_(!1),console.log("📊 DIAGNOSTIC RESULTS:",N),((O=N.profiles)==null?void 0:O.count)===0&&await j()},j=async()=>{console.log("🔧 Creating sample users...");const N=[{id:crypto.randomUUID(),email:"john.doe@example.com",full_name:"John Doe",role:"user",subscription_status:"active",created_at:new Date().toISOString()},{id:crypto.randomUUID(),email:"jane.smith@example.com",full_name:"Jane Smith",role:"premium",subscription_status:"active",created_at:new Date().toISOString()},{id:crypto.randomUUID(),email:"test.user@example.com",full_name:"Test User",role:"user",subscription_status:"free",created_at:new Date().toISOString()}];for(const O of N){const{error:$}=await supabase.from("profiles").insert(O);$?console.error("❌ Error creating user:",$):(console.log("✅ Created user:",O.email),ue.success(`Utente creato: ${O.email}`))}setTimeout(()=>window.location.reload(),2e3)};return E?jsxRuntimeExports.jsx("div",{className:"p-8 text-white",children:"Loading diagnostic..."}):jsxRuntimeExports.jsxs("div",{className:"p-8 bg-gray-900 text-white",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Database Diagnostic"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mb-2",children:"Profiles Table"}),jsxRuntimeExports.jsxs("p",{children:["Success: ",(S=i.profiles)!=null&&S.success?"✅":"❌"]}),jsxRuntimeExports.jsxs("p",{children:["Count: ",((A=i.profiles)==null?void 0:A.count)||0," users"]}),((R=i.profiles)==null?void 0:R.error)&&jsxRuntimeExports.jsxs("p",{className:"text-red-400",children:["Error: ",i.profiles.error]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold mb-2",children:"Permissions"}),jsxRuntimeExports.jsxs("p",{children:["Can Read: ",(C=i.permissions)!=null&&C.canRead?"✅":"❌"]}),((T=i.permissions)==null?void 0:T.error)&&jsxRuntimeExports.jsxs("p",{className:"text-red-400",children:["Error: ",i.permissions.error]})]}),jsxRuntimeExports.jsx("button",{onClick:j,className:"px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold",children:"Create 3 Sample Users"}),jsxRuntimeExports.jsxs("details",{className:"mt-4",children:[jsxRuntimeExports.jsx("summary",{className:"cursor-pointer text-gray-400",children:"Raw Results"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 p-4 bg-gray-800 rounded text-xs overflow-auto",children:JSON.stringify(i,null,2)})]})]})]})}function AdminAnalytics(){const i=[{month:"Gen",users:120,revenue:3600},{month:"Feb",users:145,revenue:4350},{month:"Mar",users:178,revenue:5340},{month:"Apr",users:203,revenue:6090},{month:"Mag",users:234,revenue:7020},{month:"Giu",users:267,revenue:8010}];return jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Crescita Utenti"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:i,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",stroke:"#9CA3AF"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#9CA3AF"}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1F2937"}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"users",stroke:"#10B981",strokeWidth:2})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Revenue Mensile"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(BarChart,{data:i,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",stroke:"#9CA3AF"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#9CA3AF"}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1F2937"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"revenue",fill:"#8B5CF6"})]})})]})]})]})}function AdminSystem(){return jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Sistema"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx(Server,{className:"w-8 h-8 text-blue-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Server Status"}),jsxRuntimeExports.jsx("p",{className:"text-green-400",children:"● Online"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-2",children:"Uptime: 99.9%"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx(Database,{className:"w-8 h-8 text-purple-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Database"}),jsxRuntimeExports.jsx("p",{className:"text-green-400",children:"● Connesso"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-2",children:"PostgreSQL 15.1"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx(Shield,{className:"w-8 h-8 text-green-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sicurezza"}),jsxRuntimeExports.jsx("p",{className:"text-green-400",children:"● Attiva"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-2",children:"RLS Enabled"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx(Zap,{className:"w-8 h-8 text-yellow-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Performance"}),jsxRuntimeExports.jsx("p",{className:"text-green-400",children:"● Ottimale"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-2",children:"Latenza: 45ms"})]})]})]})}function AdminAuditLogs(){const[i,o]=reactExports.useState([]),[E,_]=reactExports.useState(!0);reactExports.useEffect(()=>{w()},[]);const w=async()=>{try{console.log("📋 Fetching audit logs...");const{data:j,error:S}=await supabase.from("admin_audit_logs").select("*").order("created_at",{ascending:!1}).limit(50);S?(console.error("❌ Error fetching logs:",S),o([{id:"1",admin_id:"admin-001",action:"login",details:{email:"mattiasilvester@gmail.com"},created_at:new Date().toISOString()},{id:"2",admin_id:"admin-001",action:"user_view",details:{user_id:"user-123"},created_at:new Date(Date.now()-36e5).toISOString()}])):(console.log(`✅ Loaded ${(j==null?void 0:j.length)||0} audit logs`),o(j||[]))}catch(j){console.error("❌ Error fetching logs:",j),o([])}finally{_(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Audit Logs"}),E?jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-700 rounded w-1/4 mb-8"}),jsxRuntimeExports.jsx("div",{className:"h-64 bg-gray-700 rounded"})]}):jsxRuntimeExports.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-900",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Data"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Admin"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Azione"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Dettagli"})]})}),jsxRuntimeExports.jsx("tbody",{children:i.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"Nessun log disponibile"})}):i.map(j=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-gray-300",children:new Date(j.created_at).toLocaleString("it-IT")}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-gray-300",children:j.admin_id}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-gray-300",children:j.action}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-gray-300",children:JSON.stringify(j.details)})]},j.id))})]})})]})}function AdminGuard({children:i}){const{isAuthorized:o,loading:E}=useAdminAuthBypass();return E?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:"Verificando autorizzazioni..."})]})}):(console.log("🔒 AdminGuard Debug:",{isAuthorized:o,loading:E}),o||console.log("⚠️ BYPASS ATTIVO - Accesso consentito senza autenticazione per debug"),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i}))}function AdminLayout({children:i}){const o=useNavigate(),E=useLocation(),{logout:_,adminUser:w}=useAdminAuthBypass(),j=async()=>{await _(),o("/nexus-prime-control")},S=[{icon:LayoutDashboard,label:"Dashboard",path:"/nexus-prime-control/dashboard"},{icon:Users,label:"Utenti",path:"/nexus-prime-control/users"},{icon:ChartColumn,label:"Analytics",path:"/nexus-prime-control/analytics"},{icon:Settings$1,label:"Sistema",path:"/nexus-prime-control/system"},{icon:FileText,label:"Audit Logs",path:"/nexus-prime-control/audit-logs"}];return reactExports.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-screen flex bg-gray-900",children:[jsxRuntimeExports.jsxs("aside",{className:"w-64 bg-gray-950 border-r border-gray-800 flex flex-col min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-800",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nexus Control"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Benvenuto, Super Admin"})]}),jsxRuntimeExports.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:S.map(A=>{const R=A.icon,C=E.pathname===A.path;return jsxRuntimeExports.jsxs("button",{onClick:()=>o(A.path),className:`w-full flex items-center gap-3 px-6 py-3 text-left transition-colors ${C?"bg-red-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[jsxRuntimeExports.jsx(R,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:A.label})]},A.path)})}),jsxRuntimeExports.jsxs("div",{className:"p-6 border-t border-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:"S"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-white font-medium truncate",children:"Super Admin"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm truncate",children:(w==null?void 0:w.email)||"Super Admin"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:j,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-300 hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"h-full",children:i})})]})}function App(){const[i,o]=reactExports.useState(null),[E,_]=reactExports.useState(!0);return reactExports.useEffect(()=>{document.body.style.overflow="auto",document.documentElement.style.overflow="auto",document.body.style.height="auto",document.documentElement.style.height="auto"},[]),reactExports.useEffect(()=>{supabase.auth.getSession().then(({data:{session:j}})=>{o(j),_(!1)});const{data:{subscription:w}}=supabase.auth.onAuthStateChange((j,S)=>{o(S)});return()=>w.unsubscribe()},[]),E?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsxs(ErrorBoundary,{children:[jsxRuntimeExports.jsx(MobileScrollFix,{}),jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsxs(NotificationProvider,{children:[jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/login",element:i?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth",element:jsxRuntimeExports.jsx(Auth,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/register",element:i?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):jsxRuntimeExports.jsx(RegisterPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/terms-and-conditions",element:jsxRuntimeExports.jsx(TermsAndConditions,{})}),jsxRuntimeExports.jsx(Route,{path:"/privacy-policy",element:jsxRuntimeExports.jsx(PrivacyPolicy,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"min-h-screen pb-20 pt-24",children:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/workouts",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"min-h-screen pb-20 pt-24",children:jsxRuntimeExports.jsx(Workouts,{})}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/workout/quick",element:jsxRuntimeExports.jsx(ProtectedRoute,{session:i,children:jsxRuntimeExports.jsx(QuickWorkout,{})})}),jsxRuntimeExports.jsx(Route,{path:"/timer",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Timer,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/schedule",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"min-h-screen pb-20 pt-24",children:jsxRuntimeExports.jsx(Schedule,{})}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/ai-coach",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"min-h-screen pb-20 pt-24",children:jsxRuntimeExports.jsx(AICoach,{})}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/subscriptions",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Subscriptions,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"min-h-screen pb-20 pt-24",children:jsxRuntimeExports.jsx(Profile,{})}),jsxRuntimeExports.jsx(BottomNavigation,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/settings/personal-info",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(PersonalInfo,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/settings/security",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Security,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/settings/notifications",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Notifications,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/settings/language",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Language,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/settings/privacy",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Privacy,{}),jsxRuntimeExports.jsx(BottomNavigation,{}),jsxRuntimeExports.jsx(FeedbackWidget,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/settings/help",element:jsxRuntimeExports.jsxs(ProtectedRoute,{session:i,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Help,{}),jsxRuntimeExports.jsx(BottomNavigation,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/nexus-prime-control",element:jsxRuntimeExports.jsx(SuperAdminLogin,{})}),jsxRuntimeExports.jsx(Route,{path:"/test-db",element:jsxRuntimeExports.jsx(TestConnection,{})}),jsxRuntimeExports.jsx(Route,{path:"/diagnostic",element:jsxRuntimeExports.jsx(DatabaseDiagnostic,{})}),jsxRuntimeExports.jsx(Route,{path:"/nexus-prime-control/*",element:jsxRuntimeExports.jsx(AdminGuard,{children:jsxRuntimeExports.jsx(AdminLayout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"dashboard",element:jsxRuntimeExports.jsx(SuperAdminDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"users",element:jsxRuntimeExports.jsx(AdminUsers,{})}),jsxRuntimeExports.jsx(Route,{path:"analytics",element:jsxRuntimeExports.jsx(AdminAnalytics,{})}),jsxRuntimeExports.jsx(Route,{path:"system",element:jsxRuntimeExports.jsx(AdminSystem,{})}),jsxRuntimeExports.jsx(Route,{path:"logs",element:jsxRuntimeExports.jsx(AdminAuditLogs,{})}),jsxRuntimeExports.jsx(Route,{path:"diagnostic",element:jsxRuntimeExports.jsx(DatabaseDiagnostic,{})})]})})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/"})})]})}),jsxRuntimeExports.jsx(Toaster,{})]})})]})}typeof navigator<"u"&&"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(i=>{i.forEach(o=>o.unregister())}).catch(()=>{}),typeof caches<"u"&&(caches!=null&&caches.keys)&&caches.keys().then(i=>i.forEach(o=>caches.delete(o))).catch(()=>{}));window.addEventListener("unhandledrejection",i=>{console.error("Unhandled promise rejection:",i.reason)});const initApp=()=>{const i=safeGetElement("root");if(i)renderApp(i);else{console.error("Root element not found, creating fallback");const o=document.createElement("div");o.id="root",document.body.appendChild(o);const E=safeGetElement("root");E&&renderApp(E)}},renderApp=i=>{client.createRoot(i).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initApp):initApp();
//# sourceMappingURL=index-Cs2L2XAS.js.map
